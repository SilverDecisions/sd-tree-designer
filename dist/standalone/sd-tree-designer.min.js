!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;((e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SilverDecisions||(e.SilverDecisions={})).TreeDesigner=t()}}(function(){return function t(e,n,r){function i(a,u){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n||t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){var r;r=this,function(t){"use strict";var e=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},n=function(t){var n;return 1===t.length&&(n=t,t=function(t,r){return e(n(t),r)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};var r=n(e),i=r.right,o=r.left;function a(t,e){return[t,e]}var u=function(t){return null===t?NaN:+t},s=function(t,e){var n,r,i=t.length,o=0,a=-1,s=0,l=0;if(null==e)for(;++a<i;)isNaN(n=u(t[a]))||(l+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=u(e(t[a],a,t)))||(l+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return l/(o-1)},l=function(t,e){var n=s(t,e);return n?Math.sqrt(n):n},c=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},f=Array.prototype,h=f.slice,d=f.map,p=function(t){return function(){return t}},v=function(t){return t},g=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},y=Math.sqrt(50),m=Math.sqrt(10),_=Math.sqrt(2);function b(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=y?10:o>=m?5:o>=_?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=y?10:o>=m?5:o>=_?2:1)}function x(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=y?i*=10:o>=m?i*=5:o>=_&&(i*=2),e<t?-i:i}var w=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},k=function(t,e,n){if(null==n&&(n=u),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}},S=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r},M=function(t){if(!(i=t.length))return[];for(var e=-1,n=S(t,T),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r};function T(t){return t.length}t.bisect=i,t.bisectRight=i,t.bisectLeft=o,t.ascending=e,t.bisector=n,t.cross=function(t,e,n){var r,i,o,u,s=t.length,l=e.length,c=new Array(s*l);for(null==n&&(n=a),r=o=0;r<s;++r)for(u=t[r],i=0;i<l;++i,++o)c[o]=n(u,e[i]);return c},t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.deviation=l,t.extent=c,t.histogram=function(){var t=v,e=c,n=w;function r(r){var o,a,u=r.length,s=new Array(u);for(o=0;o<u;++o)s[o]=t(r[o],o,r);var l=e(s),c=l[0],f=l[1],h=n(s,c,f);Array.isArray(h)||(h=x(c,f,h),h=g(Math.ceil(c/h)*h,Math.floor(f/h)*h,h));for(var d=h.length;h[0]<=c;)h.shift(),--d;for(;h[d-1]>f;)h.pop(),--d;var p,v=new Array(d+1);for(o=0;o<=d;++o)(p=v[o]=[]).x0=o>0?h[o-1]:c,p.x1=o<d?h[o]:f;for(o=0;o<u;++o)c<=(a=s[o])&&a<=f&&v[i(h,a,0,d)].push(r[o]);return v}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:p(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:p([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?p(h.call(t)):p(t),r):n},r},t.thresholdFreedmanDiaconis=function(t,n,r){return t=d.call(t,u).sort(e),Math.ceil((r-n)/(2*(k(t,.75)-k(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*l(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=w,t.max=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},t.mean=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=u(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=u(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},t.median=function(t,n){var r,i=t.length,o=-1,a=[];if(null==n)for(;++o<i;)isNaN(r=u(t[o]))||a.push(r);else for(;++o<i;)isNaN(r=u(n(t[o],o,t)))||a.push(r);return k(a.sort(e),.5)},t.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n},t.min=S,t.pairs=function(t,e){null==e&&(e=a);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o},t.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},t.quantile=k,t.range=g,t.scan=function(t,n){if(r=t.length){var r,i,o=0,a=0,u=t[a];for(null==n&&(n=e);++o<r;)(n(i=t[o],u)<0||0!==n(u,u))&&(u=i,a=o);return 0===n(u,u)?a:void 0}},t.shuffle=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},t.sum=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},t.ticks=function(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=b(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o},t.tickIncrement=b,t.tickStep=x,t.transpose=M,t.variance=s,t.zip=function(){return M(arguments)},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],2:[function(t,e,n){var r,i;r=this,i=function(t,e,n,r,i,o){"use strict";var a=function(t){return function(){return t}},u=function(t,e,n){this.target=t,this.type=e,this.selection=n};function s(){i.event.stopImmediatePropagation()}var l=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},c={name:"drag"},f={name:"space"},h={name:"handle"},d={name:"center"},p={name:"x",handles:["e","w"].map(w),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},v={name:"y",handles:["n","s"].map(w),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},g={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(w),input:function(t){return t},output:function(t){return t}},y={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},m={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},_={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},b={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},x={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function w(t){return{type:t}}function k(){return!i.event.button}function S(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function M(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function T(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function N(t){var g,N=S,E=k,O=e.dispatch(j,"start","brush","end"),P=6;function j(e){var n=e.property("__brush",z).selectAll(".overlay").data([w("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",y.overlay).merge(n).each(function(){var t=M(this).extent;i.select(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([w("selection")]).enter().append("rect").attr("class","selection").attr("cursor",y.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return y[t.type]}),e.each(C).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",R)}function C(){var t=i.select(this),e=M(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-P/2:e[0][0]-P/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-P/2:e[0][1]-P/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+P:P}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+P:P})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function A(t,e){return t.__brush.emitter||new D(t,e)}function D(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function R(){if(i.event.touches){if(i.event.changedTouches.length<i.event.touches.length)return l()}else if(g)return;if(E.apply(this,arguments)){var e,r,a,u,w,k,S,N,O,P,j,D,R,z=this,U=i.event.target.__data__.type,I="selection"===(i.event.metaKey?U="overlay":U)?c:i.event.altKey?d:h,L=t===v?null:b[U],$=t===p?null:x[U],B=M(z),F=B.extent,W=B.selection,H=F[0][0],Y=F[0][1],q=F[1][0],V=F[1][1],X=L&&$&&i.event.shiftKey,G=i.mouse(z),K=G,Z=A(z,arguments).beforestart();"overlay"===U?B.selection=W=[[e=t===v?H:G[0],a=t===p?Y:G[1]],[w=t===v?q:e,S=t===p?V:a]]:(e=W[0][0],a=W[0][1],w=W[1][0],S=W[1][1]),r=e,u=a,k=w,N=S;var J=i.select(z).attr("pointer-events","none"),Q=J.selectAll(".overlay").attr("cursor",y[U]);if(i.event.touches)J.on("touchmove.brush",et,!0).on("touchend.brush touchcancel.brush",rt,!0);else{var tt=i.select(i.event.view).on("keydown.brush",function(){switch(i.event.keyCode){case 16:X=L&&$;break;case 18:I===h&&(L&&(w=k-O*L,e=r+O*L),$&&(S=N-P*$,a=u+P*$),I=d,nt());break;case 32:I!==h&&I!==d||(L<0?w=k-O:L>0&&(e=r-O),$<0?S=N-P:$>0&&(a=u-P),I=f,Q.attr("cursor",y.selection),nt());break;default:return}l()},!0).on("keyup.brush",function(){switch(i.event.keyCode){case 16:X&&(D=R=X=!1,nt());break;case 18:I===d&&(L<0?w=k:L>0&&(e=r),$<0?S=N:$>0&&(a=u),I=h,nt());break;case 32:I===f&&(i.event.altKey?(L&&(w=k-O*L,e=r+O*L),$&&(S=N-P*$,a=u+P*$),I=d):(L<0?w=k:L>0&&(e=r),$<0?S=N:$>0&&(a=u),I=h),Q.attr("cursor",y[U]),nt());break;default:return}l()},!0).on("mousemove.brush",et,!0).on("mouseup.brush",rt,!0);n.dragDisable(i.event.view)}s(),o.interrupt(z),C.call(z),Z.start()}function et(){var t=i.mouse(z);!X||D||R||(Math.abs(t[0]-K[0])>Math.abs(t[1]-K[1])?R=!0:D=!0),K=t,j=!0,l(),nt()}function nt(){var t;switch(O=K[0]-G[0],P=K[1]-G[1],I){case f:case c:L&&(O=Math.max(H-e,Math.min(q-w,O)),r=e+O,k=w+O),$&&(P=Math.max(Y-a,Math.min(V-S,P)),u=a+P,N=S+P);break;case h:L<0?(O=Math.max(H-e,Math.min(q-e,O)),r=e+O,k=w):L>0&&(O=Math.max(H-w,Math.min(q-w,O)),r=e,k=w+O),$<0?(P=Math.max(Y-a,Math.min(V-a,P)),u=a+P,N=S):$>0&&(P=Math.max(Y-S,Math.min(V-S,P)),u=a,N=S+P);break;case d:L&&(r=Math.max(H,Math.min(q,e-O*L)),k=Math.max(H,Math.min(q,w+O*L))),$&&(u=Math.max(Y,Math.min(V,a-P*$)),N=Math.max(Y,Math.min(V,S+P*$)))}k<r&&(L*=-1,t=e,e=w,w=t,t=r,r=k,k=t,U in m&&Q.attr("cursor",y[U=m[U]])),N<u&&($*=-1,t=a,a=S,S=t,t=u,u=N,N=t,U in _&&Q.attr("cursor",y[U=_[U]])),B.selection&&(W=B.selection),D&&(r=W[0][0],k=W[1][0]),R&&(u=W[0][1],N=W[1][1]),W[0][0]===r&&W[0][1]===u&&W[1][0]===k&&W[1][1]===N||(B.selection=[[r,u],[k,N]],C.call(z),Z.brush())}function rt(){if(s(),i.event.touches){if(i.event.touches.length)return;g&&clearTimeout(g),g=setTimeout(function(){g=null},500),J.on("touchmove.brush touchend.brush touchcancel.brush",null)}else n.dragEnable(i.event.view,j),tt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);J.attr("pointer-events","all"),Q.attr("cursor",y.overlay),B.selection&&(W=B.selection),T(W)&&(B.selection=null,C.call(z)),Z.end()}}function z(){var e=this.__brush||{selection:null};return e.extent=N.apply(this,arguments),e.dim=t,e}return j.move=function(e,n){e.selection?e.on("start.brush",function(){A(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){A(this,arguments).end()}).tween("brush",function(){var e=this,i=e.__brush,o=A(e,arguments),a=i.selection,u=t.input("function"==typeof n?n.apply(this,arguments):n,i.extent),s=r.interpolate(a,u);function l(t){i.selection=1===t&&T(u)?null:s(t),C.call(e),o.brush()}return a&&u?l:l(1)}):e.each(function(){var e=this,r=arguments,i=e.__brush,a=t.input("function"==typeof n?n.apply(e,r):n,i.extent),u=A(e,r).beforestart();o.interrupt(e),i.selection=null==a||T(a)?null:a,C.call(e),u.start().brush().end()})},D.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){i.customEvent(new u(j,e,t.output(this.state.selection)),O.apply,O,[e,this.that,this.args])}},j.extent=function(t){return arguments.length?(N="function"==typeof t?t:a([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),j):N},j.filter=function(t){return arguments.length?(E="function"==typeof t?t:a(!!t),j):E},j.handleSize=function(t){return arguments.length?(P=+t,j):P},j.on=function(){var t=O.on.apply(O,arguments);return t===O?j:t},j}t.brush=function(){return N(g)},t.brushX=function(){return N(p)},t.brushY=function(){return N(v)},t.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-dispatch"),t("d3-drag"),t("d3-interpolate"),t("d3-selection"),t("d3-transition")):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3)},{"d3-dispatch":5,"d3-drag":6,"d3-interpolate":10,"d3-selection":13,"d3-transition":18}],3:[function(t,e,n){var r;r=this,function(t){"use strict";var e="$";function n(){}function r(t,e){var r=new n;if(t instanceof n)t.each(function(t,e){r.set(e,t)});else if(Array.isArray(t)){var i,o=-1,a=t.length;if(null==e)for(;++o<a;)r.set(o,t[o]);else for(;++o<a;)r.set(e(i=t[o],o,t),i)}else if(t)for(var u in t)r.set(u,t[u]);return r}n.prototype=r.prototype={constructor:n,has:function(t){return e+t in this},get:function(t){return this[e+t]},set:function(t,n){return this[e+t]=n,this},remove:function(t){var n=e+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===e&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===e&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===e&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===e&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===e&&++t;return t},empty:function(){for(var t in this)if(t[0]===e)return!1;return!0},each:function(t){for(var n in this)n[0]===e&&t(this[n],n.slice(1),this)}};function i(){return{}}function o(t,e,n){t[e]=n}function a(){return r()}function u(t,e,n){t.set(e,n)}function s(){}var l=r.prototype;function c(t,e){var n=new s;if(t instanceof s)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}s.prototype=c.prototype={constructor:s,has:l.has,add:function(t){return this[e+(t+="")]=t,this},remove:l.remove,clear:l.clear,values:l.keys,size:l.size,empty:l.empty,each:l.each};t.nest=function(){var t,e,n,s=[],l=[];function c(n,i,o,a){if(i>=s.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var u,l,f,h=-1,d=n.length,p=s[i++],v=r(),g=o();++h<d;)(f=v.get(u=p(l=n[h])+""))?f.push(l):v.set(u,[l]);return v.each(function(t,e){a(g,e,c(t,i,o,a))}),g}return n={object:function(t){return c(t,0,i,o)},map:function(t){return c(t,0,a,u)},entries:function(t){return function t(n,r){if(++r>s.length)return n;var i,o=l[r-1];return null!=e&&r>=s.length?i=n.entries():(i=[],n.each(function(e,n){i.push({key:n,values:t(e,r)})})),null!=o?i.sort(function(t,e){return o(t.key,e.key)}):i}(c(t,0,a,u),0)},key:function(t){return s.push(t),n},sortKeys:function(t){return l[s.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}},t.set=c,t.map=r,t.keys=function(t){var e=[];for(var n in t)e.push(n);return e},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],4:[function(t,e,n){var r;r=this,function(t){"use strict";var e=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function n(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function r(){}var i=1/.7,o="\\s*([+-]?\\d+)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3})$/,l=/^#([0-9a-f]{6})$/,c=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),f=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),h=new RegExp("^rgba\\("+[o,o,o,a]+"\\)$"),d=new RegExp("^rgba\\("+[u,u,u,a]+"\\)$"),p=new RegExp("^hsl\\("+[a,u,u]+"\\)$"),v=new RegExp("^hsla\\("+[a,u,u,a]+"\\)$"),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(t){var e;return t=(t+"").trim().toLowerCase(),(e=s.exec(t))?new w((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=l.exec(t))?m(parseInt(e[1],16)):(e=c.exec(t))?new w(e[1],e[2],e[3],1):(e=f.exec(t))?new w(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=h.exec(t))?_(e[1],e[2],e[3],e[4]):(e=d.exec(t))?_(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=p.exec(t))?k(e[1],e[2]/100,e[3]/100,1):(e=v.exec(t))?k(e[1],e[2]/100,e[3]/100,e[4]):g.hasOwnProperty(t)?m(g[t]):"transparent"===t?new w(NaN,NaN,NaN,0):null}function m(t){return new w(t>>16&255,t>>8&255,255&t,1)}function _(t,e,n,r){return r<=0&&(t=e=n=NaN),new w(t,e,n,r)}function b(t){return t instanceof r||(t=y(t)),t?new w((t=t.rgb()).r,t.g,t.b,t.opacity):new w}function x(t,e,n,r){return 1===arguments.length?b(t):new w(t,e,n,null==r?1:r)}function w(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function k(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new M(t,e,n,r)}function S(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof M)return new M(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=y(t)),!t)return new M;if(t instanceof M)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),a=Math.max(e,n,i),u=NaN,s=a-o,l=(a+o)/2;return s?(u=e===a?(n-i)/s+6*(n<i):n===a?(i-e)/s+2:(e-n)/s+4,s/=l<.5?a+o:2-a-o,u*=60):s=l>0&&l<1?0:u,new M(u,s,l,t.opacity)}(t):new M(t,e,n,null==i?1:i)}function M(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function T(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}e(r,y,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),e(w,x,n(r,{brighter:function(t){return t=null==t?i:Math.pow(i,t),new w(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new w(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),e(M,S,n(r,{brighter:function(t){return t=null==t?i:Math.pow(i,t),new M(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new M(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new w(T(t>=240?t-240:t+120,i,r),T(t,i,r),T(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var N=Math.PI/180,E=180/Math.PI,O=.95047,P=1,j=1.08883,C=4/29,A=6/29,D=3*A*A,R=A*A*A;function z(t){if(t instanceof I)return new I(t.l,t.a,t.b,t.opacity);if(t instanceof H){var e=t.h*N;return new I(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof w||(t=b(t));var n=F(t.r),r=F(t.g),i=F(t.b),o=L((.4124564*n+.3575761*r+.1804375*i)/O),a=L((.2126729*n+.7151522*r+.072175*i)/P);return new I(116*a-16,500*(o-a),200*(a-L((.0193339*n+.119192*r+.9503041*i)/j)),t.opacity)}function U(t,e,n,r){return 1===arguments.length?z(t):new I(t,e,n,null==r?1:r)}function I(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function L(t){return t>R?Math.pow(t,1/3):t/D+C}function $(t){return t>A?t*t*t:D*(t-C)}function B(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function F(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function W(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof H)return new H(t.h,t.c,t.l,t.opacity);t instanceof I||(t=z(t));var e=Math.atan2(t.b,t.a)*E;return new H(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new H(t,e,n,null==r?1:r)}function H(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}e(I,U,n(r,{brighter:function(t){return new I(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new I(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=P*$(t),new w(B(3.2404542*(e=O*$(e))-1.5371385*t-.4985314*(n=j*$(n))),B(-.969266*e+1.8760108*t+.041556*n),B(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),e(H,W,n(r,{brighter:function(t){return new H(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new H(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return z(this).rgb()}}));var Y=1.78277,q=-.29227,V=-.90649,X=1.97294,G=X*V,K=X*Y,Z=Y*q- -.14861*V;function J(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Q)return new Q(t.h,t.s,t.l,t.opacity);t instanceof w||(t=b(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Z*r+G*e-K*n)/(Z+G-K),o=r-i,a=(X*(n-i)-q*o)/V,u=Math.sqrt(a*a+o*o)/(X*i*(1-i)),s=u?Math.atan2(a,o)*E-120:NaN;return new Q(s<0?s+360:s,u,i,t.opacity)}(t):new Q(t,e,n,null==r?1:r)}function Q(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}e(Q,J,n(r,{brighter:function(t){return t=null==t?i:Math.pow(i,t),new Q(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Q(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*N,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new w(255*(e+n*(-.14861*r+Y*i)),255*(e+n*(q*r+V*i)),255*(e+n*(X*r)),this.opacity)}})),t.color=y,t.rgb=x,t.hsl=S,t.lab=U,t.hcl=W,t.cubehelix=J,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],5:[function(t,e,n){var r;r=this,function(t){"use strict";var e={value:function(){}};function n(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new r(i)}function r(t){this._=t}function i(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function o(t,n,r){for(var i=0,o=t.length;i<o;++i)if(t[i].name===n){t[i]=e,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:n,value:r}),t}r.prototype=n.prototype={constructor:r,on:function(t,e){var n,r,a=this._,u=(r=a,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),s=-1,l=u.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<l;)if(n=(t=u[s]).type)a[n]=o(a[n],t.name,e);else if(null==e)for(n in a)a[n]=o(a[n],t.name,null);return this}for(;++s<l;)if((n=(t=u[s]).type)&&(n=i(a[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new r(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},t.dispatch=n,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],6:[function(t,e,n){var r,i;r=this,i=function(t,e,n){"use strict";function r(){n.event.stopImmediatePropagation()}var i=function(){n.event.preventDefault(),n.event.stopImmediatePropagation()},o=function(t){var e=t.document.documentElement,r=n.select(t).on("dragstart.drag",i,!0);"onselectstart"in e?r.on("selectstart.drag",i,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function a(t,e){var r=t.document.documentElement,o=n.select(t).on("dragstart.drag",null);e&&(o.on("click.drag",i,!0),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var u=function(t){return function(){return t}};function s(t,e,n,r,i,o,a,u,s,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=s,this._=l}function l(){return!n.event.button}function c(){return this.parentNode}function f(t){return null==t?{x:n.event.x,y:n.event.y}:t}function h(){return"ontouchstart"in this}s.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};t.drag=function(){var t,d,p,v,g=l,y=c,m=f,_=h,b={},x=e.dispatch("start","drag","end"),w=0,k=0;function S(t){t.on("mousedown.drag",M).filter(_).on("touchstart.drag",E).on("touchmove.drag",O).on("touchend.drag touchcancel.drag",P).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function M(){if(!v&&g.apply(this,arguments)){var e=j("mouse",y.apply(this,arguments),n.mouse,this,arguments);e&&(n.select(n.event.view).on("mousemove.drag",T,!0).on("mouseup.drag",N,!0),o(n.event.view),r(),p=!1,t=n.event.clientX,d=n.event.clientY,e("start"))}}function T(){if(i(),!p){var e=n.event.clientX-t,r=n.event.clientY-d;p=e*e+r*r>k}b.mouse("drag")}function N(){n.select(n.event.view).on("mousemove.drag mouseup.drag",null),a(n.event.view,p),i(),b.mouse("end")}function E(){if(g.apply(this,arguments)){var t,e,i=n.event.changedTouches,o=y.apply(this,arguments),a=i.length;for(t=0;t<a;++t)(e=j(i[t].identifier,o,n.touch,this,arguments))&&(r(),e("start"))}}function O(){var t,e,r=n.event.changedTouches,o=r.length;for(t=0;t<o;++t)(e=b[r[t].identifier])&&(i(),e("drag"))}function P(){var t,e,i=n.event.changedTouches,o=i.length;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),t=0;t<o;++t)(e=b[i[t].identifier])&&(r(),e("end"))}function j(t,e,r,i,o){var a,u,l,c=r(e,t),f=x.copy();if(n.customEvent(new s(S,"beforestart",a,t,w,c[0],c[1],0,0,f),function(){return null!=(n.event.subject=a=m.apply(i,o))&&(u=a.x-c[0]||0,l=a.y-c[1]||0,!0)}))return function h(d){var p,v=c;switch(d){case"start":b[t]=h,p=w++;break;case"end":delete b[t],--w;case"drag":c=r(e,t),p=w}n.customEvent(new s(S,d,a,t,p,c[0]+u,c[1]+l,c[0]-v[0],c[1]-v[1],f),f.apply,f,[d,i,o])}}return S.filter=function(t){return arguments.length?(g="function"==typeof t?t:u(!!t),S):g},S.container=function(t){return arguments.length?(y="function"==typeof t?t:u(t),S):y},S.subject=function(t){return arguments.length?(m="function"==typeof t?t:u(t),S):m},S.touchable=function(t){return arguments.length?(_="function"==typeof t?t:u(!!t),S):_},S.on=function(){var t=x.on.apply(x,arguments);return t===x?S:t},S.clickDistance=function(t){return arguments.length?(k=(t=+t)*t,S):Math.sqrt(k)},S},t.dragDisable=o,t.dragEnable=a,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-dispatch"),t("d3-selection")):i(r.d3=r.d3||{},r.d3,r.d3)},{"d3-dispatch":5,"d3-selection":13}],7:[function(t,e,n){var r;r=this,function(t){"use strict";function e(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function n(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var r=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),i=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),o=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),a=Math.PI,u=a/2;function s(t){return(1-Math.cos(a*t))/2}function l(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function c(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var f=4/11,h=6/11,d=8/11,p=.75,v=9/11,g=10/11,y=.9375,m=21/22,_=63/64,b=1/f/f;function x(t){return(t=+t)<f?b*t*t:t<d?b*(t-=h)*t+p:t<g?b*(t-=v)*t+y:b*(t-=m)*t+_}var w=1.70158,k=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(w),S=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(w),M=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(w),T=2*Math.PI,N=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=T);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*T)},i.period=function(n){return t(e,n)},i}(1,.3),E=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=T);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*T)},i.period=function(n){return t(e,n)},i}(1,.3),O=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=T);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*T)},i.period=function(n){return t(e,n)},i}(1,.3);t.easeLinear=function(t){return+t},t.easeQuad=e,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=e,t.easeCubic=n,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=n,t.easePoly=o,t.easePolyIn=r,t.easePolyOut=i,t.easePolyInOut=o,t.easeSin=s,t.easeSinIn=function(t){return 1-Math.cos(t*u)},t.easeSinOut=function(t){return Math.sin(t*u)},t.easeSinInOut=s,t.easeExp=l,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=l,t.easeCircle=c,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=c,t.easeBounce=x,t.easeBounceIn=function(t){return 1-x(1-t)},t.easeBounceOut=x,t.easeBounceInOut=function(t){return((t*=2)<=1?1-x(1-t):x(t-1)+1)/2},t.easeBack=M,t.easeBackIn=k,t.easeBackOut=S,t.easeBackInOut=M,t.easeElastic=E,t.easeElasticIn=N,t.easeElasticOut=E,t.easeElasticInOut=O,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],8:[function(t,e,n){var r;r=this,function(t){"use strict";var e=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},n=function(t){return(t=e(Math.abs(t)))?t[1]:NaN},r=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(t){return new o(t)}function o(t){if(!(e=r.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}i.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var a,u,s=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t},l=function(t,n){var r=e(t,n);if(!r)return t+"";var i=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")},c={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return l(100*t,e)},r:l,s:function(t,n){var r=e(t,n);if(!r)return t+"";var i=r[0],o=r[1],u=o-(a=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return u===s?i:u>s?i+new Array(u-s+1).join("0"):u>0?i.slice(0,u)+"."+i.slice(u):"0."+new Array(1-u).join("0")+e(t,Math.max(0,n+u-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},f=function(t){return t},h=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],d=function(t){var e,r,o,u=t.grouping&&t.thousands?(r=t.grouping,o=t.thousands,function(t,e){for(var n=t.length,i=[],a=0,u=r[0],s=0;n>0&&u>0&&(s+u+1>e&&(u=Math.max(1,e-s)),i.push(t.substring(n-=u,n+u)),!((s+=u+1)>e));)u=r[a=(a+1)%r.length];return i.reverse().join(o)}):f,l=t.currency,d=t.decimal,p=t.numerals?(e=t.numerals,function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}):f,v=t.percent||"%";function g(t){var e=(t=i(t)).fill,n=t.align,r=t.sign,o=t.symbol,f=t.zero,g=t.width,y=t.comma,m=t.precision,_=t.trim,b=t.type;"n"===b?(y=!0,b="g"):c[b]||(null==m&&(m=12),_=!0,b="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var x="$"===o?l[0]:"#"===o&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===o?l[1]:/[%p]/.test(b)?v:"",k=c[b],S=/[defgprs%]/.test(b);function M(t){var i,o,l,c=x,v=w;if("c"===b)v=k(t)+v,t="";else{var M=(t=+t)<0;if(t=k(Math.abs(t),m),_&&(t=s(t)),M&&0==+t&&(M=!1),c=(M?"("===r?r:"-":"-"===r||"("===r?"":r)+c,v=("s"===b?h[8+a/3]:"")+v+(M&&"("===r?")":""),S)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){v=(46===l?d+t.slice(i+1):t.slice(i))+v,t=t.slice(0,i);break}}y&&!f&&(t=u(t,1/0));var T=c.length+t.length+v.length,N=T<g?new Array(g-T+1).join(e):"";switch(y&&f&&(t=u(N+t,N.length?g-v.length:1/0),N=""),n){case"<":t=c+t+v+N;break;case"=":t=c+N+t+v;break;case"^":t=N.slice(0,T=N.length>>1)+c+t+v+N.slice(T);break;default:t=N+c+t+v}return p(t)}return m=null==m?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:g,formatPrefix:function(t,e){var r=g(((t=i(t)).type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(n(e)/3))),a=Math.pow(10,-o),u=h[8+o/3];return function(t){return r(a*t)+u}}}};function p(e){return u=d(e),t.format=u.format,t.formatPrefix=u.formatPrefix,u}p({decimal:".",thousands:",",grouping:[3],currency:["$",""]});t.formatDefaultLocale=p,t.formatLocale=d,t.formatSpecifier=i,t.precisionFixed=function(t){return Math.max(0,-n(Math.abs(t)))},t.precisionPrefix=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(e)/3)))-n(Math.abs(t)))},t.precisionRound=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,n(e)-n(t))+1},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],9:[function(t,e,n){var r;r=this,function(t){"use strict";function e(t,e){return t.parent===e.parent?1:2}function n(t,e){return t+e.x}function r(t,e){return Math.max(t,e.y)}function i(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function o(t,e){var n,r,i,o,u,c=new l(t),f=+t.value&&(c.value=t.value),h=[c];for(null==e&&(e=a);n=h.pop();)if(f&&(n.value=+n.data.value),(i=e(n.data))&&(u=i.length))for(n.children=new Array(u),o=u-1;o>=0;--o)h.push(r=n.children[o]=new l(i[o])),r.parent=n,r.depth=n.depth+1;return c.eachBefore(s)}function a(t){return t.children}function u(t){t.data=t.data.data}function s(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function l(t){this.data=t,this.depth=this.height=0,this.parent=null}l.prototype=o.prototype={constructor:l,count:function(){return this.eachAfter(i)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return o(this).eachBefore(u)}};var c=Array.prototype.slice;var f=function(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(c.call(t))).length,o=[];r<i;)e=t[r],n&&p(n,e)?++r:(n=g(o=h(o,e)),r=0);return n};function h(t,e){var n,r;if(v(e,t))return[e];for(n=0;n<t.length;++n)if(d(e,t[n])&&v(y(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(d(y(t[n],t[r]),e)&&d(y(t[n],e),t[r])&&d(y(t[r],e),t[n])&&v(m(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function d(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function p(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function v(t,e){for(var n=0;n<e.length;++n)if(!p(t,e[n]))return!1;return!0}function g(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return y(t[0],t[1]);case 3:return m(t[0],t[1],t[2])}var e}function y(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,u=e.r,s=o-n,l=a-r,c=u-i,f=Math.sqrt(s*s+l*l);return{x:(n+o+s/f*c)/2,y:(r+a+l/f*c)/2,r:(f+i+u)/2}}function m(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,u=e.y,s=e.r,l=n.x,c=n.y,f=n.r,h=r-a,d=r-l,p=i-u,v=i-c,g=s-o,y=f-o,m=r*r+i*i-o*o,_=m-a*a-u*u+s*s,b=m-l*l-c*c+f*f,x=d*p-h*v,w=(p*b-v*_)/(2*x)-r,k=(v*g-p*y)/x,S=(d*_-h*b)/(2*x)-i,M=(h*y-d*g)/x,T=k*k+M*M-1,N=2*(o+w*k+S*M),E=w*w+S*S-o*o,O=-(T?(N+Math.sqrt(N*N-4*T*E))/(2*T):E/N);return{x:r+w+k*O,y:i+S+M*O,r:O}}function _(t,e,n){var r,i,o,a,u=t.x-e.x,s=t.y-e.y,l=u*u+s*s;l?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=t.x-r*u-o*s,n.y=t.y-r*s+o*u):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=e.x+r*u-o*s,n.y=e.y+r*s+o*u)):(n.x=e.x+n.r,n.y=e.y)}function b(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function x(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function w(t){this._=t,this.next=null,this.previous=null}function k(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,u,s,l,c,h;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;_(n,e,r=t[2]),e=new w(e),n=new w(n),r=new w(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(u=3;u<i;++u){_(e._,n._,r=t[u]),r=new w(r),s=n.next,l=e.previous,c=n._.r,h=e._.r;do{if(c<=h){if(b(s._,r._)){n=s,e.next=n,n.previous=e,--u;continue t}c+=s._.r,s=s.next}else{if(b(l._,r._)){(e=l).next=n,n.previous=e,--u;continue t}h+=l._.r,l=l.previous}}while(s!==l.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=x(e);(r=r.next)!==n;)(a=x(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=f(e),u=0;u<i;++u)(e=t[u]).x-=r.x,e.y-=r.y;return r.r}function S(t){if("function"!=typeof t)throw new Error;return t}function M(){return 0}var T=function(t){return function(){return t}};function N(t){return Math.sqrt(t.value)}function E(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function O(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,u=t(n)*e||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=k(r),u)for(i=0;i<a;++i)r[i].r-=u;n.r=o+u}}}function P(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var j=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},C=function(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,l=t.value&&(r-e)/t.value;++u<s;)(o=a[u]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l},A="$",D={depth:-1},R={};function z(t){return t.id}function U(t){return t.parentId}function I(t,e){return t.parent===e.parent?1:2}function L(t){var e=t.children;return e?e[0]:t.t}function $(t){var e=t.children;return e?e[e.length-1]:t.t}function B(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}B.prototype=Object.create(l.prototype);var F=function(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,l=t.value&&(i-n)/t.value;++u<s;)(o=a[u]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l},W=(1+Math.sqrt(5))/2;function H(t,e,n,r,i,o){for(var a,u,s,l,c,f,h,d,p,v,g,y=[],m=e.children,_=0,b=0,x=m.length,w=e.value;_<x;){s=i-n,l=o-r;do{c=m[b++].value}while(!c&&b<x);for(f=h=c,g=c*c*(v=Math.max(l/s,s/l)/(w*t)),p=Math.max(h/g,g/f);b<x;++b){if(c+=u=m[b].value,u<f&&(f=u),u>h&&(h=u),g=c*c*v,(d=Math.max(h/g,g/f))>p){c-=u;break}p=d}y.push(a={value:c,dice:s<l,children:m.slice(_,b)}),a.dice?C(a,n,r,i,w?r+=l*c/w:o):F(a,n,r,w?n+=s*c/w:i,o),w-=c,_=b}return y}var Y=function t(e){function n(t,n,r,i,o){H(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(W),q=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,u,s,l,c,f=-1,h=a.length,d=t.value;++f<h;){for(s=(u=a[f]).children,l=u.value=0,c=s.length;l<c;++l)u.value+=s[l].value;u.dice?C(u,n,r,i,r+=(o-r)*u.value/d):F(u,n,r,n+=(i-n)*u.value/d,o),d-=u.value}else t._squarify=a=H(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(W);t.cluster=function(){var t=e,i=1,o=1,a=!1;function u(e){var u,s=0;e.eachAfter(function(e){var i,o=e.children;o?(e.x=(i=o).reduce(n,0)/i.length,e.y=1+o.reduce(r,0)):(e.x=u?s+=t(e,u):0,e.y=0,u=e)});var l=function(t){for(var e;e=t.children;)t=e[0];return t}(e),c=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(e),f=l.x-t(l,c)/2,h=c.x+t(c,l)/2;return e.eachAfter(a?function(t){t.x=(t.x-e.x)*i,t.y=(e.y-t.y)*o}:function(t){t.x=(t.x-f)/(h-f)*i,t.y=(1-(e.y?t.y/e.y:1))*o})}return u.separation=function(e){return arguments.length?(t=e,u):t},u.size=function(t){return arguments.length?(a=!1,i=+t[0],o=+t[1],u):a?null:[i,o]},u.nodeSize=function(t){return arguments.length?(a=!0,i=+t[0],o=+t[1],u):a?[i,o]:null},u},t.hierarchy=o,t.pack=function(){var t=null,e=1,n=1,r=M;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(E(t)).eachAfter(O(r,.5)).eachBefore(P(1)):i.eachBefore(E(N)).eachAfter(O(M,1)).eachAfter(O(r,i.r/Math.min(e,n))).eachBefore(P(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=null==(n=e)?null:S(n),i):t;var n},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:T(+t),i):r},i},t.packSiblings=function(t){return k(t),t},t.packEnclose=f,t.partition=function(){var t=1,e=1,n=0,r=!1;function i(i){var o,a,u=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/u,i.eachBefore((o=e,a=u,function(t){t.children&&C(t,t.x0,o*(t.depth+1)/a,t.x1,o*(t.depth+2)/a);var e=t.x0,r=t.y0,i=t.x1-n,u=t.y1-n;i<e&&(e=i=(e+i)/2),u<r&&(r=u=(r+u)/2),t.x0=e,t.y0=r,t.x1=i,t.y1=u})),r&&i.eachBefore(j),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},t.stratify=function(){var t=z,e=U;function n(n){var r,i,o,a,u,c,f,h=n.length,d=new Array(h),p={};for(i=0;i<h;++i)r=n[i],u=d[i]=new l(r),null!=(c=t(r,i,n))&&(c+="")&&(p[f=A+(u.id=c)]=f in p?R:u);for(i=0;i<h;++i)if(u=d[i],null!=(c=e(n[i],i,n))&&(c+="")){if(!(a=p[A+c]))throw new Error("missing: "+c);if(a===R)throw new Error("ambiguous: "+c);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(o)throw new Error("multiple roots");o=u}if(!o)throw new Error("no root");if(o.parent=D,o.eachBefore(function(t){t.depth=t.parent.depth+1,--h}).eachBefore(s),o.parent=null,h>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=S(e),n):t},n.parentId=function(t){return arguments.length?(e=S(t),n):e},n},t.tree=function(){var t=I,e=1,n=1,r=null;function i(i){var s=function(t){for(var e,n,r,i,o,a=new B(t,0),u=[a];e=u.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(n=e.children[i]=new B(r[i],i)),n.parent=e;return(a.parent=new B(null,0)).children=[a],a}(i);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),r)i.eachBefore(u);else{var l=i,c=i,f=i;i.eachBefore(function(t){t.x<l.x&&(l=t),t.x>c.x&&(c=t),t.depth>f.depth&&(f=t)});var h=l===c?1:t(l,c)/2,d=h-l.x,p=e/(c.x+h+d),v=n/(f.depth||1);i.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*v})}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,u=n,s=o.parent.children[0],l=o.m,c=a.m,f=u.m,h=s.m;u=$(u),o=L(o),u&&o;)s=L(s),(a=$(a)).a=e,(i=u.z+f-o.z-l+t(u._,o._))>0&&(m=e,_=r,d=(y=u).a.parent===m.parent?y.a:_,g=(v=i)/((p=e).i-d.i),p.c-=g,p.s+=v,d.c+=g,p.z+=v,p.m+=v,l+=i,c+=i),f+=u.m,l+=o.m,h+=s.m,c+=a.m;u&&!$(a)&&(a.t=u,a.m+=f-c),o&&!L(s)&&(s.t=o,s.m+=l-h,r=e)}var d,p,v,g,y,m,_;return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},t.treemap=function(){var t=Y,e=!1,n=1,r=1,i=[0],o=M,a=M,u=M,s=M,l=M;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(j),t}function f(e){var n=i[e.depth],r=e.x0+n,c=e.y0+n,f=e.x1-n,h=e.y1-n;f<r&&(r=f=(r+f)/2),h<c&&(c=h=(c+h)/2),e.x0=r,e.y0=c,e.x1=f,e.y1=h,e.children&&(n=i[e.depth+1]=o(e)/2,r+=l(e)-n,c+=a(e)-n,f-=u(e)-n,h-=s(e)-n,f<r&&(r=f=(r+f)/2),h<c&&(c=h=(c+h)/2),t(e,r,c,f,h))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],r=+t[1],c):[n,r]},c.tile=function(e){return arguments.length?(t=S(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:T(+t),c):o},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:T(+t),c):a},c.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:T(+t),c):u},c.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:T(+t),c):s},c.paddingLeft=function(t){return arguments.length?(l="function"==typeof t?t:T(+t),c):l},c},t.treemapBinary=function(t,e,n,r,i){var o,a,u=t.children,s=u.length,l=new Array(s+1);for(l[0]=a=o=0;o<s;++o)l[o+1]=a+=u[o].value;!function t(e,n,r,i,o,a,s){if(e>=n-1){var c=u[e];return c.x0=i,c.y0=o,c.x1=a,void(c.y1=s)}for(var f=l[e],h=r/2+f,d=e+1,p=n-1;d<p;){var v=d+p>>>1;l[v]<h?d=v+1:p=v}h-l[d-1]<l[d]-h&&e+1<d&&--d;var g=l[d]-f,y=r-g;if(a-i>s-o){var m=(i*y+a*g)/r;t(e,d,g,i,o,m,s),t(d,n,y,m,o,a,s)}else{var _=(o*y+s*g)/r;t(e,d,g,i,o,a,_),t(d,n,y,i,_,a,s)}}(0,s,t.value,e,n,r,i)},t.treemapDice=C,t.treemapSlice=F,t.treemapSliceDice=function(t,e,n,r,i){(1&t.depth?F:C)(t,e,n,r,i)},t.treemapSquarify=Y,t.treemapResquarify=q,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],10:[function(t,e,n){var r,i;r=this,i=function(t,e){"use strict";function n(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}var r=function(t){var e=t.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[i],a=t[i+1],u=i>0?t[i-1]:2*o-a,s=i<e-1?t[i+2]:2*a-o;return n((r-i/e)*e,u,o,a,s)}},i=function(t){var e=t.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*e),o=t[(i+e-1)%e],a=t[i%e],u=t[(i+1)%e],s=t[(i+2)%e];return n((r-i/e)*e,o,a,u,s)}},o=function(t){return function(){return t}};function a(t,e){return function(n){return t+n*e}}function u(t,e){var n=e-t;return n?a(t,n>180||n<-180?n-360*Math.round(n/360):n):o(isNaN(t)?e:t)}function s(t){return 1==(t=+t)?l:function(e,n){return n-e?(r=e,i=n,a=t,r=Math.pow(r,a),i=Math.pow(i,a)-r,a=1/a,function(t){return Math.pow(r+t*i,a)}):o(isNaN(e)?n:e);var r,i,a}}function l(t,e){var n=e-t;return n?a(t,n):o(isNaN(t)?e:t)}var c=function t(n){var r=s(n);function i(t,n){var i=r((t=e.rgb(t)).r,(n=e.rgb(n)).r),o=r(t.g,n.g),a=r(t.b,n.b),u=l(t.opacity,n.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=a(e),t.opacity=u(e),t+""}}return i.gamma=t,i}(1);function f(t){return function(n){var r,i,o=n.length,a=new Array(o),u=new Array(o),s=new Array(o);for(r=0;r<o;++r)i=e.rgb(n[r]),a[r]=i.r||0,u[r]=i.g||0,s[r]=i.b||0;return a=t(a),u=t(u),s=t(s),i.opacity=1,function(t){return i.r=a(t),i.g=u(t),i.b=s(t),i+""}}}var h=f(r),d=f(i),p=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=M(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},v=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}},g=function(t,e){return e-=t=+t,function(n){return t+e*n}},y=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=M(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},m=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_=new RegExp(m.source,"g");var b,x,w,k,S=function(t,e){var n,r,i,o,a,u=m.lastIndex=_.lastIndex=0,s=-1,l=[],c=[];for(t+="",e+="";(n=m.exec(t))&&(r=_.exec(e));)(i=r.index)>u&&(i=e.slice(u,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(r=r[0])?l[s]?l[s]+=r:l[++s]=r:(l[++s]=null,c.push({i:s,x:g(n,r)})),u=_.lastIndex;return u<e.length&&(i=e.slice(u),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?(a=c[0].x,function(t){return a(t)+""}):(o=e,function(){return o}):(e=c.length,function(t){for(var n,r=0;r<e;++r)l[(n=c[r]).i]=n.x(t);return l.join("")})},M=function(t,n){var r,i=typeof n;return null==n||"boolean"===i?o(n):("number"===i?g:"string"===i?(r=e.color(n))?(n=r,c):S:n instanceof e.color?c:n instanceof Date?v:Array.isArray(n)?p:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?y:g)(t,n)},T=180/Math.PI,N={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},E=function(t,e,n,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*T,skewX:Math.atan(s)*T,scaleX:a,scaleY:u}};function O(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u,s,l,c,f,h,d=[],p=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,e,null,n);u.push({i:s-4,x:g(t,i)},{i:s-2,x:g(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,d,p),u=o.rotate,s=a.rotate,l=d,u!==s?(u-s>180?s+=360:s-u>180&&(u+=360),p.push({i:l.push(i(l)+"rotate(",null,r)-2,x:g(u,s)})):s&&l.push(i(l)+"rotate("+s+r),c=o.skewX,f=a.skewX,h=d,c!==f?p.push({i:h.push(i(h)+"skewX(",null,r)-2,x:g(c,f)}):f&&h.push(i(h)+"skewX("+f+r),function(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:g(t,n)},{i:u-2,x:g(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,d,p),o=a=null,function(t){for(var e,n=-1,r=p.length;++n<r;)d[(e=p[n]).i]=e.x(t);return d.join("")}}}var P=O(function(t){return"none"===t?N:(b||(b=document.createElement("DIV"),x=document.documentElement,w=document.defaultView),b.style.transform=t,t=w.getComputedStyle(x.appendChild(b),null).getPropertyValue("transform"),x.removeChild(b),t=t.slice(7,-1).split(","),E(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),j=O(function(t){return null==t?N:(k||(k=document.createElementNS("http://www.w3.org/2000/svg","g")),k.setAttribute("transform",t),(t=k.transform.baseVal.consolidate())?(t=t.matrix,E(t.a,t.b,t.c,t.d,t.e,t.f)):N)},", ",")",")"),C=Math.SQRT2;function A(t){return((t=Math.exp(t))+1/t)/2}function D(t){return function(n,r){var i=t((n=e.hsl(n)).h,(r=e.hsl(r)).h),o=l(n.s,r.s),a=l(n.l,r.l),u=l(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(t),n.opacity=u(t),n+""}}}var R=D(u),z=D(l);function U(t){return function(n,r){var i=t((n=e.hcl(n)).h,(r=e.hcl(r)).h),o=l(n.c,r.c),a=l(n.l,r.l),u=l(n.opacity,r.opacity);return function(t){return n.h=i(t),n.c=o(t),n.l=a(t),n.opacity=u(t),n+""}}}var I=U(u),L=U(l);function $(t){return function n(r){function i(n,i){var o=t((n=e.cubehelix(n)).h,(i=e.cubehelix(i)).h),a=l(n.s,i.s),u=l(n.l,i.l),s=l(n.opacity,i.opacity);return function(t){return n.h=o(t),n.s=a(t),n.l=u(Math.pow(t,r)),n.opacity=s(t),n+""}}return r=+r,i.gamma=n,i}(1)}var B=$(u),F=$(l);t.interpolate=M,t.interpolateArray=p,t.interpolateBasis=r,t.interpolateBasisClosed=i,t.interpolateDate=v,t.interpolateNumber=g,t.interpolateObject=y,t.interpolateRound=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},t.interpolateString=S,t.interpolateTransformCss=P,t.interpolateTransformSvg=j,t.interpolateZoom=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],u=e[0],s=e[1],l=e[2],c=u-i,f=s-o,h=c*c+f*f;if(h<1e-12)r=Math.log(l/a)/C,n=function(t){return[i+t*c,o+t*f,a*Math.exp(C*t*r)]};else{var d=Math.sqrt(h),p=(l*l-a*a+4*h)/(2*a*2*d),v=(l*l-a*a-4*h)/(2*l*2*d),g=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-g)/C,n=function(t){var e,n,u=t*r,s=A(g),l=a/(2*d)*(s*(n=C*u+g,((n=Math.exp(2*n))-1)/(n+1))-(e=g,((e=Math.exp(e))-1/e)/2));return[i+l*c,o+l*f,a*s/A(C*u+g)]}}return n.duration=1e3*r,n},t.interpolateRgb=c,t.interpolateRgbBasis=h,t.interpolateRgbBasisClosed=d,t.interpolateHsl=R,t.interpolateHslLong=z,t.interpolateLab=function(t,n){var r=l((t=e.lab(t)).l,(n=e.lab(n)).l),i=l(t.a,n.a),o=l(t.b,n.b),a=l(t.opacity,n.opacity);return function(e){return t.l=r(e),t.a=i(e),t.b=o(e),t.opacity=a(e),t+""}},t.interpolateHcl=I,t.interpolateHclLong=L,t.interpolateCubehelix=B,t.interpolateCubehelixLong=F,t.quantize=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-color")):i(r.d3=r.d3||{},r.d3)},{"d3-color":4}],11:[function(t,e,n){var r;r=this,function(t){"use strict";var e=Math.PI,n=2*e,r=1e-6,i=n-r;function o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function a(){return new o}o.prototype=a.prototype={constructor:o,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,i,o,a){t=+t,n=+n,i=+i,o=+o,a=+a;var u=this._x1,s=this._y1,l=i-t,c=o-n,f=u-t,h=s-n,d=f*f+h*h;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(d>r)if(Math.abs(h*l-c*f)>r&&a){var p=i-u,v=o-s,g=l*l+c*c,y=p*p+v*v,m=Math.sqrt(g),_=Math.sqrt(d),b=a*Math.tan((e-Math.acos((g+d-y)/(2*m*_)))/2),x=b/_,w=b/m;Math.abs(x-1)>r&&(this._+="L"+(t+x*f)+","+(n+x*h)),this._+="A"+a+","+a+",0,0,"+ +(h*p>f*v)+","+(this._x1=t+w*l)+","+(this._y1=n+w*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,o,a,u,s,l){t=+t,o=+o;var c=(a=+a)*Math.cos(u),f=a*Math.sin(u),h=t+c,d=o+f,p=1^l,v=l?u-s:s-u;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+h+","+d:(Math.abs(this._x1-h)>r||Math.abs(this._y1-d)>r)&&(this._+="L"+h+","+d),a&&(v<0&&(v=v%n+n),v>i?this._+="A"+a+","+a+",0,1,"+p+","+(t-c)+","+(o-f)+"A"+a+","+a+",0,1,"+p+","+(this._x1=h)+","+(this._y1=d):v>r&&(this._+="A"+a+","+a+",0,"+ +(v>=e)+","+p+","+(this._x1=t+a*Math.cos(s))+","+(this._y1=o+a*Math.sin(s))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.path=a,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],12:[function(t,e,n){var r,i;r=this,i=function(t,e,n,r,i,o,a){"use strict";var u=Array.prototype,s=u.map,l=u.slice,c={name:"implicit"};function f(t){var e=n.map(),r=[],i=c;function o(n){var o=n+"",a=e.get(o);if(!a){if(i!==c)return i;e.set(o,a=r.push(n))}return t[(a-1)%t.length]}return t=null==t?[]:l.call(t),o.domain=function(t){if(!arguments.length)return r.slice();r=[],e=n.map();for(var i,a,u=-1,s=t.length;++u<s;)e.has(a=(i=t[u])+"")||e.set(a,r.push(i));return o},o.range=function(e){return arguments.length?(t=l.call(e),o):t.slice()},o.unknown=function(t){return arguments.length?(i=t,o):i},o.copy=function(){return f().domain(r).range(t).unknown(i)},o}function h(){var t,n,r=f().unknown(void 0),i=r.domain,o=r.range,a=[0,1],u=!1,s=0,l=0,c=.5;function d(){var r=i().length,f=a[1]<a[0],h=a[f-0],d=a[1-f];t=(d-h)/Math.max(1,r-s+2*l),u&&(t=Math.floor(t)),h+=(d-h-t*(r-s))*c,n=t*(1-s),u&&(h=Math.round(h),n=Math.round(n));var p=e.range(r).map(function(e){return h+t*e});return o(f?p.reverse():p)}return delete r.unknown,r.domain=function(t){return arguments.length?(i(t),d()):i()},r.range=function(t){return arguments.length?(a=[+t[0],+t[1]],d()):a.slice()},r.rangeRound=function(t){return a=[+t[0],+t[1]],u=!0,d()},r.bandwidth=function(){return n},r.step=function(){return t},r.round=function(t){return arguments.length?(u=!!t,d()):u},r.padding=function(t){return arguments.length?(s=l=Math.max(0,Math.min(1,t)),d()):s},r.paddingInner=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),d()):s},r.paddingOuter=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),d()):l},r.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),d()):c},r.copy=function(){return h().domain(i()).range(a).round(u).paddingInner(s).paddingOuter(l).align(c)},d()}function d(t){return function(){return t}}function p(t){return+t}var v=[0,1];function g(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:d(e)}function y(t,e,n,r){var i=t[0],o=t[1],a=e[0],u=e[1];return o<i?(i=n(o,i),a=r(u,a)):(i=n(i,o),a=r(a,u)),function(t){return a(i(t))}}function m(t,n,r,i){var o=Math.min(t.length,n.length)-1,a=new Array(o),u=new Array(o),s=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<o;)a[s]=r(t[s],t[s+1]),u[s]=i(n[s],n[s+1]);return function(n){var r=e.bisect(t,n,1,o)-1;return u[r](a[r](n))}}function _(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function b(t,e){var n,i,o,a=v,u=v,c=r.interpolate,f=!1;function h(){return n=Math.min(a.length,u.length)>2?m:y,i=o=null,d}function d(e){return(i||(i=n(a,u,f?(r=t,function(t,e){var n=r(t=+t,e=+e);return function(r){return r<=t?0:r>=e?1:n(r)}}):t,c)))(+e);var r}return d.invert=function(t){return(o||(o=n(u,a,g,f?(r=e,function(t,e){var n=r(t=+t,e=+e);return function(r){return r<=0?t:r>=1?e:n(r)}}):e)))(+t);var r},d.domain=function(t){return arguments.length?(a=s.call(t,p),h()):a.slice()},d.range=function(t){return arguments.length?(u=l.call(t),h()):u.slice()},d.rangeRound=function(t){return u=l.call(t),c=r.interpolateRound,h()},d.clamp=function(t){return arguments.length?(f=!!t,h()):f},d.interpolate=function(t){return arguments.length?(c=t,h()):c},h()}function x(t){var n=t.domain;return t.ticks=function(t){var r=n();return e.ticks(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,r){return function(t,n,r){var o,a=t[0],u=t[t.length-1],s=e.tickStep(a,u,null==n?10:n);switch((r=i.formatSpecifier(null==r?",f":r)).type){case"s":var l=Math.max(Math.abs(a),Math.abs(u));return null!=r.precision||isNaN(o=i.precisionPrefix(s,l))||(r.precision=o),i.formatPrefix(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=i.precisionRound(s,Math.max(Math.abs(a),Math.abs(u))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=i.precisionFixed(s))||(r.precision=o-2*("%"===r.type))}return i.format(r)}(n(),t,r)},t.nice=function(r){null==r&&(r=10);var i,o=n(),a=0,u=o.length-1,s=o[a],l=o[u];return l<s&&(i=s,s=l,l=i,i=a,a=u,u=i),(i=e.tickIncrement(s,l,r))>0?(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,i=e.tickIncrement(s,l,r)):i<0&&(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,i=e.tickIncrement(s,l,r)),i>0?(o[a]=Math.floor(s/i)*i,o[u]=Math.ceil(l/i)*i,n(o)):i<0&&(o[a]=Math.ceil(s*i)/i,o[u]=Math.floor(l*i)/i,n(o)),t},t}function w(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function k(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:d(e)}function S(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function M(t){return isFinite(t)?+("1e"+t):t<0?0:t}function T(t){return 10===t?M:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function N(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function E(t){return function(e){return-t(-e)}}function O(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function P(){var t=1,e=b(function(e,n){return(n=O(n,t)-(e=O(e,t)))?function(r){return(O(r,t)-e)/n}:d(n)},function(e,n){return n=O(n,t)-(e=O(e,t)),function(r){return O(e+n*r,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return _(e,P().exponent(t))},x(e)}var j=1e3,C=60*j,A=60*C,D=24*A,R=7*D,z=30*D,U=365*D;function I(t){return new Date(t)}function L(t){return t instanceof Date?+t:+new Date(+t)}function $(t,n,i,o,a,u,l,c,f){var h=b(g,r.interpolateNumber),d=h.invert,p=h.domain,v=f(".%L"),y=f(":%S"),m=f("%I:%M"),x=f("%I %p"),k=f("%a %d"),S=f("%b %d"),M=f("%B"),T=f("%Y"),N=[[l,1,j],[l,5,5*j],[l,15,15*j],[l,30,30*j],[u,1,C],[u,5,5*C],[u,15,15*C],[u,30,30*C],[a,1,A],[a,3,3*A],[a,6,6*A],[a,12,12*A],[o,1,D],[o,2,2*D],[i,1,R],[n,1,z],[n,3,3*z],[t,1,U]];function E(e){return(l(e)<e?v:u(e)<e?y:a(e)<e?m:o(e)<e?x:n(e)<e?i(e)<e?k:S:t(e)<e?M:T)(e)}function O(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(i-r)/n,u=e.bisector(function(t){return t[2]}).right(N,a);u===N.length?(o=e.tickStep(r/U,i/U,n),n=t):u?(o=(u=N[a/N[u-1][2]<N[u][2]/a?u-1:u])[1],n=u[0]):(o=Math.max(e.tickStep(r,i,n),1),n=c)}return null==o?n:n.every(o)}return h.invert=function(t){return new Date(d(t))},h.domain=function(t){return arguments.length?p(s.call(t,L)):p().map(I)},h.ticks=function(t,e){var n,r=p(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=O(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},h.tickFormat=function(t,e){return null==e?E:f(e)},h.nice=function(t,e){var n=p();return(t=O(t,n[0],n[n.length-1],e))?p(w(n,t)):h},h.copy=function(){return _(h,$(t,n,i,o,a,u,l,c,f))},h}t.scaleBand=h,t.scalePoint=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(h().paddingInner(1))},t.scaleIdentity=function t(){var e=[0,1];function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=s.call(t,p),n):e.slice()},n.copy=function(){return t().domain(e)},x(n)},t.scaleLinear=function t(){var e=b(g,r.interpolateNumber);return e.copy=function(){return _(e,t())},x(e)},t.scaleLog=function t(){var n=b(k,S).domain([1,10]),r=n.domain,o=10,a=N(10),u=T(10);function s(){return a=N(o),u=T(o),r()[0]<0&&(a=E(a),u=E(u)),n}return n.base=function(t){return arguments.length?(o=+t,s()):o},n.domain=function(t){return arguments.length?(r(t),s()):r()},n.ticks=function(t){var n,i=r(),s=i[0],l=i[i.length-1];(n=l<s)&&(d=s,s=l,l=d);var c,f,h,d=a(s),p=a(l),v=null==t?10:+t,g=[];if(!(o%1)&&p-d<v){if(d=Math.round(d)-1,p=Math.round(p)+1,s>0){for(;d<p;++d)for(f=1,c=u(d);f<o;++f)if(!((h=c*f)<s)){if(h>l)break;g.push(h)}}else for(;d<p;++d)for(f=o-1,c=u(d);f>=1;--f)if(!((h=c*f)<s)){if(h>l)break;g.push(h)}}else g=e.ticks(d,p,Math.min(p-d,v)).map(u);return n?g.reverse():g},n.tickFormat=function(t,e){if(null==e&&(e=10===o?".0e":","),"function"!=typeof e&&(e=i.format(e)),t===1/0)return e;null==t&&(t=10);var r=Math.max(1,o*t/n.ticks().length);return function(t){var n=t/u(Math.round(a(t)));return n*o<o-.5&&(n*=o),n<=r?e(t):""}},n.nice=function(){return r(w(r(),{floor:function(t){return u(Math.floor(a(t)))},ceil:function(t){return u(Math.ceil(a(t)))}}))},n.copy=function(){return _(n,t().base(o))},n},t.scaleOrdinal=f,t.scaleImplicit=c,t.scalePow=P,t.scaleSqrt=function(){return P().exponent(.5)},t.scaleQuantile=function t(){var n=[],r=[],i=[];function o(){var t=0,o=Math.max(1,r.length);for(i=new Array(o-1);++t<o;)i[t-1]=e.quantile(n,t/o);return a}function a(t){if(!isNaN(t=+t))return r[e.bisect(i,t)]}return a.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},a.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var r,i=0,a=t.length;i<a;++i)null==(r=t[i])||isNaN(r=+r)||n.push(r);return n.sort(e.ascending),o()},a.range=function(t){return arguments.length?(r=l.call(t),o()):r.slice()},a.quantiles=function(){return i.slice()},a.copy=function(){return t().domain(n).range(r)},a},t.scaleQuantize=function t(){var n=0,r=1,i=1,o=[.5],a=[0,1];function u(t){if(t<=t)return a[e.bisect(o,t,0,i)]}function s(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*n)/(i+1);return u}return u.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],s()):[n,r]},u.range=function(t){return arguments.length?(i=(a=l.call(t)).length-1,s()):a.slice()},u.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=i?[o[i-1],r]:[o[e-1],o[e]]},u.copy=function(){return t().domain([n,r]).range(a)},x(u)},t.scaleThreshold=function t(){var n=[.5],r=[0,1],i=1;function o(t){if(t<=t)return r[e.bisect(n,t,0,i)]}return o.domain=function(t){return arguments.length?(n=l.call(t),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(t){return arguments.length?(r=l.call(t),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},o.copy=function(){return t().domain(n).range(r)},o},t.scaleTime=function(){return $(o.timeYear,o.timeMonth,o.timeWeek,o.timeDay,o.timeHour,o.timeMinute,o.timeSecond,o.timeMillisecond,a.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return $(o.utcYear,o.utcMonth,o.utcWeek,o.utcDay,o.utcHour,o.utcMinute,o.utcSecond,o.utcMillisecond,a.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.scaleSequential=function t(e){var n=0,r=1,i=!1;function o(t){var o=(t-n)/(r-n);return e(i?Math.max(0,Math.min(1,o)):o)}return o.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],o):[n,r]},o.clamp=function(t){return arguments.length?(i=!!t,o):i},o.interpolator=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t(e).domain([n,r]).clamp(i)},x(o)},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-array"),t("d3-collection"),t("d3-interpolate"),t("d3-format"),t("d3-time"),t("d3-time-format")):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3,r.d3)},{"d3-array":1,"d3-collection":3,"d3-format":8,"d3-interpolate":10,"d3-time":16,"d3-time-format":15}],13:[function(t,e,n){var r;r=this,function(t){"use strict";var e="http://www.w3.org/1999/xhtml",n={svg:"http://www.w3.org/2000/svg",xhtml:e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function r(t){var e=t+="",r=e.indexOf(":");return r>=0&&"xmlns"!==(e=t.slice(0,r))&&(t=t.slice(r+1)),n.hasOwnProperty(e)?{space:n[e],local:t}:t}function i(t){var n=r(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===e&&n.documentElement.namespaceURI===e?n.createElement(t):n.createElementNS(r,t)}})(n)}function o(){}function a(t){return null==t?o:function(){return this.querySelector(t)}}function u(){return[]}function s(t){return null==t?u:function(){return this.querySelectorAll(t)}}var l=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var c=document.documentElement;if(!c.matches){var f=c.webkitMatchesSelector||c.msMatchesSelector||c.mozMatchesSelector||c.oMatchesSelector;l=function(t){return function(){return f.call(this,t)}}}}var h=l;function d(t){return new Array(t.length)}function p(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}p.prototype={constructor:p,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var v="$";function g(t,e,n,r,i,o){for(var a,u=0,s=e.length,l=o.length;u<l;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new p(t,o[u]);for(;u<s;++u)(a=e[u])&&(i[u]=a)}function y(t,e,n,r,i,o,a){var u,s,l,c={},f=e.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(s=e[u])&&(d[u]=l=v+a.call(s,s.__data__,u,e),l in c?i[u]=s:c[l]=s);for(u=0;u<h;++u)(s=c[l=v+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],c[l]=null):n[u]=new p(t,o[u]);for(u=0;u<f;++u)(s=e[u])&&c[d[u]]===s&&(i[u]=s)}function m(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function b(t,e){return t.style.getPropertyValue(e)||_(t).getComputedStyle(t,null).getPropertyValue(e)}function x(t){return t.trim().split(/^|\s+/)}function w(t){return t.classList||new k(t)}function k(t){this._node=t,this._names=x(t.getAttribute("class")||"")}function S(t,e){for(var n=w(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function M(t,e){for(var n=w(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function T(){this.textContent=""}function N(){this.innerHTML=""}function E(){this.nextSibling&&this.parentNode.appendChild(this)}function O(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function P(){return null}function j(){var t=this.parentNode;t&&t.removeChild(this)}function C(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function A(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}k.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var D={};(t.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(D={mouseenter:"mouseover",mouseleave:"mouseout"}));function R(t,e,n){return t=z(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function z(e,n,r){return function(i){var o=t.event;t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=o}}}function U(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function I(t,e,n){var r=D.hasOwnProperty(t.type)?R:z;return function(i,o,a){var u,s=this.__on,l=r(e,o,a);if(s)for(var c=0,f=s.length;c<f;++c)if((u=s[c]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=n),void(u.value=e);this.addEventListener(t.type,l,n),u={type:t.type,name:t.name,value:e,listener:l,capture:n},s?s.push(u):this.__on=[u]}}function L(t,e,n){var r=_(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var $=[null];function B(t,e){this._groups=t,this._parents=e}function F(){return new B([[document.documentElement]],$)}function W(t){return"string"==typeof t?new B([[document.querySelector(t)]],[document.documentElement]):new B([[t]],$)}B.prototype=F.prototype={constructor:B,select:function(t){"function"!=typeof t&&(t=a(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u,s=e[i],l=s.length,c=r[i]=new Array(l),f=0;f<l;++f)(o=s[f])&&(u=t.call(o,o.__data__,f,s))&&("__data__"in o&&(u.__data__=o.__data__),c[f]=u);return new B(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=s(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],l=u.length,c=0;c<l;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new B(r,i)},filter:function(t){"function"!=typeof t&&(t=h(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new B(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var n,r=e?y:g,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,u=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var f=i[c],h=o[c],d=h.length,p=t.call(f,f&&f.__data__,c,i),v=p.length,m=s[c]=new Array(v),_=u[c]=new Array(v);r(f,h,m,_,l[c]=new Array(d),p,e);for(var b,x,w=0,k=0;w<v;++w)if(b=m[w]){for(w>=k&&(k=w+1);!(x=_[k])&&++k<v;);b._next=x||null}}return(u=new B(u,i))._enter=s,u._exit=l,u},enter:function(){return new B(this._enter||this._groups.map(d),this._parents)},exit:function(){return new B(this._exit||this._groups.map(d),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,l=e[u],c=n[u],f=l.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=l[d]||c[d])&&(h[d]=s);for(;u<r;++u)a[u]=e[u];return new B(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=m);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],s=u.length,l=i[o]=new Array(s),c=0;c<s;++c)(a=u[c])&&(l[c]=a);l.sort(e)}return new B(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=r(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):b(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=x(t+"");if(arguments.length<2){for(var r=w(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?S:M)(this,t)}}:e?function(t){return function(){S(this,t)}}:function(t){return function(){M(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?T:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?N:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(E)},lower:function(){return this.each(O)},append:function(t){var e="function"==typeof t?t:i(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:i(t),r=null==e?P:"function"==typeof e?e:a(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(j)},clone:function(t){return this.select(t?A:C)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(u=e?I:U,null==n&&(n=!1),r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return L(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return L(this,t,e)}})(t,e))}};var H=0;function Y(){return new q}function q(){this._="@"+(++H).toString(36)}function V(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function X(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}q.prototype=Y.prototype={constructor:q,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},t.create=function(t){return W(i(t).call(document.documentElement))},t.creator=i,t.local=Y,t.matcher=h,t.mouse=function(t){var e=V();return e.changedTouches&&(e=e.changedTouches[0]),X(t,e)},t.namespace=r,t.namespaces=n,t.clientPoint=X,t.select=W,t.selectAll=function(t){return"string"==typeof t?new B([document.querySelectorAll(t)],[document.documentElement]):new B([null==t?[]:t],$)},t.selection=F,t.selector=a,t.selectorAll=s,t.style=b,t.touch=function(t,e,n){arguments.length<3&&(n=e,e=V().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return X(t,r);return null},t.touches=function(t,e){null==e&&(e=V().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=X(t,e[n]);return i},t.window=_,t.customEvent=function(e,n,r,i){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=o}},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],14:[function(t,e,n){var r,i;r=this,i=function(t,e){"use strict";var n=function(t){return function(){return t}},r=Math.abs,i=Math.atan2,o=Math.cos,a=Math.max,u=Math.min,s=Math.sin,l=Math.sqrt,c=1e-12,f=Math.PI,h=f/2,d=2*f;function p(t){return t>=1?h:t<=-1?-h:Math.asin(t)}function v(t){return t.innerRadius}function g(t){return t.outerRadius}function y(t){return t.startAngle}function m(t){return t.endAngle}function _(t){return t&&t.padAngle}function b(t,e,n,r,i,o,u){var s=t-n,c=e-r,f=(u?o:-o)/l(s*s+c*c),h=f*c,d=-f*s,p=t+h,v=e+d,g=n+h,y=r+d,m=(p+g)/2,_=(v+y)/2,b=g-p,x=y-v,w=b*b+x*x,k=i-o,S=p*y-g*v,M=(x<0?-1:1)*l(a(0,k*k*w-S*S)),T=(S*x-b*M)/w,N=(-S*b-x*M)/w,E=(S*x+b*M)/w,O=(-S*b+x*M)/w,P=T-m,j=N-_,C=E-m,A=O-_;return P*P+j*j>C*C+A*A&&(T=E,N=O),{cx:T,cy:N,x01:-h,y01:-d,x11:T*(i/k-1),y11:N*(i/k-1)}}function x(t){this._context=t}x.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var w=function(t){return new x(t)};function k(t){return t[0]}function S(t){return t[1]}var M=function(){var t=k,r=S,i=n(!0),o=null,a=w,u=null;function s(n){var s,l,c,f=n.length,h=!1;for(null==o&&(u=a(c=e.path())),s=0;s<=f;++s)!(s<f&&i(l=n[s],s,n))===h&&((h=!h)?u.lineStart():u.lineEnd()),h&&u.point(+t(l,s,n),+r(l,s,n));if(c)return u=null,c+""||null}return s.x=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),s):t},s.y=function(t){return arguments.length?(r="function"==typeof t?t:n(+t),s):r},s.defined=function(t){return arguments.length?(i="function"==typeof t?t:n(!!t),s):i},s.curve=function(t){return arguments.length?(a=t,null!=o&&(u=a(o)),s):a},s.context=function(t){return arguments.length?(null==t?o=u=null:u=a(o=t),s):o},s},T=function(){var t=k,r=null,i=n(0),o=S,a=n(!0),u=null,s=w,l=null;function c(n){var c,f,h,d,p,v=n.length,g=!1,y=new Array(v),m=new Array(v);for(null==u&&(l=s(p=e.path())),c=0;c<=v;++c){if(!(c<v&&a(d=n[c],c,n))===g)if(g=!g)f=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),h=c-1;h>=f;--h)l.point(y[h],m[h]);l.lineEnd(),l.areaEnd()}g&&(y[c]=+t(d,c,n),m[c]=+i(d,c,n),l.point(r?+r(d,c,n):y[c],o?+o(d,c,n):m[c]))}if(p)return l=null,p+""||null}function f(){return M().defined(a).curve(s).context(u)}return c.x=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),r=null,c):t},c.x0=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),c):t},c.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:n(+t),c):r},c.y=function(t){return arguments.length?(i="function"==typeof t?t:n(+t),o=null,c):i},c.y0=function(t){return arguments.length?(i="function"==typeof t?t:n(+t),c):i},c.y1=function(t){return arguments.length?(o=null==t?null:"function"==typeof t?t:n(+t),c):o},c.lineX0=c.lineY0=function(){return f().x(t).y(i)},c.lineY1=function(){return f().x(t).y(o)},c.lineX1=function(){return f().x(r).y(i)},c.defined=function(t){return arguments.length?(a="function"==typeof t?t:n(!!t),c):a},c.curve=function(t){return arguments.length?(s=t,null!=u&&(l=s(u)),c):s},c.context=function(t){return arguments.length?(null==t?u=l=null:l=s(u=t),c):u},c},N=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},E=function(t){return t},O=j(w);function P(t){this._curve=t}function j(t){function e(e){return new P(t(e))}return e._curve=t,e}function C(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(j(t)):e()._curve},t}P.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var A=function(){return C(M().curve(O))},D=function(){var t=T().curve(O),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return C(n())},delete t.lineX0,t.lineEndAngle=function(){return C(r())},delete t.lineX1,t.lineInnerRadius=function(){return C(i())},delete t.lineY0,t.lineOuterRadius=function(){return C(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(j(t)):e()._curve},t},R=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},z=Array.prototype.slice;function U(t){return t.source}function I(t){return t.target}function L(t){var r=U,i=I,o=k,a=S,u=null;function s(){var n,s=z.call(arguments),l=r.apply(this,s),c=i.apply(this,s);if(u||(u=n=e.path()),t(u,+o.apply(this,(s[0]=l,s)),+a.apply(this,s),+o.apply(this,(s[0]=c,s)),+a.apply(this,s)),n)return u=null,n+""||null}return s.source=function(t){return arguments.length?(r=t,s):r},s.target=function(t){return arguments.length?(i=t,s):i},s.x=function(t){return arguments.length?(o="function"==typeof t?t:n(+t),s):o},s.y=function(t){return arguments.length?(a="function"==typeof t?t:n(+t),s):a},s.context=function(t){return arguments.length?(u=null==t?null:t,s):u},s}function $(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function B(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function F(t,e,n,r,i){var o=R(e,n),a=R(e,n=(n+i)/2),u=R(r,n),s=R(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],s[0],s[1])}var W={draw:function(t,e){var n=Math.sqrt(e/f);t.moveTo(n,0),t.arc(0,0,n,0,d)}},H={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Y=Math.sqrt(1/3),q=2*Y,V={draw:function(t,e){var n=Math.sqrt(e/q),r=n*Y;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},X=Math.sin(f/10)/Math.sin(7*f/10),G=Math.sin(d/10)*X,K=-Math.cos(d/10)*X,Z={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=G*n,i=K*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=d*o/5,u=Math.cos(a),s=Math.sin(a);t.lineTo(s*n,-u*n),t.lineTo(u*r-s*i,s*r+u*i)}t.closePath()}},J={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},Q=Math.sqrt(3),tt={draw:function(t,e){var n=-Math.sqrt(e/(3*Q));t.moveTo(0,2*n),t.lineTo(-Q*n,-n),t.lineTo(Q*n,-n),t.closePath()}},et=-.5,nt=Math.sqrt(3)/2,rt=1/Math.sqrt(12),it=3*(rt/2+1),ot={draw:function(t,e){var n=Math.sqrt(e/it),r=n/2,i=n*rt,o=r,a=n*rt+n,u=-o,s=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,s),t.lineTo(et*r-nt*i,nt*r+et*i),t.lineTo(et*o-nt*a,nt*o+et*a),t.lineTo(et*u-nt*s,nt*u+et*s),t.lineTo(et*r+nt*i,et*i-nt*r),t.lineTo(et*o+nt*a,et*a-nt*o),t.lineTo(et*u+nt*s,et*s-nt*u),t.closePath()}},at=[W,H,V,J,Z,tt,ot],ut=function(){};function st(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function lt(t){this._context=t}lt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:st(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:st(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ct(t){this._context=t}ct.prototype={areaStart:ut,areaEnd:ut,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:st(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ft(t){this._context=t}ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:st(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ht(t,e){this._basis=new lt(t),this._beta=e}ht.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,u=e[n]-o,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*a),this._beta*e[s]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var dt=function t(e){function n(t){return 1===e?new lt(t):new ht(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function pt(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function vt(t,e){this._context=t,this._k=(1-e)/6}vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:pt(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:pt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var gt=function t(e){function n(t){return new vt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function yt(t,e){this._context=t,this._k=(1-e)/6}yt.prototype={areaStart:ut,areaEnd:ut,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:pt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var mt=function t(e){function n(t){return new yt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function _t(t,e){this._context=t,this._k=(1-e)/6}_t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:pt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var bt=function t(e){function n(t){return new _t(t,e)}return n.tension=function(e){return t(+e)},n}(0);function xt(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>c){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>c){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/f,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/f}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function wt(t,e){this._context=t,this._alpha=e}wt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:xt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var kt=function t(e){function n(t){return e?new wt(t,e):new vt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function St(t,e){this._context=t,this._alpha=e}St.prototype={areaStart:ut,areaEnd:ut,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:xt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Mt=function t(e){function n(t){return e?new St(t,e):new yt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Tt(t,e){this._context=t,this._alpha=e}Tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Nt=function t(e){function n(t){return e?new Tt(t,e):new _t(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Et(t){this._context=t}Et.prototype={areaStart:ut,areaEnd:ut,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ot(t){return t<0?-1:1}function Pt(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(Ot(o)+Ot(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function jt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ct(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function At(t){this._context=t}function Dt(t){this._context=new Rt(t)}function Rt(t){this._context=t}function zt(t){this._context=t}function Ut(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}At.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ct(this,this._t0,jt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ct(this,jt(this,n=Pt(this,t,e)),n);break;default:Ct(this,this._t0,n=Pt(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Dt.prototype=Object.create(At.prototype)).point=function(t,e){At.prototype.point.call(this,e,t)},Rt.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},zt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Ut(t),i=Ut(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function It(t,e){this._context=t,this._t=e}It.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Lt=function(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],u=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},$t=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function Bt(t,e){return t[e]}var Ft=function(t){var e=t.map(Wt);return $t(t).sort(function(t,n){return e[t]-e[n]})};function Wt(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}t.arc=function(){var t=v,a=g,x=n(0),w=null,k=y,S=m,M=_,T=null;function N(){var n,v,g,y,m,_,N,E,O,P,j,C,A=+t.apply(this,arguments),D=+a.apply(this,arguments),R=k.apply(this,arguments)-h,z=S.apply(this,arguments)-h,U=r(z-R),I=z>R;if(T||(T=n=e.path()),D<A&&(v=D,D=A,A=v),D>c)if(U>d-c)T.moveTo(D*o(R),D*s(R)),T.arc(0,0,D,R,z,!I),A>c&&(T.moveTo(A*o(z),A*s(z)),T.arc(0,0,A,z,R,I));else{var L,$,B=R,F=z,W=R,H=z,Y=U,q=U,V=M.apply(this,arguments)/2,X=V>c&&(w?+w.apply(this,arguments):l(A*A+D*D)),G=u(r(D-A)/2,+x.apply(this,arguments)),K=G,Z=G;if(X>c){var J=p(X/A*s(V)),Q=p(X/D*s(V));(Y-=2*J)>c?(W+=J*=I?1:-1,H-=J):(Y=0,W=H=(R+z)/2),(q-=2*Q)>c?(B+=Q*=I?1:-1,F-=Q):(q=0,B=F=(R+z)/2)}var tt=D*o(B),et=D*s(B),nt=A*o(H),rt=A*s(H);if(G>c){var it=D*o(F),ot=D*s(F),at=A*o(W),ut=A*s(W);if(U<f){var st=Y>c?[(y=tt)+(C=((P=nt-(_=it))*((m=et)-(N=ot))-(j=rt-N)*(y-_))/(j*(E=at-y)-P*(O=ut-m)))*E,m+C*O]:[nt,rt],lt=tt-st[0],ct=et-st[1],ft=it-st[0],ht=ot-st[1],dt=1/s(((g=(lt*ft+ct*ht)/(l(lt*lt+ct*ct)*l(ft*ft+ht*ht)))>1?0:g<-1?f:Math.acos(g))/2),pt=l(st[0]*st[0]+st[1]*st[1]);K=u(G,(A-pt)/(dt-1)),Z=u(G,(D-pt)/(dt+1))}}q>c?Z>c?(L=b(at,ut,tt,et,D,Z,I),$=b(it,ot,nt,rt,D,Z,I),T.moveTo(L.cx+L.x01,L.cy+L.y01),Z<G?T.arc(L.cx,L.cy,Z,i(L.y01,L.x01),i($.y01,$.x01),!I):(T.arc(L.cx,L.cy,Z,i(L.y01,L.x01),i(L.y11,L.x11),!I),T.arc(0,0,D,i(L.cy+L.y11,L.cx+L.x11),i($.cy+$.y11,$.cx+$.x11),!I),T.arc($.cx,$.cy,Z,i($.y11,$.x11),i($.y01,$.x01),!I))):(T.moveTo(tt,et),T.arc(0,0,D,B,F,!I)):T.moveTo(tt,et),A>c&&Y>c?K>c?(L=b(nt,rt,it,ot,A,-K,I),$=b(tt,et,at,ut,A,-K,I),T.lineTo(L.cx+L.x01,L.cy+L.y01),K<G?T.arc(L.cx,L.cy,K,i(L.y01,L.x01),i($.y01,$.x01),!I):(T.arc(L.cx,L.cy,K,i(L.y01,L.x01),i(L.y11,L.x11),!I),T.arc(0,0,A,i(L.cy+L.y11,L.cx+L.x11),i($.cy+$.y11,$.cx+$.x11),I),T.arc($.cx,$.cy,K,i($.y11,$.x11),i($.y01,$.x01),!I))):T.arc(0,0,A,H,W,I):T.lineTo(nt,rt)}else T.moveTo(0,0);if(T.closePath(),n)return T=null,n+""||null}return N.centroid=function(){var e=(+t.apply(this,arguments)+ +a.apply(this,arguments))/2,n=(+k.apply(this,arguments)+ +S.apply(this,arguments))/2-f/2;return[o(n)*e,s(n)*e]},N.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),N):t},N.outerRadius=function(t){return arguments.length?(a="function"==typeof t?t:n(+t),N):a},N.cornerRadius=function(t){return arguments.length?(x="function"==typeof t?t:n(+t),N):x},N.padRadius=function(t){return arguments.length?(w=null==t?null:"function"==typeof t?t:n(+t),N):w},N.startAngle=function(t){return arguments.length?(k="function"==typeof t?t:n(+t),N):k},N.endAngle=function(t){return arguments.length?(S="function"==typeof t?t:n(+t),N):S},N.padAngle=function(t){return arguments.length?(M="function"==typeof t?t:n(+t),N):M},N.context=function(t){return arguments.length?(T=null==t?null:t,N):T},N},t.area=T,t.line=M,t.pie=function(){var t=E,e=N,r=null,i=n(0),o=n(d),a=n(0);function u(n){var u,s,l,c,f,h=n.length,p=0,v=new Array(h),g=new Array(h),y=+i.apply(this,arguments),m=Math.min(d,Math.max(-d,o.apply(this,arguments)-y)),_=Math.min(Math.abs(m)/h,a.apply(this,arguments)),b=_*(m<0?-1:1);for(u=0;u<h;++u)(f=g[v[u]=u]=+t(n[u],u,n))>0&&(p+=f);for(null!=e?v.sort(function(t,n){return e(g[t],g[n])}):null!=r&&v.sort(function(t,e){return r(n[t],n[e])}),u=0,l=p?(m-h*b)/p:0;u<h;++u,y=c)s=v[u],c=y+((f=g[s])>0?f*l:0)+b,g[s]={data:n[s],index:u,value:f,startAngle:y,endAngle:c,padAngle:_};return g}return u.value=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),u):t},u.sortValues=function(t){return arguments.length?(e=t,r=null,u):e},u.sort=function(t){return arguments.length?(r=t,e=null,u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:n(+t),u):i},u.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:n(+t),u):o},u.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:n(+t),u):a},u},t.areaRadial=D,t.radialArea=D,t.lineRadial=A,t.radialLine=A,t.pointRadial=R,t.linkHorizontal=function(){return L($)},t.linkVertical=function(){return L(B)},t.linkRadial=function(){var t=L(F);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){var t=n(W),r=n(64),i=null;function o(){var n;if(i||(i=n=e.path()),t.apply(this,arguments).draw(i,+r.apply(this,arguments)),n)return i=null,n+""||null}return o.type=function(e){return arguments.length?(t="function"==typeof e?e:n(e),o):t},o.size=function(t){return arguments.length?(r="function"==typeof t?t:n(+t),o):r},o.context=function(t){return arguments.length?(i=null==t?null:t,o):i},o},t.symbols=at,t.symbolCircle=W,t.symbolCross=H,t.symbolDiamond=V,t.symbolSquare=J,t.symbolStar=Z,t.symbolTriangle=tt,t.symbolWye=ot,t.curveBasisClosed=function(t){return new ct(t)},t.curveBasisOpen=function(t){return new ft(t)},t.curveBasis=function(t){return new lt(t)},t.curveBundle=dt,t.curveCardinalClosed=mt,t.curveCardinalOpen=bt,t.curveCardinal=gt,t.curveCatmullRomClosed=Mt,t.curveCatmullRomOpen=Nt,t.curveCatmullRom=kt,t.curveLinearClosed=function(t){return new Et(t)},t.curveLinear=w,t.curveMonotoneX=function(t){return new At(t)},t.curveMonotoneY=function(t){return new Dt(t)},t.curveNatural=function(t){return new zt(t)},t.curveStep=function(t){return new It(t,.5)},t.curveStepAfter=function(t){return new It(t,1)},t.curveStepBefore=function(t){return new It(t,0)},t.stack=function(){var t=n([]),e=$t,r=Lt,i=Bt;function o(n){var o,a,u=t.apply(this,arguments),s=n.length,l=u.length,c=new Array(l);for(o=0;o<l;++o){for(var f,h=u[o],d=c[o]=new Array(s),p=0;p<s;++p)d[p]=f=[0,+i(n[p],h,p,n)],f.data=n[p];d.key=h}for(o=0,a=e(c);o<l;++o)c[a[o]].index=o;return r(c,a),c}return o.keys=function(e){return arguments.length?(t="function"==typeof e?e:n(z.call(e)),o):t},o.value=function(t){return arguments.length?(i="function"==typeof t?t:n(+t),o):i},o.order=function(t){return arguments.length?(e=null==t?$t:"function"==typeof t?t:n(z.call(t)),o):e},o.offset=function(t){return arguments.length?(r=null==t?Lt:t,o):r},o},t.stackOffsetExpand=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}Lt(t,e)}},t.stackOffsetDiverging=function(t,e){if((u=t.length)>1)for(var n,r,i,o,a,u,s=0,l=t[e[0]].length;s<l;++s)for(o=a=0,n=0;n<u;++n)(i=(r=t[e[n]][s])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},t.stackOffsetNone=Lt,t.stackOffsetSilhouette=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<n;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}Lt(t,e)}},t.stackOffsetWiggle=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var u=0,s=0,l=0;u<i;++u){for(var c=t[e[u]],f=c[a][1]||0,h=(f-(c[a-1][1]||0))/2,d=0;d<u;++d){var p=t[e[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}s+=f,l+=h*f}n[a-1][1]+=n[a-1][0]=o,s&&(o-=l/s)}n[a-1][1]+=n[a-1][0]=o,Lt(t,e)}},t.stackOrderAscending=Ft,t.stackOrderDescending=function(t){return Ft(t).reverse()},t.stackOrderInsideOut=function(t){var e,n,r=t.length,i=t.map(Wt),o=$t(t).sort(function(t,e){return i[e]-i[t]}),a=0,u=0,s=[],l=[];for(e=0;e<r;++e)n=o[e],a<u?(a+=i[n],s.push(n)):(u+=i[n],l.push(n));return l.reverse().concat(s)},t.stackOrderNone=$t,t.stackOrderReverse=function(t){return $t(t).reverse()},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-path")):i(r.d3=r.d3||{},r.d3)},{"d3-path":11}],15:[function(t,e,n){var r,i;r=this,i=function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function o(t){var o=t.dateTime,a=t.date,s=t.time,l=t.periods,c=t.days,f=t.shortDays,h=t.months,yt=t.shortMonths,mt=d(l),_t=p(l),bt=d(c),xt=p(c),wt=d(f),kt=p(f),St=d(h),Mt=p(h),Tt=d(yt),Nt=p(yt),Et={a:function(t){return f[t.getDay()]},A:function(t){return c[t.getDay()]},b:function(t){return yt[t.getMonth()]},B:function(t){return h[t.getMonth()]},c:null,d:D,e:D,f:L,H:R,I:z,j:U,L:I,m:$,M:B,p:function(t){return l[+(t.getHours()>=12)]},Q:vt,s:gt,S:F,u:W,U:H,V:Y,w:q,W:V,x:null,X:null,y:X,Y:G,Z:K,"%":pt},Ot={a:function(t){return f[t.getUTCDay()]},A:function(t){return c[t.getUTCDay()]},b:function(t){return yt[t.getUTCMonth()]},B:function(t){return h[t.getUTCMonth()]},c:null,d:Z,e:Z,f:nt,H:J,I:Q,j:tt,L:et,m:rt,M:it,p:function(t){return l[+(t.getUTCHours()>=12)]},Q:vt,s:gt,S:ot,u:at,U:ut,V:st,w:lt,W:ct,x:null,X:null,y:ft,Y:ht,Z:dt,"%":pt},Pt={a:function(t,e,n){var r=wt.exec(e.slice(n));return r?(t.w=kt[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=bt.exec(e.slice(n));return r?(t.w=xt[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=Tt.exec(e.slice(n));return r?(t.m=Nt[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=St.exec(e.slice(n));return r?(t.m=Mt[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return At(t,o,e,n)},d:S,e:S,f:P,H:T,I:T,j:M,L:O,m:k,M:N,p:function(t,e,n){var r=mt.exec(e.slice(n));return r?(t.p=_t[r[0].toLowerCase()],n+r[0].length):-1},Q:C,s:A,S:E,u:g,U:y,V:m,w:v,W:_,x:function(t,e,n){return At(t,a,e,n)},X:function(t,e,n){return At(t,s,e,n)},y:x,Y:b,Z:w,"%":j};function jt(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=u[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function Ct(t,n){return function(o){var a,u,s=i(1900);if(At(s,t,o+="",0)!=o.length)return null;if("Q"in s)return new Date(s.Q);if("p"in s&&(s.H=s.H%12+12*s.p),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(a=(u=(a=r(i(s.y))).getUTCDay())>4||0===u?e.utcMonday.ceil(a):e.utcMonday(a),a=e.utcDay.offset(a,7*(s.V-1)),s.y=a.getUTCFullYear(),s.m=a.getUTCMonth(),s.d=a.getUTCDate()+(s.w+6)%7):(a=(u=(a=n(i(s.y))).getDay())>4||0===u?e.timeMonday.ceil(a):e.timeMonday(a),a=e.timeDay.offset(a,7*(s.V-1)),s.y=a.getFullYear(),s.m=a.getMonth(),s.d=a.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),u="Z"in s?r(i(s.y)).getUTCDay():n(i(s.y)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(u+5)%7:s.w+7*s.U-(u+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,r(s)):n(s)}}function At(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=Pt[i in u?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return Et.x=jt(a,Et),Et.X=jt(s,Et),Et.c=jt(o,Et),Ot.x=jt(a,Ot),Ot.X=jt(s,Ot),Ot.c=jt(o,Ot),{format:function(t){var e=jt(t+="",Et);return e.toString=function(){return t},e},parse:function(t){var e=Ct(t+="",n);return e.toString=function(){return t},e},utcFormat:function(t){var e=jt(t+="",Ot);return e.toString=function(){return t},e},utcParse:function(t){var e=Ct(t,r);return e.toString=function(){return t},e}}}var a,u={"-":"",_:" ",0:"0"},s=/^\s*\d+/,l=/^%/,c=/[\\^$*+?|[\]().{}]/g;function f(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function h(t){return t.replace(c,"\\$&")}function d(t){return new RegExp("^(?:"+t.map(h).join("|")+")","i")}function p(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function v(t,e,n){var r=s.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function g(t,e,n){var r=s.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function y(t,e,n){var r=s.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function m(t,e,n){var r=s.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function _(t,e,n){var r=s.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function b(t,e,n){var r=s.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function x(t,e,n){var r=s.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function w(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function k(t,e,n){var r=s.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function S(t,e,n){var r=s.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function M(t,e,n){var r=s.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function T(t,e,n){var r=s.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function N(t,e,n){var r=s.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function E(t,e,n){var r=s.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function O(t,e,n){var r=s.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function P(t,e,n){var r=s.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function j(t,e,n){var r=l.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function C(t,e,n){var r=s.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function A(t,e,n){var r=s.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function D(t,e){return f(t.getDate(),e,2)}function R(t,e){return f(t.getHours(),e,2)}function z(t,e){return f(t.getHours()%12||12,e,2)}function U(t,n){return f(1+e.timeDay.count(e.timeYear(t),t),n,3)}function I(t,e){return f(t.getMilliseconds(),e,3)}function L(t,e){return I(t,e)+"000"}function $(t,e){return f(t.getMonth()+1,e,2)}function B(t,e){return f(t.getMinutes(),e,2)}function F(t,e){return f(t.getSeconds(),e,2)}function W(t){var e=t.getDay();return 0===e?7:e}function H(t,n){return f(e.timeSunday.count(e.timeYear(t),t),n,2)}function Y(t,n){var r=t.getDay();return t=r>=4||0===r?e.timeThursday(t):e.timeThursday.ceil(t),f(e.timeThursday.count(e.timeYear(t),t)+(4===e.timeYear(t).getDay()),n,2)}function q(t){return t.getDay()}function V(t,n){return f(e.timeMonday.count(e.timeYear(t),t),n,2)}function X(t,e){return f(t.getFullYear()%100,e,2)}function G(t,e){return f(t.getFullYear()%1e4,e,4)}function K(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+f(e/60|0,"0",2)+f(e%60,"0",2)}function Z(t,e){return f(t.getUTCDate(),e,2)}function J(t,e){return f(t.getUTCHours(),e,2)}function Q(t,e){return f(t.getUTCHours()%12||12,e,2)}function tt(t,n){return f(1+e.utcDay.count(e.utcYear(t),t),n,3)}function et(t,e){return f(t.getUTCMilliseconds(),e,3)}function nt(t,e){return et(t,e)+"000"}function rt(t,e){return f(t.getUTCMonth()+1,e,2)}function it(t,e){return f(t.getUTCMinutes(),e,2)}function ot(t,e){return f(t.getUTCSeconds(),e,2)}function at(t){var e=t.getUTCDay();return 0===e?7:e}function ut(t,n){return f(e.utcSunday.count(e.utcYear(t),t),n,2)}function st(t,n){var r=t.getUTCDay();return t=r>=4||0===r?e.utcThursday(t):e.utcThursday.ceil(t),f(e.utcThursday.count(e.utcYear(t),t)+(4===e.utcYear(t).getUTCDay()),n,2)}function lt(t){return t.getUTCDay()}function ct(t,n){return f(e.utcMonday.count(e.utcYear(t),t),n,2)}function ft(t,e){return f(t.getUTCFullYear()%100,e,2)}function ht(t,e){return f(t.getUTCFullYear()%1e4,e,4)}function dt(){return"+0000"}function pt(){return"%"}function vt(t){return+t}function gt(t){return Math.floor(+t/1e3)}function yt(e){return a=o(e),t.timeFormat=a.format,t.timeParse=a.parse,t.utcFormat=a.utcFormat,t.utcParse=a.utcParse,a}yt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var mt="%Y-%m-%dT%H:%M:%S.%LZ";var _t=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat(mt);var bt=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse(mt);t.timeFormatDefaultLocale=yt,t.timeFormatLocale=o,t.isoFormat=_t,t.isoParse=bt,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-time")):i(r.d3=r.d3||{},r.d3)},{"d3-time":16}],16:[function(t,e,n){var r;r=this,function(t){"use strict";var e=new Date,n=new Date;function r(t,i,o,a){function u(e){return t(e=new Date(+e)),e}return u.floor=u,u.ceil=function(e){return t(e=new Date(e-1)),i(e,1),t(e),e},u.round=function(t){var e=u(t),n=u.ceil(t);return t-e<n-t?e:n},u.offset=function(t,e){return i(t=new Date(+t),null==e?1:Math.floor(e)),t},u.range=function(e,n,r){var o,a=[];if(e=u.ceil(e),r=null==r?1:Math.floor(r),!(e<n&&r>0))return a;do{a.push(o=new Date(+e)),i(e,r),t(e)}while(o<e&&e<n);return a},u.filter=function(e){return r(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,n){if(t>=t)if(n<0)for(;++n<=0;)for(;i(t,-1),!e(t););else for(;--n>=0;)for(;i(t,1),!e(t););})},o&&(u.count=function(r,i){return e.setTime(+r),n.setTime(+i),t(e),t(n),Math.floor(o(e,n))},u.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?u.filter(a?function(e){return a(e)%t==0}:function(e){return u.count(0,e)%t==0}):u:null}),u}var i=r(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):i:null};var o=i.range,a=6e4,u=6048e5,s=r(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),l=s.range,c=r(function(t){t.setTime(Math.floor(t/a)*a)},function(t,e){t.setTime(+t+e*a)},function(t,e){return(e-t)/a},function(t){return t.getMinutes()}),f=c.range,h=r(function(t){var e=t.getTimezoneOffset()*a%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),d=h.range,p=r(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*a)/864e5},function(t){return t.getDate()-1}),v=p.range;function g(t){return r(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*a)/u})}var y=g(0),m=g(1),_=g(2),b=g(3),x=g(4),w=g(5),k=g(6),S=y.range,M=m.range,T=_.range,N=b.range,E=x.range,O=w.range,P=k.range,j=r(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),C=j.range,A=r(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});A.every=function(t){return isFinite(t=Math.floor(t))&&t>0?r(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var D=A.range,R=r(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*a)},function(t,e){return(e-t)/a},function(t){return t.getUTCMinutes()}),z=R.range,U=r(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),I=U.range,L=r(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),$=L.range;function B(t){return r(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/u})}var F=B(0),W=B(1),H=B(2),Y=B(3),q=B(4),V=B(5),X=B(6),G=F.range,K=W.range,Z=H.range,J=Y.range,Q=q.range,tt=V.range,et=X.range,nt=r(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),rt=nt.range,it=r(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});it.every=function(t){return isFinite(t=Math.floor(t))&&t>0?r(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ot=it.range;t.timeInterval=r,t.timeMillisecond=i,t.timeMilliseconds=o,t.utcMillisecond=i,t.utcMilliseconds=o,t.timeSecond=s,t.timeSeconds=l,t.utcSecond=s,t.utcSeconds=l,t.timeMinute=c,t.timeMinutes=f,t.timeHour=h,t.timeHours=d,t.timeDay=p,t.timeDays=v,t.timeWeek=y,t.timeWeeks=S,t.timeSunday=y,t.timeSundays=S,t.timeMonday=m,t.timeMondays=M,t.timeTuesday=_,t.timeTuesdays=T,t.timeWednesday=b,t.timeWednesdays=N,t.timeThursday=x,t.timeThursdays=E,t.timeFriday=w,t.timeFridays=O,t.timeSaturday=k,t.timeSaturdays=P,t.timeMonth=j,t.timeMonths=C,t.timeYear=A,t.timeYears=D,t.utcMinute=R,t.utcMinutes=z,t.utcHour=U,t.utcHours=I,t.utcDay=L,t.utcDays=$,t.utcWeek=F,t.utcWeeks=G,t.utcSunday=F,t.utcSundays=G,t.utcMonday=W,t.utcMondays=K,t.utcTuesday=H,t.utcTuesdays=Z,t.utcWednesday=Y,t.utcWednesdays=J,t.utcThursday=q,t.utcThursdays=Q,t.utcFriday=V,t.utcFridays=tt,t.utcSaturday=X,t.utcSaturdays=et,t.utcMonth=nt,t.utcMonths=rt,t.utcYear=it,t.utcYears=ot,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],17:[function(t,e,n){var r;r=this,function(t){"use strict";var e,n,r=0,i=0,o=0,a=1e3,u=0,s=0,l=0,c="object"==typeof performance&&performance.now?performance:Date,f="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function h(){return s||(f(d),s=c.now()+l)}function d(){s=0}function p(){this._call=this._time=this._next=null}function v(t,e,n){var r=new p;return r.restart(t,e,n),r}function g(){h(),++r;for(var t,n=e;n;)(t=s-n._time)>=0&&n._call.call(null,t),n=n._next;--r}function y(){s=(u=c.now())+l,r=i=0;try{g()}finally{r=0,function(){var t,r,i=e,o=1/0;for(;i;)i._call?(o>i._time&&(o=i._time),t=i,i=i._next):(r=i._next,i._next=null,i=t?t._next=r:e=r);n=t,_(o)}(),s=0}}function m(){var t=c.now(),e=t-u;e>a&&(l-=e,u=t)}function _(t){r||(i&&(i=clearTimeout(i)),t-s>24?(t<1/0&&(i=setTimeout(y,t-c.now()-l)),o&&(o=clearInterval(o))):(o||(u=c.now(),o=setInterval(m,a)),r=1,f(y)))}p.prototype=v.prototype={constructor:p,restart:function(t,r,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?h():+i)+(null==r?0:+r),this._next||n===this||(n?n._next=this:e=this,n=this),this._call=t,this._time=i,_()},stop:function(){this._call&&(this._call=null,this._time=1/0,_())}};t.now=h,t.timer=v,t.timerFlush=g,t.timeout=function(t,e,n){var r=new p;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},t.interval=function(t,e,n){var r=new p,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?h():+n,r.restart(function o(a){a+=i,r.restart(o,i+=e,n),t(a)},e,n),r)},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],18:[function(t,e,n){var r,i;r=this,i=function(t,e,n,r,i,o,a){"use strict";var u=n.dispatch("start","end","interrupt"),s=[],l=0,c=1,f=2,h=3,d=4,p=5,v=6,g=function(t,e,n,i,o,a){var g=t.__transition;if(g){if(n in g)return}else t.__transition={};!function(t,e,n){var i,o=t.__transition;function a(l){var p,g,y,m;if(n.state!==c)return s();for(p in o)if((m=o[p]).name===n.name){if(m.state===h)return r.timeout(a);m.state===d?(m.state=v,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete o[p]):+p<e&&(m.state=v,m.timer.stop(),delete o[p])}if(r.timeout(function(){n.state===h&&(n.state=d,n.timer.restart(u,n.delay,n.time),u(l))}),n.state=f,n.on.call("start",t,t.__data__,n.index,n.group),n.state===f){for(n.state=h,i=new Array(y=n.tween.length),p=0,g=-1;p<y;++p)(m=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(i[++g]=m);i.length=g+1}}function u(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=p,1),o=-1,a=i.length;++o<a;)i[o].call(null,r);n.state===p&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=v,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=r.timer(function(t){n.state=c,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)},0,n.time)}(t,n,{name:e,index:i,group:o,on:u,tween:s,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:l})};function y(t,e){var n=_(t,e);if(n.state>l)throw new Error("too late; already scheduled");return n}function m(t,e){var n=_(t,e);if(n.state>f)throw new Error("too late; already started");return n}function _(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var b=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>f&&n.state<p,n.state=v,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}};function x(t,e,n){var r=t._id;return t.each(function(){var t=m(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return _(t,r).value[e]}}var w=function(t,e){var n;return("number"==typeof e?i.interpolateNumber:e instanceof o.color?i.interpolateRgb:(n=o.color(e))?(e=n,i.interpolateRgb):i.interpolateString)(t,e)};var k=e.selection.prototype.constructor;var S=0;function M(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function T(t){return e.selection().transition(t)}function N(){return++S}var E=e.selection.prototype;M.prototype=T.prototype={constructor:M,select:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=e.selector(t));for(var i=this._groups,o=i.length,a=new Array(o),u=0;u<o;++u)for(var s,l,c=i[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,g(h[d],n,r,d,h,_(s,r)));return new M(a,this._parents,n,r)},selectAll:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=e.selectorAll(t));for(var i=this._groups,o=i.length,a=[],u=[],s=0;s<o;++s)for(var l,c=i[s],f=c.length,h=0;h<f;++h)if(l=c[h]){for(var d,p=t.call(l,l.__data__,h,c),v=_(l,r),y=0,m=p.length;y<m;++y)(d=p[y])&&g(d,n,r,y,p,v);a.push(p),u.push(l)}return new M(a,u,n,r)},filter:function(t){"function"!=typeof t&&(t=e.matcher(t));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a,u=n[o],s=u.length,l=i[o]=[],c=0;c<s;++c)(a=u[c])&&t.call(a,a.__data__,c,u)&&l.push(a);return new M(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,l=e[u],c=n[u],f=l.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=l[d]||c[d])&&(h[d]=s);for(;u<r;++u)a[u]=e[u];return new M(a,this._parents,this._name,this._id)},selection:function(){return new k(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=N(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)if(a=u[l]){var c=_(a,e);g(a,t,n,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new M(r,this._parents,t,n)},call:E.call,nodes:E.nodes,node:E.node,size:E.size,empty:E.empty,each:E.each,on:function(t,e){var n,r,i,o,a,u,s=this._id;return arguments.length<2?_(this.node(),s).on.on(t):this.each((n=s,i=e,u=((r=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?y:m,function(){var t=u(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}))},attr:function(t,n){var r=e.namespace(t),o="transform"===r?i.interpolateTransformSvg:w;return this.attrTween(t,"function"==typeof n?(r.local?function(t,e,n){var r,i,o;return function(){var a,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===u?null:a===r&&u===i?o:o=e(r=a,i=u);this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var a,u=n(this);if(null!=u)return(a=this.getAttribute(t))===u?null:a===r&&u===i?o:o=e(r=a,i=u);this.removeAttribute(t)}})(r,o,x(this,"attr."+t,n)):null==n?(r.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(r):(r.local?function(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}:function(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}})(r,o,n+""))},attrTween:function(t,n){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;var i=e.namespace(t);return this.tween(r,(i.local?function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}:function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n})(i,n))},style:function(t,n,r){var o,a,u,s,l,c,f,h,d,p,v,g,y,m,_,b,k,S="transform"==(t+="")?i.interpolateTransformCss:w;return null==n?this.styleTween(t,(y=t,m=S,function(){var t=e.style(this,y),n=(this.style.removeProperty(y),e.style(this,y));return t===n?null:t===_&&n===b?k:k=m(_=t,b=n)})).on("end.style."+t,(g=t,function(){this.style.removeProperty(g)})):this.styleTween(t,"function"==typeof n?(c=t,f=S,h=x(this,"style."+t,n),function(){var t=e.style(this,c),n=h(this);return null==n&&(this.style.removeProperty(c),n=e.style(this,c)),t===n?null:t===d&&n===p?v:v=f(d=t,p=n)}):(o=t,a=S,u=n+"",function(){var t=e.style(this,o);return t===u?null:t===s?l:l=a(s=t,u)}),r)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=x(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=_(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=m(this,t),o=i.tween;if(o!==n)for(var a=0,u=(r=n=o).length;a<u;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=m(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:e,value:n},s=0,l=i.length;s<l;++s)if(i[s].name===e){i[s]=u;break}s===l&&i.push(u)}o.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){y(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){y(this,t).delay=e}})(e,t)):_(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){m(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){m(this,t).duration=e}})(e,t)):_(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){m(this,t).ease=e}}(e,t)):_(this.node(),e).ease}};var O={time:null,delay:0,duration:250,ease:a.easeCubicInOut};function P(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return O.time=r.now(),O;return n}e.selection.prototype.interrupt=function(t){return this.each(function(){b(this,t)})},e.selection.prototype.transition=function(t){var e,n;t instanceof M?(e=t._id,t=t._name):(e=N(),(n=O).time=r.now(),t=null==t?null:t+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var u,s=i[a],l=s.length,c=0;c<l;++c)(u=s[c])&&g(u,t,e,c,s,n||P(u,e));return new M(i,this._parents,t,e)};var j=[null];t.transition=T,t.active=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>c&&n.name===e)return new M([[t]],j,e,+r);return null},t.interrupt=b,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-selection"),t("d3-dispatch"),t("d3-timer"),t("d3-interpolate"),t("d3-color"),t("d3-ease")):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3,r.d3)},{"d3-color":4,"d3-dispatch":5,"d3-ease":7,"d3-interpolate":10,"d3-selection":13,"d3-timer":17}],19:[function(t,e,n){!function(t,n,r,i){"use strict";var o,a=["","webkit","Moz","MS","ms","o"],u=n.createElement("div"),s="function",l=Math.round,c=Math.abs,f=Date.now;function h(t,e,n){return setTimeout(_(t,n),e)}function d(t,e,n){return!!Array.isArray(t)&&(p(t,n[e],n),!0)}function p(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function v(e,n,r){var i="DEPRECATED METHOD: "+n+"\n"+r+" AT \n";return function(){var n=new Error("get-stack-trace"),r=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=t.console&&(t.console.warn||t.console.log);return o&&o.call(t.console,i,r),e.apply(this,arguments)}}o="function"!=typeof Object.assign?function(t){if(t===i||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==i&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var g=v(function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===i)&&(t[r[o]]=e[r[o]]),o++;return t},"extend","Use `assign`."),y=v(function(t,e){return g(t,e,!0)},"merge","Use `assign`.");function m(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&o(r,n)}function _(t,e){return function(){return t.apply(e,arguments)}}function b(t,e){return typeof t==s?t.apply(e&&e[0]||i,e):t}function x(t,e){return t===i?e:t}function w(t,e,n){p(T(e),function(e){t.addEventListener(e,n,!1)})}function k(t,e,n){p(T(e),function(e){t.removeEventListener(e,n,!1)})}function S(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function M(t,e){return t.indexOf(e)>-1}function T(t){return t.trim().split(/\s+/g)}function N(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function E(t){return Array.prototype.slice.call(t,0)}function O(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];N(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function P(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),u=0;u<a.length;){if((r=(n=a[u])?n+o:e)in t)return r;u++}return i}var j=1;function C(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}var A="ontouchstart"in t,D=P(t,"PointerEvent")!==i,R=A&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),z="touch",U=25,I=1,L=2,$=4,B=8,F=1,W=2,H=4,Y=8,q=16,V=W|H,X=Y|q,G=V|X,K=["x","y"],Z=["clientX","clientY"];function J(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){b(t.options.enable,[t])&&n.handler(e)},this.init()}function Q(t,e,n){var r=n.pointers.length,o=n.changedPointers.length,a=e&I&&r-o==0,u=e&($|B)&&r-o==0;n.isFirst=!!a,n.isFinal=!!u,a&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,o=r.length;n.firstInput||(n.firstInput=tt(e));o>1&&!n.firstMultiple?n.firstMultiple=tt(e):1===o&&(n.firstMultiple=!1);var a=n.firstInput,u=n.firstMultiple,s=u?u.center:a.center,l=e.center=et(r);e.timeStamp=f(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=ot(s,l),e.distance=it(s,l),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==I&&o.eventType!==$||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=rt(e.deltaX,e.deltaY);var h=nt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=c(h.x)>c(h.y)?h.x:h.y,e.scale=u?(v=u.pointers,g=r,it(g[0],g[1],Z)/it(v[0],v[1],Z)):1,e.rotation=u?(d=u.pointers,p=r,ot(p[1],p[0],Z)+ot(d[1],d[0],Z)):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,o,a,u=t.lastInterval||e,s=e.timeStamp-u.timeStamp;if(e.eventType!=B&&(s>U||u.velocity===i)){var l=e.deltaX-u.deltaX,f=e.deltaY-u.deltaY,h=nt(s,l,f);r=h.x,o=h.y,n=c(h.x)>c(h.y)?h.x:h.y,a=rt(l,f),t.lastInterval=e}else n=u.velocity,r=u.velocityX,o=u.velocityY,a=u.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=a}(n,e);var d,p;var v,g;var y=t.element;S(e.srcEvent.target,y)&&(y=e.srcEvent.target);e.target=y}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function tt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:l(t.pointers[n].clientX),clientY:l(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:et(e),deltaX:t.deltaX,deltaY:t.deltaY}}function et(t){var e=t.length;if(1===e)return{x:l(t[0].clientX),y:l(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:l(n/e),y:l(r/e)}}function nt(t,e,n){return{x:e/t||0,y:n/t||0}}function rt(t,e){return t===e?F:c(t)>=c(e)?t<0?W:H:e<0?Y:q}function it(t,e,n){n||(n=K);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function ot(t,e,n){n||(n=K);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}J.prototype={handler:function(){},init:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(C(this.element),this.evWin,this.domHandler)}};var at={mousedown:I,mousemove:L,mouseup:$},ut="mousedown",st="mousemove mouseup";function lt(){this.evEl=ut,this.evWin=st,this.pressed=!1,J.apply(this,arguments)}m(lt,J,{handler:function(t){var e=at[t.type];e&I&&0===t.button&&(this.pressed=!0),e&L&&1!==t.which&&(e=$),this.pressed&&(e&$&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var ct={pointerdown:I,pointermove:L,pointerup:$,pointercancel:B,pointerout:B},ft={2:z,3:"pen",4:"mouse",5:"kinect"},ht="pointerdown",dt="pointermove pointerup pointercancel";function pt(){this.evEl=ht,this.evWin=dt,J.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}t.MSPointerEvent&&!t.PointerEvent&&(ht="MSPointerDown",dt="MSPointerMove MSPointerUp MSPointerCancel"),m(pt,J,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=ct[r],o=ft[t.pointerType]||t.pointerType,a=o==z,u=N(e,t.pointerId,"pointerId");i&I&&(0===t.button||a)?u<0&&(e.push(t),u=e.length-1):i&($|B)&&(n=!0),u<0||(e[u]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(u,1))}});var vt={touchstart:I,touchmove:L,touchend:$,touchcancel:B},gt="touchstart",yt="touchstart touchmove touchend touchcancel";function mt(){this.evTarget=gt,this.evWin=yt,this.started=!1,J.apply(this,arguments)}m(mt,J,{handler:function(t){var e=vt[t.type];if(e===I&&(this.started=!0),this.started){var n=function(t,e){var n=E(t.touches),r=E(t.changedTouches);e&($|B)&&(n=O(n.concat(r),"identifier",!0));return[n,r]}.call(this,t,e);e&($|B)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:z,srcEvent:t})}}});var _t={touchstart:I,touchmove:L,touchend:$,touchcancel:B},bt="touchstart touchmove touchend touchcancel";function xt(){this.evTarget=bt,this.targetIds={},J.apply(this,arguments)}m(xt,J,{handler:function(t){var e=_t[t.type],n=function(t,e){var n=E(t.touches),r=this.targetIds;if(e&(I|L)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=E(t.changedTouches),u=[],s=this.target;if(o=n.filter(function(t){return S(t.target,s)}),e===I)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;i=0;for(;i<a.length;)r[a[i].identifier]&&u.push(a[i]),e&($|B)&&delete r[a[i].identifier],i++;if(!u.length)return;return[O(o.concat(u),"identifier",!0),u]}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:z,srcEvent:t})}});var wt=2500,kt=25;function St(){J.apply(this,arguments);var t=_(this.handler,this);this.touch=new xt(this.manager,t),this.mouse=new lt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Mt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)},wt)}}m(St,J,{handler:function(t,e,n){var r=n.pointerType==z,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(t,e){t&I?(this.primaryTouch=e.changedPointers[0].identifier,Mt.call(this,e)):t&($|B)&&Mt.call(this,e)}).call(this,e,n);else if(i&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=kt&&a<=kt)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Tt=P(u.style,"touchAction"),Nt=Tt!==i,Et="auto",Ot="manipulation",Pt="none",jt="pan-x",Ct="pan-y",At=function(){if(!Nt)return!1;var e={},n=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){e[r]=!n||t.CSS.supports("touch-action",r)}),e}();function Dt(t,e){this.manager=t,this.set(e)}Dt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Nt&&this.manager.element.style&&At[t]&&(this.manager.element.style[Tt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return p(this.manager.recognizers,function(e){b(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(M(t,Pt))return Pt;var e=M(t,jt),n=M(t,Ct);if(e&&n)return Pt;if(e||n)return e?jt:Ct;if(M(t,Ot))return Ot;return Et}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=M(r,Pt)&&!At[Pt],o=M(r,Ct)&&!At[Ct],a=M(r,jt)&&!At[jt];if(i){var u=1===t.pointers.length,s=t.distance<2,l=t.deltaTime<250;if(u&&s&&l)return}if(!a||!o)return i||o&&n&V||a&&n&X?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Rt=1,zt=2,Ut=4,It=8,Lt=It,$t=16;function Bt(t){this.options=o({},this.defaults,t||{}),this.id=j++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=Rt,this.simultaneous={},this.requireFail=[]}function Ft(t){return t&$t?"cancel":t&It?"end":t&Ut?"move":t&zt?"start":""}function Wt(t){return t==q?"down":t==Y?"up":t==W?"left":t==H?"right":""}function Ht(t,e){var n=e.manager;return n?n.get(t):t}function Yt(){Bt.apply(this,arguments)}function qt(){Yt.apply(this,arguments),this.pX=null,this.pY=null}function Vt(){Yt.apply(this,arguments)}function Xt(){Bt.apply(this,arguments),this._timer=null,this._input=null}function Gt(){Yt.apply(this,arguments)}function Kt(){Yt.apply(this,arguments)}function Zt(){Bt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Jt(t,e){return(e=e||{}).recognizers=x(e.recognizers,Jt.defaults.preset),new Qt(t,e)}Bt.prototype={defaults:{},set:function(t){return o(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(d(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Ht(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return d(t,"dropRecognizeWith",this)?this:(t=Ht(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(d(t,"requireFailure",this))return this;var e=this.requireFail;return-1===N(e,t=Ht(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(d(t,"dropRequireFailure",this))return this;t=Ht(t,this);var e=N(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<It&&r(e.options.event+Ft(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=It&&r(e.options.event+Ft(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Rt)))return!1;t++}return!0},recognize:function(t){var e=o({},t);if(!b(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Lt|$t|32)&&(this.state=Rt),this.state=this.process(e),this.state&(zt|Ut|It|$t)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},m(Yt,Bt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(zt|Ut),i=this.attrTest(t);return r&&(n&B||!i)?e|$t:r||i?n&$?e|It:e&zt?e|Ut:zt:32}}),m(qt,Yt,{defaults:{event:"pan",threshold:10,pointers:1,direction:G},getTouchAction:function(){var t=this.options.direction,e=[];return t&V&&e.push(Ct),t&X&&e.push(jt),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&V?(i=0===o?F:o<0?W:H,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?F:a<0?Y:q,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Yt.prototype.attrTest.call(this,t)&&(this.state&zt||!(this.state&zt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Wt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),m(Vt,Yt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Pt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&zt)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),m(Xt,Bt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Et]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&($|B)&&!i)this.reset();else if(t.eventType&I)this.reset(),this._timer=h(function(){this.state=Lt,this.tryEmit()},e.time,this);else if(t.eventType&$)return Lt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Lt&&(t&&t.eventType&$?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),m(Gt,Yt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Pt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&zt)}}),m(Kt,Yt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:V|X,pointers:1},getTouchAction:function(){return qt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(V|X)?e=t.overallVelocity:n&V?e=t.overallVelocityX:n&X&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&c(e)>this.options.velocity&&t.eventType&$},emit:function(t){var e=Wt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),m(Zt,Bt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ot]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&I&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=$)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||it(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=h(function(){this.state=Lt,this.tryEmit()},e.interval,this),zt):Lt}return 32},failTimeout:function(){return this._timer=h(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Lt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Jt.VERSION="2.0.7",Jt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Gt,{enable:!1}],[Vt,{enable:!1},["rotate"]],[Kt,{direction:V}],[qt,{direction:V},["swipe"]],[Zt],[Zt,{event:"doubletap",taps:2},["tap"]],[Xt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Qt(t,e){var n;this.options=o({},Jt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(D?pt:R?xt:A?St:lt))(n,Q),this.touchAction=new Dt(this,this.options.touchAction),te(this,!0),p(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function te(t,e){var n,r=t.element;r.style&&(p(t.options.cssProps,function(i,o){n=P(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}Qt.prototype={set:function(t){return o(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&Lt)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(zt|Ut|It)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Bt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(d(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(d(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=N(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==i&&e!==i){var n=this.handlers;return p(T(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==i){var n=this.handlers;return p(T(t),function(t){e?n[t]&&n[t].splice(N(n[t],e),1):delete n[t]}),this}},emit:function(t,e){var r,i,o;this.options.domEvents&&(r=t,i=e,(o=n.createEvent("Event")).initEvent(r,!0,!0),o.gesture=i,i.target.dispatchEvent(o));var a=this.handlers[t]&&this.handlers[t].slice();if(a&&a.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var u=0;u<a.length;)a[u](e),u++}},destroy:function(){this.element&&te(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},o(Jt,{INPUT_START:I,INPUT_MOVE:L,INPUT_END:$,INPUT_CANCEL:B,STATE_POSSIBLE:Rt,STATE_BEGAN:zt,STATE_CHANGED:Ut,STATE_ENDED:It,STATE_RECOGNIZED:Lt,STATE_CANCELLED:$t,STATE_FAILED:32,DIRECTION_NONE:F,DIRECTION_LEFT:W,DIRECTION_RIGHT:H,DIRECTION_UP:Y,DIRECTION_DOWN:q,DIRECTION_HORIZONTAL:V,DIRECTION_VERTICAL:X,DIRECTION_ALL:G,Manager:Qt,Input:J,TouchAction:Dt,TouchInput:xt,MouseInput:lt,PointerEventInput:pt,TouchMouseInput:St,SingleTouchInput:mt,Recognizer:Bt,AttrRecognizer:Yt,Tap:Zt,Pan:qt,Swipe:Kt,Pinch:Vt,Rotate:Gt,Press:Xt,on:w,off:k,each:p,merge:y,extend:g,assign:o,inherit:m,bindFn:_,prefixed:P}),(void 0!==t?t:"undefined"!=typeof self?self:{}).Hammer=Jt,void 0!==e&&e.exports?e.exports=Jt:t.Hammer=Jt}(window,document)},{}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("./utils.js")),a=u(t("./logger.js"));function u(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var l=function(t){function e(n,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return u.backend=n,u.store=r,u.languageUtils=i.languageUtils,u.options=o,u.logger=a.default.create("backendConnector"),u.state={},u.queue=[],u.backend&&u.backend.init&&u.backend.init(i,o.backend,o),u}return s(e,t),e.prototype.queueLoad=function(t,e,n){var r=this,i=[],o=[],a=[],u=[];return t.forEach(function(t){var n=!0;e.forEach(function(e){var a=t+"|"+e;r.store.hasResourceBundle(t,e)?r.state[a]=2:r.state[a]<0||(1===r.state[a]?o.indexOf(a)<0&&o.push(a):(r.state[a]=1,n=!1,o.indexOf(a)<0&&o.push(a),i.indexOf(a)<0&&i.push(a),u.indexOf(e)<0&&u.push(e)))}),n||a.push(t)}),(i.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:n}),{toLoad:i,pending:o,toLoadLanguages:a,toLoadNamespaces:u}},e.prototype.loaded=function(t,e,n){var r=this,a=t.split("|"),u=i(a,2),s=u[0],l=u[1];e&&this.emit("failedLoading",s,l,e),n&&this.store.addResourceBundle(s,l,n),this.state[t]=e?-1:2,this.queue.forEach(function(n){o.pushPath(n.loaded,[s],l),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(r.emit("loaded",n.loaded),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.queue=this.queue.filter(function(t){return!t.done})},e.prototype.read=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,a=arguments[5];return t.length?this.backend[n](t,e,function(u,s){u&&s&&r<5?setTimeout(function(){i.read.call(i,t,e,n,r+1,2*o,a)},o):a(u,s)}):a(null,{})},e.prototype.load=function(t,e,n){var r=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var i=this.queueLoad(t,e,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(function(t){r.loadOne(t)})},e.prototype.reload=function(t,e){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources."),"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]),t.forEach(function(t){e.forEach(function(e){n.loadOne(t+"|"+e,"re")})})},e.prototype.loadOne=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.split("|"),o=i(r,2),a=o[0],u=o[1];this.read(a,u,"read",null,null,function(r,i){r&&e.logger.warn(n+"loading namespace "+u+" for language "+a+" failed",r),!r&&i&&e.logger.log(n+"loaded namespace "+u+" for language "+a,i),e.loaded(t,r,i)})},e.prototype.saveMissing=function(t,e,n,i,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(t,e,n,i,null,r({},a,{isUpdate:o})),t&&t[0]&&this.store.addResource(t[0],e,n,i)},e}(u(t("./EventEmitter.js")).default);n.default=l},{"./EventEmitter.js":21,"./logger.js":30,"./utils.js":32}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observers={}}return t.prototype.on=function(t,e){var n=this;t.split(" ").forEach(function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})},t.prototype.off=function(t,e){var n=this;this.observers[t]&&this.observers[t].forEach(function(){if(e){var r=n.observers[t].indexOf(e);r>-1&&n.observers[t].splice(r,1)}else delete n.observers[t]})},t.prototype.emit=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.observers[t]&&[].concat(this.observers[t]).forEach(function(t){t.apply(void 0,n)});this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(e){e.apply(e,[t].concat(n))})},t}();n.default=r},{}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("./utils.js")),a=t("./logger.js"),u=(r=a)&&r.__esModule?r:{default:r};var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.logger=u.default.create("interpolator"),this.init(e,!0)}return t.prototype.init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=t,this.format=t.interpolation&&t.interpolation.format||function(t){return t},this.escape=t.interpolation&&t.interpolation.escape||o.escape),t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.prefix=e.prefix?o.regexEscape(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?o.regexEscape(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?o.regexEscape(e.nestingPrefix):e.nestingPrefixEscaped||o.regexEscape("$t("),this.nestingSuffix=e.nestingSuffix?o.regexEscape(e.nestingSuffix):e.nestingSuffixEscaped||o.regexEscape(")"),this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.resetRegExp()},t.prototype.reset=function(){this.options&&this.init(this.options)},t.prototype.resetRegExp=function(){var t=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(t,"g");var e=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(e,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},t.prototype.interpolate=function(t,e,n){var r=this,i=void 0,a=void 0,u=void 0;function s(t){return t.replace(/\$/g,"$$$$")}var l=function(t){if(t.indexOf(r.formatSeparator)<0)return o.getPath(e,t);var i=t.split(r.formatSeparator),a=i.shift().trim(),u=i.join(r.formatSeparator).trim();return r.format(o.getPath(e,a),u,n)};for(this.resetRegExp(),u=0;(i=this.regexpUnescape.exec(t))&&(a=l(i[1].trim()),t=t.replace(i[0],a),this.regexpUnescape.lastIndex=0,!(++u>=this.maxReplaces)););for(u=0;i=this.regexp.exec(t);){if(void 0===(a=l(i[1].trim())))if("function"==typeof this.options.missingInterpolationHandler){var c=this.options.missingInterpolationHandler(t,i);a="string"==typeof c?c:""}else this.logger.warn("missed to pass in variable "+i[1]+" for interpolating "+t),a="";else"string"!=typeof a&&(a=o.makeString(a));if(a=this.escapeValue?s(this.escape(a)):s(a),t=t.replace(i[0],a),this.regexp.lastIndex=0,++u>=this.maxReplaces)break}return t},t.prototype.nest=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=void 0,a=void 0,u=i({},n);function s(t,e){if(t.indexOf(",")<0)return t;var n=t.split(",");t=n.shift();var r=n.join(",");r=(r=this.interpolate(r,u)).replace(/'/g,'"');try{u=JSON.parse(r),e&&(u=i({},e,u))}catch(e){this.logger.error("failed parsing options string in nesting for key "+t,e)}return t}for(u.applyPostProcessor=!1;r=this.nestingRegexp.exec(t);){if((a=e(s.call(this,r[1].trim(),u),u))&&r[0]===t&&"string"!=typeof a)return a;"string"!=typeof a&&(a=o.makeString(a)),a||(this.logger.warn("missed to resolve "+r[1]+" for nesting "+t),a=""),t=t.replace(r[0],a),this.regexp.lastIndex=0}return t},t}();n.default=s},{"./logger.js":30,"./utils.js":32}],23:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=t("./logger.js"),o=(r=i)&&r.__esModule?r:{default:r};function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=o.default.create("languageUtils")}return t.prototype.getScriptPartFromCode=function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))},t.prototype.getLanguagePartFromCode=function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])},t.prototype.formatLanguageCode=function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map(function(t){return t.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=a(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=a(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=a(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t},t.prototype.isWhitelisted=function(t){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1},t.prototype.getFallbackCodes=function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t.default),n||[]},t.prototype.toResolveHierarchy=function(t,e){var n=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[],o=function(t){t&&(n.isWhitelisted(t)?i.push(t):n.logger.warn("rejecting non-whitelisted language code: "+t))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):"string"==typeof t&&o(this.formatLanguageCode(t)),r.forEach(function(t){i.indexOf(t)<0&&o(n.formatLanguageCode(t))}),i},t}();n.default=u},{"./logger.js":30}],24:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=t("./logger.js"),o=(r=i)&&r.__esModule?r:{default:r};var a=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],u={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)}};var s=function(){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.languageUtils=e,this.options=r,this.logger=o.default.create("pluralResolver"),this.rules=(n={},a.forEach(function(t){t.lngs.forEach(function(e){n[e]={numbers:t.nr,plurals:u[t.fc]}})}),n)}return t.prototype.addRule=function(t,e){this.rules[t]=e},t.prototype.getRule=function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]},t.prototype.needsPlural=function(t){var e=this.getRule(t);return e&&e.numbers.length>1},t.prototype.getPluralFormsOfKey=function(t,e){var n=this,r=[],i=this.getRule(t);return i?(i.numbers.forEach(function(i){var o=n.getSuffix(t,i);r.push(""+e+o)}),r):r},t.prototype.getSuffix=function(t,e){var n=this,r=this.getRule(t);if(r){var i=r.noAbs?r.plurals(e):r.plurals(Math.abs(e)),o=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_"+o.toString():a():"v2"===this.options.compatibilityJSON||2===r.numbers.length&&1===r.numbers[0]?a():2===r.numbers.length&&1===r.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: "+t),""},t}();n.default=s},{"./logger.js":30}],25:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=t("./EventEmitter.js"),a=(r=o)&&r.__esModule?r:{default:r},u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("./utils.js"));function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var l=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return i.data=n||{},i.options=r,void 0===i.options.keySeparator&&(i.options.keySeparator="."),i}return s(e,t),e.prototype.addNamespaces=function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)},e.prototype.removeNamespaces=function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)},e.prototype.getResource=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=[t,e];return n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(o=t.split(".")),u.getPath(this.data,o)},e.prototype.addResource=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[t,e];n&&(a=a.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(r=e,e=(a=t.split("."))[1]),this.addNamespaces(e),u.setPath(this.data,a,r),i.silent||this.emit("added",t,e,n,r)},e.prototype.addResources=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"==typeof n[i]&&this.addResource(t,e,i,n[i],{silent:!0});r.silent||this.emit("added",t,e,n)},e.prototype.addResourceBundle=function(t,e,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[t,e];t.indexOf(".")>-1&&(r=n,n=e,e=(s=t.split("."))[1]),this.addNamespaces(e);var l=u.getPath(this.data,s)||{};r?u.deepExtend(l,n,o):l=i({},l,n),u.setPath(this.data,s,l),a.silent||this.emit("added",t,e,n)},e.prototype.removeResourceBundle=function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)},e.prototype.hasResourceBundle=function(t,e){return void 0!==this.getResource(t,e)},e.prototype.getResourceBundle=function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?i({},this.getResource(t,e)):this.getResource(t,e)},e.prototype.toJSON=function(){return this.data},e}(a.default);n.default=l},{"./EventEmitter.js":21,"./utils.js":32}],26:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=l(t("./logger.js")),a=l(t("./EventEmitter.js")),u=l(t("./postProcessor.js")),s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("./utils.js"));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var f=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this));return s.copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat"],n,i),i.options=r,void 0===i.options.keySeparator&&(i.options.keySeparator="."),i.logger=o.default.create("translator"),i}return c(e,t),e.prototype.changeLanguage=function(t){t&&(this.language=t)},e.prototype.exists=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,e);return n&&void 0!==n.res},e.prototype.extractFromKey=function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,i=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var o=t.split(n);(n!==r||n===r&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),t=o.join(r)}return"string"==typeof i&&(i=[i]),{key:t,namespaces:i}},e.prototype.translate=function(t,e){var n=this;if("object"!==(void 0===e?"undefined":i(e))&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),void 0===t||null===t||""===t)return"";"number"==typeof t&&(t=String(t)),"string"==typeof t&&(t=[t]);var o=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,a=this.extractFromKey(t[t.length-1],e),u=a.key,s=a.namespaces,l=s[s.length-1],c=e.lng||this.language,f=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(f){var h=e.nsSeparator||this.options.nsSeparator;return l+h+u}return u}var d=this.resolve(t,e),p=d&&d.res,v=d&&d.usedKey||u,g=Object.prototype.toString.apply(p),y=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays;if(p&&("string"!=typeof p&&"boolean"!=typeof p&&"number"!=typeof p)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(g)<0&&(!y||"[object Array]"!==g)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,p,e):"key '"+u+" ("+this.language+")' returned an object instead of string.";if(o){var m="[object Array]"===g?[]:{};for(var _ in p)if(Object.prototype.hasOwnProperty.call(p,_)){var b=""+v+o+_;m[_]=this.translate(b,r({},e,{joinArrays:!1,ns:s})),m[_]===b&&(m[_]=p[_])}p=m}}else if(y&&"[object Array]"===g)(p=p.join(y))&&(p=this.extendTranslation(p,t,e));else{var x=!1,w=!1;this.isValidLookup(p)||void 0===e.defaultValue||(x=!0,p=e.defaultValue),this.isValidLookup(p)||(w=!0,p=u);var k=e.defaultValue&&e.defaultValue!==p&&this.options.updateMissing;if(w||x||k){this.logger.log(k?"updateKey":"missingKey",c,l,u,k?e.defaultValue:p);var S=[],M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&M&&M[0])for(var T=0;T<M.length;T++)S.push(M[T]);else"all"===this.options.saveMissingTo?S=this.languageUtils.toResolveHierarchy(e.lng||this.language):S.push(e.lng||this.language);var N=function(t,r){n.options.missingKeyHandler?n.options.missingKeyHandler(t,l,r,k?e.defaultValue:p,k,e):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(t,l,r,k?e.defaultValue:p,k,e),n.emit("missingKey",t,l,r,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&e.count?S.forEach(function(t){n.pluralResolver.getPluralFormsOfKey(t,u).forEach(function(e){return N([t],e)})}):N(S,u))}p=this.extendTranslation(p,t,e,d),w&&p===u&&this.options.appendNamespaceToMissingKey&&(p=l+":"+u),w&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(p))}return p},e.prototype.extendTranslation=function(t,e,n,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,i.usedLng,i.usedNS,i.usedKey);else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(r({},n,{interpolation:r({},this.options.interpolation,n.interpolation)}));var a=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(a=r({},this.options.interpolation.defaultVariables,a)),t=this.interpolator.interpolate(t,a,n.lng||this.language),!1!==n.nest&&(t=this.interpolator.nest(t,function(){return o.translate.apply(o,arguments)},n)),n.interpolation&&this.interpolator.reset()}var s=n.postProcess||this.options.postProcess,l="string"==typeof s?[s]:s;return void 0!==t&&null!==t&&l&&l.length&&!1!==n.applyPostProcessor&&(t=u.default.handle(l,t,e,n,this)),t},e.prototype.resolve=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0,i=void 0,o=void 0,a=void 0;return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!e.isValidLookup(r)){var u=e.extractFromKey(t,n),s=u.key;i=s;var l=u.namespaces;e.options.fallbackNS&&(l=l.concat(e.options.fallbackNS));var c=void 0!==n.count&&"string"!=typeof n.count,f=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,h=n.lngs?n.lngs:e.languageUtils.toResolveHierarchy(n.lng||e.language);l.forEach(function(t){e.isValidLookup(r)||(a=t,h.forEach(function(i){if(!e.isValidLookup(r)){o=i;var a=s,u=[a];if(e.i18nFormat&&e.i18nFormat.addLookupKeys)e.i18nFormat.addLookupKeys(u,s,i,t,n);else{var l=void 0;c&&(l=e.pluralResolver.getSuffix(i,n.count)),c&&f&&u.push(a+l),f&&u.push(a+=""+e.options.contextSeparator+n.context),c&&u.push(a+=l)}for(var h=void 0;h=u.pop();)e.isValidLookup(r)||(r=e.getResource(i,t,h,n))}}))})}}),{res:r,usedKey:i,usedLng:o,usedNS:a}},e.prototype.isValidLookup=function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)},e.prototype.getResource=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(t,e,n,r)},e}(a.default);n.default=f},{"./EventEmitter.js":21,"./logger.js":30,"./postProcessor.js":31,"./utils.js":32}],27:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.transformOptions=function(t){"string"==typeof t.ns&&(t.ns=[t.ns]);"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]);"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]);t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"]));return t},n.get=function(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};return t[1]&&(e.defaultValue=t[1]),t[2]&&(e.tDescription=t[2]),e},interpolation:{escapeValue:!0,format:function(t,e,n){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}}}},{}],28:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=v(t("./logger.js")),a=v(t("./EventEmitter.js")),u=v(t("./ResourceStore.js")),s=v(t("./Translator.js")),l=v(t("./LanguageUtils.js")),c=v(t("./PluralResolver.js")),f=v(t("./Interpolator.js")),h=v(t("./BackendConnector.js")),d=t("./defaults.js"),p=v(t("./postProcessor.js"));function v(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}function m(){}var _=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=g(this,t.call(this));if(i.options=(0,d.transformOptions)(n),i.services={},i.logger=o.default,i.modules={external:[]},r&&!i.isInitialized&&!n.isClone){var a;if(!i.options.initImmediate)return a=i.init(n,r),g(i,a);setTimeout(function(){i.init(n,r)},0)}return i}return y(e,t),e.prototype.init=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];function r(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof e&&(n=e,e={}),this.options=i({},(0,d.get)(),this.options,(0,d.transformOptions)(e)),this.format=this.options.interpolation.format,n||(n=m),!this.options.isClone){this.modules.logger?o.default.init(r(this.modules.logger),this.options):o.default.init(null,this.options);var a=new l.default(this.options);this.store=new u.default(this.options.resources,this.options);var p=this.services;p.logger=o.default,p.resourceStore=this.store,p.languageUtils=a,p.pluralResolver=new c.default(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p.interpolator=new f.default(this.options),p.backendConnector=new h.default(r(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))}),this.modules.languageDetector&&(p.languageDetector=r(this.modules.languageDetector),p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=r(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new s.default(this.services,this.options),this.translator.on("*",function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))}),this.modules.external.forEach(function(e){e.init&&e.init(t)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}});var v=function(){t.changeLanguage(t.options.lng,function(e,r){t.isInitialized=!0,t.logger.log("initialized",t.options),t.emit("initialized",t.options),n(e,r)})};return this.options.resources||!this.options.initImmediate?v():setTimeout(v,0),this},e.prototype.loadResources=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;if(this.options.resources)e(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return e();var n=[],r=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(t){n.indexOf(t)<0&&n.push(t)})};if(this.language)r(this.language);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(t){return r(t)});this.options.preload&&this.options.preload.forEach(function(t){return r(t)}),this.services.backendConnector.load(n,this.options.ns,e)}},e.prototype.reloadResources=function(t,e){t||(t=this.languages),e||(e=this.options.ns),this.services.backendConnector.reload(t,e)},e.prototype.use=function(t){return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&p.default.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this},e.prototype.changeLanguage=function(t,e){var n=this,r=function(t){t&&(n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t),n.translator.language||n.translator.changeLanguage(t),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(t)),n.loadResources(function(r){var i,o;i=r,o=t,n.translator.changeLanguage(o),o&&(n.emit("languageChanged",o),n.logger.log("languageChanged",o)),e&&e(i,function(){return n.t.apply(n,arguments)})})};t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(t):r(this.services.languageDetector.detect())},e.prototype.getFixedT=function(t,e){var n=this,o=function t(e,o){for(var a=arguments.length,u=Array(a>2?a-2:0),s=2;s<a;s++)u[s-2]=arguments[s];var l=i({},o);return"object"!==(void 0===o?"undefined":r(o))&&(l=n.options.overloadTranslationOptionHandler([e,o].concat(u))),l.lng=l.lng||t.lng,l.lngs=l.lngs||t.lngs,l.ns=l.ns||t.ns,n.t(e,l)};return"string"==typeof t?o.lng=t:o.lngs=t,o.ns=e,o},e.prototype.t=function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)},e.prototype.exists=function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)},e.prototype.setDefaultNamespace=function(t){this.options.defaultNS=t},e.prototype.loadNamespaces=function(t,e){var n=this;if(!this.options.ns)return e&&e();"string"==typeof t&&(t=[t]),t.forEach(function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)}),this.loadResources(e)},e.prototype.loadLanguages=function(t,e){"string"==typeof t&&(t=[t]);var n=this.options.preload||[],r=t.filter(function(t){return n.indexOf(t)<0});if(!r.length)return e();this.options.preload=n.concat(r),this.loadResources(e)},e.prototype.dir=function(t){if(t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),!t)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr"},e.prototype.createInstance=function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},e.prototype.cloneInstance=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,o=i({},this.options,n,{isClone:!0}),a=new e(o);return["store","services","language"].forEach(function(e){a[e]=t[e]}),a.translator=new s.default(a.services,a.options),a.translator.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];a.emit.apply(a,[t].concat(n))}),a.init(o,r),a.translator.options=a.options,a},e}(a.default);n.default=new _},{"./BackendConnector.js":20,"./EventEmitter.js":21,"./Interpolator.js":22,"./LanguageUtils.js":23,"./PluralResolver.js":24,"./ResourceStore.js":25,"./Translator.js":26,"./defaults.js":27,"./logger.js":30,"./postProcessor.js":31}],29:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.use=n.t=n.setDefaultNamespace=n.on=n.off=n.loadResources=n.loadNamespaces=n.loadLanguages=n.init=n.getFixedT=n.exists=n.dir=n.createInstance=n.cloneInstance=n.changeLanguage=void 0;var r,i=t("./i18next.js"),o=(r=i)&&r.__esModule?r:{default:r};n.default=o.default;n.changeLanguage=o.default.changeLanguage.bind(o.default),n.cloneInstance=o.default.cloneInstance.bind(o.default),n.createInstance=o.default.createInstance.bind(o.default),n.dir=o.default.dir.bind(o.default),n.exists=o.default.exists.bind(o.default),n.getFixedT=o.default.getFixedT.bind(o.default),n.init=o.default.init.bind(o.default),n.loadLanguages=o.default.loadLanguages.bind(o.default),n.loadNamespaces=o.default.loadNamespaces.bind(o.default),n.loadResources=o.default.loadResources.bind(o.default),n.off=o.default.off.bind(o.default),n.on=o.default.on.bind(o.default),n.setDefaultNamespace=o.default.setDefaultNamespace.bind(o.default),n.t=o.default.t.bind(o.default),n.use=o.default.use.bind(o.default)},{"./i18next.js":28}],30:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var i={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var n;console&&console[t]&&(n=console)[t].apply(n,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))}},o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init(e,n)}return t.prototype.init=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||i,this.options=e,this.debug=e.debug},t.prototype.setDebug=function(t){this.debug=t},t.prototype.log=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)},t.prototype.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)},t.prototype.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")},t.prototype.deprecate=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)},t.prototype.forward=function(t,e,n,r){return r&&!this.debug?null:("string"==typeof t[0]&&(t[0]=""+n+this.prefix+" "+t[0]),this.logger[e](t))},t.prototype.create=function(e){return new t(this.logger,r({prefix:this.prefix+":"+e+":"},this.options))},t}();n.default=new o},{}],31:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,i){var o=this;return t.forEach(function(t){o.processors[t]&&(e=o.processors[t].process(e,n,r,i))}),e}}},{}],32:[function(t,e,n){"use strict";function r(t,e,n){function r(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function i(){return!t||"string"==typeof t}for(var o="string"!=typeof e?[].concat(e):e.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!t[a]&&n&&(t[a]=new n),t=t[a]}return i()?{}:{obj:t,k:r(o.shift())}}Object.defineProperty(n,"__esModule",{value:!0}),n.makeString=function(t){return null==t?"":""+t},n.copy=function(t,e,n){t.forEach(function(t){e[t]&&(n[t]=e[t])})},n.setPath=function(t,e,n){var i=r(t,e,Object),o=i.obj,a=i.k;o[a]=n},n.pushPath=function(t,e,n,i){var o=r(t,e,Object),a=o.obj,u=o.k;a[u]=a[u]||[],i&&(a[u]=a[u].concat(n));i||a[u].push(n)},n.getPath=function(t,e){var n=r(t,e),i=n.obj,o=n.k;return i?i[o]:void 0},n.deepExtend=function t(e,n,r){for(var i in n)i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof n[i]||n[i]instanceof String?r&&(e[i]=n[i]):t(e[i],n[i],r):e[i]=n[i];return e},n.regexEscape=function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},n.escape=function(t){if("string"==typeof t)return t.replace(/[&<>"'\/]/g,function(t){return i[t]});return t};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"}},{}],33:[function(t,e,n){e.exports=t("./dist/commonjs/index.js").default},{"./dist/commonjs/index.js":29}],34:[function(t,e,n){(function(t){(function(){var r,i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",u="__lodash_hash_undefined__",s=500,l="__lodash_placeholder__",c=1,f=2,h=4,d=1,p=2,v=1,g=2,y=4,m=8,_=16,b=32,x=64,w=128,k=256,S=512,M=30,T="...",N=800,E=16,O=1,P=2,j=1/0,C=9007199254740991,A=1.7976931348623157e308,D=NaN,R=4294967295,z=R-1,U=R>>>1,I=[["ary",w],["bind",v],["bindKey",g],["curry",m],["curryRight",_],["flip",S],["partial",b],["partialRight",x],["rearg",k]],L="[object Arguments]",$="[object Array]",B="[object AsyncFunction]",F="[object Boolean]",W="[object Date]",H="[object DOMException]",Y="[object Error]",q="[object Function]",V="[object GeneratorFunction]",X="[object Map]",G="[object Number]",K="[object Null]",Z="[object Object]",J="[object Promise]",Q="[object Proxy]",tt="[object RegExp]",et="[object Set]",nt="[object String]",rt="[object Symbol]",it="[object Undefined]",ot="[object WeakMap]",at="[object WeakSet]",ut="[object ArrayBuffer]",st="[object DataView]",lt="[object Float32Array]",ct="[object Float64Array]",ft="[object Int8Array]",ht="[object Int16Array]",dt="[object Int32Array]",pt="[object Uint8Array]",vt="[object Uint8ClampedArray]",gt="[object Uint16Array]",yt="[object Uint32Array]",mt=/\b__p \+= '';/g,_t=/\b(__p \+=) '' \+/g,bt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39);/g,wt=/[&<>"']/g,kt=RegExp(xt.source),St=RegExp(wt.source),Mt=/<%-([\s\S]+?)%>/g,Tt=/<%([\s\S]+?)%>/g,Nt=/<%=([\s\S]+?)%>/g,Et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ot=/^\w*$/,Pt=/^\./,jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ct=/[\\^$.*+?()[\]{}|]/g,At=RegExp(Ct.source),Dt=/^\s+|\s+$/g,Rt=/^\s+/,zt=/\s+$/,Ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,It=/\{\n\/\* \[wrapped with (.+)\] \*/,Lt=/,? & /,$t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bt=/\\(\\)?/g,Ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wt=/\w*$/,Ht=/^[-+]0x[0-9a-f]+$/i,Yt=/^0b[01]+$/i,qt=/^\[object .+?Constructor\]$/,Vt=/^0o[0-7]+$/i,Xt=/^(?:0|[1-9]\d*)$/,Gt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,Zt=/['\n\r\u2028\u2029\\]/g,Jt="\\ud800-\\udfff",Qt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",te="\\u2700-\\u27bf",ee="a-z\\xdf-\\xf6\\xf8-\\xff",ne="A-Z\\xc0-\\xd6\\xd8-\\xde",re="\\ufe0e\\ufe0f",ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",oe="["+Jt+"]",ae="["+ie+"]",ue="["+Qt+"]",se="\\d+",le="["+te+"]",ce="["+ee+"]",fe="[^"+Jt+ie+se+te+ee+ne+"]",he="\\ud83c[\\udffb-\\udfff]",de="[^"+Jt+"]",pe="(?:\\ud83c[\\udde6-\\uddff]){2}",ve="[\\ud800-\\udbff][\\udc00-\\udfff]",ge="["+ne+"]",ye="(?:"+ce+"|"+fe+")",me="(?:"+ge+"|"+fe+")",_e="(?:['’](?:d|ll|m|re|s|t|ve))?",be="(?:['’](?:D|LL|M|RE|S|T|VE))?",xe="(?:"+ue+"|"+he+")"+"?",we="["+re+"]?",ke=we+xe+("(?:\\u200d(?:"+[de,pe,ve].join("|")+")"+we+xe+")*"),Se="(?:"+[le,pe,ve].join("|")+")"+ke,Me="(?:"+[de+ue+"?",ue,pe,ve,oe].join("|")+")",Te=RegExp("['’]","g"),Ne=RegExp(ue,"g"),Ee=RegExp(he+"(?="+he+")|"+Me+ke,"g"),Oe=RegExp([ge+"?"+ce+"+"+_e+"(?="+[ae,ge,"$"].join("|")+")",me+"+"+be+"(?="+[ae,ge+ye,"$"].join("|")+")",ge+"?"+ye+"+"+_e,ge+"+"+be,"\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",se,Se].join("|"),"g"),Pe=RegExp("[\\u200d"+Jt+Qt+re+"]"),je=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ce=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ae=-1,De={};De[lt]=De[ct]=De[ft]=De[ht]=De[dt]=De[pt]=De[vt]=De[gt]=De[yt]=!0,De[L]=De[$]=De[ut]=De[F]=De[st]=De[W]=De[Y]=De[q]=De[X]=De[G]=De[Z]=De[tt]=De[et]=De[nt]=De[ot]=!1;var Re={};Re[L]=Re[$]=Re[ut]=Re[st]=Re[F]=Re[W]=Re[lt]=Re[ct]=Re[ft]=Re[ht]=Re[dt]=Re[X]=Re[G]=Re[Z]=Re[tt]=Re[et]=Re[nt]=Re[rt]=Re[pt]=Re[vt]=Re[gt]=Re[yt]=!0,Re[Y]=Re[q]=Re[ot]=!1;var ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ue=parseFloat,Ie=parseInt,Le="object"==typeof t&&t&&t.Object===Object&&t,$e="object"==typeof self&&self&&self.Object===Object&&self,Be=Le||$e||Function("return this")(),Fe="object"==typeof n&&n&&!n.nodeType&&n,We=Fe&&"object"==typeof e&&e&&!e.nodeType&&e,He=We&&We.exports===Fe,Ye=He&&Le.process,qe=function(){try{return Ye&&Ye.binding&&Ye.binding("util")}catch(t){}}(),Ve=qe&&qe.isArrayBuffer,Xe=qe&&qe.isDate,Ge=qe&&qe.isMap,Ke=qe&&qe.isRegExp,Ze=qe&&qe.isSet,Je=qe&&qe.isTypedArray;function Qe(t,e){return t.set(e[0],e[1]),t}function tn(t,e){return t.add(e),t}function en(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function nn(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function rn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function on(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function an(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function un(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function sn(t,e){return!!(null==t?0:t.length)&&mn(t,e,0)>-1}function ln(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function cn(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function fn(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function hn(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function dn(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function pn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var vn=wn("length");function gn(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function yn(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function mn(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):yn(t,bn,n)}function _n(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function bn(t){return t!=t}function xn(t,e){var n=null==t?0:t.length;return n?Mn(t,e)/n:D}function wn(t){return function(e){return null==e?r:e[t]}}function kn(t){return function(e){return null==t?r:t[e]}}function Sn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Mn(t,e){for(var n,i=-1,o=t.length;++i<o;){var a=e(t[i]);a!==r&&(n=n===r?a:n+a)}return n}function Tn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Nn(t){return function(e){return t(e)}}function En(t,e){return cn(e,function(e){return t[e]})}function On(t,e){return t.has(e)}function Pn(t,e){for(var n=-1,r=t.length;++n<r&&mn(e,t[n],0)>-1;);return n}function jn(t,e){for(var n=t.length;n--&&mn(e,t[n],0)>-1;);return n}var Cn=kn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),An=kn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Dn(t){return"\\"+ze[t]}function Rn(t){return Pe.test(t)}function zn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Un(t,e){return function(n){return t(e(n))}}function In(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==l||(t[n]=l,o[i++]=n)}return o}function Ln(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function $n(t){return Rn(t)?function(t){var e=Ee.lastIndex=0;for(;Ee.test(t);)++e;return e}(t):vn(t)}function Bn(t){return Rn(t)?t.match(Ee)||[]:t.split("")}var Fn=kn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Wn=function t(e){var n,Jt=(e=null==e?Be:Wn.defaults(Be.Object(),e,Wn.pick(Be,Ce))).Array,Qt=e.Date,te=e.Error,ee=e.Function,ne=e.Math,re=e.Object,ie=e.RegExp,oe=e.String,ae=e.TypeError,ue=Jt.prototype,se=ee.prototype,le=re.prototype,ce=e["__core-js_shared__"],fe=se.toString,he=le.hasOwnProperty,de=0,pe=(n=/[^.]+$/.exec(ce&&ce.keys&&ce.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",ve=le.toString,ge=fe.call(re),ye=Be._,me=ie("^"+fe.call(he).replace(Ct,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=He?e.Buffer:r,be=e.Symbol,xe=e.Uint8Array,we=_e?_e.allocUnsafe:r,ke=Un(re.getPrototypeOf,re),Se=re.create,Me=le.propertyIsEnumerable,Ee=ue.splice,Pe=be?be.isConcatSpreadable:r,ze=be?be.iterator:r,Le=be?be.toStringTag:r,$e=function(){try{var t=Fo(re,"defineProperty");return t({},"",{}),t}catch(t){}}(),Fe=e.clearTimeout!==Be.clearTimeout&&e.clearTimeout,We=Qt&&Qt.now!==Be.Date.now&&Qt.now,Ye=e.setTimeout!==Be.setTimeout&&e.setTimeout,qe=ne.ceil,vn=ne.floor,kn=re.getOwnPropertySymbols,Hn=_e?_e.isBuffer:r,Yn=e.isFinite,qn=ue.join,Vn=Un(re.keys,re),Xn=ne.max,Gn=ne.min,Kn=Qt.now,Zn=e.parseInt,Jn=ne.random,Qn=ue.reverse,tr=Fo(e,"DataView"),er=Fo(e,"Map"),nr=Fo(e,"Promise"),rr=Fo(e,"Set"),ir=Fo(e,"WeakMap"),or=Fo(re,"create"),ar=ir&&new ir,ur={},sr=va(tr),lr=va(er),cr=va(nr),fr=va(rr),hr=va(ir),dr=be?be.prototype:r,pr=dr?dr.valueOf:r,vr=dr?dr.toString:r;function gr(t){if(Cu(t)&&!xu(t)&&!(t instanceof br)){if(t instanceof _r)return t;if(he.call(t,"__wrapped__"))return ga(t)}return new _r(t)}var yr=function(){function t(){}return function(e){if(!ju(e))return{};if(Se)return Se(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function mr(){}function _r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function br(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=R,this.__views__=[]}function xr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Sr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new kr;++e<n;)this.add(t[e])}function Mr(t){var e=this.__data__=new wr(t);this.size=e.size}function Tr(t,e){var n=xu(t),r=!n&&bu(t),i=!n&&!r&&Mu(t),o=!n&&!r&&!i&&$u(t),a=n||r||i||o,u=a?Tn(t.length,oe):[],s=u.length;for(var l in t)!e&&!he.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Go(l,s))||u.push(l);return u}function Nr(t){var e=t.length;return e?t[Si(0,e-1)]:r}function Er(t,e){return ca(oo(t),Ur(e,0,t.length))}function Or(t){return ca(oo(t))}function Pr(t,e,n){(n===r||yu(t[e],n))&&(n!==r||e in t)||Rr(t,e,n)}function jr(t,e,n){var i=t[e];he.call(t,e)&&yu(i,n)&&(n!==r||e in t)||Rr(t,e,n)}function Cr(t,e){for(var n=t.length;n--;)if(yu(t[n][0],e))return n;return-1}function Ar(t,e,n,r){return Fr(t,function(t,i,o){e(r,t,n(t),o)}),r}function Dr(t,e){return t&&ao(e,ss(e),t)}function Rr(t,e,n){"__proto__"==e&&$e?$e(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function zr(t,e){for(var n=-1,i=e.length,o=Jt(i),a=null==t;++n<i;)o[n]=a?r:rs(t,e[n]);return o}function Ur(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function Ir(t,e,n,i,o,a){var u,s=e&c,l=e&f,d=e&h;if(n&&(u=o?n(t,i,o,a):n(t)),u!==r)return u;if(!ju(t))return t;var p,v,g,y,m,_,b,x,w,k=xu(t);if(k){if(x=(b=t).length,w=b.constructor(x),x&&"string"==typeof b[0]&&he.call(b,"index")&&(w.index=b.index,w.input=b.input),u=w,!s)return oo(t,u)}else{var S=Yo(t),M=S==q||S==V;if(Mu(t))return Qi(t,s);if(S==Z||S==L||M&&!o){if(u=l||M?{}:Vo(t),!s)return l?(g=t,_=t,y=(m=u)&&ao(_,ls(_),m),ao(g,Ho(g),y)):(p=t,v=Dr(u,t),ao(p,Wo(p),v))}else{if(!Re[S])return o?t:{};u=function(t,e,n,r){var i,o,a,u,s,l,f,h=t.constructor;switch(e){case ut:return to(t);case F:case W:return new h(+t);case st:return l=t,f=r?to(l.buffer):l.buffer,new l.constructor(f,l.byteOffset,l.byteLength);case lt:case ct:case ft:case ht:case dt:case pt:case vt:case gt:case yt:return eo(t,r);case X:return s=t,hn(r?n(zn(s),c):zn(s),Qe,new s.constructor);case G:case nt:return new h(t);case tt:return(u=new(a=t).constructor(a.source,Wt.exec(a))).lastIndex=a.lastIndex,u;case et:return o=t,hn(r?n(Ln(o),c):Ln(o),tn,new o.constructor);case rt:return i=t,pr?re(pr.call(i)):{}}}(t,S,Ir,s)}}a||(a=new Mr);var T=a.get(t);if(T)return T;a.set(t,u);var N=k?r:(d?l?Ro:Do:l?ls:ss)(t);return rn(N||t,function(r,i){N&&(r=t[i=r]),jr(u,i,Ir(r,e,n,i,t,a))}),u}function Lr(t,e,n){var i=n.length;if(null==t)return!i;for(t=re(t);i--;){var o=n[i],a=e[o],u=t[o];if(u===r&&!(o in t)||!a(u))return!1}return!0}function $r(t,e,n){if("function"!=typeof t)throw new ae(a);return aa(function(){t.apply(r,n)},e)}function Br(t,e,n,r){var o=-1,a=sn,u=!0,s=t.length,l=[],c=e.length;if(!s)return l;n&&(e=cn(e,Nn(n))),r?(a=ln,u=!1):e.length>=i&&(a=On,u=!1,e=new Sr(e));t:for(;++o<s;){var f=t[o],h=null==n?f:n(f);if(f=r||0!==f?f:0,u&&h==h){for(var d=c;d--;)if(e[d]===h)continue t;l.push(f)}else a(e,h,r)||l.push(f)}return l}gr.templateSettings={escape:Mt,evaluate:Tt,interpolate:Nt,variable:"",imports:{_:gr}},gr.prototype=mr.prototype,gr.prototype.constructor=gr,_r.prototype=yr(mr.prototype),_r.prototype.constructor=_r,br.prototype=yr(mr.prototype),br.prototype.constructor=br,xr.prototype.clear=function(){this.__data__=or?or(null):{},this.size=0},xr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},xr.prototype.get=function(t){var e=this.__data__;if(or){var n=e[t];return n===u?r:n}return he.call(e,t)?e[t]:r},xr.prototype.has=function(t){var e=this.__data__;return or?e[t]!==r:he.call(e,t)},xr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=or&&e===r?u:e,this},wr.prototype.clear=function(){this.__data__=[],this.size=0},wr.prototype.delete=function(t){var e=this.__data__,n=Cr(e,t);return!(n<0||(n==e.length-1?e.pop():Ee.call(e,n,1),--this.size,0))},wr.prototype.get=function(t){var e=this.__data__,n=Cr(e,t);return n<0?r:e[n][1]},wr.prototype.has=function(t){return Cr(this.__data__,t)>-1},wr.prototype.set=function(t,e){var n=this.__data__,r=Cr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},kr.prototype.clear=function(){this.size=0,this.__data__={hash:new xr,map:new(er||wr),string:new xr}},kr.prototype.delete=function(t){var e=$o(this,t).delete(t);return this.size-=e?1:0,e},kr.prototype.get=function(t){return $o(this,t).get(t)},kr.prototype.has=function(t){return $o(this,t).has(t)},kr.prototype.set=function(t,e){var n=$o(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Sr.prototype.add=Sr.prototype.push=function(t){return this.__data__.set(t,u),this},Sr.prototype.has=function(t){return this.__data__.has(t)},Mr.prototype.clear=function(){this.__data__=new wr,this.size=0},Mr.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Mr.prototype.get=function(t){return this.__data__.get(t)},Mr.prototype.has=function(t){return this.__data__.has(t)},Mr.prototype.set=function(t,e){var n=this.__data__;if(n instanceof wr){var r=n.__data__;if(!er||r.length<i-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new kr(r)}return n.set(t,e),this.size=n.size,this};var Fr=lo(Kr),Wr=lo(Zr,!0);function Hr(t,e){var n=!0;return Fr(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Yr(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],u=e(a);if(null!=u&&(s===r?u==u&&!Lu(u):n(u,s)))var s=u,l=a}return l}function qr(t,e){var n=[];return Fr(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Vr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Xo),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?Vr(u,e-1,n,r,i):fn(i,u):r||(i[i.length]=u)}return i}var Xr=co(),Gr=co(!0);function Kr(t,e){return t&&Xr(t,e,ss)}function Zr(t,e){return t&&Gr(t,e,ss)}function Jr(t,e){return un(e,function(e){return Eu(t[e])})}function Qr(t,e){for(var n=0,i=(e=Gi(e,t)).length;null!=t&&n<i;)t=t[pa(e[n++])];return n&&n==i?t:r}function ti(t,e,n){var r=e(t);return xu(t)?r:fn(r,n(t))}function ei(t){return null==t?t===r?it:K:Le&&Le in re(t)?function(t){var e=he.call(t,Le),n=t[Le];try{t[Le]=r;var i=!0}catch(t){}var o=ve.call(t);return i&&(e?t[Le]=n:delete t[Le]),o}(t):(e=t,ve.call(e));var e}function ni(t,e){return t>e}function ri(t,e){return null!=t&&he.call(t,e)}function ii(t,e){return null!=t&&e in re(t)}function oi(t,e,n){for(var i=n?ln:sn,o=t[0].length,a=t.length,u=a,s=Jt(a),l=1/0,c=[];u--;){var f=t[u];u&&e&&(f=cn(f,Nn(e))),l=Gn(f.length,l),s[u]=!n&&(e||o>=120&&f.length>=120)?new Sr(u&&f):r}f=t[0];var h=-1,d=s[0];t:for(;++h<o&&c.length<l;){var p=f[h],v=e?e(p):p;if(p=n||0!==p?p:0,!(d?On(d,v):i(c,v,n))){for(u=a;--u;){var g=s[u];if(!(g?On(g,v):i(t[u],v,n)))continue t}d&&d.push(v),c.push(p)}}return c}function ai(t,e,n){var i=null==(t=ia(t,e=Gi(e,t)))?t:t[pa(Na(e))];return null==i?r:en(i,t,n)}function ui(t){return Cu(t)&&ei(t)==L}function si(t,e,n,i,o){return t===e||(null==t||null==e||!Cu(t)&&!Cu(e)?t!=t&&e!=e:function(t,e,n,i,o,a){var u=xu(t),s=xu(e),l=u?$:Yo(t),c=s?$:Yo(e),f=(l=l==L?Z:l)==Z,h=(c=c==L?Z:c)==Z,v=l==c;if(v&&Mu(t)){if(!Mu(e))return!1;u=!0,f=!1}if(v&&!f)return a||(a=new Mr),u||$u(t)?Co(t,e,n,i,o,a):function(t,e,n,r,i,o,a){switch(n){case st:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!o(new xe(t),new xe(e)));case F:case W:case G:return yu(+t,+e);case Y:return t.name==e.name&&t.message==e.message;case tt:case nt:return t==e+"";case X:var u=zn;case et:var s=r&d;if(u||(u=Ln),t.size!=e.size&&!s)return!1;var l=a.get(t);if(l)return l==e;r|=p,a.set(t,e);var c=Co(u(t),u(e),r,i,o,a);return a.delete(t),c;case rt:if(pr)return pr.call(t)==pr.call(e)}return!1}(t,e,l,n,i,o,a);if(!(n&d)){var g=f&&he.call(t,"__wrapped__"),y=h&&he.call(e,"__wrapped__");if(g||y){var m=g?t.value():t,_=y?e.value():e;return a||(a=new Mr),o(m,_,n,i,a)}}return!!v&&(a||(a=new Mr),function(t,e,n,i,o,a){var u=n&d,s=Do(t),l=s.length,c=Do(e).length;if(l!=c&&!u)return!1;for(var f=l;f--;){var h=s[f];if(!(u?h in e:he.call(e,h)))return!1}var p=a.get(t);if(p&&a.get(e))return p==e;var v=!0;a.set(t,e),a.set(e,t);for(var g=u;++f<l;){h=s[f];var y=t[h],m=e[h];if(i)var _=u?i(m,y,h,e,t,a):i(y,m,h,t,e,a);if(!(_===r?y===m||o(y,m,n,i,a):_)){v=!1;break}g||(g="constructor"==h)}if(v&&!g){var b=t.constructor,x=e.constructor;b!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(v=!1)}return a.delete(t),a.delete(e),v}(t,e,n,i,o,a))}(t,e,n,i,si,o))}function li(t,e,n,i){var o=n.length,a=o,u=!i;if(null==t)return!a;for(t=re(t);o--;){var s=n[o];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<a;){var l=(s=n[o])[0],c=t[l],f=s[1];if(u&&s[2]){if(c===r&&!(l in t))return!1}else{var h=new Mr;if(i)var v=i(c,f,l,t,e,h);if(!(v===r?si(f,c,d|p,i,h):v))return!1}}return!0}function ci(t){return!(!ju(t)||pe&&pe in t)&&(Eu(t)?me:qt).test(va(t))}function fi(t){return"function"==typeof t?t:null==t?Ds:"object"==typeof t?xu(t)?yi(t[0],t[1]):gi(t):Ws(t)}function hi(t){if(!ta(t))return Vn(t);var e=[];for(var n in re(t))he.call(t,n)&&"constructor"!=n&&e.push(n);return e}function di(t){if(!ju(t))return function(t){var e=[];if(null!=t)for(var n in re(t))e.push(n);return e}(t);var e=ta(t),n=[];for(var r in t)("constructor"!=r||!e&&he.call(t,r))&&n.push(r);return n}function pi(t,e){return t<e}function vi(t,e){var n=-1,r=ku(t)?Jt(t.length):[];return Fr(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function gi(t){var e=Bo(t);return 1==e.length&&e[0][2]?na(e[0][0],e[0][1]):function(n){return n===t||li(n,t,e)}}function yi(t,e){return Zo(t)&&ea(e)?na(pa(t),e):function(n){var i=rs(n,t);return i===r&&i===e?is(n,t):si(e,i,d|p)}}function mi(t,e,n,i,o){t!==e&&Xr(e,function(a,u){if(ju(a))o||(o=new Mr),function(t,e,n,i,o,a,u){var s=t[n],l=e[n],c=u.get(l);if(c)Pr(t,n,c);else{var f=a?a(s,l,n+"",t,e,u):r,h=f===r;if(h){var d=xu(l),p=!d&&Mu(l),v=!d&&!p&&$u(l);f=l,d||p||v?xu(s)?f=s:Su(s)?f=oo(s):p?(h=!1,f=Qi(l,!0)):v?(h=!1,f=eo(l,!0)):f=[]:Ru(l)||bu(l)?(f=s,bu(s)?f=Xu(s):(!ju(s)||i&&Eu(s))&&(f=Vo(l))):h=!1}h&&(u.set(l,f),o(f,l,i,a,u),u.delete(l)),Pr(t,n,f)}}(t,e,u,n,mi,i,o);else{var s=i?i(t[u],a,u+"",t,e,o):r;s===r&&(s=a),Pr(t,u,s)}},ls)}function _i(t,e){var n=t.length;if(n)return Go(e+=e<0?n:0,n)?t[e]:r}function bi(t,e,n){var r=-1;return e=cn(e.length?e:[Ds],Nn(Lo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(vi(t,function(t,n,i){return{criteria:cn(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;++r<a;){var s=no(i[r],o[r]);if(s){if(r>=u)return s;var l=n[r];return s*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)})}function xi(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=Qr(t,a);n(u,a)&&Oi(o,Gi(a,t),u)}return o}function wi(t,e,n,r){var i=r?_n:mn,o=-1,a=e.length,u=t;for(t===e&&(e=oo(e)),n&&(u=cn(t,Nn(n)));++o<a;)for(var s=0,l=e[o],c=n?n(l):l;(s=i(u,c,s,r))>-1;)u!==t&&Ee.call(u,s,1),Ee.call(t,s,1);return t}function ki(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Go(i)?Ee.call(t,i,1):Bi(t,i)}}return t}function Si(t,e){return t+vn(Jn()*(e-t+1))}function Mi(t,e){var n="";if(!t||e<1||e>C)return n;do{e%2&&(n+=t),(e=vn(e/2))&&(t+=t)}while(e);return n}function Ti(t,e){return ua(ra(t,e,Ds),t+"")}function Ni(t){return Nr(ys(t))}function Ei(t,e){var n=ys(t);return ca(n,Ur(e,0,n.length))}function Oi(t,e,n,i){if(!ju(t))return t;for(var o=-1,a=(e=Gi(e,t)).length,u=a-1,s=t;null!=s&&++o<a;){var l=pa(e[o]),c=n;if(o!=u){var f=s[l];(c=i?i(f,l,s):r)===r&&(c=ju(f)?f:Go(e[o+1])?[]:{})}jr(s,l,c),s=s[l]}return t}var Pi=ar?function(t,e){return ar.set(t,e),t}:Ds,ji=$e?function(t,e){return $e(t,"toString",{configurable:!0,enumerable:!1,value:js(e),writable:!0})}:Ds;function Ci(t){return ca(ys(t))}function Ai(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Jt(i);++r<i;)o[r]=t[r+e];return o}function Di(t,e){var n;return Fr(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Ri(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=U){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Lu(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return zi(t,e,Ds,n)}function zi(t,e,n,i){e=n(e);for(var o=0,a=null==t?0:t.length,u=e!=e,s=null===e,l=Lu(e),c=e===r;o<a;){var f=vn((o+a)/2),h=n(t[f]),d=h!==r,p=null===h,v=h==h,g=Lu(h);if(u)var y=i||v;else y=c?v&&(i||d):s?v&&d&&(i||!p):l?v&&d&&!p&&(i||!g):!p&&!g&&(i?h<=e:h<e);y?o=f+1:a=f}return Gn(a,z)}function Ui(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!yu(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function Ii(t){return"number"==typeof t?t:Lu(t)?D:+t}function Li(t){if("string"==typeof t)return t;if(xu(t))return cn(t,Li)+"";if(Lu(t))return vr?vr.call(t):"";var e=t+"";return"0"==e&&1/t==-j?"-0":e}function $i(t,e,n){var r=-1,o=sn,a=t.length,u=!0,s=[],l=s;if(n)u=!1,o=ln;else if(a>=i){var c=e?null:To(t);if(c)return Ln(c);u=!1,o=On,l=new Sr}else l=e?[]:s;t:for(;++r<a;){var f=t[r],h=e?e(f):f;if(f=n||0!==f?f:0,u&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),s.push(f)}else o(l,h,n)||(l!==s&&l.push(h),s.push(f))}return s}function Bi(t,e){return null==(t=ia(t,e=Gi(e,t)))||delete t[pa(Na(e))]}function Fi(t,e,n,r){return Oi(t,e,n(Qr(t,e)),r)}function Wi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Ai(t,r?0:o,r?o+1:i):Ai(t,r?o+1:0,r?i:o)}function Hi(t,e){var n=t;return n instanceof br&&(n=n.value()),hn(e,function(t,e){return e.func.apply(e.thisArg,fn([t],e.args))},n)}function Yi(t,e,n){var r=t.length;if(r<2)return r?$i(t[0]):[];for(var i=-1,o=Jt(r);++i<r;)for(var a=t[i],u=-1;++u<r;)u!=i&&(o[i]=Br(o[i]||a,t[u],e,n));return $i(Vr(o,1),e,n)}function qi(t,e,n){for(var i=-1,o=t.length,a=e.length,u={};++i<o;){var s=i<a?e[i]:r;n(u,t[i],s)}return u}function Vi(t){return Su(t)?t:[]}function Xi(t){return"function"==typeof t?t:Ds}function Gi(t,e){return xu(t)?t:Zo(t,e)?[t]:da(Gu(t))}var Ki=Ti;function Zi(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:Ai(t,e,n)}var Ji=Fe||function(t){return Be.clearTimeout(t)};function Qi(t,e){if(e)return t.slice();var n=t.length,r=we?we(n):new t.constructor(n);return t.copy(r),r}function to(t){var e=new t.constructor(t.byteLength);return new xe(e).set(new xe(t)),e}function eo(t,e){var n=e?to(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function no(t,e){if(t!==e){var n=t!==r,i=null===t,o=t==t,a=Lu(t),u=e!==r,s=null===e,l=e==e,c=Lu(e);if(!s&&!c&&!a&&t>e||a&&u&&l&&!s&&!c||i&&u&&l||!n&&l||!o)return 1;if(!i&&!a&&!c&&t<e||c&&n&&o&&!i&&!a||s&&n&&o||!u&&o||!l)return-1}return 0}function ro(t,e,n,r){for(var i=-1,o=t.length,a=n.length,u=-1,s=e.length,l=Xn(o-a,0),c=Jt(s+l),f=!r;++u<s;)c[u]=e[u];for(;++i<a;)(f||i<o)&&(c[n[i]]=t[i]);for(;l--;)c[u++]=t[i++];return c}function io(t,e,n,r){for(var i=-1,o=t.length,a=-1,u=n.length,s=-1,l=e.length,c=Xn(o-u,0),f=Jt(c+l),h=!r;++i<c;)f[i]=t[i];for(var d=i;++s<l;)f[d+s]=e[s];for(;++a<u;)(h||i<o)&&(f[d+n[a]]=t[i++]);return f}function oo(t,e){var n=-1,r=t.length;for(e||(e=Jt(r));++n<r;)e[n]=t[n];return e}function ao(t,e,n,i){var o=!n;n||(n={});for(var a=-1,u=e.length;++a<u;){var s=e[a],l=i?i(n[s],t[s],s,n,t):r;l===r&&(l=t[s]),o?Rr(n,s,l):jr(n,s,l)}return n}function uo(t,e){return function(n,r){var i=xu(n)?nn:Ar,o=e?e():{};return i(n,t,Lo(r,2),o)}}function so(t){return Ti(function(e,n){var i=-1,o=n.length,a=o>1?n[o-1]:r,u=o>2?n[2]:r;for(a=t.length>3&&"function"==typeof a?(o--,a):r,u&&Ko(n[0],n[1],u)&&(a=o<3?r:a,o=1),e=re(e);++i<o;){var s=n[i];s&&t(e,s,i,a)}return e})}function lo(t,e){return function(n,r){if(null==n)return n;if(!ku(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=re(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function co(t){return function(e,n,r){for(var i=-1,o=re(e),a=r(e),u=a.length;u--;){var s=a[t?u:++i];if(!1===n(o[s],s,o))break}return e}}function fo(t){return function(e){var n=Rn(e=Gu(e))?Bn(e):r,i=n?n[0]:e.charAt(0),o=n?Zi(n,1).join(""):e.slice(1);return i[t]()+o}}function ho(t){return function(e){return hn(Es(bs(e).replace(Te,"")),t,"")}}function po(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=yr(t.prototype),r=t.apply(n,e);return ju(r)?r:n}}function vo(t){return function(e,n,i){var o=re(e);if(!ku(e)){var a=Lo(n,3);e=ss(e),n=function(t){return a(o[t],t,o)}}var u=t(e,n,i);return u>-1?o[a?e[u]:u]:r}}function go(t){return Ao(function(e){var n=e.length,i=n,o=_r.prototype.thru;for(t&&e.reverse();i--;){var u=e[i];if("function"!=typeof u)throw new ae(a);if(o&&!s&&"wrapper"==Uo(u))var s=new _r([],!0)}for(i=s?i:n;++i<n;){var l=Uo(u=e[i]),c="wrapper"==l?zo(u):r;s=c&&Jo(c[0])&&c[1]==(w|m|b|k)&&!c[4].length&&1==c[9]?s[Uo(c[0])].apply(s,c[3]):1==u.length&&Jo(u)?s[l]():s.thru(u)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&xu(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function yo(t,e,n,i,o,a,u,s,l,c){var f=e&w,h=e&v,d=e&g,p=e&(m|_),y=e&S,b=d?r:po(t);return function v(){for(var g=arguments.length,m=Jt(g),_=g;_--;)m[_]=arguments[_];if(p)var x=Io(v),w=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(m,x);if(i&&(m=ro(m,i,o,p)),a&&(m=io(m,a,u,p)),g-=w,p&&g<c){var k=In(m,x);return So(t,e,yo,v.placeholder,n,m,k,s,l,c-g)}var S=h?n:this,M=d?S[t]:t;return g=m.length,s?m=function(t,e){for(var n=t.length,i=Gn(e.length,n),o=oo(t);i--;){var a=e[i];t[i]=Go(a,n)?o[a]:r}return t}(m,s):y&&g>1&&m.reverse(),f&&l<g&&(m.length=l),this&&this!==Be&&this instanceof v&&(M=b||po(M)),M.apply(S,m)}}function mo(t,e){return function(n,r){return i=n,o=t,a=e(r),u={},Kr(i,function(t,e,n){o(u,a(t),e,n)}),u;var i,o,a,u}}function _o(t,e){return function(n,i){var o;if(n===r&&i===r)return e;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=Li(n),i=Li(i)):(n=Ii(n),i=Ii(i)),o=t(n,i)}return o}}function bo(t){return Ao(function(e){return e=cn(e,Nn(Lo())),Ti(function(n){var r=this;return t(e,function(t){return en(t,r,n)})})})}function xo(t,e){var n=(e=e===r?" ":Li(e)).length;if(n<2)return n?Mi(e,t):e;var i=Mi(e,qe(t/$n(e)));return Rn(e)?Zi(Bn(i),0,t).join(""):i.slice(0,t)}function wo(t){return function(e,n,i){return i&&"number"!=typeof i&&Ko(e,n,i)&&(n=i=r),e=Hu(e),n===r?(n=e,e=0):n=Hu(n),function(t,e,n,r){for(var i=-1,o=Xn(qe((e-t)/(n||1)),0),a=Jt(o);o--;)a[r?o:++i]=t,t+=n;return a}(e,n,i=i===r?e<n?1:-1:Hu(i),t)}}function ko(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Vu(e),n=Vu(n)),t(e,n)}}function So(t,e,n,i,o,a,u,s,l,c){var f=e&m;e|=f?b:x,(e&=~(f?x:b))&y||(e&=~(v|g));var h=[t,e,o,f?a:r,f?u:r,f?r:a,f?r:u,s,l,c],d=n.apply(r,h);return Jo(t)&&oa(d,h),d.placeholder=i,sa(d,t,e)}function Mo(t){var e=ne[t];return function(t,n){if(t=Vu(t),n=null==n?0:Gn(Yu(n),292)){var r=(Gu(t)+"e").split("e");return+((r=(Gu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var To=rr&&1/Ln(new rr([,-0]))[1]==j?function(t){return new rr(t)}:Ls;function No(t){return function(e){var n,r,i,o,a=Yo(e);return a==X?zn(e):a==et?(n=e,r=-1,i=Array(n.size),n.forEach(function(t){i[++r]=[t,t]}),i):(o=e,cn(t(e),function(t){return[t,o[t]]}))}}function Eo(t,e,n,i,o,u,s,c){var f=e&g;if(!f&&"function"!=typeof t)throw new ae(a);var h=i?i.length:0;if(h||(e&=~(b|x),i=o=r),s=s===r?s:Xn(Yu(s),0),c=c===r?c:Yu(c),h-=o?o.length:0,e&x){var d=i,p=o;i=o=r}var S,M,T,N,E,O,P,j,C,A,D,R,z,U=f?r:zo(t),I=[t,e,n,i,o,d,p,u,s,c];if(U&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<(v|g|w),a=r==w&&n==m||r==w&&n==k&&t[7].length<=e[8]||r==(w|k)&&e[7].length<=e[8]&&n==m;if(!o&&!a)return t;r&v&&(t[2]=e[2],i|=n&v?0:y);var u=e[3];if(u){var s=t[3];t[3]=s?ro(s,u,e[4]):u,t[4]=s?In(t[3],l):e[4]}(u=e[5])&&(s=t[5],t[5]=s?io(s,u,e[6]):u,t[6]=s?In(t[5],l):e[6]),(u=e[7])&&(t[7]=u),r&w&&(t[8]=null==t[8]?e[8]:Gn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(I,U),t=I[0],e=I[1],n=I[2],i=I[3],o=I[4],!(c=I[9]=I[9]===r?f?0:t.length:Xn(I[9]-h,0))&&e&(m|_)&&(e&=~(m|_)),e&&e!=v)e==m||e==_?(P=e,j=c,C=po(O=t),L=function t(){for(var e=arguments.length,n=Jt(e),i=e,o=Io(t);i--;)n[i]=arguments[i];var a=e<3&&n[0]!==o&&n[e-1]!==o?[]:In(n,o);return(e-=a.length)<j?So(O,P,yo,t.placeholder,r,n,a,r,r,j-e):en(this&&this!==Be&&this instanceof t?C:O,this,n)}):e!=b&&e!=(v|b)||o.length?L=yo.apply(r,I):(M=n,T=i,N=e&v,E=po(S=t),L=function t(){for(var e=-1,n=arguments.length,r=-1,i=T.length,o=Jt(i+n),a=this&&this!==Be&&this instanceof t?E:S;++r<i;)o[r]=T[r];for(;n--;)o[r++]=arguments[++e];return en(a,N?M:this,o)});else var L=(D=n,R=e&v,z=po(A=t),function t(){return(this&&this!==Be&&this instanceof t?z:A).apply(R?D:this,arguments)});return sa((U?Pi:oa)(L,I),t,e)}function Oo(t,e,n,i){return t===r||yu(t,le[n])&&!he.call(i,n)?e:t}function Po(t,e,n,i,o,a){return ju(t)&&ju(e)&&(a.set(e,t),mi(t,e,r,Po,a),a.delete(e)),t}function jo(t){return Ru(t)?r:t}function Co(t,e,n,i,o,a){var u=n&d,s=t.length,l=e.length;if(s!=l&&!(u&&l>s))return!1;var c=a.get(t);if(c&&a.get(e))return c==e;var f=-1,h=!0,v=n&p?new Sr:r;for(a.set(t,e),a.set(e,t);++f<s;){var g=t[f],y=e[f];if(i)var m=u?i(y,g,f,e,t,a):i(g,y,f,t,e,a);if(m!==r){if(m)continue;h=!1;break}if(v){if(!pn(e,function(t,e){if(!On(v,e)&&(g===t||o(g,t,n,i,a)))return v.push(e)})){h=!1;break}}else if(g!==y&&!o(g,y,n,i,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function Ao(t){return ua(ra(t,r,wa),t+"")}function Do(t){return ti(t,ss,Wo)}function Ro(t){return ti(t,ls,Ho)}var zo=ar?function(t){return ar.get(t)}:Ls;function Uo(t){for(var e=t.name+"",n=ur[e],r=he.call(ur,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Io(t){return(he.call(gr,"placeholder")?gr:t).placeholder}function Lo(){var t=gr.iteratee||Rs;return t=t===Rs?fi:t,arguments.length?t(arguments[0],arguments[1]):t}function $o(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Bo(t){for(var e=ss(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ea(i)]}return e}function Fo(t,e){var n,i=null==(n=t)?r:n[e];return ci(i)?i:r}var Wo=kn?function(t){return null==t?[]:(t=re(t),un(kn(t),function(e){return Me.call(t,e)}))}:qs,Ho=kn?function(t){for(var e=[];t;)fn(e,Wo(t)),t=ke(t);return e}:qs,Yo=ei;function qo(t,e,n){for(var r=-1,i=(e=Gi(e,t)).length,o=!1;++r<i;){var a=pa(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Pu(i)&&Go(a,i)&&(xu(t)||bu(t))}function Vo(t){return"function"!=typeof t.constructor||ta(t)?{}:yr(ke(t))}function Xo(t){return xu(t)||bu(t)||!!(Pe&&t&&t[Pe])}function Go(t,e){return!!(e=null==e?C:e)&&("number"==typeof t||Xt.test(t))&&t>-1&&t%1==0&&t<e}function Ko(t,e,n){if(!ju(n))return!1;var r=typeof e;return!!("number"==r?ku(n)&&Go(e,n.length):"string"==r&&e in n)&&yu(n[e],t)}function Zo(t,e){if(xu(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Lu(t))||Ot.test(t)||!Et.test(t)||null!=e&&t in re(e)}function Jo(t){var e=Uo(t),n=gr[e];if("function"!=typeof n||!(e in br.prototype))return!1;if(t===n)return!0;var r=zo(n);return!!r&&t===r[0]}(tr&&Yo(new tr(new ArrayBuffer(1)))!=st||er&&Yo(new er)!=X||nr&&Yo(nr.resolve())!=J||rr&&Yo(new rr)!=et||ir&&Yo(new ir)!=ot)&&(Yo=function(t){var e=ei(t),n=e==Z?t.constructor:r,i=n?va(n):"";if(i)switch(i){case sr:return st;case lr:return X;case cr:return J;case fr:return et;case hr:return ot}return e});var Qo=ce?Eu:Vs;function ta(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||le)}function ea(t){return t==t&&!ju(t)}function na(t,e){return function(n){return null!=n&&n[t]===e&&(e!==r||t in re(n))}}function ra(t,e,n){return e=Xn(e===r?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Xn(r.length-e,0),a=Jt(o);++i<o;)a[i]=r[e+i];i=-1;for(var u=Jt(e+1);++i<e;)u[i]=r[i];return u[e]=n(a),en(t,this,u)}}function ia(t,e){return e.length<2?t:Qr(t,Ai(e,0,-1))}var oa=la(Pi),aa=Ye||function(t,e){return Be.setTimeout(t,e)},ua=la(ji);function sa(t,e,n){var r,i,o,a=e+"";return ua(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ut,"{\n/* [wrapped with "+e+"] */\n")}(a,(o=a.match(It),r=o?o[1].split(Lt):[],i=n,rn(I,function(t){var e="_."+t[0];i&t[1]&&!sn(r,e)&&r.push(e)}),r.sort())))}function la(t){var e=0,n=0;return function(){var i=Kn(),o=E-(i-n);if(n=i,o>0){if(++e>=N)return arguments[0]}else e=0;return t.apply(r,arguments)}}function ca(t,e){var n=-1,i=t.length,o=i-1;for(e=e===r?i:e;++n<e;){var a=Si(n,o),u=t[a];t[a]=t[n],t[n]=u}return t.length=e,t}var fa,ha,da=(fa=fu(function(t){var e=[];return Pt.test(t)&&e.push(""),t.replace(jt,function(t,n,r,i){e.push(r?i.replace(Bt,"$1"):n||t)}),e},function(t){return ha.size===s&&ha.clear(),t}),ha=fa.cache,fa);function pa(t){if("string"==typeof t||Lu(t))return t;var e=t+"";return"0"==e&&1/t==-j?"-0":e}function va(t){if(null!=t){try{return fe.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ga(t){if(t instanceof br)return t.clone();var e=new _r(t.__wrapped__,t.__chain__);return e.__actions__=oo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ya=Ti(function(t,e){return Su(t)?Br(t,Vr(e,1,Su,!0)):[]}),ma=Ti(function(t,e){var n=Na(e);return Su(n)&&(n=r),Su(t)?Br(t,Vr(e,1,Su,!0),Lo(n,2)):[]}),_a=Ti(function(t,e){var n=Na(e);return Su(n)&&(n=r),Su(t)?Br(t,Vr(e,1,Su,!0),r,n):[]});function ba(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Yu(n);return i<0&&(i=Xn(r+i,0)),yn(t,Lo(e,3),i)}function xa(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return n!==r&&(o=Yu(n),o=n<0?Xn(i+o,0):Gn(o,i-1)),yn(t,Lo(e,3),o,!0)}function wa(t){return null!=t&&t.length?Vr(t,1):[]}function ka(t){return t&&t.length?t[0]:r}var Sa=Ti(function(t){var e=cn(t,Vi);return e.length&&e[0]===t[0]?oi(e):[]}),Ma=Ti(function(t){var e=Na(t),n=cn(t,Vi);return e===Na(n)?e=r:n.pop(),n.length&&n[0]===t[0]?oi(n,Lo(e,2)):[]}),Ta=Ti(function(t){var e=Na(t),n=cn(t,Vi);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?oi(n,r,e):[]});function Na(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Ea=Ti(Oa);function Oa(t,e){return t&&t.length&&e&&e.length?wi(t,e):t}var Pa=Ao(function(t,e){var n=null==t?0:t.length,r=zr(t,e);return ki(t,cn(e,function(t){return Go(t,n)?+t:t}).sort(no)),r});function ja(t){return null==t?t:Qn.call(t)}var Ca=Ti(function(t){return $i(Vr(t,1,Su,!0))}),Aa=Ti(function(t){var e=Na(t);return Su(e)&&(e=r),$i(Vr(t,1,Su,!0),Lo(e,2))}),Da=Ti(function(t){var e=Na(t);return e="function"==typeof e?e:r,$i(Vr(t,1,Su,!0),r,e)});function Ra(t){if(!t||!t.length)return[];var e=0;return t=un(t,function(t){if(Su(t))return e=Xn(t.length,e),!0}),Tn(e,function(e){return cn(t,wn(e))})}function za(t,e){if(!t||!t.length)return[];var n=Ra(t);return null==e?n:cn(n,function(t){return en(e,r,t)})}var Ua=Ti(function(t,e){return Su(t)?Br(t,e):[]}),Ia=Ti(function(t){return Yi(un(t,Su))}),La=Ti(function(t){var e=Na(t);return Su(e)&&(e=r),Yi(un(t,Su),Lo(e,2))}),$a=Ti(function(t){var e=Na(t);return e="function"==typeof e?e:r,Yi(un(t,Su),r,e)}),Ba=Ti(Ra);var Fa=Ti(function(t){var e=t.length,n=e>1?t[e-1]:r;return za(t,n="function"==typeof n?(t.pop(),n):r)});function Wa(t){var e=gr(t);return e.__chain__=!0,e}function Ha(t,e){return e(t)}var Ya=Ao(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return zr(e,t)};return!(e>1||this.__actions__.length)&&i instanceof br&&Go(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:Ha,args:[o],thisArg:r}),new _r(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(r),t})):this.thru(o)});var qa=uo(function(t,e,n){he.call(t,n)?++t[n]:Rr(t,n,1)});var Va=vo(ba),Xa=vo(xa);function Ga(t,e){return(xu(t)?rn:Fr)(t,Lo(e,3))}function Ka(t,e){return(xu(t)?on:Wr)(t,Lo(e,3))}var Za=uo(function(t,e,n){he.call(t,n)?t[n].push(e):Rr(t,n,[e])});var Ja=Ti(function(t,e,n){var r=-1,i="function"==typeof e,o=ku(t)?Jt(t.length):[];return Fr(t,function(t){o[++r]=i?en(e,t,n):ai(t,e,n)}),o}),Qa=uo(function(t,e,n){Rr(t,n,e)});function tu(t,e){return(xu(t)?cn:vi)(t,Lo(e,3))}var eu=uo(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var nu=Ti(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ko(t,e[0],e[1])?e=[]:n>2&&Ko(e[0],e[1],e[2])&&(e=[e[0]]),bi(t,Vr(e,1),[])}),ru=We||function(){return Be.Date.now()};function iu(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Eo(t,w,r,r,r,r,e)}function ou(t,e){var n;if("function"!=typeof e)throw new ae(a);return t=Yu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var au=Ti(function(t,e,n){var r=v;if(n.length){var i=In(n,Io(au));r|=b}return Eo(t,r,e,n,i)}),uu=Ti(function(t,e,n){var r=v|g;if(n.length){var i=In(n,Io(uu));r|=b}return Eo(e,r,t,n,i)});function su(t,e,n){var i,o,u,s,l,c,f=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new ae(a);function v(e){var n=i,a=o;return i=o=r,f=e,s=t.apply(a,n)}function g(t){var n=t-c;return c===r||n>=e||n<0||d&&t-f>=u}function y(){var t,n,r=ru();if(g(r))return m(r);l=aa(y,(n=e-((t=r)-c),d?Gn(n,u-(t-f)):n))}function m(t){return l=r,p&&i?v(t):(i=o=r,s)}function _(){var t,n=ru(),a=g(n);if(i=arguments,o=this,c=n,a){if(l===r)return f=t=c,l=aa(y,e),h?v(t):s;if(d)return l=aa(y,e),v(c)}return l===r&&(l=aa(y,e)),s}return e=Vu(e)||0,ju(n)&&(h=!!n.leading,u=(d="maxWait"in n)?Xn(Vu(n.maxWait)||0,e):u,p="trailing"in n?!!n.trailing:p),_.cancel=function(){l!==r&&Ji(l),f=0,i=c=o=l=r},_.flush=function(){return l===r?s:m(ru())},_}var lu=Ti(function(t,e){return $r(t,1,e)}),cu=Ti(function(t,e,n){return $r(t,Vu(e)||0,n)});function fu(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ae(a);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(fu.Cache||kr),n}function hu(t){if("function"!=typeof t)throw new ae(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}fu.Cache=kr;var du=Ki(function(t,e){var n=(e=1==e.length&&xu(e[0])?cn(e[0],Nn(Lo())):cn(Vr(e,1),Nn(Lo()))).length;return Ti(function(r){for(var i=-1,o=Gn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return en(t,this,r)})}),pu=Ti(function(t,e){var n=In(e,Io(pu));return Eo(t,b,r,e,n)}),vu=Ti(function(t,e){var n=In(e,Io(vu));return Eo(t,x,r,e,n)}),gu=Ao(function(t,e){return Eo(t,k,r,r,r,e)});function yu(t,e){return t===e||t!=t&&e!=e}var mu=ko(ni),_u=ko(function(t,e){return t>=e}),bu=ui(function(){return arguments}())?ui:function(t){return Cu(t)&&he.call(t,"callee")&&!Me.call(t,"callee")},xu=Jt.isArray,wu=Ve?Nn(Ve):function(t){return Cu(t)&&ei(t)==ut};function ku(t){return null!=t&&Pu(t.length)&&!Eu(t)}function Su(t){return Cu(t)&&ku(t)}var Mu=Hn||Vs,Tu=Xe?Nn(Xe):function(t){return Cu(t)&&ei(t)==W};function Nu(t){if(!Cu(t))return!1;var e=ei(t);return e==Y||e==H||"string"==typeof t.message&&"string"==typeof t.name&&!Ru(t)}function Eu(t){if(!ju(t))return!1;var e=ei(t);return e==q||e==V||e==B||e==Q}function Ou(t){return"number"==typeof t&&t==Yu(t)}function Pu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=C}function ju(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Cu(t){return null!=t&&"object"==typeof t}var Au=Ge?Nn(Ge):function(t){return Cu(t)&&Yo(t)==X};function Du(t){return"number"==typeof t||Cu(t)&&ei(t)==G}function Ru(t){if(!Cu(t)||ei(t)!=Z)return!1;var e=ke(t);if(null===e)return!0;var n=he.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&fe.call(n)==ge}var zu=Ke?Nn(Ke):function(t){return Cu(t)&&ei(t)==tt};var Uu=Ze?Nn(Ze):function(t){return Cu(t)&&Yo(t)==et};function Iu(t){return"string"==typeof t||!xu(t)&&Cu(t)&&ei(t)==nt}function Lu(t){return"symbol"==typeof t||Cu(t)&&ei(t)==rt}var $u=Je?Nn(Je):function(t){return Cu(t)&&Pu(t.length)&&!!De[ei(t)]};var Bu=ko(pi),Fu=ko(function(t,e){return t<=e});function Wu(t){if(!t)return[];if(ku(t))return Iu(t)?Bn(t):oo(t);if(ze&&t[ze])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ze]());var e=Yo(t);return(e==X?zn:e==et?Ln:ys)(t)}function Hu(t){return t?(t=Vu(t))===j||t===-j?(t<0?-1:1)*A:t==t?t:0:0===t?t:0}function Yu(t){var e=Hu(t),n=e%1;return e==e?n?e-n:e:0}function qu(t){return t?Ur(Yu(t),0,R):0}function Vu(t){if("number"==typeof t)return t;if(Lu(t))return D;if(ju(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ju(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Dt,"");var n=Yt.test(t);return n||Vt.test(t)?Ie(t.slice(2),n?2:8):Ht.test(t)?D:+t}function Xu(t){return ao(t,ls(t))}function Gu(t){return null==t?"":Li(t)}var Ku=so(function(t,e){if(ta(e)||ku(e))ao(e,ss(e),t);else for(var n in e)he.call(e,n)&&jr(t,n,e[n])}),Zu=so(function(t,e){ao(e,ls(e),t)}),Ju=so(function(t,e,n,r){ao(e,ls(e),t,r)}),Qu=so(function(t,e,n,r){ao(e,ss(e),t,r)}),ts=Ao(zr);var es=Ti(function(t){return t.push(r,Oo),en(Ju,r,t)}),ns=Ti(function(t){return t.push(r,Po),en(fs,r,t)});function rs(t,e,n){var i=null==t?r:Qr(t,e);return i===r?n:i}function is(t,e){return null!=t&&qo(t,e,ii)}var os=mo(function(t,e,n){t[e]=n},js(Ds)),as=mo(function(t,e,n){he.call(t,e)?t[e].push(n):t[e]=[n]},Lo),us=Ti(ai);function ss(t){return ku(t)?Tr(t):hi(t)}function ls(t){return ku(t)?Tr(t,!0):di(t)}var cs=so(function(t,e,n){mi(t,e,n)}),fs=so(function(t,e,n,r){mi(t,e,n,r)}),hs=Ao(function(t,e){var n={};if(null==t)return n;var r=!1;e=cn(e,function(e){return e=Gi(e,t),r||(r=e.length>1),e}),ao(t,Ro(t),n),r&&(n=Ir(n,c|f|h,jo));for(var i=e.length;i--;)Bi(n,e[i]);return n});var ds=Ao(function(t,e){return null==t?{}:xi(n=t,e,function(t,e){return is(n,e)});var n});function ps(t,e){if(null==t)return{};var n=cn(Ro(t),function(t){return[t]});return e=Lo(e),xi(t,n,function(t,n){return e(t,n[0])})}var vs=No(ss),gs=No(ls);function ys(t){return null==t?[]:En(t,ss(t))}var ms=ho(function(t,e,n){return e=e.toLowerCase(),t+(n?_s(e):e)});function _s(t){return Ns(Gu(t).toLowerCase())}function bs(t){return(t=Gu(t))&&t.replace(Gt,Cn).replace(Ne,"")}var xs=ho(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),ws=ho(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),ks=fo("toLowerCase");var Ss=ho(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var Ms=ho(function(t,e,n){return t+(n?" ":"")+Ns(e)});var Ts=ho(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Ns=fo("toUpperCase");function Es(t,e,n){return t=Gu(t),(e=n?r:e)===r?(i=t,je.test(i)?t.match(Oe)||[]:t.match($t)||[]):t.match(e)||[];var i}var Os=Ti(function(t,e){try{return en(t,r,e)}catch(t){return Nu(t)?t:new te(t)}}),Ps=Ao(function(t,e){return rn(e,function(e){e=pa(e),Rr(t,e,au(t[e],t))}),t});function js(t){return function(){return t}}var Cs=go(),As=go(!0);function Ds(t){return t}function Rs(t){return fi("function"==typeof t?t:Ir(t,c))}var zs=Ti(function(t,e){return function(n){return ai(n,t,e)}}),Us=Ti(function(t,e){return function(n){return ai(t,n,e)}});function Is(t,e,n){var r=ss(e),i=Jr(e,r);null!=n||ju(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Jr(e,ss(e)));var o=!(ju(n)&&"chain"in n&&!n.chain),a=Eu(t);return rn(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=oo(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,fn([this.value()],arguments))})}),t}function Ls(){}var $s=bo(cn),Bs=bo(an),Fs=bo(pn);function Ws(t){return Zo(t)?wn(pa(t)):(e=t,function(t){return Qr(t,e)});var e}var Hs=wo(),Ys=wo(!0);function qs(){return[]}function Vs(){return!1}var Xs=_o(function(t,e){return t+e},0),Gs=Mo("ceil"),Ks=_o(function(t,e){return t/e},1),Zs=Mo("floor");var Js,Qs=_o(function(t,e){return t*e},1),tl=Mo("round"),el=_o(function(t,e){return t-e},0);return gr.after=function(t,e){if("function"!=typeof e)throw new ae(a);return t=Yu(t),function(){if(--t<1)return e.apply(this,arguments)}},gr.ary=iu,gr.assign=Ku,gr.assignIn=Zu,gr.assignInWith=Ju,gr.assignWith=Qu,gr.at=ts,gr.before=ou,gr.bind=au,gr.bindAll=Ps,gr.bindKey=uu,gr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return xu(t)?t:[t]},gr.chain=Wa,gr.chunk=function(t,e,n){e=(n?Ko(t,e,n):e===r)?1:Xn(Yu(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,u=Jt(qe(i/e));o<i;)u[a++]=Ai(t,o,o+=e);return u},gr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},gr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Jt(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return fn(xu(n)?oo(n):[n],Vr(e,1))},gr.cond=function(t){var e=null==t?0:t.length,n=Lo();return t=e?cn(t,function(t){if("function"!=typeof t[1])throw new ae(a);return[n(t[0]),t[1]]}):[],Ti(function(n){for(var r=-1;++r<e;){var i=t[r];if(en(i[0],this,n))return en(i[1],this,n)}})},gr.conforms=function(t){return e=Ir(t,c),n=ss(e),function(t){return Lr(t,e,n)};var e,n},gr.constant=js,gr.countBy=qa,gr.create=function(t,e){var n=yr(t);return null==e?n:Dr(n,e)},gr.curry=function t(e,n,i){var o=Eo(e,m,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},gr.curryRight=function t(e,n,i){var o=Eo(e,_,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},gr.debounce=su,gr.defaults=es,gr.defaultsDeep=ns,gr.defer=lu,gr.delay=cu,gr.difference=ya,gr.differenceBy=ma,gr.differenceWith=_a,gr.drop=function(t,e,n){var i=null==t?0:t.length;return i?Ai(t,(e=n||e===r?1:Yu(e))<0?0:e,i):[]},gr.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Ai(t,0,(e=i-(e=n||e===r?1:Yu(e)))<0?0:e):[]},gr.dropRightWhile=function(t,e){return t&&t.length?Wi(t,Lo(e,3),!0,!0):[]},gr.dropWhile=function(t,e){return t&&t.length?Wi(t,Lo(e,3),!0):[]},gr.fill=function(t,e,n,i){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Ko(t,e,n)&&(n=0,i=o),function(t,e,n,i){var o=t.length;for((n=Yu(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:Yu(i))<0&&(i+=o),i=n>i?0:qu(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},gr.filter=function(t,e){return(xu(t)?un:qr)(t,Lo(e,3))},gr.flatMap=function(t,e){return Vr(tu(t,e),1)},gr.flatMapDeep=function(t,e){return Vr(tu(t,e),j)},gr.flatMapDepth=function(t,e,n){return n=n===r?1:Yu(n),Vr(tu(t,e),n)},gr.flatten=wa,gr.flattenDeep=function(t){return null!=t&&t.length?Vr(t,j):[]},gr.flattenDepth=function(t,e){return null!=t&&t.length?Vr(t,e=e===r?1:Yu(e)):[]},gr.flip=function(t){return Eo(t,S)},gr.flow=Cs,gr.flowRight=As,gr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},gr.functions=function(t){return null==t?[]:Jr(t,ss(t))},gr.functionsIn=function(t){return null==t?[]:Jr(t,ls(t))},gr.groupBy=Za,gr.initial=function(t){return null!=t&&t.length?Ai(t,0,-1):[]},gr.intersection=Sa,gr.intersectionBy=Ma,gr.intersectionWith=Ta,gr.invert=os,gr.invertBy=as,gr.invokeMap=Ja,gr.iteratee=Rs,gr.keyBy=Qa,gr.keys=ss,gr.keysIn=ls,gr.map=tu,gr.mapKeys=function(t,e){var n={};return e=Lo(e,3),Kr(t,function(t,r,i){Rr(n,e(t,r,i),t)}),n},gr.mapValues=function(t,e){var n={};return e=Lo(e,3),Kr(t,function(t,r,i){Rr(n,r,e(t,r,i))}),n},gr.matches=function(t){return gi(Ir(t,c))},gr.matchesProperty=function(t,e){return yi(t,Ir(e,c))},gr.memoize=fu,gr.merge=cs,gr.mergeWith=fs,gr.method=zs,gr.methodOf=Us,gr.mixin=Is,gr.negate=hu,gr.nthArg=function(t){return t=Yu(t),Ti(function(e){return _i(e,t)})},gr.omit=hs,gr.omitBy=function(t,e){return ps(t,hu(Lo(e)))},gr.once=function(t){return ou(2,t)},gr.orderBy=function(t,e,n,i){return null==t?[]:(xu(e)||(e=null==e?[]:[e]),xu(n=i?r:n)||(n=null==n?[]:[n]),bi(t,e,n))},gr.over=$s,gr.overArgs=du,gr.overEvery=Bs,gr.overSome=Fs,gr.partial=pu,gr.partialRight=vu,gr.partition=eu,gr.pick=ds,gr.pickBy=ps,gr.property=Ws,gr.propertyOf=function(t){return function(e){return null==t?r:Qr(t,e)}},gr.pull=Ea,gr.pullAll=Oa,gr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?wi(t,e,Lo(n,2)):t},gr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?wi(t,e,r,n):t},gr.pullAt=Pa,gr.range=Hs,gr.rangeRight=Ys,gr.rearg=gu,gr.reject=function(t,e){return(xu(t)?un:qr)(t,hu(Lo(e,3)))},gr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Lo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return ki(t,i),n},gr.rest=function(t,e){if("function"!=typeof t)throw new ae(a);return Ti(t,e=e===r?e:Yu(e))},gr.reverse=ja,gr.sampleSize=function(t,e,n){return e=(n?Ko(t,e,n):e===r)?1:Yu(e),(xu(t)?Er:Ei)(t,e)},gr.set=function(t,e,n){return null==t?t:Oi(t,e,n)},gr.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:Oi(t,e,n,i)},gr.shuffle=function(t){return(xu(t)?Or:Ci)(t)},gr.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Ko(t,e,n)?(e=0,n=i):(e=null==e?0:Yu(e),n=n===r?i:Yu(n)),Ai(t,e,n)):[]},gr.sortBy=nu,gr.sortedUniq=function(t){return t&&t.length?Ui(t):[]},gr.sortedUniqBy=function(t,e){return t&&t.length?Ui(t,Lo(e,2)):[]},gr.split=function(t,e,n){return n&&"number"!=typeof n&&Ko(t,e,n)&&(e=n=r),(n=n===r?R:n>>>0)?(t=Gu(t))&&("string"==typeof e||null!=e&&!zu(e))&&!(e=Li(e))&&Rn(t)?Zi(Bn(t),0,n):t.split(e,n):[]},gr.spread=function(t,e){if("function"!=typeof t)throw new ae(a);return e=null==e?0:Xn(Yu(e),0),Ti(function(n){var r=n[e],i=Zi(n,0,e);return r&&fn(i,r),en(t,this,i)})},gr.tail=function(t){var e=null==t?0:t.length;return e?Ai(t,1,e):[]},gr.take=function(t,e,n){return t&&t.length?Ai(t,0,(e=n||e===r?1:Yu(e))<0?0:e):[]},gr.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Ai(t,(e=i-(e=n||e===r?1:Yu(e)))<0?0:e,i):[]},gr.takeRightWhile=function(t,e){return t&&t.length?Wi(t,Lo(e,3),!1,!0):[]},gr.takeWhile=function(t,e){return t&&t.length?Wi(t,Lo(e,3)):[]},gr.tap=function(t,e){return e(t),t},gr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new ae(a);return ju(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),su(t,e,{leading:r,maxWait:e,trailing:i})},gr.thru=Ha,gr.toArray=Wu,gr.toPairs=vs,gr.toPairsIn=gs,gr.toPath=function(t){return xu(t)?cn(t,pa):Lu(t)?[t]:oo(da(Gu(t)))},gr.toPlainObject=Xu,gr.transform=function(t,e,n){var r=xu(t),i=r||Mu(t)||$u(t);if(e=Lo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ju(t)&&Eu(o)?yr(ke(t)):{}}return(i?rn:Kr)(t,function(t,r,i){return e(n,t,r,i)}),n},gr.unary=function(t){return iu(t,1)},gr.union=Ca,gr.unionBy=Aa,gr.unionWith=Da,gr.uniq=function(t){return t&&t.length?$i(t):[]},gr.uniqBy=function(t,e){return t&&t.length?$i(t,Lo(e,2)):[]},gr.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?$i(t,r,e):[]},gr.unset=function(t,e){return null==t||Bi(t,e)},gr.unzip=Ra,gr.unzipWith=za,gr.update=function(t,e,n){return null==t?t:Fi(t,e,Xi(n))},gr.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:Fi(t,e,Xi(n),i)},gr.values=ys,gr.valuesIn=function(t){return null==t?[]:En(t,ls(t))},gr.without=Ua,gr.words=Es,gr.wrap=function(t,e){return pu(Xi(e),t)},gr.xor=Ia,gr.xorBy=La,gr.xorWith=$a,gr.zip=Ba,gr.zipObject=function(t,e){return qi(t||[],e||[],jr)},gr.zipObjectDeep=function(t,e){return qi(t||[],e||[],Oi)},gr.zipWith=Fa,gr.entries=vs,gr.entriesIn=gs,gr.extend=Zu,gr.extendWith=Ju,Is(gr,gr),gr.add=Xs,gr.attempt=Os,gr.camelCase=ms,gr.capitalize=_s,gr.ceil=Gs,gr.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=Vu(n))==n?n:0),e!==r&&(e=(e=Vu(e))==e?e:0),Ur(Vu(t),e,n)},gr.clone=function(t){return Ir(t,h)},gr.cloneDeep=function(t){return Ir(t,c|h)},gr.cloneDeepWith=function(t,e){return Ir(t,c|h,e="function"==typeof e?e:r)},gr.cloneWith=function(t,e){return Ir(t,h,e="function"==typeof e?e:r)},gr.conformsTo=function(t,e){return null==e||Lr(t,e,ss(e))},gr.deburr=bs,gr.defaultTo=function(t,e){return null==t||t!=t?e:t},gr.divide=Ks,gr.endsWith=function(t,e,n){t=Gu(t),e=Li(e);var i=t.length,o=n=n===r?i:Ur(Yu(n),0,i);return(n-=e.length)>=0&&t.slice(n,o)==e},gr.eq=yu,gr.escape=function(t){return(t=Gu(t))&&St.test(t)?t.replace(wt,An):t},gr.escapeRegExp=function(t){return(t=Gu(t))&&At.test(t)?t.replace(Ct,"\\$&"):t},gr.every=function(t,e,n){var i=xu(t)?an:Hr;return n&&Ko(t,e,n)&&(e=r),i(t,Lo(e,3))},gr.find=Va,gr.findIndex=ba,gr.findKey=function(t,e){return gn(t,Lo(e,3),Kr)},gr.findLast=Xa,gr.findLastIndex=xa,gr.findLastKey=function(t,e){return gn(t,Lo(e,3),Zr)},gr.floor=Zs,gr.forEach=Ga,gr.forEachRight=Ka,gr.forIn=function(t,e){return null==t?t:Xr(t,Lo(e,3),ls)},gr.forInRight=function(t,e){return null==t?t:Gr(t,Lo(e,3),ls)},gr.forOwn=function(t,e){return t&&Kr(t,Lo(e,3))},gr.forOwnRight=function(t,e){return t&&Zr(t,Lo(e,3))},gr.get=rs,gr.gt=mu,gr.gte=_u,gr.has=function(t,e){return null!=t&&qo(t,e,ri)},gr.hasIn=is,gr.head=ka,gr.identity=Ds,gr.includes=function(t,e,n,r){t=ku(t)?t:ys(t),n=n&&!r?Yu(n):0;var i=t.length;return n<0&&(n=Xn(i+n,0)),Iu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&mn(t,e,n)>-1},gr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Yu(n);return i<0&&(i=Xn(r+i,0)),mn(t,e,i)},gr.inRange=function(t,e,n){return e=Hu(e),n===r?(n=e,e=0):n=Hu(n),t=Vu(t),(i=t)>=Gn(o=e,a=n)&&i<Xn(o,a);var i,o,a},gr.invoke=us,gr.isArguments=bu,gr.isArray=xu,gr.isArrayBuffer=wu,gr.isArrayLike=ku,gr.isArrayLikeObject=Su,gr.isBoolean=function(t){return!0===t||!1===t||Cu(t)&&ei(t)==F},gr.isBuffer=Mu,gr.isDate=Tu,gr.isElement=function(t){return Cu(t)&&1===t.nodeType&&!Ru(t)},gr.isEmpty=function(t){if(null==t)return!0;if(ku(t)&&(xu(t)||"string"==typeof t||"function"==typeof t.splice||Mu(t)||$u(t)||bu(t)))return!t.length;var e=Yo(t);if(e==X||e==et)return!t.size;if(ta(t))return!hi(t).length;for(var n in t)if(he.call(t,n))return!1;return!0},gr.isEqual=function(t,e){return si(t,e)},gr.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?si(t,e,r,n):!!i},gr.isError=Nu,gr.isFinite=function(t){return"number"==typeof t&&Yn(t)},gr.isFunction=Eu,gr.isInteger=Ou,gr.isLength=Pu,gr.isMap=Au,gr.isMatch=function(t,e){return t===e||li(t,e,Bo(e))},gr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,li(t,e,Bo(e),n)},gr.isNaN=function(t){return Du(t)&&t!=+t},gr.isNative=function(t){if(Qo(t))throw new te(o);return ci(t)},gr.isNil=function(t){return null==t},gr.isNull=function(t){return null===t},gr.isNumber=Du,gr.isObject=ju,gr.isObjectLike=Cu,gr.isPlainObject=Ru,gr.isRegExp=zu,gr.isSafeInteger=function(t){return Ou(t)&&t>=-C&&t<=C},gr.isSet=Uu,gr.isString=Iu,gr.isSymbol=Lu,gr.isTypedArray=$u,gr.isUndefined=function(t){return t===r},gr.isWeakMap=function(t){return Cu(t)&&Yo(t)==ot},gr.isWeakSet=function(t){return Cu(t)&&ei(t)==at},gr.join=function(t,e){return null==t?"":qn.call(t,e)},gr.kebabCase=xs,gr.last=Na,gr.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=Yu(n))<0?Xn(i+o,0):Gn(o,i-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):yn(t,bn,o,!0)},gr.lowerCase=ws,gr.lowerFirst=ks,gr.lt=Bu,gr.lte=Fu,gr.max=function(t){return t&&t.length?Yr(t,Ds,ni):r},gr.maxBy=function(t,e){return t&&t.length?Yr(t,Lo(e,2),ni):r},gr.mean=function(t){return xn(t,Ds)},gr.meanBy=function(t,e){return xn(t,Lo(e,2))},gr.min=function(t){return t&&t.length?Yr(t,Ds,pi):r},gr.minBy=function(t,e){return t&&t.length?Yr(t,Lo(e,2),pi):r},gr.stubArray=qs,gr.stubFalse=Vs,gr.stubObject=function(){return{}},gr.stubString=function(){return""},gr.stubTrue=function(){return!0},gr.multiply=Qs,gr.nth=function(t,e){return t&&t.length?_i(t,Yu(e)):r},gr.noConflict=function(){return Be._===this&&(Be._=ye),this},gr.noop=Ls,gr.now=ru,gr.pad=function(t,e,n){t=Gu(t);var r=(e=Yu(e))?$n(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return xo(vn(i),n)+t+xo(qe(i),n)},gr.padEnd=function(t,e,n){t=Gu(t);var r=(e=Yu(e))?$n(t):0;return e&&r<e?t+xo(e-r,n):t},gr.padStart=function(t,e,n){t=Gu(t);var r=(e=Yu(e))?$n(t):0;return e&&r<e?xo(e-r,n)+t:t},gr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Zn(Gu(t).replace(Rt,""),e||0)},gr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Ko(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=Hu(t),e===r?(e=t,t=0):e=Hu(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var o=Jn();return Gn(t+o*(e-t+Ue("1e-"+((o+"").length-1))),e)}return Si(t,e)},gr.reduce=function(t,e,n){var r=xu(t)?hn:Sn,i=arguments.length<3;return r(t,Lo(e,4),n,i,Fr)},gr.reduceRight=function(t,e,n){var r=xu(t)?dn:Sn,i=arguments.length<3;return r(t,Lo(e,4),n,i,Wr)},gr.repeat=function(t,e,n){return e=(n?Ko(t,e,n):e===r)?1:Yu(e),Mi(Gu(t),e)},gr.replace=function(){var t=arguments,e=Gu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},gr.result=function(t,e,n){var i=-1,o=(e=Gi(e,t)).length;for(o||(o=1,t=r);++i<o;){var a=null==t?r:t[pa(e[i])];a===r&&(i=o,a=n),t=Eu(a)?a.call(t):a}return t},gr.round=tl,gr.runInContext=t,gr.sample=function(t){return(xu(t)?Nr:Ni)(t)},gr.size=function(t){if(null==t)return 0;if(ku(t))return Iu(t)?$n(t):t.length;var e=Yo(t);return e==X||e==et?t.size:hi(t).length},gr.snakeCase=Ss,gr.some=function(t,e,n){var i=xu(t)?pn:Di;return n&&Ko(t,e,n)&&(e=r),i(t,Lo(e,3))},gr.sortedIndex=function(t,e){return Ri(t,e)},gr.sortedIndexBy=function(t,e,n){return zi(t,e,Lo(n,2))},gr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Ri(t,e);if(r<n&&yu(t[r],e))return r}return-1},gr.sortedLastIndex=function(t,e){return Ri(t,e,!0)},gr.sortedLastIndexBy=function(t,e,n){return zi(t,e,Lo(n,2),!0)},gr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Ri(t,e,!0)-1;if(yu(t[n],e))return n}return-1},gr.startCase=Ms,gr.startsWith=function(t,e,n){return t=Gu(t),n=null==n?0:Ur(Yu(n),0,t.length),e=Li(e),t.slice(n,n+e.length)==e},gr.subtract=el,gr.sum=function(t){return t&&t.length?Mn(t,Ds):0},gr.sumBy=function(t,e){return t&&t.length?Mn(t,Lo(e,2)):0},gr.template=function(t,e,n){var i=gr.templateSettings;n&&Ko(t,e,n)&&(e=r),t=Gu(t),e=Ju({},e,i,Oo);var o,a,u=Ju({},e.imports,i.imports,Oo),s=ss(u),l=En(u,s),c=0,f=e.interpolate||Kt,h="__p += '",d=ie((e.escape||Kt).source+"|"+f.source+"|"+(f===Nt?Ft:Kt).source+"|"+(e.evaluate||Kt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Ae+"]")+"\n";t.replace(d,function(e,n,r,i,u,s){return r||(r=i),h+=t.slice(c,s).replace(Zt,Dn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),u&&(a=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+e.length,e}),h+="';\n";var v=e.variable;v||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(mt,""):h).replace(_t,"$1").replace(bt,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Os(function(){return ee(s,p+"return "+h).apply(r,l)});if(g.source=h,Nu(g))throw g;return g},gr.times=function(t,e){if((t=Yu(t))<1||t>C)return[];var n=R,r=Gn(t,R);e=Lo(e),t-=R;for(var i=Tn(r,e);++n<t;)e(n);return i},gr.toFinite=Hu,gr.toInteger=Yu,gr.toLength=qu,gr.toLower=function(t){return Gu(t).toLowerCase()},gr.toNumber=Vu,gr.toSafeInteger=function(t){return t?Ur(Yu(t),-C,C):0===t?t:0},gr.toString=Gu,gr.toUpper=function(t){return Gu(t).toUpperCase()},gr.trim=function(t,e,n){if((t=Gu(t))&&(n||e===r))return t.replace(Dt,"");if(!t||!(e=Li(e)))return t;var i=Bn(t),o=Bn(e);return Zi(i,Pn(i,o),jn(i,o)+1).join("")},gr.trimEnd=function(t,e,n){if((t=Gu(t))&&(n||e===r))return t.replace(zt,"");if(!t||!(e=Li(e)))return t;var i=Bn(t);return Zi(i,0,jn(i,Bn(e))+1).join("")},gr.trimStart=function(t,e,n){if((t=Gu(t))&&(n||e===r))return t.replace(Rt,"");if(!t||!(e=Li(e)))return t;var i=Bn(t);return Zi(i,Pn(i,Bn(e))).join("")},gr.truncate=function(t,e){var n=M,i=T;if(ju(e)){var o="separator"in e?e.separator:o;n="length"in e?Yu(e.length):n,i="omission"in e?Li(e.omission):i}var a=(t=Gu(t)).length;if(Rn(t)){var u=Bn(t);a=u.length}if(n>=a)return t;var s=n-$n(i);if(s<1)return i;var l=u?Zi(u,0,s).join(""):t.slice(0,s);if(o===r)return l+i;if(u&&(s+=l.length-s),zu(o)){if(t.slice(s).search(o)){var c,f=l;for(o.global||(o=ie(o.source,Gu(Wt.exec(o))+"g")),o.lastIndex=0;c=o.exec(f);)var h=c.index;l=l.slice(0,h===r?s:h)}}else if(t.indexOf(Li(o),s)!=s){var d=l.lastIndexOf(o);d>-1&&(l=l.slice(0,d))}return l+i},gr.unescape=function(t){return(t=Gu(t))&&kt.test(t)?t.replace(xt,Fn):t},gr.uniqueId=function(t){var e=++de;return Gu(t)+e},gr.upperCase=Ts,gr.upperFirst=Ns,gr.each=Ga,gr.eachRight=Ka,gr.first=ka,Is(gr,(Js={},Kr(gr,function(t,e){he.call(gr.prototype,e)||(Js[e]=t)}),Js),{chain:!1}),gr.VERSION="4.17.4",rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){gr[t].placeholder=gr}),rn(["drop","take"],function(t,e){br.prototype[t]=function(n){n=n===r?1:Xn(Yu(n),0);var i=this.__filtered__&&!e?new br(this):this.clone();return i.__filtered__?i.__takeCount__=Gn(n,i.__takeCount__):i.__views__.push({size:Gn(n,R),type:t+(i.__dir__<0?"Right":"")}),i},br.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),rn(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==O||3==n;br.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Lo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),rn(["head","last"],function(t,e){var n="take"+(e?"Right":"");br.prototype[t]=function(){return this[n](1).value()[0]}}),rn(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");br.prototype[t]=function(){return this.__filtered__?new br(this):this[n](1)}}),br.prototype.compact=function(){return this.filter(Ds)},br.prototype.find=function(t){return this.filter(t).head()},br.prototype.findLast=function(t){return this.reverse().find(t)},br.prototype.invokeMap=Ti(function(t,e){return"function"==typeof t?new br(this):this.map(function(n){return ai(n,t,e)})}),br.prototype.reject=function(t){return this.filter(hu(Lo(t)))},br.prototype.slice=function(t,e){t=Yu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new br(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=Yu(e))<0?n.dropRight(-e):n.take(e-t)),n)},br.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},br.prototype.toArray=function(){return this.take(R)},Kr(br.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=gr[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);o&&(gr.prototype[e]=function(){var e=this.__wrapped__,u=i?[1]:arguments,s=e instanceof br,l=u[0],c=s||xu(e),f=function(t){var e=o.apply(gr,fn([t],u));return i&&h?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var h=this.__chain__,d=!!this.__actions__.length,p=a&&!h,v=s&&!d;if(!a&&c){e=v?e:new br(this);var g=t.apply(e,u);return g.__actions__.push({func:Ha,args:[f],thisArg:r}),new _r(g,h)}return p&&v?t.apply(this,u):(g=this.thru(f),p?i?g.value()[0]:g.value():g)})}),rn(["pop","push","shift","sort","splice","unshift"],function(t){var e=ue[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);gr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(xu(i)?i:[],t)}return this[n](function(n){return e.apply(xu(n)?n:[],t)})}}),Kr(br.prototype,function(t,e){var n=gr[e];if(n){var r=n.name+"";(ur[r]||(ur[r]=[])).push({name:e,func:n})}}),ur[yo(r,g).name]=[{name:"wrapper",func:r}],br.prototype.clone=function(){var t=new br(this.__wrapped__);return t.__actions__=oo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=oo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=oo(this.__views__),t},br.prototype.reverse=function(){if(this.__filtered__){var t=new br(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},br.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=xu(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Gn(e,t+a);break;case"takeRight":t=Xn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,l=r?u:a-1,c=this.__iteratees__,f=c.length,h=0,d=Gn(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return Hi(t,this.__actions__);var p=[];t:for(;s--&&h<d;){for(var v=-1,g=t[l+=e];++v<f;){var y=c[v],m=y.iteratee,_=y.type,b=m(g);if(_==P)g=b;else if(!b){if(_==O)continue t;break t}}p[h++]=g}return p},gr.prototype.at=Ya,gr.prototype.chain=function(){return Wa(this)},gr.prototype.commit=function(){return new _r(this.value(),this.__chain__)},gr.prototype.next=function(){this.__values__===r&&(this.__values__=Wu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},gr.prototype.plant=function(t){for(var e,n=this;n instanceof mr;){var i=ga(n);i.__index__=0,i.__values__=r,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},gr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof br){var e=t;return this.__actions__.length&&(e=new br(this)),(e=e.reverse()).__actions__.push({func:Ha,args:[ja],thisArg:r}),new _r(e,this.__chain__)}return this.thru(ja)},gr.prototype.toJSON=gr.prototype.valueOf=gr.prototype.value=function(){return Hi(this.__wrapped__,this.__actions__)},gr.prototype.first=gr.prototype.head,ze&&(gr.prototype[ze]=function(){return this}),gr}();We?((We.exports=Wn)._=Wn,Fe._=Wn):Be._=Wn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(t,e,n){!function(t,n){"use strict";"object"==typeof e&&e.exports?e.exports=n():t.log=n()}(this,function(){"use strict";var t=function(){},e="undefined",n=["trace","debug","info","warn","error"];function r(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function i(e,r){for(var i=0;i<n.length;i++){var o=n[i];this[o]=i<e?t:this.methodFactory(o,e,r)}this.log=this.debug}function o(n,o,a){return"debug"===(u=n)&&(u="log"),typeof console!==e&&(void 0!==console[u]?r(console,u):void 0!==console.log?r(console,"log"):t)||function(t,n,r){return function(){typeof console!==e&&(i.call(this,n,r),this[t].apply(this,arguments))}}.apply(this,arguments);var u}function a(t,r,a){var u,s=this,l="loglevel";function c(){var t;if(typeof window!==e){try{t=window.localStorage[l]}catch(t){}if(typeof t===e)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(l)+"=");-1!==r&&(t=/^([^;]+)/.exec(n.slice(r))[1])}catch(t){}return void 0===s.levels[t]&&(t=void 0),t}}t&&(l+=":"+t),s.name=t,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=a||o,s.getLevel=function(){return u},s.setLevel=function(r,o){if("string"==typeof r&&void 0!==s.levels[r.toUpperCase()]&&(r=s.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(u=r,!1!==o&&function(t){var r=(n[t]||"silent").toUpperCase();if(typeof window!==e){try{return void(window.localStorage[l]=r)}catch(t){}try{window.document.cookie=encodeURIComponent(l)+"="+r+";"}catch(t){}}}(r),i.call(s,r,t),typeof console===e&&r<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(t){c()||s.setLevel(t,!1)},s.enableAll=function(t){s.setLevel(s.levels.TRACE,t)},s.disableAll=function(t){s.setLevel(s.levels.SILENT,t)};var f=c();null==f&&(f=null==r?"WARN":r),s.setLevel(f,!1)}var u=new a,s={};u.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=s[t];return e||(e=s[t]=new a(t,u.getLevel(),u.methodFactory)),e};var l=typeof window!==e?window.log:void 0;return u.noConflict=function(){return typeof window!==e&&window.log===u&&(window.log=l),u},u.getLoggers=function(){return s},u})},{}],36:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./src/index");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})})},{"./src/index":48}],37:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DataModel=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t("sd-utils"),o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("./domain")),a=t("./validation-result");function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}n.DataModel=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nodes=[],this.edges=[],this.texts=[],this.payoffNames=[],this.defaultCriterion1Weight=1,this.weightLowerBound=0,this.weightUpperBound=1/0,this.expressionScope={},this.code="",this.$codeError=null,this.$codeDirty=!1,this.$version=1,this.validationResults=[],this.maxStackSize=20,this.undoStack=[],this.redoStack=[],this.undoRedoStateChangedCallback=null,this.nodeAddedCallback=null,this.nodeRemovedCallback=null,this.textAddedCallback=null,this.textRemovedCallback=null,this.callbacksDisabled=!1,e&&this.load(e)}return r(t,[{key:"getJsonReplacer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(o,a){if(!(r&&i.Utils.startsWith(o,"$")||"parentNode"==o||t&&"location"==o||e&&"computed"==o))return n?n(o,a):a}}},{key:"serialize",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a={code:this.code,expressionScope:this.expressionScope,trees:this.getRoots(),texts:this.texts,payoffNames:this.payoffNames.slice(),defaultCriterion1Weight:this.defaultCriterion1Weight,weightLowerBound:this.weightLowerBound,weightUpperBound:this.weightUpperBound};return t?i.Utils.stringify(a,this.getJsonReplacer(e,n,r,o),[]):a}},{key:"load",value:function(t){var e=this,n=this.callbacksDisabled;this.callbacksDisabled=!0,this.clear(),t.trees.forEach(function(t){e.createNodeFromData(t)}),t.texts&&t.texts.forEach(function(t){var n=new o.Point(t.location.x,t.location.y),r=new o.Text(n,t.value);e.texts.push(r)}),this.clearExpressionScope(),this.code=t.code||"",t.expressionScope&&i.Utils.extend(this.expressionScope,t.expressionScope),void 0!==t.payoffNames&&null!==t.payoffNames&&(this.payoffNames=t.payoffNames),void 0!==t.defaultCriterion1Weight&&null!==t.defaultCriterion1Weight&&(this.defaultCriterion1Weight=t.defaultCriterion1Weight),void 0!==t.weightLowerBound&&null!==t.weightLowerBound&&(this.weightLowerBound=t.weightLowerBound),void 0!==t.weightUpperBound&&null!==t.weightUpperBound&&(this.weightUpperBound=t.weightUpperBound),this.callbacksDisabled=n}},{key:"getDTO",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{serializedData:this.serialize(!0,t,e,null,n),$codeError:this.$codeError,$codeDirty:this.$codeDirty,validationResults:this.validationResults.slice()}}},{key:"loadFromDTO",value:function(t,e){var n=this;this.load(JSON.parse(t.serializedData,e)),this.$codeError=t.$codeError,this.$codeDirty=t.$codeDirty,this.validationResults.length=0,t.validationResults.forEach(function(t){n.validationResults.push(a.ValidationResult.createFromDTO(t))})}},{key:"updateFrom",value:function(t){if(this.$version>t.$version)i.log.warn("DataModel.updateFrom: version of current model greater than update");else{var e={};t.nodes.forEach(function(t){e[t.$id]=t}),this.nodes.forEach(function(t,n){e[t.$id]&&t.loadComputedValues(e[t.$id].computed)}),t.edges.forEach(function(t){e[t.$id]=t}),this.edges.forEach(function(t,n){e[t.$id]&&t.loadComputedValues(e[t.$id].computed)}),this.expressionScope=t.expressionScope,this.$codeError=t.$codeError,this.$codeDirty=t.$codeDirty,this.validationResults=t.validationResults}}},{key:"getGlobalVariableNames",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=[];return i.Utils.forOwn(this.expressionScope,function(n,r){t&&i.Utils.isFunction(n)||e.push(r)}),e}},{key:"createNodeFromData",value:function(t,e){var n,r,a=this;r=t.location?new o.Point(t.location.x,t.location.y):new o.Point(0,0),o.DecisionNode.$TYPE==t.type?n=new o.DecisionNode(r):o.ChanceNode.$TYPE==t.type?n=new o.ChanceNode(r):o.TerminalNode.$TYPE==t.type&&(n=new o.TerminalNode(r)),t.$id&&(n.$id=t.$id),t.$fieldStatus&&(n.$fieldStatus=t.$fieldStatus),n.name=t.name,t.code&&(n.code=t.code),t.expressionScope&&(n.expressionScope=t.expressionScope),t.computed&&n.loadComputedValues(t.computed),n.folded=!!t.folded;var u=this.addNode(n,e);return t.childEdges.forEach(function(t){var e=a.createNodeFromData(t.childNode,n);i.Utils.isArray(t.payoff)?e.payoff=t.payoff:e.payoff=[t.payoff,0],e.probability=t.probability,e.name=t.name,t.computed&&e.loadComputedValues(t.computed),t.$id&&(e.$id=t.$id),t.$fieldStatus&&(e.$fieldStatus=t.$fieldStatus)}),u}},{key:"addNode",value:function(t,e){if(this.nodes.push(t),e){var n=this._addChild(e,t);return this._fireNodeAddedCallback(t),n}return this._fireNodeAddedCallback(t),t}},{key:"injectNode",value:function(t,e){var n=e.parentNode,r=e.childNode;this.nodes.push(t),t.$parent=n,e.childNode=t,this._addChild(t,r),this._fireNodeAddedCallback(t)}},{key:"_addChild",value:function(t,e){var n=new o.Edge(t,e);return this._setEdgeInitialProbability(n),this.edges.push(n),t.childEdges.push(n),e.$parent=t,n}},{key:"_setEdgeInitialProbability",value:function(t){t.parentNode instanceof o.ChanceNode?t.probability="#":t.probability=void 0}},{key:"removeNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this;t.childEdges.forEach(function(t){return n.removeNode(t.childNode,e+1)}),n._removeNode(t);var r=t.$parent;if(r){var o=i.Utils.find(r.childEdges,function(e,n){return e.childNode===t});0==e?n.removeEdge(o):n._removeEdge(o)}this._fireNodeRemovedCallback(t)}},{key:"removeNodes",value:function(t){var e=this;this.findSubtreeRoots(t).forEach(function(t){return e.removeNode(t,0)},this)}},{key:"convertNode",value:function(t,e){var n,r=this;!t.childEdges.length&&t.$parent?n=this.createNodeByType(e,t.location):t instanceof o.DecisionNode&&e==o.ChanceNode.$TYPE?n=this.createNodeByType(e,t.location):e==o.DecisionNode.$TYPE&&(n=this.createNodeByType(e,t.location)),n&&(n.name=t.name,this.replaceNode(n,t),n.childEdges.forEach(function(t){return r._setEdgeInitialProbability(t)}),this._fireNodeAddedCallback(n))}},{key:"createNodeByType",value:function(t,e){return t==o.DecisionNode.$TYPE?new o.DecisionNode(e):t==o.ChanceNode.$TYPE?new o.ChanceNode(e):t==o.TerminalNode.$TYPE?new o.TerminalNode(e):void 0}},{key:"replaceNode",value:function(t,e){var n=e.$parent;(t.$parent=n,n)&&(i.Utils.find(t.$parent.childEdges,function(t){return t.childNode===e}).childNode=t);t.childEdges=e.childEdges,t.childEdges.forEach(function(e){return e.parentNode=t});var r=this.nodes.indexOf(e);~r&&(this.nodes[r]=t)}},{key:"getRoots",value:function(){return this.nodes.filter(function(t){return!t.$parent})}},{key:"findSubtreeRoots",value:function(t){return t.filter(function(e){return!e.$parent||-1===t.indexOf(e.$parent)})}},{key:"cloneSubtree",value:function(t,e){var n=this,r=this.cloneNode(t);return t.childEdges.forEach(function(t){var o=n.cloneSubtree(t.childNode,e);o.$parent=r;var a=i.Utils.clone(t);a.$id=i.Utils.guid(),a.parentNode=r,a.childNode=o,a.payoff=i.Utils.cloneDeep(t.payoff),a.computed={},e&&(a.computed=i.Utils.cloneDeep(t.computed),o.computed=i.Utils.cloneDeep(t.childNode.computed)),r.childEdges.push(a)}),e&&(r.computed=i.Utils.cloneDeep(t.computed)),r}},{key:"attachSubtree",value:function(t,e){var n=this,r=n.addNode(t,e);return t.expressionScope=null,n.getAllDescendantEdges(t).forEach(function(t){n.edges.push(t),n.nodes.push(t.childNode),t.childNode.expressionScope=null}),r}},{key:"cloneNodes",value:function(t){}},{key:"cloneNode",value:function(t){var e=i.Utils.clone(t);return e.$id=i.Utils.guid(),e.location=i.Utils.clone(t.location),e.computed=i.Utils.clone(t.computed),e.$parent=null,e.childEdges=[],e}},{key:"findNodeById",value:function(t){return i.Utils.find(this.nodes,function(e){return e.$id==t})}},{key:"findEdgeById",value:function(t){return i.Utils.find(this.edges,function(e){return e.$id==t})}},{key:"findById",value:function(t){var e=this.findNodeById(t);return e||this.findEdgeById(t)}},{key:"_removeNode",value:function(t){var e=this.nodes.indexOf(t);e>-1&&this.nodes.splice(e,1)}},{key:"removeEdge",value:function(t){var e=t.parentNode.childEdges.indexOf(t);e>-1&&t.parentNode.childEdges.splice(e,1),this._removeEdge(t)}},{key:"_removeEdge",value:function(t){var e=this.edges.indexOf(t);e>-1&&this.edges.splice(e,1)}},{key:"_removeNodes",value:function(t){this.nodes=this.nodes.filter(function(e){return-1===t.indexOf(e)})}},{key:"_removeEdges",value:function(t){this.edges=this.edges.filter(function(e){return-1===t.indexOf(e)})}},{key:"getAllDescendantEdges",value:function(t){var e=this,n=[];return t.childEdges.forEach(function(t){n.push(t),t.childNode&&n.push.apply(n,u(e.getAllDescendantEdges(t.childNode)))}),n}},{key:"getAllDescendantNodes",value:function(t){var e=this,n=[];return t.childEdges.forEach(function(t){t.childNode&&(n.push(t.childNode),n.push.apply(n,u(e.getAllDescendantNodes(t.childNode))))}),n}},{key:"getAllNodesInSubtree",value:function(t){var e=this.getAllDescendantNodes(t);return e.unshift(t),e}},{key:"isUndoAvailable",value:function(){return!!this.undoStack.length}},{key:"isRedoAvailable",value:function(){return!!this.redoStack.length}},{key:"createStateSnapshot",value:function(t){return{revertConf:t,nodes:i.Utils.cloneDeep(this.nodes),edges:i.Utils.cloneDeep(this.edges),texts:i.Utils.cloneDeep(this.texts),payoffNames:i.Utils.cloneDeep(this.payoffNames),defaultCriterion1Weight:i.Utils.cloneDeep(this.defaultCriterion1Weight),weightLowerBound:i.Utils.cloneDeep(this.weightLowerBound),weightUpperBound:i.Utils.cloneDeep(this.weightUpperBound),expressionScope:i.Utils.cloneDeep(this.expressionScope),code:this.code,$codeError:this.$codeError}}},{key:"saveStateFromSnapshot",value:function(t){return this.redoStack.length=0,this._pushToStack(this.undoStack,t),this._fireUndoRedoCallback(),this}},{key:"saveState",value:function(t){return this.saveStateFromSnapshot(this.createStateSnapshot(t)),this}},{key:"undo",value:function(){var t=this,e=this.undoStack.pop();if(e)return this._pushToStack(this.redoStack,{revertConf:e.revertConf,nodes:t.nodes,edges:t.edges,texts:t.texts,payoffNames:t.payoffNames,defaultCriterion1Weight:t.defaultCriterion1Weight,weightLowerBound:t.weightLowerBound,weightUpperBound:t.weightUpperBound,expressionScope:t.expressionScope,code:t.code,$codeError:t.$codeError}),this._setNewState(e),this._fireUndoRedoCallback(),this}},{key:"redo",value:function(){var t=this,e=this.redoStack.pop();if(e)return this._pushToStack(this.undoStack,{revertConf:e.revertConf,nodes:t.nodes,edges:t.edges,texts:t.texts,payoffNames:t.payoffNames,defaultCriterion1Weight:t.defaultCriterion1Weight,weightLowerBound:t.weightLowerBound,weightUpperBound:t.weightUpperBound,expressionScope:t.expressionScope,code:t.code,$codeError:t.$codeError}),this._setNewState(e,!0),this._fireUndoRedoCallback(),this}},{key:"clear",value:function(){this.nodes.length=0,this.edges.length=0,this.undoStack.length=0,this.redoStack.length=0,this.texts.length=0,this.clearExpressionScope(),this.code="",this.$codeError=null,this.$codeDirty=!1,this.payoffNames=[],this.defaultCriterion1Weight=1,this.weightLowerBound=0,this.weightUpperBound=1/0}},{key:"clearComputedValues",value:function(){this.nodes.forEach(function(t){return t.clearComputedValues()}),this.edges.forEach(function(t){return t.clearComputedValues()})}},{key:"addText",value:function(t){this.texts.push(t),this._fireTextAddedCallback(t)}},{key:"removeTexts",value:function(t){var e=this;t.forEach(function(t){return e.removeText(t)})}},{key:"removeText",value:function(t){var e=this.texts.indexOf(t);e>-1&&(this.texts.splice(e,1),this._fireTextRemovedCallback(t))}},{key:"clearExpressionScope",value:function(){var t=this;i.Utils.forOwn(this.expressionScope,function(e,n){delete t.expressionScope[n]})}},{key:"reversePayoffs",value:function(){this.payoffNames.reverse(),this.edges.forEach(function(t){return t.payoff.reverse()})}},{key:"_setNewState",value:function(t,e){var n=i.Utils.getObjectByIdMap(t.nodes),r=i.Utils.getObjectByIdMap(t.edges);this.nodes=t.nodes,this.edges=t.edges,this.texts=t.texts,this.payoffNames=t.payoffNames,this.defaultCriterion1Weight=t.defaultCriterion1Weight,this.weightLowerBound=t.weightLowerBound,this.weightUpperBound=t.weightUpperBound,this.expressionScope=t.expressionScope,this.code=t.code,this.$codeError=t.$codeError,this.nodes.forEach(function(t){for(var e=0;e<t.childEdges.length;e++){var i=r[t.childEdges[e].$id];t.childEdges[e]=i,i.parentNode=t,i.childNode=n[i.childNode.$id]}}),t.revertConf&&(!e&&t.revertConf.onUndo&&t.revertConf.onUndo(t.revertConf.data),e&&t.revertConf.onRedo&&t.revertConf.onRedo(t.revertConf.data)),this.revertConf=t.revertConf}},{key:"_pushToStack",value:function(t,e){t.length>=this.maxStackSize&&t.shift(),t.push(e)}},{key:"_fireUndoRedoCallback",value:function(){!this.callbacksDisabled&&this.undoRedoStateChangedCallback&&this.undoRedoStateChangedCallback()}},{key:"_fireNodeAddedCallback",value:function(t){!this.callbacksDisabled&&this.nodeAddedCallback&&this.nodeAddedCallback(t)}},{key:"_fireNodeRemovedCallback",value:function(t){!this.callbacksDisabled&&this.nodeRemovedCallback&&this.nodeRemovedCallback(t)}},{key:"_fireTextAddedCallback",value:function(t){!this.callbacksDisabled&&this.textAddedCallback&&this.textAddedCallback(t)}},{key:"_fireTextRemovedCallback",value:function(t){!this.callbacksDisabled&&this.textRemovedCallback&&this.textRemovedCallback(t)}}]),t}()},{"./domain":39,"./validation-result":49,"sd-utils":50}],38:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Edge=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t("./object-with-computed-values");n.Edge=function(t){function e(t,n,r,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.name="",a.probability=void 0,a.payoff=[0,0],a.$DISPLAY_VALUE_NAMES=["probability","payoff","optimal"],a.parentNode=t,a.childNode=n,void 0!==r&&(a.name=r),void 0!==o&&(a.probability=o),void 0!==i&&(a.payoff=i),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ObjectWithComputedValues),r(e,[{key:"setName",value:function(t){return this.name=t,this}},{key:"setProbability",value:function(t){return this.probability=t,this}},{key:"setPayoff",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.payoff[e]=t,this}},{key:"computedBaseProbability",value:function(t){return this.computedValue(null,"probability",t)}},{key:"computedBasePayoff",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.computedValue(null,"payoff["+e+"]",t)}},{key:"displayProbability",value:function(t){return this.displayValue("probability",t)}},{key:"displayPayoff",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.displayValue("payoff["+e+"]",t)}}]),e}()},{"./object-with-computed-values":44}],39:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./node/node");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var i=t("./node/decision-node");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("./node/chance-node");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var a=t("./node/terminal-node");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}})});var u=t("./edge");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})});var s=t("./point");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})});var l=t("./text");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return l[t]}})})},{"./edge":38,"./node/chance-node":40,"./node/decision-node":41,"./node/node":42,"./node/terminal-node":43,"./point":46,"./text":47}],40:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ChanceNode=void 0;var r=t("./node");(n.ChanceNode=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.$TYPE,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Node),e}()).$TYPE="chance"},{"./node":42}],41:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DecisionNode=void 0;var r=t("./node");(n.DecisionNode=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.$TYPE,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Node),e}()).$TYPE="decision"},{"./node":42}],42:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Node=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t("../point"),o=t("../object-with-computed-values");n.Node=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.childEdges=[],r.name="",r.code="",r.$codeDirty=!1,r.$codeError=null,r.expressionScope=null,r.folded=!1,r.$DISPLAY_VALUE_NAMES=["childrenPayoff","aggregatedPayoff","probabilityToEnter","optimal"],r.location=n,n||(r.location=new i.Point(0,0)),r.type=t,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ObjectWithComputedValues),r(e,[{key:"setName",value:function(t){return this.name=t,this}},{key:"moveTo",value:function(t,e,n){if(n){var r=t-this.location.x,i=e-this.location.y;this.childEdges.forEach(function(t){return t.childNode.move(r,i,!0)})}return this.location.moveTo(t,e),this}},{key:"move",value:function(t,e,n){return n&&this.childEdges.forEach(function(n){return n.childNode.move(t,e,!0)}),this.location.move(t,e),this}}]),e}()},{"../object-with-computed-values":44,"../point":46}],43:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TerminalNode=void 0;var r=t("./node");(n.TerminalNode=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.$TYPE,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Node),e}()).$TYPE="terminal"},{"./node":42}],44:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectWithComputedValues=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t("sd-utils"),o=t("./object-with-id-and-editable-fields");function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}n.ObjectWithComputedValues=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,o=Array(i),u=0;u<i;u++)o[u]=arguments[u];return n=r=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),r.computed={},a(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ObjectWithIdAndEditableFields),r(e,[{key:"computedValue",value:function(t,e,n){var r="computed.";return t&&(r+=t+"."),r+=e,void 0===n?i.Utils.get(this,r,null):(i.Utils.set(this,r,n),n)}},{key:"clearComputedValues",value:function(t){var e=this;void 0!=t?i.Utils.isArray(t)?t.forEach(function(t){e.computed[t]={}}):this.computed[t]={}:this.computed={}}},{key:"clearDisplayValues",value:function(){this.computed.$displayValues={}}},{key:"displayValue",value:function(t,e){return this.computedValue(null,"$displayValues."+t,e)}},{key:"loadComputedValues",value:function(t){this.computed=i.Utils.cloneDeep(t)}}]),e}()},{"./object-with-id-and-editable-fields":45,"sd-utils":50}],45:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectWithIdAndEditableFields=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t("sd-utils");n.ObjectWithIdAndEditableFields=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$id=i.Utils.guid(),this.$fieldStatus={}}return r(t,[{key:"getFieldStatus",value:function(t){return i.Utils.get(this.$fieldStatus,t,null)||i.Utils.set(this.$fieldStatus,t,{valid:{syntax:!0,value:!0}}),i.Utils.get(this.$fieldStatus,t)}},{key:"setSyntaxValidity",value:function(t,e){this.getFieldStatus(t).valid.syntax=e}},{key:"setValueValidity",value:function(t,e){this.getFieldStatus(t).valid.value=e}},{key:"isFieldValid",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.getFieldStatus(t);return e&&n?r.valid.syntax&&r.valid.value:e?r.valid.syntax:r.valid.value}}]),t}()},{"sd-utils":50}],46:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n.Point=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e instanceof t?(n=e.y,e=e.x):Array.isArray(e)&&(n=e[1],e=e[0]),this.x=e,this.y=n}return r(t,[{key:"moveTo",value:function(t,e){return Array.isArray(t)&&(e=t[1],t=t[0]),this.x=t,this.y=e,this}},{key:"move",value:function(t,e){return Array.isArray(t)&&(e=t[1],t=t[0]),this.x+=t,this.y+=e,this}}]),t}()},{}],47:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Text=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t("./point"),o=(t("sd-utils"),t("./object-with-id-and-editable-fields"));n.Text=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.value="",r.location=t,t||(r.location=new i.Point(0,0)),n&&(r.value=n),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ObjectWithIdAndEditableFields),r(e,[{key:"moveTo",value:function(t,e){return this.location.moveTo(t,e),this}},{key:"move",value:function(t,e){return this.location.move(t,e),this}}]),e}()},{"./object-with-id-and-editable-fields":45,"./point":46,"sd-utils":50}],48:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.domain=void 0;var r=t("./data-model");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var i=t("./validation-result");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("./domain"));n.domain=o},{"./data-model":37,"./domain":39,"./validation-result":49}],49:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ValidationResult=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t("sd-utils");n.ValidationResult=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors={},this.warnings={},this.objectIdToError={}}return r(t,[{key:"addError",value:function(t,e){i.Utils.isString(t)&&(t={name:t});var n=t.name,r=this.errors[n];r||(r=[],this.errors[n]=r);var o=this.objectIdToError[e.$id];o||(o=[],this.objectIdToError[e.$id]=o),r.push(e),o.push(t)}},{key:"addWarning",value:function(t,e){var n=this.warnings[t];n||(n=[],this.warnings[t]=n),n.push(e)}},{key:"isValid",value:function(){return 0===Object.getOwnPropertyNames(this.errors).length}}],[{key:"createFromDTO",value:function(e){var n=new t;return n.errors=e.errors,n.warnings=e.warnings,n.objectIdToError=e.objectIdToError,n}}]),t}()},{"sd-utils":50}],50:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("loglevel");Object.defineProperty(n,"log",{enumerable:!0,get:function(){return(t=r,t&&t.__esModule?t:{default:t}).default;var t}});var i=t("./src/utils");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})})},{"./src/utils":51,loglevel:35}],51:[function(t,e,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("lodash"));function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=n.Utils=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return o(t,null,[{key:"deepExtend",value:function(t){!t&&arguments.length>1&&Array.isArray(arguments[1])&&(t=[]),t=t||{};for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var r in n)if(n.hasOwnProperty(r)){var i=Array.isArray(t[r]),o=this.isObject(t[r]),a=this.isObject(n[r]);o&&!i&&a?this.deepExtend(t[r],n[r]):t[r]=n[r]}}return t}},{key:"extend",value:function(t,e){var n;for(n in t||(t={}),e)t[n]=e[n];return t}},{key:"mergeDeep",value:function(e,n){var r=i({},e);return t.isObjectNotArray(e)&&t.isObjectNotArray(n)&&Object.keys(n).forEach(function(o){t.isObjectNotArray(n[o])&&o in e?r[o]=t.mergeDeep(e[o],n[o]):i(r,u({},o,n[o]))}),r}},{key:"getVariablesAsList",value:function(e){var n=[];return a.forOwn(e,function(e,r){t.isFunction(e)||n.push({key:r,value:e})}),n}},{key:"cross",value:function(t,e){var n,r,i=[],o=t.length,a=e.length;for(n=-1;++n<o;)for(r=-1;++r<a;)i.push({x:t[n],i:n,y:e[r],j:r});return i}},{key:"isObjectNotArray",value:function(t){return t&&"object"===(void 0===t?"undefined":r(t))&&!Array.isArray(t)&&null!==t}},{key:"isArray",value:function(t){return Array.isArray(t)}},{key:"isObject",value:function(t){return null!==t&&"object"===(void 0===t?"undefined":r(t))}},{key:"isNumber",value:function(t){return!isNaN(t)&&"number"==typeof t}},{key:"isNumeric",value:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},{key:"isInt",value:function(e){return t.isNumber(e)&&e%1==0}},{key:"isFunction",value:function(t){return"function"==typeof t}},{key:"isDate",value:function(t){return"[object Date]"===Object.prototype.toString.call(t)}},{key:"isString",value:function(t){return"string"==typeof t||t instanceof String}},{key:"guid",value:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},{key:"capitalizeFirstLetter",value:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},{key:"getObjectByIdMap",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$id",r={};return t?(t.forEach(function(t){var i=t;e&&(i=e(t)),r[t[n]]=i}),r):r}},{key:"waitForFinalEvent",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return n||(n="Don't call this twice without a uniqueId"),t.timers[n]&&clearTimeout(t.timers[n]),t.timers[n]=setTimeout(e,r),function(){return clearTimeout(t.timers[n])}}},{key:"detectIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}return!1}},{key:"detectEdge",value:function(){var t=window.navigator.userAgent,e=t.indexOf("Edge/");return e>0&&parseInt(t.substring(e+5,t.indexOf(".",e)),10)}},{key:"stripNumberToPrec",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return parseFloat(parseFloat(t).toPrecision(e))}},{key:"getGlobalObject",value:function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{}}},{key:"isWorker",value:function(){var e=t.getGlobalObject();return!e.document&&!!e.postMessage}},{key:"stringify",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["$"],o=[];return JSON.stringify(e,function(e,u){if(u===1/0)return"Infinity";if(u===-1/0)return"-Infinity";if(!i||!i.some(function(t){return a.startsWith(e,t)})){if("object"===(void 0===u?"undefined":r(u))&&null!==u){if(-1!==o.indexOf(u))return;o.push(u)}if(n){if(!t.isArray(n))return n(e,u);n.forEach(function(t){u=t(e,u)})}return u}},2)}},{key:"compareVersionNumbers",value:function(e,n){var r=e.split("."),i=n.split(".");function o(e){for(var n=0;n<e.length;++n)if(!t.isPositiveInteger(e[n]))return!1;return!0}if(!o(r)||!o(i))return NaN;for(var a=0;a<r.length;++a){if(i.length===a)return 1;if(r[a]!==i[a])return r[a]>i[a]?1:-1}return r.length!=i.length?-1:0}},{key:"isPositiveInteger",value:function(t){return/^\d+$/.test(t)}},{key:"isValidVersionString",value:function(e){return!!t.isString(e)&&t.versionRegexp.test(e)}},{key:"makeIterator",value:function(t){var e=0;return{next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0}}}}},{key:"isUnique",value:function(t,e){return t.length===new Set(t.map(e)).size}},{key:"getErrorDTO",value:function(t){return t?{name:t.constructor.name,message:t.message,data:t.data}:t}},{key:"cartesianProductOf",value:function(e){return t.reduce(e,function(e,n){return t.flatten(t.map(e,function(e){return t.map(n,function(t){return e.concat([t])})}),!0)},[[]])}},{key:"indexesOf",value:function(t,e){return t.reduce(function(t,n,r){return n===e?t.concat(r):t},[])}},{key:"startsWith",value:function(){return a.startsWith.apply(a,arguments)}},{key:"isBoolean",value:function(){return a.isBoolean.apply(a,arguments)}},{key:"find",value:function(){return a.find.apply(a,arguments)}},{key:"fill",value:function(){return a.fill.apply(a,arguments)}},{key:"assign",value:function(){return a.assign.apply(a,arguments)}},{key:"cloneDeep",value:function(){return a.cloneDeep.apply(a,arguments)}},{key:"clone",value:function(){return a.clone.apply(a,arguments)}},{key:"cloneDeepWith",value:function(){return a.cloneDeepWith.apply(a,arguments)}},{key:"cloneWith",value:function(){return a.cloneWith.apply(a,arguments)}},{key:"mergeWith",value:function(){return a.mergeWith.apply(a,arguments)}},{key:"forOwn",value:function(){return a.forOwn.apply(a,arguments)}},{key:"get",value:function(){return a.get.apply(a,arguments)}},{key:"set",value:function(){return a.set.apply(a,arguments)}},{key:"reduce",value:function(){return a.reduce.apply(a,arguments)}},{key:"flatten",value:function(){return a.flatten.apply(a,arguments)}},{key:"map",value:function(){return a.map.apply(a,arguments)}},{key:"maxBy",value:function(){return a.maxBy.apply(a,arguments)}},{key:"minBy",value:function(){return a.minBy.apply(a,arguments)}},{key:"debounce",value:function(){return a.debounce.apply(a,arguments)}},{key:"template",value:function(){return a.template.apply(a,arguments)}},{key:"round",value:function(){return a.round.apply(a,arguments)}},{key:"sortBy",value:function(){return a.sortBy.apply(a,arguments)}}]),t}();s.SQRT_2=1.41421356237,s.timers={},s.versionRegexp=/^([0-9]+)\.([0-9]+)\.([0-9]+)$/}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{lodash:34}],52:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AppUtils=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("./d3")),o=t("./templates"),a=t("./i18n/i18n"),u=t("sd-utils");var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"placeTextWithEllipsis",value:function(t,e,n){var r=t.node();r.textContent=e;if(r.getComputedTextLength()>n+0){for(var i=e.length-3;i>0;i-=1)if(r.getSubStringLength(0,i)+9<=n+0)return r.textContent=e.substring(0,i)+"...",!0;return r.textContent="...",!0}return!1}},{key:"placeTextWithEllipsisAndTooltip",value:function(e,n,r,o){t.placeTextWithEllipsis(e,n,r)&&o&&(e.on("mouseover",function(t){o.transition().duration(200).style("opacity",.9),o.html(n).style("left",i.event.pageX+5+"px").style("top",i.event.pageY-28+"px")}),e.on("mouseout",function(t){o.transition().duration(500).style("opacity",0)}))}},{key:"getFontSize",value:function(t){return window.getComputedStyle(t,null).getPropertyValue("font-size")}},{key:"getTranslation",value:function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttributeNS(null,"transform",t);var n=e.transform.baseVal.consolidate().matrix;return[n.e,n.f]}},{key:"closestPoint",value:function(t,e){for(var n,r,i,o,a=t.getTotalLength(),u=8,s=1/0,l=0;l<=a;l+=u)(o=g(i=t.getPointAtLength(l)))<s&&(n=i,r=l,s=o);for(u/=2;u>.5;){var c,f,h,d,p,v;(h=r-u)>=0&&(p=g(c=t.getPointAtLength(h)))<s?(n=c,r=h,s=p):(d=r+u)<=a&&(v=g(f=t.getPointAtLength(d)))<s?(n=f,r=d,s=v):u/=2}return(n=[n.x,n.y]).distance=Math.sqrt(s),n;function g(t){var n=t.x-e[0],r=t.y-e[1];return n*n+r*r}}},{key:"growl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"right",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3,a=o.Templates.get("growl",{message:t,type:e}),u=i.select("body").selectOrAppend("div.sd-growl-list."+n).append("div").html(a);setTimeout(function(){u.remove()},r)}},{key:"createElement",value:function(e,n,r){var i=document.createElement(e);return n&&t.deepExtend(i,n),r&&r.appendChild(i),i}},{key:"removeElement",value:function(t){t.parentNode.removeChild(t)}},{key:"replaceUrls",value:function(t){if(!t)return t;return t.replace(/((ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?)/,'<a href="$1" target="_blank">$1</a>')}},{key:"escapeHtml",value:function(t){var e=document.createTextNode(t),n=document.createElement("div");return n.appendChild(e),n.innerHTML}},{key:"dispatchHtmlEvent",value:function(t,e){if("createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent(e,!1,!0),t.dispatchEvent(n)}else t.fireEvent("on"+e)}},{key:"dispatchEvent",value:function(t,e){var n;try{n=new CustomEvent(t,{detail:e})}catch(r){(n=document.createEvent("CustomEvent")).initCustomEvent(t,!1,!1,e)}document.dispatchEvent(n)}},{key:"getValidationMessage",value:function(t){u.Utils.isString(t)&&(t={name:t});var e="validation."+t.name;return a.i18n.t(e,t.data)}},{key:"hide",value:function(t){t.classed("sd-hidden",!0)}},{key:"show",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.classed("sd-hidden",!e)}},{key:"isHidden",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!t||(e?"none"===window.getComputedStyle(t).display:null===t.offsetParent)}},{key:"getJSON",value:function(t,e){var n=new XMLHttpRequest;n.open("get",t,!0),n.responseType="json",n.onload=function(){var t=n.status;200==t?e(n.response,null):e(null,t)},n.send()}}]),t}();n.AppUtils=s,s.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},s.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},s.availableHeight=function(t,e,n){return Math.max(0,s.sanitizeHeight(t,e)-n.top-n.bottom)},s.availableWidth=function(t,e,n){return Math.max(0,s.sanitizeWidth(t,e)-n.left-n.right)}},{"./d3":59,"./i18n/i18n":63,"./templates":71,"sd-utils":50}],53:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ContextMenu=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("../d3"));n.ContextMenu=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=this;return"function"==typeof n?r.openCallback=n:(n=n||{},r.openCallback=n.onOpen,r.closeCallback=n.onClose),i.selectAll(".d3-context-menu").data([1]).enter().append("div").attr("class","d3-context-menu"),i.select("body").on("click.d3-context-menu",function(){i.select(".d3-context-menu").style("display","none"),r.closeCallback&&r.closeCallback()}),function(t,n){var o=this;i.selectAll(".d3-context-menu").html(""),i.selectAll(".d3-context-menu").on("contextmenu",function(t){i.select(".d3-context-menu").style("display","none"),i.event.preventDefault(),i.event.stopPropagation()}).append("ul").selectAll("li").data("function"==typeof e?e(t):e).enter().append("li").attr("class",function(t){var e="";return t.divider&&(e+=" is-divider"),t.disabled&&(e+=" is-disabled"),t.action||(e+=" is-header"),e}).html(function(e){return e.divider?"<hr>":(e.title||console.error("No title attribute set. Check the spelling of your options."),"string"==typeof e.title?e.title:e.title(t))}).on("click",function(e,a){e.disabled||e.action&&(e.action(o,t,n),i.select(".d3-context-menu").style("display","none"),r.closeCallback&&r.closeCallback())}),r.openCallback&&!1===r.openCallback(t,n)||(i.select(".d3-context-menu").style("left",i.event.pageX-2+"px").style("top",i.event.pageY-2+"px").style("display","block"),i.event.preventDefault(),i.event.stopPropagation())}}return r(t,null,[{key:"hide",value:function(){i.select(".d3-context-menu").style("display","none")}}]),t}()},{"../d3":59}],54:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(n,"__esModule",{value:!0}),n.EdgeContextMenu=void 0;var i=t("./context-menu"),o=t("../i18n/i18n");n.EdgeContextMenu=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":r(e))&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,function(e){var n=[];return n.push({title:o.i18n.t("contextMenu.edge.injectDecisionNode"),action:function(e,n,r){t.injectDecisionNode(n)}}),n.push({title:o.i18n.t("contextMenu.edge.injectChanceNode"),action:function(e,n,r){t.injectChanceNode(n)}}),n}));return n.treeDesigner=t,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":r(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ContextMenu),e}()},{"../i18n/i18n":63,"./context-menu":53}],55:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(n,"__esModule",{value:!0}),n.MainContextMenu=void 0;var i=t("./context-menu"),o=t("sd-model"),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("../d3")),u=t("../i18n/i18n");n.MainContextMenu=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=null,i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":r(e))&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,function(e){var r=[];return r.push({title:u.i18n.t("contextMenu.main.addDecisionNode"),action:function(e,r,i){var a=new o.domain.DecisionNode(n);t.addNode(a)}}),r.push({title:u.i18n.t("contextMenu.main.addChanceNode"),action:function(e,r,i){var a=new o.domain.ChanceNode(n);t.addNode(a)}}),r.push({divider:!0}),r.push({title:u.i18n.t("contextMenu.main.addText"),action:function(e,r,i){var a=new o.domain.Text(n);t.addText(a)}}),r.push({divider:!0}),r.push({title:u.i18n.t("contextMenu.main.paste"),action:function(e,r,i){t.pasteToNewLocation(n)},disabled:!t.copiedNodes||!t.copiedNodes.length}),r.push({divider:!0}),r.push({title:u.i18n.t("contextMenu.main.selectAllNodes"),action:function(e,n,r){t.selectAllNodes()}}),r},{onOpen:function(){t.clearSelection(),n=new o.domain.Point(a.mouse(t.svg.node())).move(t.getMainGroupTranslation(!0))}}));return i.treeDesigner=t,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":r(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ContextMenu),e}()},{"../d3":59,"../i18n/i18n":63,"./context-menu":53,"sd-model":36}],56:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(n,"__esModule",{value:!0}),n.NodeContextMenu=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("./context-menu"),a=t("sd-model"),u=t("../i18n/i18n");n.NodeContextMenu=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":r(e))&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,function(r){var i={title:u.i18n.t("contextMenu.node.copy"),action:function(e,n,r){t.selectNode(n,!t.isNodeSelected(n)),t.copySelectedNodes()}},o={title:u.i18n.t("contextMenu.node.cut"),action:function(e,n,r){t.selectNode(n,!t.isNodeSelected(n)),t.cutSelectedNodes()}},s={title:u.i18n.t("contextMenu.node.paste"),action:function(e,n,r){t.pasteToNode(n)},disabled:r.folded||!t.copiedNodes||!t.copiedNodes.length},l={title:u.i18n.t("contextMenu.node.delete"),action:function(e,n,r){t.selectNode(n,!t.isNodeSelected(n)),t.removeSelectedNodes()}},c=[];if(r.type==a.domain.TerminalNode.$TYPE)return c=[i,o,l],e.addNodeConversionOptions(r,c,t),c;if(r.folded||(c.push({title:u.i18n.t("contextMenu.node.addDecisionNode"),action:function(e,n,r){t.addDecisionNode(n)}}),c.push({title:u.i18n.t("contextMenu.node.addChanceNode"),action:function(e,n,r){t.addChanceNode(n)}}),c.push({title:u.i18n.t("contextMenu.node.addTerminalNode"),action:function(e,n,r){t.addTerminalNode(n)}}),c.push({divider:!0})),c.push(i),c.push(o),c.push(s),c.push(l),e.addNodeConversionOptions(r,c,t),c.push({divider:!0}),c.push({title:u.i18n.t("contextMenu.node.selectSubtree"),action:function(e,n,r){t.selectSubTree(n,!0)}}),r.folded?c.push({title:u.i18n.t("contextMenu.node.unfold"),action:function(e,n,r){t.foldSubtree(n,!1)}}):c.push({title:u.i18n.t("contextMenu.node.fold"),action:function(e,n,r){t.foldSubtree(n)}}),n){var f=n(r);f.length&&(c.push({divider:!0}),f.forEach(function(e){c.push({title:u.i18n.t("contextMenu.node."+e.name),action:function(n,r,i){t.performOperation(r,e)},disabled:!e.canPerform(r)})}))}return c}));return i.treeDesigner=t,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":r(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ContextMenu),i(e,null,[{key:"addNodeConversionOptions",value:function(t,n,r){var i=e.getNodeConversionOptions(t,r);i.length&&(n.push({divider:!0}),i.forEach(function(t){return n.push(t)}))}},{key:"getNodeConversionOptions",value:function(t,n){var r=[];if(t.folded)return[];var i=[a.domain.DecisionNode.$TYPE,a.domain.ChanceNode.$TYPE,a.domain.TerminalNode.$TYPE];return!t.childEdges.length&&t.$parent?i.filter(function(e){return e!==t.type}).forEach(function(t){r.push(e.getNodeConversionOption(t,n))}):t instanceof a.domain.DecisionNode?r.push(e.getNodeConversionOption(a.domain.ChanceNode.$TYPE,n)):r.push(e.getNodeConversionOption(a.domain.DecisionNode.$TYPE,n)),r}},{key:"getNodeConversionOption",value:function(t,e){return{title:u.i18n.t("contextMenu.node.convert."+t),action:function(n,r,i){e.convertNode(r,t)}}}}]),e}()},{"../i18n/i18n":63,"./context-menu":53,"sd-model":36}],57:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(n,"__esModule",{value:!0}),n.TextContextMenu=void 0;var i=t("./context-menu"),o=t("../i18n/i18n");n.TextContextMenu=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":r(e))&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,function(e){var n={title:o.i18n.t("contextMenu.text.delete"),action:function(e,n,r){t.selectText(n,!0,!0),t.removeSelectedTexts()}},r=[];return r.push(n),r}));return n.treeDesigner=t,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":r(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ContextMenu),e}()},{"../i18n/i18n":63,"./context-menu":53}],58:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.D3Extensions=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("./d3"));n.D3Extensions=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"extend",value:function(){i.selection.prototype.enter.prototype.insertSelector=i.selection.prototype.insertSelector=function(e,n){return t.insertSelector(this,e,n)},i.selection.prototype.enter.prototype.appendSelector=i.selection.prototype.appendSelector=function(e){return t.appendSelector(this,e)},i.selection.prototype.enter.prototype.selectOrAppend=i.selection.prototype.selectOrAppend=function(e){return t.selectOrAppend(this,e)},i.selection.prototype.enter.prototype.selectOrInsert=i.selection.prototype.selectOrInsert=function(e,n){return t.selectOrInsert(this,e,n)}}},{key:"insertOrAppendSelector",value:function(t,e,n,r){for(var i=e.split(/([\.\#])/),o=t[n](i.shift(),r);i.length>1;){var a=i.shift(),u=i.shift();"."===a?o=o.classed(u,!0):"#"===a&&(o=o.attr("id",u))}return o}},{key:"insertSelector",value:function(e,n,r){return t.insertOrAppendSelector(e,n,"insert",r)}},{key:"appendSelector",value:function(e,n){return t.insertOrAppendSelector(e,n,"append")}},{key:"selectOrAppend",value:function(e,n,r){var i=e.select(n);return i.empty()?r?e.append(r):t.appendSelector(e,n):i}},{key:"selectOrInsert",value:function(e,n,r){var i=e.select(n);return i.empty()?t.insertSelector(e,n,r):i}}]),t}()},{"./d3":59}],59:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("d3-dispatch");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var i=t("d3-scale");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("d3-selection");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var a=t("d3-shape");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}})});var u=t("d3-drag");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})});var s=t("d3-brush");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})});var l=t("d3-array");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return l[t]}})});var c=t("d3-hierarchy");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return c[t]}})});var f=t("d3-time-format");Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return f[t]}})})},{"d3-array":1,"d3-brush":2,"d3-dispatch":5,"d3-drag":6,"d3-hierarchy":9,"d3-scale":12,"d3-selection":13,"d3-shape":14,"d3-time-format":15}],60:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Entscheidungsknoten hinzufügen",addChanceNode:"Zufall Knoten hinzufügen",addText:"Text hinzufügen ",paste:"Einfügen",selectAllNodes:"Alle Knoten auswählen"},node:{copy:"Kopieren",cut:"Ausschneiden",paste:"Einfügen",delete:"Löschen",addDecisionNode:"Entscheidungsknoten hinzufügen",addChanceNode:"Zufall Knoten hinzufügen",addTerminalNode:"Endknotten hinzufügen",convert:{decision:"Als Entscheidungsknoten",chance:"Als Zufall Knoten",terminal:"Als Endknoten"},selectSubtree:"Teilbaum wählen",fold:"Teilbaum falten",unfold:"Teilbaum entfalten",flipSubtree:"Teilbaum umdrehen"},edge:{injectDecisionNode:"Entscheidungsknoten Injizieren",injectChanceNode:"Zufall Knoten Injizieren"},text:{delete:"Löschen"}},validation:{incompletePath:"Pfad, der nicht mit dem Endknoten endet",probabilityDoNotSumUpTo1:"Die Summe der Wahrscheinlichkeiten ist nicht gleich 1",invalidProbability:"Ungültige Wahrscheinlichkeit im Zweig #{{number}}",invalidPayoff:"Ungültige Auszahlung in Zweig #{{number}}"},growl:{brushDisabled:"Auswahlbürste deaktiviert",brushEnabled:"Auswahlbürste aktiviert"},tooltip:{node:{payoff:{default:"Auszahlung {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Aggregierte Auszahlung {{number}}",named:"Aggregierte {{name}}"},probabilityToEnter:"Wahrscheinlichkeit"},edge:{payoff:{default:"Auszahlung {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Wahrscheinlichkeit: {{value}}"}}}},{}],61:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Add Decision Node",addChanceNode:"Add Chance Node",addText:"Add Text",paste:"Paste",selectAllNodes:"Select all nodes"},node:{copy:"Copy",cut:"Cut",paste:"Paste",delete:"Delete",addDecisionNode:"Add Decision Node",addChanceNode:"Add Chance Node",addTerminalNode:"Add Terminal Node",convert:{decision:"As Decision Node",chance:"As Chance Node",terminal:"As Terminal Node"},selectSubtree:"Select subtree",fold:"Fold subtree",unfold:"Unfold subtree",flipSubtree:"Flip subtree"},edge:{injectDecisionNode:"Inject Decision Node",injectChanceNode:"Inject Chance Node"},text:{delete:"Delete"}},validation:{incompletePath:"Path not ending with terminal node",probabilityDoNotSumUpTo1:"Probabilities do not sum up to 1",invalidProbability:"Invalid probability in edge #{{number}}",invalidPayoff:"Invalid payoff in edge #{{number}}"},growl:{brushDisabled:"Selection brush disabled",brushEnabled:"Selection brush enabled"},tooltip:{node:{payoff:{default:"Payoff {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Aggregated Payoff {{number}}",named:"Aggregated {{name}}"},probabilityToEnter:"Probability to enter"},edge:{payoff:{default:"Payoff {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Probability: {{value}}"}}}},{}],62:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Ajouter noud de décision",addChanceNode:"Ajouter noud aléatoire",addText:"Ajouter du texte",paste:"Coller",selectAllNodes:"Sélectionner tous les nouds"},node:{copy:"Copie",cut:"Couper",paste:"Coller",delete:"Effacer",addDecisionNode:"Ajouter noud de décision",addChanceNode:"Ajouter noud aléatoire",addTerminalNode:"Ajouter un noeud terminal",convert:{decision:"Comme noud de décision",chance:"Comme noud aléatoire",terminal:"Comme un noeud terminal"},selectSubtree:"Sélectionner une sous-arborescence",fold:"Plier sous-arbre",unfold:"Déplier arbre sous-arbre",flipSubtree:"Basculer sous-arbre"},edge:{injectDecisionNode:"Injecter un noeud de décision",injectChanceNode:"Injecter un noeud de chance"},text:{delete:"Effacer"}},validation:{incompletePath:"Parcours non terminé par noeud terminal",probabilityDoNotSumUpTo1:"La somme des probabilités n'est pas 1 ou plus",invalidProbability:"Probabilité invalide - le bord #{{number}}",invalidPayoff:"Avantage invalide - le bord #{{number}}"},growl:{brushDisabled:"Brosse de sélection désactivée",brushEnabled:"Brosse de sélection activée"},tooltip:{node:{payoff:{default:"Avantage {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Avantage agrégé {{number}}",named:"Agrégé  {{name}}"},probabilityToEnter:"Probabilité d'entrée"},edge:{payoff:{default:"Avantage {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Probabilité: {{value}}"}}}},{}],63:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.i18n=void 0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("i18next"),a=(r=o)&&r.__esModule?r:{default:r},u=h(t("./en.json")),s=h(t("./pl.json")),l=h(t("./it.json")),c=h(t("./de.json")),f=h(t("./fr.json"));function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}n.i18n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,null,[{key:"init",value:function(e){t.language=e;var n={en:{translation:u},pl:{translation:s},it:{translation:l},de:{translation:c},fr:{translation:f}};t.$instance=a.default.createInstance({lng:e,fallbackLng:"en",resources:n},function(t,e){})}},{key:"t",value:function(e,n){return t.$instance.t(e,n)}}]),t}()},{"./de.json":60,"./en.json":61,"./fr.json":62,"./it.json":64,"./pl.json":65,i18next:33}],64:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Aggiungi un nodo di decisione",addChanceNode:"Aggiungi un nodo opportunità",addText:"Aggiungi testo",paste:"Incolla",selectAllNodes:"Seleziona tutti i nodi"},node:{copy:"Copia",cut:"Taglia",paste:"Incolla",delete:"Cancella",addDecisionNode:"Aggiungi un nodo di decisione",addChanceNode:"Aggiungi un nodo opportunità",addTerminalNode:"Aggiungi un nodo terminale",convert:{decision:"Come Decision Node",chance:"Come Chance Node",terminal:"Come Terminal Node"},selectSubtree:"Seleziona Sotto-albero",fold:"Piega sotto-albero",unfold:"Dispiegarsi sotto-albero",flipSubtree:"Ribalta sotto-albero"},edge:{injectDecisionNode:"Inietta nodo di decisione",injectChanceNode:"Inietta nodo opportunità"},text:{delete:"Cancella"}},validation:{incompletePath:"Percorso senza nodo terminale",probabilityDoNotSumUpTo1:"La somma delle probabilità è diversa da 1",invalidProbability:"Probabilità non valida - bordo #{{number}}",invalidPayoff:"Saldo non valido - bordo #{{number}}"},growl:{brushDisabled:"Selezione pennello disabilitata",brushEnabled:"Selezione pennello abilitata"},tooltip:{node:{payoff:{default:"Saldo {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Saldo aggregato {{number}}",named:"Aggregato {{name}}"},probabilityToEnter:"Probabilità da inserire"},edge:{payoff:{default:"Saldo {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Probabilità: {{value}}"}}}},{}],65:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Dodaj Węzeł Decyzyjny",addChanceNode:"Dodaj Węzeł Losowy",addText:"Dodaj Tekst",paste:"Wklej",selectAllNodes:"Zaznacz wszystkie węzły"},node:{copy:"Kopiuj",cut:"Wytnij",paste:"Wklej",delete:"Usuń",addDecisionNode:"Dodaj Węzeł Decyzyjny",addChanceNode:"Dodaj Węzeł Losowy",addTerminalNode:"Dodaj Węzeł Końcowy",convert:{decision:"Jako Węzeł Decyzyjny",chance:"Jako Węzeł Losowy",terminal:"Jako Węzeł Końcowy"},selectSubtree:"Zaznacz poddrzewo",fold:"Zwiń poddrzewo",unfold:"Rozwiń poddrzewo",flipSubtree:"Przewróć poddrzewo"},edge:{injectDecisionNode:"Wstrzyknij Węzeł Decyzyjny",injectChanceNode:"Wstrzyknij Węzeł Losowy"},text:{delete:"Usuń"}},validation:{incompletePath:"Ostatnim węzłem w ścieżce powinien być Węzeł Końcowy",probabilityDoNotSumUpTo1:"Prawdopodobieństwa nie sumują sie do 1",invalidProbability:"Niepoprawne prawdopodobieństwo na krawędzi #{{number}}",invalidPayoff:"Niepoprawna wypłata na krawędzi #{{number}}"},growl:{brushDisabled:"Zaznaczanie wyłączone",brushEnabled:"Zaznaczanie włączone"},tooltip:{node:{payoff:{default:"Wypłata {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Zagregowana wypłata {{number}}",named:"Zagregowana {{name}}"},probabilityToEnter:"Prawdopodobieństwo wejścia"},edge:{payoff:{default:"Wypłata {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Prawdopodobieństwo: {{value}}"}}}},{}],66:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.d3=void 0;var r=t("./tree-designer");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var i=t("./app-utils");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("./templates");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var a=t("./tooltip");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}})});var u=t("./d3-extensions");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})});var s=t("./d3");Object.defineProperty(n,"d3",{enumerable:!0,get:function(){return(t=s,t&&t.__esModule?t:{default:t}).default;var t}}),u.D3Extensions.extend()},{"./app-utils":52,"./d3":59,"./d3-extensions":58,"./templates":71,"./tooltip":74,"./tree-designer":75}],67:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Layout=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t("sd-utils"),o=t("sd-model"),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("./d3")),u=c(t("./symbols/circle")),s=c(t("./symbols/triangle")),l=t("./app-utils");function c(t){return t&&t.__esModule?t:{default:t}}(n.Layout=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nodeTypeToSymbol={decision:a.symbolSquare,chance:u.default,terminal:s.default},this.onAutoLayoutChanged=[],this.nodeTypeOrder={decision:0,chance:0,terminal:1},this.treeMargin=50,this.targetSymbolSize={},this.nodeSeparation=function(t,e){return t.parent===e.parent?1:1.2},this.nodeSymbolSize={},this.treeDesigner=e,this.data=n,this.config=r}return r(t,[{key:"update",value:function(t){if(t&&t.$parent&&t.$parent.childEdges.sort(function(t,e){return t.childNode.location.y-e.childNode.location.y}),!this.isManualLayout())return this.autoLayout(this.config.type,!0);t?this.moveNodeToEmptyPlace(t):this.treeDesigner.redraw(!0)}},{key:"isManualLayout",value:function(){return this.config.type===t.MANUAL_LAYOUT_NAME}},{key:"getNewChildLocation",value:function(t){if(!t)return new o.domain.Point(this.getNodeMinX(),this.getNodeMinY());var e=t.location.x+this.config.gridWidth,n=t.location.y;return t.childEdges.length&&(n=t.childEdges[t.childEdges.length-1].childNode.location.y+1),new o.domain.Point(e,n)}},{key:"getInjectedNodeLocation",value:function(t){var e=t.$linePoints[2];return new o.domain.Point(e[0],e[1])}},{key:"moveNodeToEmptyPlace",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;function r(t,e){return i.Utils.find(n.nodesSortedByX,function(r){if(t==r)return!1;var i=n.config.nodeSize/3,o=r.location.x,a=r.location.y;return e.x-i<=o&&e.x+i>=o&&e.y-i<=a&&e.y+i>=a})}t.location.x=Math.max(this.getNodeMinX(t),t.location.x),t.location.y=Math.max(this.getNodeMinY(t),t.location.y),this.nodesSortedByX=this.data.nodes.slice(),this.nodesSortedByX.sort(function(t,e){return t.location.x-e.location.x});for(var a,u=this.config.nodeSize/2,s=this.config.nodeSize+10,l=!1,c=new o.domain.Point(t.location);a=r(t,c);){l=!0,t.$parent&&a.$parent&&t.$parent===a.$parent?c.move(0,75):c.move(u,s)}l&&(t.moveTo(c.x,c.y,!0),e&&this.treeDesigner.redraw(!0))}},{key:"disableAutoLayout",value:function(){this.config.type=t.MANUAL_LAYOUT_NAME,this._fireOnAutoLayoutChangedCallbacks()}},{key:"drawNodeSymbol",value:function(t,e){var n=this,r=this.config.nodeSize;this.nodeSymbol=a.symbol().type(function(t){return n.nodeTypeToSymbol[t.type]}).size(function(t){return n.nodeSymbolSize[t.$id]?i.Utils.get(n.targetSymbolSize,t.type+"['"+n.config.nodeSize+"']",64):64}),t.each(function(t){var o=a.select(this);o.attr("d")||o.attr("d",n.nodeSymbol);var u=i.Utils.get(n.targetSymbolSize,t.type+"['"+n.config.nodeSize+"']");if(!u){var s=o.node().getBBox(),l=Math.min(r/s.width,r/s.height);u=l*l*(n.nodeSymbolSize[t.$id]||64),i.Utils.set(n.targetSymbolSize,t.type+"['"+n.config.nodeSize+"']",u)}e?o=o.transition():n.nodeSymbolSize[t.$id]=u,o.attr("d",n.nodeSymbol),e&&(n.nodeSymbolSize[t.$id]=u)})}},{key:"nodeLabelPosition",value:function(t){return t.attr("x",0).attr("y",-this.config.nodeSize/2-7)}},{key:"nodePayoffPosition",value:function(e){return t.setHangingPosition(e).attr("x",0).attr("y",this.config.nodeSize/2+7).attr("text-anchor","middle")}},{key:"nodeAggregatedPayoffPosition",value:function(t){var e=this.config.nodeSize/2+7,n=this;return t.attr("x",e).attr("y",function(t){var e=parseInt(l.AppUtils.getFontSize(this)),r=t.displayValue("aggregatedPayoff");return(i.Utils.isArray(r)?r.filter(function(t){return void 0!==t}).length:1)>1?-this.getBBox().height/2+e/2:-Math.max(2,1.8*n.config.nodeSize/e)}),t.selectAll("tspan").attr("x",e),t}},{key:"nodeProbabilityToEnterPosition",value:function(e){var n=this;return t.setHangingPosition(e).attr("x",this.config.nodeSize/2+7).attr("y",function(t){var e=parseInt(l.AppUtils.getFontSize(this)),r=t.displayValue("aggregatedPayoff");return(i.Utils.isArray(r)?r.filter(function(t){return void 0!==t}).length:1)>1?.6*e:Math.max(2,1.8*n.config.nodeSize/e)})}},{key:"nodeIndicatorPosition",value:function(t){return t.attr("x",this.config.nodeSize/2+8).attr("y",-this.config.nodeSize/2).attr("dominant-baseline","central").attr("text-anchor","middle")}},{key:"nodeUnfoldButtonPosition",value:function(t){return t.attr("x",this.config.nodeSize/2+5).attr("y",0).attr("dominant-baseline","central")}},{key:"edgeLineD",value:function(t){var e=a.line().x(function(t){return t[0]}).y(function(t){return t[1]}),n=t.parentNode,r=t.childNode,i=r.location.x-n.location.x,o=(r.location.y,n.location.y,i>=0?1:-1),u=Math.min(i/2,this.config.nodeSize/2+10),s=Math.min(this.config.edgeSlantWidthMax,Math.max(i/2-u,0)),l=[n.location.x+this.config.nodeSize/2+1,n.location.y],c=[Math.max(n.location.x+u,l[0]),n.location.y],f=[n.location.x+u+s,r.location.y],h=[r.location.x-o*Math.max(0,Math.min(this.config.nodeSize/2+8,i/2)),r.location.y];return t.$linePoints=[l,c,f,h],e(t.$linePoints)}},{key:"edgePayoffPosition",value:function(e){return t.setHangingPosition(e).attr("x",function(t){return t.$linePoints[2][0]+2}).attr("y",function(t){return t.$linePoints[2][1]+7}),e.selectAll("tspan").attr("x",function(t){return a.select(this.parentNode).datum().$linePoints[2][0]+2}),e}},{key:"edgeLabelPosition",value:function(t){return t.attr("transform",function(t){return"translate("+(t.$linePoints[2][0]+2)+","+(t.$linePoints[2][1]-7)+")"})}},{key:"edgeProbabilityPosition",value:function(e){return t.setHangingPosition(e).attr("x",function(t){var e=this.getComputedTextLength(),n=t.$linePoints[2][0]+2+this.previousSibling.childNodes[0].getComputedTextLength()+7+e;return Math.max(n,t.$linePoints[3][0]-8)}).attr("y",function(t){return t.$linePoints[2][1]+7})}},{key:"getMinMarginBetweenNodes",value:function(){return this.config.nodeSize+30}},{key:"getTextMinX",value:function(t){var e=0;if(t){var n=this.treeDesigner.getTextD3Selection(t).select("text").node().getBBox();n.x<0&&(e-=n.x)}return e}},{key:"getTextMinY",value:function(t){var e=0;if(t){var n=this.treeDesigner.getTextD3Selection(t).select("text").node().getBBox();n.y<0&&(e-=n.y)}return e}},{key:"getTextMaxX",value:function(t){return Number.MAX_SAFE_INTEGER}},{key:"getNodeMinX",value:function(t){return t&&t.$parent?t.$parent.location.x+this.getMinMarginBetweenNodes():this.config.nodeSize/2}},{key:"getNodeMinY",value:function(t){return this.config.nodeSize/2}},{key:"getNodeMaxX",value:function(t){return t&&t.childEdges.length?a.min(t.childEdges,function(t){return t.childNode.$hidden?9999999:t.childNode.location.x})-this.getMinMarginBetweenNodes():Number.MAX_SAFE_INTEGER}},{key:"setGridWidth",value:function(t,e){var n=this;this.config.gridWidth!==t&&(e||this.data.saveState({data:{gridWidth:n.config.gridWidth},onUndo:function(t){n.setGridWidth(t.gridWidth,!0)},onRedo:function(e){n.setGridWidth(t,!0)}}),this.config.gridWidth=t,this.update())}},{key:"setGridHeight",value:function(t,e){var n=this;this.config.gridHeight!==t&&(e||this.data.saveState({data:{gridHeight:n.config.gridHeight},onUndo:function(t){n.setGridHeight(t.gridHeight,!0)},onRedo:function(e){n.setGridHeight(t,!0)}}),this.config.gridHeight=t,this.update())}},{key:"setNodeSize",value:function(t,e){var n=this;this.config.nodeSize!==t&&(e||this.data.saveState({data:{nodeSize:n.config.nodeSize},onUndo:function(t){n.setNodeSize(t.nodeSize,!0)},onRedo:function(e){n.setNodeSize(t,!0)}}),this.config.nodeSize=t,this.update(),this.isManualLayout()&&(this.fitNodesInPlottingRegion(n.data.getRoots()),this.treeDesigner.redraw(!0)))}},{key:"setEdgeSlantWidthMax",value:function(t,e){var n=this;this.config.edgeSlantWidthMax!==t&&(e||this.data.saveState({data:{edgeSlantWidthMax:n.config.edgeSlantWidthMax},onUndo:function(t){n.setEdgeSlantWidthMax(t.edgeSlantWidthMax,!0)},onRedo:function(e){n.setEdgeSlantWidthMax(t,!0)}}),this.config.edgeSlantWidthMax=t,this.treeDesigner.redraw(!0))}},{key:"autoLayout",value:function(t,e){var n=this;if(e||this.data.saveState({data:{newLayout:t,currentLayout:n.config.type},onUndo:function(t){n.config.type=t.currentLayout,n._fireOnAutoLayoutChangedCallbacks()},onRedo:function(t){n.autoLayout(t.newLayout,!0)}}),this.config.type=t,this.data.nodes.length){var r=n.getNodeMinY();return this.data.getRoots().forEach(function(e){var i,o=a.hierarchy(e,function(t){return t.childEdges.filter(function(t){return!t.$hidden}).map(function(t){return t.childNode})});o.sort(function(t,e){return t.data.location.y-e.data.location.y}),(i="cluster"===t?a.cluster():a.tree()).nodeSize([n.config.gridHeight,n.config.gridWidth]),i.separation(n.nodeSeparation),i(o);var u=999999999;o.each(function(t){u=Math.min(u,t.x)});var s=o.x-u+r,l=n.getNodeMinX(),c=0;o.each(function(t){t.data.location.x=t.y+l,t.data.location.y=t.x+s,c=Math.max(c,t.data.location.y)}),r=c+n.config.nodeSize+n.treeMargin}),this.treeDesigner.redraw(!0),this._fireOnAutoLayoutChangedCallbacks(),this}this._fireOnAutoLayoutChangedCallbacks()}},{key:"fitNodesInPlottingRegion",value:function(t){var e=a.min(t,function(t){return t.location.y})-this.getNodeMinY(),n=a.min(t,function(t){return t.location.x})-this.getNodeMinX();(e<0||n<0)&&t.forEach(function(t){return t.move(-n,-e)})}},{key:"moveNodes",value:function(e,n,r,i){var o=this,u=o.config.limitNodePositioning;u&&(n<0?e.sort(function(t,e){return t.location.x-e.location.x}):e.sort(function(t,e){return e.location.x-t.location.x}));var s=a.min(e,function(t){return t.location.y});s+r<o.getNodeMinY()&&(r=o.getNodeMinY()-s),e.forEach(function(e){if(u){t.backupNodeLocation(e);var i=o.getNodeMinX(e),a=o.getNodeMaxX(e);e.location.x=Math.min(Math.max(e.location.x+n,i),a),e.location.y+=r}else e.location.x+=n,e.location.y+=r});var l=i&&o.config.limitNodePositioning&&i.location.x===i.$location.x;e.forEach(function(t){l&&(t.location.x=t.$location.x),o.treeDesigner.updateNodePosition(t)})}},{key:"moveTexts",value:function(t,e,n){var r=this,i=r.config.limitTextPositioning;i&&(e<0?t.sort(function(t,e){return t.location.x-e.location.x}):t.sort(function(t,e){return e.location.x-t.location.x})),t.forEach(function(t){if(i){var o=r.getTextMinX(t),a=r.getTextMaxX(t),u=r.getTextMinY(t);t.location.x=Math.min(Math.max(t.location.x+e,o),a),t.location.y=Math.max(t.location.y+n,u)}else t.location.move(e,n);r.treeDesigner.updateTextPosition(t)})}},{key:"_fireOnAutoLayoutChangedCallbacks",value:function(){var t=this;this.onAutoLayoutChanged.forEach(function(e){return e(t.config.type)})}}],[{key:"backupNodeLocation",value:function(t){t.$location=new o.domain.Point(t.location)}},{key:"setHangingPosition",value:function(t){return l.AppUtils.isHidden(t.node())?t:(t.each(function(){this.getBBox().height;a.select(this).attr("dy","0.75em")}),t)}}]),t}()).MANUAL_LAYOUT_NAME="manual"},{"./app-utils":52,"./d3":59,"./symbols/circle":69,"./symbols/triangle":70,"sd-model":36,"sd-utils":50}],68:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NodeDragHandler=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t("./app-utils"),o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("./d3")),a=t("./context-menu/context-menu");n.NodeDragHandler=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.treeDesigner=e,this.data=n;var r=this;this.drag=o.drag().subject(function(t){if(null==t)return{x:event.x,y:event.y};var e=o.select(this);return{x:e.attr("x")+i.AppUtils.getTranslation(e.attr("transform"))[0],y:e.attr("y")+i.AppUtils.getTranslation(e.attr("transform"))[1]}}).on("start",function(t){r.dragStarted.call(this,t,r)}).on("drag",function(t){r.onDrag.call(this,t,r)}).on("end",function(t){r.dragEnded.call(this,t,r)})}return r(t,[{key:"dragStarted",value:function(t,e){if(e.ignoreDrag)return e.ignoreDrag=!1,void(e.ignoredDrag=!0);e.ignoredDrag=!1,a.ContextMenu.hide();var n=o.select(this);n.classed("selected")||e.treeDesigner.clearSelection(),e.treeDesigner.selectNode(t),n.classed("selected dragging",!0),e.selectedNodes=e.treeDesigner.getSelectedNodes(!0),e.prevDragEvent=o.event,e.dragEventCount=0}},{key:"onDrag",value:function(t,e){if(!(e.ignoredDrag||(2==e.dragEventCount&&e.data.saveState(),e.dragEventCount++,e.selectedNodes.length>5&&e.dragEventCount%2!=1))){var n=o.event.x-e.prevDragEvent.x,r=o.event.y-e.prevDragEvent.y;e.treeDesigner.layout.moveNodes(e.selectedNodes,n,r,t),e.prevDragEvent=o.event,e.treeDesigner.redrawEdges(),e.treeDesigner.updatePlottingRegionSize()}}},{key:"dragEnded",value:function(t,e){o.select(this).classed("dragging",!1);e.ignoredDrag||e.treeDesigner.layout.update(t)}},{key:"cancelDrag",value:function(){this.ignoreDrag=!0}}]),t}()},{"./app-utils":52,"./context-menu/context-menu":53,"./d3":59}],69:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Math.PI;n.default={draw:function(t,e){var n=Math.sqrt(e/r),i=.552284749831*n;t.moveTo(-n,0),t.bezierCurveTo(-n,-i,-i,-n,0,-n),t.bezierCurveTo(i,-n,n,-i,n,0),t.bezierCurveTo(n,i,i,n,0,n),t.bezierCurveTo(-i,n,-n,i,-n,0)}}},{}],70:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});Math.sqrt(3);n.default={draw:function(t,e){var n=Math.sqrt(e/Math.PI);t.moveTo(-n,0),t.lineTo(.9*n,-n),t.lineTo(.9*n,n),t.closePath()}}},{}],71:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Templates=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t("sd-utils"),o=t("./i18n/i18n");var a=n.Templates=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"get",value:function(e,n){var r=i.Utils.template(t[e],{imports:{i18n:o.i18n,Templates:t,include:function(e,n){return t.get(e,n)}}});return n?n.variables=n:n={variables:{}},r(n)}},{key:"styleRule",value:function(e,n){var r=e+"{";return n.forEach(function(e){return r+=t.styleProp(e[0],e[1])}),r+="} "}},{key:"styleProp",value:function(t,e){return t+": <%= "+e+" %>; "}},{key:"nodeSelector",value:function(e,n){var r=t.treeDesignerSelector+" .node";return e&&(r+="."+e+"-node"),n&&(r+="."+n),r}},{key:"edgeSelector",value:function(e){var n=t.treeDesignerSelector+" .edge";return e&&(n+="."+e),n}}]),t}();a.growl=t("./templates/growl_message.html"),a.treeDesignerSelector="svg.sd-tree-designer",a.treeDesignerStyles=a.styleRule(a.treeDesignerSelector,[["font-size","fontSize"],["font-family","fontFamily"],["font-weight","fontWeight"],["font-style","fontStyle"]])+a.styleRule(a.nodeSelector()+" path",[["fill","node.fill"],["stroke-width","node.strokeWidth"]])+a.styleRule(a.nodeSelector("decision","optimal")+" path, "+a.nodeSelector("chance","optimal")+" path,"+a.nodeSelector("terminal","optimal")+" path",[["stroke","node.optimal.stroke"],["stroke-width","node.optimal.strokeWidth"]])+a.styleRule(a.nodeSelector()+" .label",[["font-size","node.label.fontSize"],["fill","node.label.color"]])+a.styleRule(a.nodeSelector()+" .payoff",[["font-size","node.payoff.fontSize"],["fill","node.payoff.color"]])+a.styleRule(a.nodeSelector()+" .payoff.negative",[["fill","node.payoff.negativeColor"]])+a.styleRule(a.nodeSelector("decision")+" path",[["fill","node.decision.fill"],["stroke","node.decision.stroke"]])+a.styleRule(a.nodeSelector("decision","selected")+" path",[["fill","node.decision.selected.fill"]])+a.styleRule(a.nodeSelector("chance")+" path",[["fill","node.chance.fill"],["stroke","node.chance.stroke"]])+a.styleRule(a.nodeSelector("chance","selected")+" path",[["fill","node.chance.selected.fill"]])+a.styleRule(a.nodeSelector("terminal")+" path",[["fill","node.terminal.fill"],["stroke","node.terminal.stroke"]])+a.styleRule(a.nodeSelector("terminal","selected")+" path",[["fill","node.terminal.selected.fill"]])+a.styleRule(a.nodeSelector("terminal")+" .aggregated-payoff",[["font-size","node.terminal.payoff.fontSize"],["fill","node.terminal.payoff.color"]])+a.styleRule(a.nodeSelector("terminal")+" .aggregated-payoff.negative",[["fill","node.terminal.payoff.negativeColor"]])+a.styleRule(a.treeDesignerSelector+" .node .probability-to-enter, "+a.treeDesignerSelector+" .edge .probability",[["font-size","probability.fontSize"],["fill","probability.color"]])+a.styleRule(a.edgeSelector()+" path",[["stroke","edge.stroke"],["stroke-width","edge.strokeWidth"]])+a.styleRule(a.treeDesignerSelector+" marker#arrow path",[["fill","edge.stroke"]])+a.styleRule(a.edgeSelector("optimal")+" path",[["stroke","edge.optimal.stroke"],["stroke-width","edge.optimal.strokeWidth"]])+a.styleRule(a.treeDesignerSelector+" marker#arrow-optimal path",[["fill","edge.optimal.stroke"]])+a.styleRule(a.edgeSelector("selected")+" path",[["stroke","edge.selected.stroke"],["stroke-width","edge.selected.strokeWidth"]])+a.styleRule(a.treeDesignerSelector+" marker#arrow-selected path",[["fill","edge.selected.stroke"]])+a.styleRule(a.edgeSelector()+" .label",[["font-size","edge.label.fontSize"],["fill","edge.label.color"]])+a.styleRule(a.edgeSelector()+" .payoff",[["font-size","edge.payoff.fontSize"],["fill","edge.payoff.color"]])+a.styleRule(a.edgeSelector()+" .payoff.negative",[["fill","edge.payoff.negativeColor"]])+a.styleRule(a.treeDesignerSelector+" .sd-title-container text.sd-title",[["font-size","title.fontSize"],["font-weight","title.fontWeight"],["font-style","title.fontStyle"],["fill","title.color"]])+a.styleRule(a.treeDesignerSelector+" .sd-title-container text.sd-description",[["font-size","description.fontSize"],["font-weight","description.fontWeight"],["font-style","description.fontStyle"],["fill","description.color"]])},{"./i18n/i18n":63,"./templates/growl_message.html":72,"sd-utils":50}],72:[function(t,e,n){e.exports='module.exports = "<div class=\\"sd-growl-message <%=type%>\\">\\n    <div class=\\"sd-growl-message-text\\">\\n        <%= message %>\\n    </div>\\n</div>\\n";\n'},{}],73:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TextDragHandler=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t("./app-utils"),o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("./d3")),a=t("./context-menu/context-menu");n.TextDragHandler=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.treeDesigner=e,this.data=n;var r=this;this.drag=o.drag().subject(function(t){if(null==t)return{x:event.x,y:event.y};var e=o.select(this);return{x:e.attr("x")+i.AppUtils.getTranslation(e.attr("transform"))[0],y:e.attr("y")+i.AppUtils.getTranslation(e.attr("transform"))[1]}}).on("start",function(t){r.dragStarted.call(this,t,r)}).on("drag",function(t){r.onDrag.call(this,t,r)}).on("end",function(t){r.dragEnded.call(this,t,r)})}return r(t,[{key:"dragStarted",value:function(t,e){a.ContextMenu.hide();var n=o.select(this);n.classed("selected")||e.treeDesigner.clearSelection(),e.treeDesigner.selectText(t),n.classed("selected dragging",!0),e.selectedNodes=e.treeDesigner.getSelectedNodes(),e.prevDragEvent=o.event,e.dragEventCount=0}},{key:"onDrag",value:function(t,e){2==e.dragEventCount&&e.data.saveState(),e.dragEventCount++;var n=o.event.x-e.prevDragEvent.x,r=o.event.y-e.prevDragEvent.y;e.treeDesigner.layout.moveTexts([t],n,r),e.prevDragEvent=o.event,e.treeDesigner.updatePlottingRegionSize()}},{key:"dragEnded",value:function(t,e){o.select(this).classed("dragging",!1)}}]),t}()},{"./app-utils":52,"./context-menu/context-menu":53,"./d3":59}],74:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Tooltip=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("./d3")),o=t("sd-utils");n.Tooltip=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"getContainer",value:function(){return i.select("body").selectOrAppend("div.sd-tooltip")}},{key:"show",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28,i=arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=t.getContainer().style("opacity",0);a.transition().duration(200).style("opacity",.98),a.html(e),t.updatePosition(n,r,i),o&&setTimeout(function(){t.hide()},o)}},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:28,r=arguments[2];r=r||i.event,t.getContainer().style("left",r.pageX+e+"px").style("top",r.pageY-n+"px")}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,n=t.getContainer();e&&(n=n.transition().duration(e)),n.style("opacity",0)}},{key:"attach",value:function(e,n,r,i){e.on("mouseover",function(e,a){var u=null;null!==(u=o.Utils.isFunction(n)?n(e,a):n)&&void 0!==u&&""!==u?t.show(u,r,i):t.hide(0)}).on("mousemove",function(e){t.updatePosition(r,i)}).on("mouseout",function(e){t.hide()})}}]),t}()},{"./d3":59,"sd-utils":50}],75:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TreeDesigner=n.TreeDesignerConfig=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=b(t("./d3")),o=t("sd-utils"),a=t("./app-utils"),u=t("sd-model"),s=t("./context-menu/context-menu"),l=t("./context-menu/main-context-menu"),c=t("./context-menu/node-context-menu"),f=t("./layout"),h=t("./node-drag-handler"),d=t("./tooltip"),p=t("./templates"),v=t("./text-drag-handler"),g=t("./context-menu/text-context-menu"),y=t("./context-menu/edge-context-menu"),m=b(t("hammerjs")),_=t("./i18n/i18n");function b(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function x(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var k=n.TreeDesignerConfig=function t(e){w(this,t),this.width=void 0,this.height=void 0,this.margin={left:25,right:25,top:25,bottom:25},this.scale=1,this.lng="en",this.layout={type:"tree",nodeSize:40,limitNodePositioning:!0,limitTextPositioning:!0,gridHeight:75,gridWidth:150,edgeSlantWidthMax:20},this.fontFamily="sans-serif",this.fontSize="12px",this.fontWeight="normal",this.fontStyle="normal",this.node={strokeWidth:"1px",optimal:{stroke:"#006f00",strokeWidth:"1.5px"},label:{fontSize:"1em",color:"black"},payoff:{fontSize:"1em",color:"black",negativeColor:"#b60000"},decision:{fill:"#ff7777",stroke:"#660000",selected:{fill:"#aa3333"}},chance:{fill:"#ffff44",stroke:"#666600",selected:{fill:"#aaaa00"}},terminal:{fill:"#44ff44",stroke:"black",selected:{fill:"#00aa00"},payoff:{fontSize:"1em",color:"black",negativeColor:"#b60000"}}},this.edge={stroke:"#424242",strokeWidth:"1.5",optimal:{stroke:"#006f00",strokeWidth:"2.4"},selected:{stroke:"#045ad1",strokeWidth:"3.5"},label:{fontSize:"1em",color:"back"},payoff:{fontSize:"1em",color:"black",negativeColor:"#b60000"}},this.probability={fontSize:"1em",color:"#0000d7"},this.title={fontSize:"16px",fontWeight:"bold",fontStyle:"normal",color:"#000000",margin:{top:15,bottom:10}},this.description={show:!0,fontSize:"12px",fontWeight:"bold",fontStyle:"normal",color:"#000000",margin:{top:5,bottom:10}},this.readOnly=!1,this.disableAnimations=!1,this.forceFullEdgeRedraw=!1,this.hideLabels=!1,this.hidePayoffs=!1,this.hideProbabilities=!1,this.raw=!1,this.payoffNumberFormatter=function(t,e){return t},this.probabilityNumberFormatter=function(t){return t},this.onNodeSelected=function(t){},this.onEdgeSelected=function(t){},this.onTextSelected=function(t){},this.onSelectionCleared=function(){},this.operationsForObject=function(t){return[]},this.payoffNames=[null,null],this.maxPayoffsToDisplay=1,e&&o.Utils.deepExtend(this,e)};n.TreeDesigner=function(){function t(e,n,r){w(this,t),this.setConfig(r),this.data=n,this.initContainer(e),this.init()}return r(t,[{key:"setConfig",value:function(t){return this.config=new k(t),this.layout&&(this.layout.config=this.config.layout),this.updateCustomStyles(),this}},{key:"init",value:function(){this.initSvg(),this.initLayout(),this.initI18n(),this.initBrush(),this.initEdgeMarkers(),this.updateCustomStyles(),this.config.readOnly||(this.initMainContextMenu(),this.initNodeContextMenu(),this.initEdgeContextMenu(),this.initNodeDragHandler(),this.initTextDragHandler(),this.initTextContextMenu()),this.redraw()}},{key:"initI18n",value:function(){_.i18n.init(this.config.lng)}},{key:"updateCustomStyles",value:function(){return i.select("head").selectOrAppend("style#sd-tree-designer-style").html(p.Templates.get("treeDesignerStyles",this.config)),this}},{key:"initLayout",value:function(){this.layout=new f.Layout(this,this.data,this.config.layout)}},{key:"initNodeDragHandler",value:function(){this.nodeDragHandler=new h.NodeDragHandler(this,this.data)}},{key:"initTextDragHandler",value:function(){this.textDragHandler=new v.TextDragHandler(this,this.data)}},{key:"redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this;return t=!e.config.disableAnimations&&t,this.redrawDiagramTitle(),this.redrawDiagramDescription(),this.updateScale(t),this.updateMargin(t),t&&(e.transitionPrev=e.transition,e.transition=!0),this.redrawNodes(),this.redrawEdges(),this.redrawFloatingTexts(),this.updateValidationMessages(),t&&(e.transition=e.transitionPrev),setTimeout(function(){e.updatePlottingRegionSize()},10),this}},{key:"computeAvailableSpace",value:function(){this.availableHeight=a.AppUtils.sanitizeHeight(this.config.height,this.container,this.config.margin),this.availableWidth=a.AppUtils.sanitizeWidth(this.config.width,this.container,this.config.margin)}},{key:"initSvg",value:function(){var t=this;this.computeAvailableSpace(),this.svg=this.container.selectOrAppend("svg.sd-tree-designer"),this.svg.attr("width",this.availableWidth).attr("height",this.availableHeight),this.wrapperGroup=this.svg.selectOrAppend("g.sd-wrapper-group"),this.mainGroup=this.wrapperGroup.selectOrAppend("g.main-group"),this.updateScale(),this.updateMargin(),this.config.width||i.select(window).on("resize.tree-designer",function(){t.updatePlottingRegionSize(),t.redrawDiagramTitle()});var e=new m.Manager(this.svg.node(),{touchAction:"auto"});e.add(new m.Press({pointerType:"touch"})),e.add(new m.Pinch({pointerType:"touch"})),e.on("pinchstart",function(){t.disableBrush()}),e.on("pinch",function(){o.Utils.waitForFinalEvent(function(){return t.enableBrush()},"pinchend",5e3)})}},{key:"updateMargin",value:function(t){var e=this,n=this.config.margin,r=this.mainGroup;t&&(r=r.transition()),this.topMargin=n.top,(this.diagramTitle||this.diagramDescription)&&(this.topMargin=parseInt(this.diagramTitle?this.config.title.margin.top:0)+this.getTitleGroupHeight()+Math.max(this.topMargin,parseInt(this.config.title.margin.bottom))),r.attr("transform","translate("+n.left+","+this.topMargin+")").on("end",function(){return e.updatePlottingRegionSize()})}},{key:"setMargin",value:function(t,e){var n=this;e||this.data.saveState({data:{margin:o.Utils.clone(n.config.margin)},onUndo:function(t){n.setMargin(t.margin,!0)},onRedo:function(e){n.setMargin(t,!0)}}),o.Utils.deepExtend(this.config.margin,t),this.redrawDiagramTitle(),this.updateMargin(!0)}},{key:"updateScale",value:function(t){var e=this,n=this.config.scale,r=this.wrapperGroup;t&&(r=r.transition()),r.attr("transform","scale("+n+")").on("end",function(){return e.updatePlottingRegionSize()})}},{key:"setScale",value:function(t,e){var n=this;e||this.data.saveState({data:{scale:o.Utils.clone(n.config.scale)},onUndo:function(t){n.setScale(t.scale,!0)},onRedo:function(e){n.setScale(t,!0)}}),this.config.scale=t,this.updateScale(!0)}},{key:"initContainer",value:function(t){if(o.Utils.isString(t)){var e=t.trim();o.Utils.startsWith(e,"#")||o.Utils.startsWith(e,".")||(e="#"+e),this.container=i.select(e)}else t._parents?this.container=t:this.container=i.select(t)}},{key:"updatePlottingRegionSize",value:function(){var t=!1;this.computeAvailableSpace();var e=this.config.margin,n=this.svg.attr("width"),r=this.svg.attr("height"),i=this.mainGroup.node().getBBox(),o=i.width+i.x+e.left+e.right;o*=this.config.scale,this.container.classed("with-overflow-x",o>=this.availableWidth),n!=(o=Math.max(o,this.availableWidth))&&(t=!0,this.svg.attr("width",o));var a=i.height+i.y+this.topMargin+e.bottom;a*=this.config.scale,this.container.classed("with-overflow-y",a>=this.availableHeight),r!=(a=Math.max(a,this.availableHeight))&&(t=!0,this.svg.attr("height",a)),t&&this.updateBrushExtent()}},{key:"redrawNodes",value:function(){var t=this,e=this.mainGroup.selectOrAppend("g.nodes").selectAll(".node").data(this.data.nodes.filter(function(t){return!t.$hidden}),function(t,e){return t.$id});e.exit().remove();var n=e.enter().append("g").attr("id",function(t){return"node-"+t.$id}).attr("class",function(t){return t.type+"-node node"}).attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"});n.append("path");var r=n.append("text").attr("class","label"),a=n.append("text").attr("class","payoff computed"),u=n.append("text").attr("class","error-indicator").text("!!"),s=n.append("text").attr("class","aggregated-payoff"),l=n.append("text").attr("class","probability-to-enter"),c=n.merge(e);c.classed("optimal",function(e){return t.isOptimal(e)});var f=c;this.transition&&(f=c.transition()).on("end",function(){return t.updatePlottingRegionSize()}),f.attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"});var h=c.select("path");this.layout.drawNodeSymbol(h,this.transition),this.layout.nodeLabelPosition(r),c.select("text.label").classed("sd-hidden",this.config.hideLabels);var p=f.select("text.label");p.each(this.updateTextLines),this.layout.nodeLabelPosition(p).attr("text-anchor","middle");var v=c.select("text.payoff"),g=v.selectAll("tspan").data(function(t){var e=t.displayValue("childrenPayoff");return o.Utils.isArray(e)?e.filter(function(t){return void 0!==t}):[e]});g.exit().remove();var y=g.enter().append("tspan").merge(g);y.attr("dy",function(t,e){return e>0?"1.1em":void 0}).attr("x","0").classed("negative",function(t){return null!==t&&t<0}).classed("sd-hidden",this.config.hidePayoffs||this.config.raw).text(function(e,n){var r=e;return null!==r?isNaN(r)?r:t.config.payoffNumberFormatter(r,n):""}),this.attachPayoffTooltip(y);var b=v;this.transition&&(b=v.transition()),this.layout.nodePayoffPosition(a),this.layout.nodePayoffPosition(b);var x=c.select("text.aggregated-payoff"),w=x.selectAll("tspan").data(function(t){var e=t.displayValue("aggregatedPayoff");return o.Utils.isArray(e)?e.filter(function(t){return void 0!==t}):[e]});w.exit().remove();var k=w.enter().append("tspan").merge(w).attr("dy",function(t,e){return e>0?"0.95em":void 0}).classed("negative",function(t){return null!==t&&t<0}).classed("sd-hidden",this.config.hidePayoffs||this.config.raw).text(function(e,n){return null!==e?isNaN(e)?e:t.config.payoffNumberFormatter(e,n):""});this.attachPayoffTooltip(k,"aggregatedPayoff");var S=x;this.transition&&(S=x.transition()),this.layout.nodeAggregatedPayoffPosition(s),this.layout.nodeAggregatedPayoffPosition(S);var M=c.select("text.probability-to-enter").text(function(e){var n=e.displayValue("probabilityToEnter");return null!==n?isNaN(n)?n:t.config.probabilityNumberFormatter(n):""}).classed("sd-hidden",this.config.hideProbabilities||this.config.raw);d.Tooltip.attach(M,_.i18n.t("tooltip.node.probabilityToEnter"));var T=M;this.transition&&(T=M.transition()),this.layout.nodeProbabilityToEnterPosition(l),this.layout.nodeProbabilityToEnterPosition(T);var N=c.select("text.error-indicator");N.classed("sd-hidden",this.config.raw),this.layout.nodeIndicatorPosition(u),this.layout.nodeIndicatorPosition(N),this.nodeDragHandler&&c.call(this.nodeDragHandler.drag),c.on("contextmenu",this.nodeContextMenu),c.on("dblclick",this.nodeContextMenu),c.each(function(e,n){var r=new m.Manager(this);if(r.add(new m.Press({pointerType:"touch"})),r.on("press",function(e){"touch"==e.pointerType&&t.nodeDragHandler.cancelDrag()}),e.folded){var o=i.select(this).selectOrAppend("text.sd-unfold-button").text("[+]").on("click dbclick mousedown",function(){return t.foldSubtree(e,!1)});t.layout.nodeUnfoldButtonPosition(o),d.Tooltip.attach(o,_.i18n.t("contextMenu.node.unfold"))}else i.select(this).select(".sd-unfold-button").remove()})}},{key:"attachPayoffTooltip",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"payoff",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"node",r=this;d.Tooltip.attach(t,function(t,i){return r.config.payoffNames.length>i&&null!==r.config.payoffNames[i]?_.i18n.t("tooltip."+n+"."+e+".named",{value:t.payoff,number:i+1,name:r.config.payoffNames[i]}):_.i18n.t("tooltip."+n+"."+e+".default",{value:t.payoff,number:r.config.maxPayoffsToDisplay<2?"":i+1})})}},{key:"updateTextLines",value:function(t){var e=t.name?t.name.split("\n"):[];e.reverse();var n=i.select(this).selectAll("tspan").data(e);n.enter().append("tspan").merge(n).text(function(t){return t}).attr("dy",function(t,e){return e>0?"-1.1em":void 0}).attr("x","0"),n.exit().remove()}},{key:"isOptimal",value:function(t){return t.displayValue("optimal")}},{key:"redrawEdges",value:function(){var t=this,e=this,n=this.mainGroup.selectOrAppend("g.edges");e.config.forceFullEdgeRedraw&&n.selectAll("*").remove();var r=n.selectAll(".edge").data(this.data.edges.filter(function(t){return!t.$hidden}),function(t,e){return t.$id});r.exit().remove();var a=r.enter().append("g").attr("id",function(t){return"edge-"+t.$id}).attr("class","edge");a.append("path");var u=a.appendSelector("g.label-group");u.append("text").attr("class","label");var s=a.append("text").attr("class","payoff"),l=a.append("text").attr("class","probability"),c=a.merge(r);c.classed("optimal",function(t){return e.isOptimal(t)});var f=c;this.transition&&(f=c.transition()),f.select("path").attr("d",function(e){return t.layout.edgeLineD(e)}).attr("fill","none").attr("marker-end",function(t){return"url(#arrow"+(i.select(this.parentNode).classed("selected")?"-selected":e.isOptimal(t)?"-optimal":"")+")"}),c.on("click",function(t){e.selectEdge(t,!0)}),this.layout.edgeLabelPosition(u),f.select("text.label").each(this.updateTextLines),c.select("g.label-group").classed("sd-hidden",this.config.hideLabels);var h=f.select("g.label-group");this.layout.edgeLabelPosition(h);var p=c.select("text.payoff"),v=p.selectAll("tspan").data(function(t){var n=t.displayValue("payoff");return o.Utils.isArray(n)?n.slice(0,Math.min(n.length,e.config.maxPayoffsToDisplay)).map(function(e){return t}):[t]});v.exit().remove();var g=v.enter().append("tspan").merge(v);g.attr("dy",function(t,e){return e>0?"1.1em":void 0}).classed("negative",function(t,e){var n=t.displayPayoff(void 0,e);return null!==n&&n<0}).classed("sd-hidden",this.config.hidePayoffs).text(function(n,r){if(t.config.raw)return n.payoff[r];var i=n.displayValue("payoff"),a=(o.Utils.isArray(i)?i:[i])[r];if(null!==a){if(!isNaN(a))return e.config.payoffNumberFormatter(a,r);if(o.Utils.isString(a))return a}return null===n.payoff[r]||isNaN(n.payoff[r])?n.payoff[r]:e.config.payoffNumberFormatter(n.payoff[r],r)}),d.Tooltip.attach(g,function(t,n){return e.config.payoffNames.length>n&&null!==e.config.payoffNames[n]?_.i18n.t("tooltip.edge.payoff.named",{value:t.payoff[n],number:n+1,name:e.config.payoffNames[n]}):_.i18n.t("tooltip.edge.payoff.default",{value:t.payoff[n],number:e.config.maxPayoffsToDisplay<2?"":n+1})});var y=p;this.transition&&(y=p.transition()),this.layout.edgePayoffPosition(s),this.layout.edgePayoffPosition(y),d.Tooltip.attach(c.select("text.probability"),function(t){return _.i18n.t("tooltip.edge.probability",{value:void 0===t.probability?t.displayProbability():t.probability})}),c.select("text.probability").classed("sd-hidden",this.config.hideProbabilities);var b=c.select("text.probability");b.attr("text-anchor","end").text(function(n){if(t.config.raw)return n.probability;var r=n.displayProbability();if(null!==r){if(!isNaN(r))return e.config.probabilityNumberFormatter(r);if(o.Utils.isString(r))return r}return null===n.probability||isNaN(n.probability)?n.probability:e.config.probabilityNumberFormatter(n.probability)});var x=b;this.transition&&(x=b.transition()),this.layout.edgeProbabilityPosition(l),this.layout.edgeProbabilityPosition(x),n.selectAll(".edge.optimal").raise(),c.on("contextmenu",this.edgeContextMenu),c.on("dblclick",this.edgeContextMenu),c.each(function(t,e){new m.Manager(this).add(new m.Press({pointerType:m.POINTER_TOUCH}))})}},{key:"redrawFloatingTexts",value:function(){var t=this.mainGroup.selectOrAppend("g.floating-texts").selectAll(".floating-text").data(this.data.texts,function(t,e){return t.$id});t.exit().remove();var e=t.enter().appendSelector("g.floating-text").attr("id",function(t){return"text-"+t.$id});e.append("rect").attr("x",-5).attr("y",-16).attr("fill-opacity",0),e.append("text");var n=e.merge(t),r=n;this.transition&&(r=n.transition()),r.attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"});var o=n.select("text").selectAll("tspan").data(function(t){return t.value?t.value.split("\n"):[]});o.enter().append("tspan").merge(o).html(function(t){return a.AppUtils.replaceUrls(a.AppUtils.escapeHtml(t))}).attr("dy",function(t,e){return e>0?"1.1em":void 0}).attr("x","0"),o.exit().remove(),n.classed("sd-empty",function(t){return!t.value||!t.value.trim()}),n.select("rect").attr("width",40).attr("height",20),n.each(function(t){if(t.value){var e=i.select(this).select("text").node().getBBox();i.select(this).select("rect").attr("y",e.y-5).attr("width",Math.max(e.width+10,40)).attr("height",Math.max(e.height+10,20))}}),this.textDragHandler&&n.call(this.textDragHandler.drag),n.on("contextmenu",this.textContextMenu),n.on("dblclick",this.textContextMenu),n.each(function(t,e){new m.Manager(this).add(new m.Press({pointerType:"touch"}))})}},{key:"updateValidationMessages",value:function(){var t=this;this.mainGroup.selectAll(".node").classed("error",!1),this.data.validationResults.forEach(function(e){e.isValid()||Object.getOwnPropertyNames(e.objectIdToError).forEach(function(n){var r=e.objectIdToError[n],i=t.getNodeD3SelectionById(n);i.classed("error",!0);var o="";r.forEach(function(t){o&&(o+="<br/>"),o+=a.AppUtils.getValidationMessage(t)}),d.Tooltip.attach(i.select(".error-indicator"),o)})})}},{key:"initEdgeMarkers",value:function(){this.svg.append("svg:defs");this.initArrowMarker("arrow"),this.initArrowMarker("arrow-optimal"),this.initArrowMarker("arrow-selected")}},{key:"initArrowMarker",value:function(t){this.svg.select("defs").append("marker").attr("id",t).attr("viewBox","0 -5 10 10").attr("refX",5).attr("refY",0).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("class","arrowHead")}},{key:"updateBrushExtent",value:function(){this.brush.extent([[0,0],[this.svg.attr("width"),this.svg.attr("height")]]),this.brushContainer.call(this.brush)}},{key:"initBrush",value:function(){var t=this,e=t.brushContainer=this.brushContainer=this.wrapperGroup.selectOrInsert("g.brush",":first-child").attr("class","brush"),n=this.brush=i.brush().on("start",function(){if(!i.event.selection)return;t.hoveredEdge?t.selectEdge(t.hoveredEdge.datum(),!0):t.clearSelection();s.ContextMenu.hide()}).on("brush",function(){var e=i.event.selection;if(!e)return;t.mainGroup.selectAll(".node").classed("selected",function(n){var r=t.getMainGroupTranslation(),i=n.location.x+r[0],o=n.location.y+r[1],a=t.config.layout.nodeSize,u=.25*a;return e[0][0]<=i+u&&i-u<=e[1][0]&&e[0][1]<=o+u&&o-u<=e[1][1]})}).on("end",function(){if(!i.event.selection)return;n.move(e,null);var r=t.getSelectedNodes();r&&1===r.length&&t.selectNode(r[0])});this.updateBrushExtent(),e.select(".overlay").on("mousemove.edgeSelection",function(){var e=i.mouse(this),n=t.getMainGroupTranslation(),r=[null,999999999];t.mainGroup.selectAll(".edge").each(function(t){var o=i.select(this);o.classed("sd-hover",!1);var u=o.select("path").node(),s=u.getBBox();if(s.x+n[0]<=e[0]&&s.x+s.width+n[0]>=e[0]&&s.y+n[1]-10<=e[1]&&s.y+s.height+n[1]+10>=e[1]){var l=a.AppUtils.closestPoint(u,[e[0]-n[0],e[1]-n[1]]);l.distance<10&&l.distance<r[1]&&(r=[o,l.distance])}}),t.hoveredEdge=null,r[0]&&(r[0].classed("sd-hover",!0),t.hoveredEdge=r[0])})}},{key:"disableBrush",value:function(){this.brushDisabled||a.AppUtils.growl(_.i18n.t("growl.brushDisabled"),"info","left"),this.brushDisabled=!0,this.brushContainer.remove()}},{key:"enableBrush",value:function(){this.brushDisabled&&(a.AppUtils.growl(_.i18n.t("growl.brushEnabled"),"info","left"),this.initBrush(),this.brushDisabled=!1)}},{key:"getMainGroupTranslation",value:function(t){var e=a.AppUtils.getTranslation(this.mainGroup.attr("transform"));return t&&(e[0]=-e[0],e[1]=-e[1]),e}},{key:"initNodeContextMenu",value:function(){this.nodeContextMenu=new c.NodeContextMenu(this,this.config.operationsForObject)}},{key:"initEdgeContextMenu",value:function(){this.edgeContextMenu=new y.EdgeContextMenu(this)}},{key:"initTextContextMenu",value:function(){this.textContextMenu=new g.TextContextMenu(this)}},{key:"initMainContextMenu",value:function(){this.mainContextMenu=new l.MainContextMenu(this),this.svg.on("contextmenu",this.mainContextMenu),this.svg.on("dblclick",this.mainContextMenu)}},{key:"addText",value:function(t){this.data.saveState(),this.data.addText(t),this.redraw(),this.selectText(t)}},{key:"addNode",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.data.saveState(),this.data.addNode(t,e),this.redraw(!0),this.layout.update(t),t}},{key:"addDecisionNode",value:function(t){var e=new u.domain.DecisionNode(this.layout.getNewChildLocation(t));this.addNode(e,t)}},{key:"addChanceNode",value:function(t){var e=new u.domain.ChanceNode(this.layout.getNewChildLocation(t));this.addNode(e,t)}},{key:"addTerminalNode",value:function(t){var e=new u.domain.TerminalNode(this.layout.getNewChildLocation(t));this.addNode(e,t)}},{key:"injectNode",value:function(t,e){return this.data.saveState(),this.data.injectNode(t,e),this.redraw(),this.layout.update(t),t}},{key:"injectDecisionNode",value:function(t){var e=new u.domain.DecisionNode(this.layout.getInjectedNodeLocation(t));this.injectNode(e,t)}},{key:"injectChanceNode",value:function(t){var e=new u.domain.ChanceNode(this.layout.getInjectedNodeLocation(t));this.injectNode(e,t)}},{key:"removeNode",value:function(t){this.data.saveState(),this.data.removeNode(t),this.layout.isManualLayout()?this.redraw():this.layout.update()}},{key:"removeSelectedNodes",value:function(){var t=this.getSelectedNodes();t.length&&(this.data.saveState(),this.data.removeNodes(t),this.clearSelection(),this.redraw(),this.layout.update())}},{key:"removeSelectedTexts",value:function(){var t=this.getSelectedTexts();t.length&&(this.data.saveState(),this.data.removeTexts(t),this.clearSelection(),this.redraw())}},{key:"copyNode",value:function(t,e){var n=this.data.cloneSubtree(t);e?(this.copiedNodes||(this.copiedNodes=[]),this.copiedNodes.push(n)):this.copiedNodes=[n]}},{key:"cutNode",value:function(t){this.copyNode(t),this.removeNode(t)}},{key:"cutSelectedNodes",value:function(){var t=this.getSelectedNodes(),e=this.data.findSubtreeRoots(t);this.copyNodes(e),this.removeSelectedNodes()}},{key:"copySelectedNodes",value:function(){var t=this.getSelectedNodes(),e=this.data.findSubtreeRoots(t);this.copyNodes(e)}},{key:"copyNodes",value:function(t){var e=this;this.copiedNodes=t.map(function(t){return e.data.cloneSubtree(t)})}},{key:"pasteToNode",value:function(t){var e=this;if(this.copiedNodes&&this.copiedNodes.length){this.data.saveState();var n=this;n.clearSelection();var r=this.copiedNodes;n.copyNodes(this.copiedNodes),r.forEach(function(i){var o=e.data.attachSubtree(i,t).childNode;o.folded&&n.foldSubtree(o,o.folded,!1);var a=n.layout.getNewChildLocation(t);o.moveTo(a.x,a.y,!0),n.layout.moveNodeToEmptyPlace(o,!1),n.layout.fitNodesInPlottingRegion(e.data.getAllDescendantNodes(o)),n.selectSubTree(o,!1,r.length>1)}),t.folded&&n.foldSubtree(t,t.folded,!1),setTimeout(function(){n.redraw(),n.layout.update()},10)}}},{key:"pasteToNewLocation",value:function(t){var e=this;this.data.saveState();var n=this;n.clearSelection();var r=this.copiedNodes;n.copyNodes(this.copiedNodes),r.forEach(function(i){var o=e.data.attachSubtree(i);o.folded&&n.foldSubtree(o,o.folded,!1),o.moveTo(t.x,t.y,!0),n.layout.moveNodeToEmptyPlace(o,!1),n.layout.fitNodesInPlottingRegion(e.data.getAllDescendantNodes(o)),n.selectSubTree(o,!1,r.length>1)}),setTimeout(function(){n.redraw(),n.layout.update()},10)}},{key:"convertNode",value:function(t,e){var n=this;this.data.saveState(),this.data.convertNode(t,e),setTimeout(function(){n.redraw(!0)},10)}},{key:"performOperation",value:function(t,e){var n=this;this.data.saveState(),e.perform(t),setTimeout(function(){n.redraw(),n.layout.update()},10)}},{key:"foldSubtree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this;t.folded=e,this.data.getAllDescendantNodes(t).forEach(function(t){t.$hidden=e,t.folded=!1}),this.data.getAllDescendantEdges(t).forEach(function(t){return t.$hidden=e}),n&&setTimeout(function(){r.redraw(),r.layout.update()},10)}},{key:"updateVisibility",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?e.folded?this.foldSubtree(e,!0,!1):e.childEdges.forEach(function(e){return t.updateVisibility(e.childNode)}):this.data.getRoots().forEach(function(e){return t.updateVisibility(e)})}},{key:"moveNodeTo",value:function(t,e){}},{key:"updateNodePosition",value:function(t){this.getNodeD3Selection(t).raise().attr("transform","translate("+t.location.x+" "+t.location.y+")")}},{key:"updateTextPosition",value:function(t){this.getTextD3Selection(t).raise().attr("transform","translate("+t.location.x+" "+t.location.y+")")}},{key:"getNodeD3Selection",value:function(t){return this.getNodeD3SelectionById(t.$id)}},{key:"getNodeD3SelectionById",value:function(t){return this.mainGroup.select("#node-"+t)}},{key:"getTextD3Selection",value:function(t){return this.getTextD3SelectionById(t.$id)}},{key:"getTextD3SelectionById",value:function(t){return this.mainGroup.select("#text-"+t)}},{key:"getSelectedNodes",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.mainGroup.selectAll(".node.selected").data();if(e)return n;var r=[];return r.push.apply(r,x(n)),n.forEach(function(e){if(e.folded){var n=t.data.getAllDescendantNodes(e);n&&r.push.apply(r,x(n))}}),r}},{key:"getSelectedTexts",value:function(){return this.mainGroup.selectAll(".floating-text.selected").data()}},{key:"clearSelection",value:function(){var t=this;this.mainGroup.selectAll(".edge.selected").select("path").attr("marker-end",function(e){return"url(#arrow"+(t.isOptimal(e)?"-optimal":"")+")"}),this.mainGroup.selectAll(".selected").classed("selected",!1),this.config.onSelectionCleared()}},{key:"selectEdge",value:function(t,e){e&&this.clearSelection(),this.config.onEdgeSelected(t),this.mainGroup.select("#edge-"+t.$id).classed("selected",!0).select("path").attr("marker-end",function(t){return"url(#arrow-selected)"})}},{key:"isNodeSelected",value:function(t){return this.getNodeD3Selection(t).classed("selected")}},{key:"selectNode",value:function(t,e,n){e&&this.clearSelection(),n||this.config.onNodeSelected(t),this.getNodeD3SelectionById(t.$id).classed("selected",!0)}},{key:"selectText",value:function(t,e,n){e&&this.clearSelection(),n||this.config.onTextSelected(t),this.getTextD3SelectionById(t.$id).classed("selected",!0)}},{key:"selectSubTree",value:function(t,e,n){var r=this;e&&this.clearSelection(),this.selectNode(t,!1,n),t.childEdges.forEach(function(t){return r.selectSubTree(t.childNode,!1,!0)})}},{key:"selectAllNodes",value:function(){this.mainGroup.selectAll(".node").classed("selected",!0)}},{key:"autoLayout",value:function(t,e){this.layout.autoLayout(t,e)}},{key:"updateDiagramTitle",value:function(t){t||(t=""),this.diagramTitle=t,this.redrawDiagramTitle(),this.redrawDiagramDescription(),this.updateMargin(!0)}},{key:"redrawDiagramTitle",value:function(){var t=this.svg.attr("width");this.svg.attr("height");this.titleContainer=this.svg.selectOrAppend("g.sd-title-container");var e=this.titleContainer.selectOrAppend("text.sd-title");e.text(this.diagramTitle),f.Layout.setHangingPosition(e);var n=parseInt(this.config.title.margin.top);this.titleContainer.attr("transform","translate("+t/2+","+n+")")}},{key:"redrawDiagramDescription",value:function(){this.svg.attr("width"),this.svg.attr("height");this.titleContainer=this.svg.selectOrAppend("g.sd-title-container");var t=this.titleContainer.selectOrAppend("text.sd-description");if(this.config.description.show){var e=this.diagramDescription?this.diagramDescription.split("\n"):[],n=t.selectAll("tspan").data(e);n.enter().append("tspan").merge(n).html(function(t){return a.AppUtils.replaceUrls(a.AppUtils.escapeHtml(t))}).attr("dy",function(t,e){return e>0?"1.1em":void 0}).attr("x","0"),n.exit().remove(),f.Layout.setHangingPosition(t);var r=this.titleContainer.selectOrAppend("text.sd-title"),i=0;this.diagramTitle&&(i+=r.node().getBBox().height,i+=Math.max(parseInt(this.config.description.margin.top),0)),t.attr("transform","translate(0,"+i+")")}else t.remove()}},{key:"updateDiagramDescription",value:function(t){t||(t=""),this.diagramDescription=t,this.redrawDiagramTitle(),this.redrawDiagramDescription(),this.updateMargin(!0)}},{key:"getTitleGroupHeight",value:function(t){if(!this.titleContainer)return 0;var e=this.titleContainer.node().getBBox().height;return t&&(e+=parseInt(this.config.title.margin.bottom),e+=parseInt(this.config.title.margin.top)),e}}]),t}()},{"./app-utils":52,"./context-menu/context-menu":53,"./context-menu/edge-context-menu":54,"./context-menu/main-context-menu":55,"./context-menu/node-context-menu":56,"./context-menu/text-context-menu":57,"./d3":59,"./i18n/i18n":63,"./layout":67,"./node-drag-handler":68,"./templates":71,"./text-drag-handler":73,"./tooltip":74,hammerjs:19,"sd-model":36,"sd-utils":50}],76:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./src/index");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})})},{"./src/index":66}]},{},[76])(76)});
//# sourceMappingURL=sd-tree-designer.min.js.map
