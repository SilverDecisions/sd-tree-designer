!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;((e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SilverDecisions||(e.SilverDecisions={})).TreeDesigner=t()}}(function(){return function t(e,n,r){function i(a,u){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n||t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return function(e,n){return a(t(e),n)}}function n(t,e){return[t,e]}function r(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=x?10:o>=w?5:o>=k?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=x?10:o>=w?5:o>=k?2:1)}function i(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=x?i*=10:o>=w?i*=5:o>=k&&(i*=2),e<t?-i:i}function o(t){return t.length}var a=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},u=function(t){return 1===t.length&&(t=e(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}},s=u(a),c=s.right,l=s.left,f=function(t){return null===t?NaN:+t},h=function(t,e){var n,r,i=t.length,o=0,a=-1,u=0,s=0;if(null==e)for(;++a<i;)isNaN(n=f(t[a]))||(s+=(r=n-u)*(n-(u+=r/++o)));else for(;++a<i;)isNaN(n=f(e(t[a],a,t)))||(s+=(r=n-u)*(n-(u+=r/++o)));if(o>1)return s/(o-1)},d=function(t,e){var n=h(t,e);return n?Math.sqrt(n):n},p=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},g=Array.prototype,v=g.slice,y=g.map,m=function(t){return function(){return t}},b=function(t){return t},_=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},x=Math.sqrt(50),w=Math.sqrt(10),k=Math.sqrt(2),M=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},S=function(t,e,n){if(null==n&&(n=f),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}},T=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r},N=function(t){if(!(i=t.length))return[];for(var e=-1,n=T(t,o),r=new Array(n);++e<n;)for(var i,a=-1,u=r[e]=new Array(i);++a<i;)u[a]=t[a][e];return r};t.bisect=c,t.bisectRight=c,t.bisectLeft=l,t.ascending=a,t.bisector=u,t.cross=function(t,e,r){var i,o,a,u,s=t.length,c=e.length,l=new Array(s*c);for(null==r&&(r=n),i=a=0;i<s;++i)for(u=t[i],o=0;o<c;++o,++a)l[a]=r(u,e[o]);return l},t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.deviation=d,t.extent=p,t.histogram=function(){function t(t){var o,a,u=t.length,s=new Array(u);for(o=0;o<u;++o)s[o]=e(t[o],o,t);var l=n(s),f=l[0],h=l[1],d=r(s,f,h);Array.isArray(d)||(d=i(f,h,d),d=_(Math.ceil(f/d)*d,Math.floor(h/d)*d,d));for(var p=d.length;d[0]<=f;)d.shift(),--p;for(;d[p-1]>h;)d.pop(),--p;var g,v=new Array(p+1);for(o=0;o<=p;++o)(g=v[o]=[]).x0=o>0?d[o-1]:f,g.x1=o<p?d[o]:h;for(o=0;o<u;++o)f<=(a=s[o])&&a<=h&&v[c(d,a,0,p)].push(t[o]);return v}var e=b,n=p,r=M;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:m(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:m([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(r="function"==typeof e?e:m(Array.isArray(e)?v.call(e):e),t):r},t},t.thresholdFreedmanDiaconis=function(t,e,n){return t=y.call(t,f).sort(a),Math.ceil((n-e)/(2*(S(t,.75)-S(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*d(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=M,t.max=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},t.mean=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=f(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=f(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},t.median=function(t,e){var n,r=t.length,i=-1,o=[];if(null==e)for(;++i<r;)isNaN(n=f(t[i]))||o.push(n);else for(;++i<r;)isNaN(n=f(e(t[i],i,t)))||o.push(n);return S(o.sort(a),.5)},t.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n},t.min=T,t.pairs=function(t,e){null==e&&(e=n);for(var r=0,i=t.length-1,o=t[0],a=new Array(i<0?0:i);r<i;)a[r]=e(o,o=t[++r]);return a},t.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},t.quantile=S,t.range=_,t.scan=function(t,e){if(n=t.length){var n,r,i=0,o=0,u=t[o];for(null==e&&(e=a);++i<n;)(e(r=t[i],u)<0||0!==e(u,u))&&(u=r,o=i);return 0===e(u,u)?o:void 0}},t.shuffle=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},t.sum=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},t.ticks=function(t,e,n){var i,o,a,u,s=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((i=e<t)&&(o=t,t=e,e=o),0===(u=r(t,e,n))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),e=Math.floor(e/u),a=new Array(o=Math.ceil(e-t+1));++s<o;)a[s]=(t+s)*u;else for(t=Math.floor(t*u),e=Math.ceil(e*u),a=new Array(o=Math.ceil(t-e+1));++s<o;)a[s]=(t-s)/u;return i&&a.reverse(),a},t.tickIncrement=r,t.tickStep=i,t.transpose=N,t.variance=h,t.zip=function(){return N(arguments)},Object.defineProperty(t,"__esModule",{value:!0})})},{}],2:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-dispatch"),t("d3-drag"),t("d3-interpolate"),t("d3-selection"),t("d3-transition")):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3)}(this,function(t,e,n,r,i,o){"use strict";function a(){i.event.stopImmediatePropagation()}function u(t){return{type:t}}function s(){return!i.event.button}function c(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function l(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function f(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function h(t){function h(e){var n=e.property("__brush",C).selectAll(".overlay").data([u("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",k.overlay).merge(n).each(function(){var t=l(this).extent;i.select(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([u("selection")]).enter().append("rect").attr("class","selection").attr("cursor",k.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return k[t.type]}),e.each(w).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",P)}function w(){var t=i.select(this),e=l(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-z/2:e[0][0]-z/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-z/2:e[0][1]-z/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+z:z}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+z:z})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function E(t,e){return t.__brush.emitter||new O(t,e)}function O(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function P(){function e(){var t=i.mouse(I);!K||L||U||(Math.abs(t[0]-Q[0])>Math.abs(t[1]-Q[1])?U=!0:L=!0),Q=t,z=!0,g(),r()}function r(){var t;switch(A=Q[0]-J[0],R=Q[1]-J[1],W){case y:case v:B&&(A=Math.max(V-s,Math.min(G-p,A)),c=s+A,O=p+A),F&&(R=Math.max(X-h,Math.min(Z-P,R)),d=h+R,C=P+R);break;case m:B<0?(A=Math.max(V-s,Math.min(G-s,A)),c=s+A,O=p):B>0&&(A=Math.max(V-p,Math.min(G-p,A)),c=s,O=p+A),F<0?(R=Math.max(X-h,Math.min(Z-h,R)),d=h+R,C=P):F>0&&(R=Math.max(X-P,Math.min(Z-P,R)),d=h,C=P+R);break;case b:B&&(c=Math.max(V,Math.min(G,s-A*B)),O=Math.max(V,Math.min(G,p+A*B))),F&&(d=Math.max(X,Math.min(Z,h-R*F)),C=Math.max(X,Math.min(Z,P+R*F)))}O<c&&(B*=-1,t=s,s=p,p=t,t=c,c=O,O=t,$ in M&&nt.attr("cursor",k[$=M[$]])),C<d&&(F*=-1,t=h,h=P,P=t,t=d,d=C,C=t,$ in S&&nt.attr("cursor",k[$=S[$]])),Y.selection&&(q=Y.selection),L&&(c=q[0][0],O=q[1][0]),U&&(d=q[0][1],C=q[1][1]),q[0][0]===c&&q[0][1]===d&&q[1][0]===O&&q[1][1]===C||(Y.selection=[[c,d],[O,C]],w.call(I),tt.brush())}function u(){if(a(),i.event.touches){if(i.event.touches.length)return;j&&clearTimeout(j),j=setTimeout(function(){j=null},500),et.on("touchmove.brush touchend.brush touchcancel.brush",null)}else n.dragEnable(i.event.view,z),rt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);et.attr("pointer-events","all"),nt.attr("cursor",k.overlay),Y.selection&&(q=Y.selection),f(q)&&(Y.selection=null,w.call(I)),tt.end()}if(i.event.touches){if(i.event.changedTouches.length<i.event.touches.length)return g()}else if(j)return;if(D.apply(this,arguments)){var s,c,h,d,p,O,P,C,A,R,z,L,U,I=this,$=i.event.target.__data__.type,W="selection"===(i.event.metaKey?$="overlay":$)?v:i.event.altKey?b:m,B=t===x?null:T[$],F=t===_?null:N[$],Y=l(I),H=Y.extent,q=Y.selection,V=H[0][0],X=H[0][1],G=H[1][0],Z=H[1][1],K=B&&F&&i.event.shiftKey,J=i.mouse(I),Q=J,tt=E(I,arguments).beforestart();"overlay"===$?Y.selection=q=[[s=t===x?V:J[0],h=t===_?X:J[1]],[p=t===x?G:s,P=t===_?Z:h]]:(s=q[0][0],h=q[0][1],p=q[1][0],P=q[1][1]),c=s,d=h,O=p,C=P;var et=i.select(I).attr("pointer-events","none"),nt=et.selectAll(".overlay").attr("cursor",k[$]);if(i.event.touches)et.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",u,!0);else{var rt=i.select(i.event.view).on("keydown.brush",function(){switch(i.event.keyCode){case 16:K=B&&F;break;case 18:W===m&&(B&&(p=O-A*B,s=c+A*B),F&&(P=C-R*F,h=d+R*F),W=b,r());break;case 32:W!==m&&W!==b||(B<0?p=O-A:B>0&&(s=c-A),F<0?P=C-R:F>0&&(h=d-R),W=y,nt.attr("cursor",k.selection),r());break;default:return}g()},!0).on("keyup.brush",function(){switch(i.event.keyCode){case 16:K&&(L=U=K=!1,r());break;case 18:W===b&&(B<0?p=O:B>0&&(s=c),F<0?P=C:F>0&&(h=d),W=m,r());break;case 32:W===y&&(i.event.altKey?(B&&(p=O-A*B,s=c+A*B),F&&(P=C-R*F,h=d+R*F),W=b):(B<0?p=O:B>0&&(s=c),F<0?P=C:F>0&&(h=d),W=m),nt.attr("cursor",k[$]),r());break;default:return}g()},!0).on("mousemove.brush",e,!0).on("mouseup.brush",u,!0);n.dragDisable(i.event.view)}a(),o.interrupt(I),w.call(I),tt.start()}}function C(){var e=this.__brush||{selection:null};return e.extent=A.apply(this,arguments),e.dim=t,e}var j,A=c,D=s,R=e.dispatch(h,"start","brush","end"),z=6;return h.move=function(e,n){e.selection?e.on("start.brush",function(){E(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){E(this,arguments).end()}).tween("brush",function(){function e(t){o.selection=1===t&&f(s)?null:c(t),w.call(i),a.brush()}var i=this,o=i.__brush,a=E(i,arguments),u=o.selection,s=t.input("function"==typeof n?n.apply(this,arguments):n,o.extent),c=r.interpolate(u,s);return u&&s?e:e(1)}):e.each(function(){var e=this,r=arguments,i=e.__brush,a=t.input("function"==typeof n?n.apply(e,r):n,i.extent),u=E(e,r).beforestart();o.interrupt(e),i.selection=null==a||f(a)?null:a,w.call(e),u.start().brush().end()})},O.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){i.customEvent(new p(h,e,t.output(this.state.selection)),R.apply,R,[e,this.that,this.args])}},h.extent=function(t){return arguments.length?(A="function"==typeof t?t:d([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),h):A},h.filter=function(t){return arguments.length?(D="function"==typeof t?t:d(!!t),h):D},h.handleSize=function(t){return arguments.length?(z=+t,h):z},h.on=function(){var t=R.on.apply(R,arguments);return t===R?h:t},h}var d=function(t){return function(){return t}},p=function(t,e,n){this.target=t,this.type=e,this.selection=n},g=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},v={name:"drag"},y={name:"space"},m={name:"handle"},b={name:"center"},_={name:"x",handles:["e","w"].map(u),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},x={name:"y",handles:["n","s"].map(u),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},w={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(u),input:function(t){return t},output:function(t){return t}},k={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},M={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},S={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},T={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},N={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};t.brush=function(){return h(w)},t.brushX=function(){return h(_)},t.brushY=function(){return h(x)},t.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-dispatch":5,"d3-drag":6,"d3-interpolate":10,"d3-selection":13,"d3-transition":18}],3:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:t.d3=t.d3||{})}(this,function(t){"use strict";function e(){}function n(t,n){var r=new e;if(t instanceof e)t.each(function(t,e){r.set(e,t)});else if(Array.isArray(t)){var i,o=-1,a=t.length;if(null==n)for(;++o<a;)r.set(o,t[o]);else for(;++o<a;)r.set(n(i=t[o],o,t),i)}else if(t)for(var u in t)r.set(u,t[u]);return r}function r(){return{}}function i(t,e,n){t[e]=n}function o(){return n()}function a(t,e,n){t.set(e,n)}function u(){}function s(t,e){var n=new u;if(t instanceof u)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}e.prototype=n.prototype={constructor:e,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var c=n.prototype;u.prototype=s.prototype={constructor:u,has:c.has,add:function(t){return t+="",this["$"+t]=t,this},remove:c.remove,clear:c.clear,values:c.keys,size:c.size,empty:c.empty,each:c.each};t.nest=function(){function t(e,r,i,o){if(r>=l.length)return null!=u&&e.sort(u),null!=s?s(e):e;for(var a,c,f,h=-1,d=e.length,p=l[r++],g=n(),v=i();++h<d;)(f=g.get(a=p(c=e[h])+""))?f.push(c):g.set(a,[c]);return g.each(function(e,n){o(v,n,t(e,r,i,o))}),v}function e(t,n){if(++n>l.length)return t;var r,i=f[n-1];return null!=s&&n>=l.length?r=t.entries():(r=[],t.each(function(t,i){r.push({key:i,values:e(t,n)})})),null!=i?r.sort(function(t,e){return i(t.key,e.key)}):r}var u,s,c,l=[],f=[];return c={object:function(e){return t(e,0,r,i)},map:function(e){return t(e,0,o,a)},entries:function(n){return e(t(n,0,o,a),0)},key:function(t){return l.push(t),c},sortKeys:function(t){return f[l.length-1]=t,c},sortValues:function(t){return u=t,c},rollup:function(t){return s=t,c}}},t.set=s,t.map=n,t.keys=function(t){var e=[];for(var n in t)e.push(n);return e},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Object.defineProperty(t,"__esModule",{value:!0})})},{}],4:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function n(){}function r(t){var e;return t=(t+"").trim().toLowerCase(),(e=C.exec(t))?(e=parseInt(e[1],16),new s(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=j.exec(t))?i(parseInt(e[1],16)):(e=A.exec(t))?new s(e[1],e[2],e[3],1):(e=D.exec(t))?new s(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=R.exec(t))?o(e[1],e[2],e[3],e[4]):(e=z.exec(t))?o(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=L.exec(t))?c(e[1],e[2]/100,e[3]/100,1):(e=U.exec(t))?c(e[1],e[2]/100,e[3]/100,e[4]):I.hasOwnProperty(t)?i(I[t]):"transparent"===t?new s(NaN,NaN,NaN,0):null}function i(t){return new s(t>>16&255,t>>8&255,255&t,1)}function o(t,e,n,r){return r<=0&&(t=e=n=NaN),new s(t,e,n,r)}function a(t){return t instanceof n||(t=r(t)),t?(t=t.rgb(),new s(t.r,t.g,t.b,t.opacity)):new s}function u(t,e,n,r){return 1===arguments.length?a(t):new s(t,e,n,null==r?1:r)}function s(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function c(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new h(t,e,n,r)}function l(t){if(t instanceof h)return new h(t.h,t.s,t.l,t.opacity);if(t instanceof n||(t=r(t)),!t)return new h;if(t instanceof h)return t;var e=(t=t.rgb()).r/255,i=t.g/255,o=t.b/255,a=Math.min(e,i,o),u=Math.max(e,i,o),s=NaN,c=u-a,l=(u+a)/2;return c?(s=e===u?(i-o)/c+6*(i<o):i===u?(o-e)/c+2:(e-i)/c+4,c/=l<.5?u+a:2-u-a,s*=60):c=l>0&&l<1?0:s,new h(s,c,l,t.opacity)}function f(t,e,n,r){return 1===arguments.length?l(t):new h(t,e,n,null==r?1:r)}function h(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function d(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function p(t){if(t instanceof v)return new v(t.l,t.a,t.b,t.opacity);if(t instanceof k){var e=t.h*$;return new v(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof s||(t=a(t));var n=_(t.r),r=_(t.g),i=_(t.b),o=y((.4124564*n+.3575761*r+.1804375*i)/B),u=y((.2126729*n+.7151522*r+.072175*i)/F);return new v(116*u-16,500*(o-u),200*(u-y((.0193339*n+.119192*r+.9503041*i)/Y)),t.opacity)}function g(t,e,n,r){return 1===arguments.length?p(t):new v(t,e,n,null==r?1:r)}function v(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function y(t){return t>X?Math.pow(t,1/3):t/V+H}function m(t){return t>q?t*t*t:V*(t-H)}function b(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function _(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function x(t){if(t instanceof k)return new k(t.h,t.c,t.l,t.opacity);t instanceof v||(t=p(t));var e=Math.atan2(t.b,t.a)*W;return new k(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function w(t,e,n,r){return 1===arguments.length?x(t):new k(t,e,n,null==r?1:r)}function k(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function M(t){if(t instanceof T)return new T(t.h,t.s,t.l,t.opacity);t instanceof s||(t=a(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(nt*r+tt*e-et*n)/(nt+tt-et),o=r-i,u=(Q*(n-i)-K*o)/J,c=Math.sqrt(u*u+o*o)/(Q*i*(1-i)),l=c?Math.atan2(u,o)*W-120:NaN;return new T(l<0?l+360:l,c,i,t.opacity)}function S(t,e,n,r){return 1===arguments.length?M(t):new T(t,e,n,null==r?1:r)}function T(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}var N=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},E="\\s*([+-]?\\d+)\\s*",O="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",P="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",C=/^#([0-9a-f]{3})$/,j=/^#([0-9a-f]{6})$/,A=new RegExp("^rgb\\("+[E,E,E]+"\\)$"),D=new RegExp("^rgb\\("+[P,P,P]+"\\)$"),R=new RegExp("^rgba\\("+[E,E,E,O]+"\\)$"),z=new RegExp("^rgba\\("+[P,P,P,O]+"\\)$"),L=new RegExp("^hsl\\("+[O,P,P]+"\\)$"),U=new RegExp("^hsla\\("+[O,P,P,O]+"\\)$"),I={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};N(n,r,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),N(s,u,e(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new s(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new s(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),N(h,f,e(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new h(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new h(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new s(d(t>=240?t-240:t+120,i,r),d(t,i,r),d(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var $=Math.PI/180,W=180/Math.PI,B=.95047,F=1,Y=1.08883,H=4/29,q=6/29,V=3*q*q,X=q*q*q;N(v,g,e(n,{brighter:function(t){return new v(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new v(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=F*m(t),e=B*m(e),n=Y*m(n),new s(b(3.2404542*e-1.5371385*t-.4985314*n),b(-.969266*e+1.8760108*t+.041556*n),b(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),N(k,w,e(n,{brighter:function(t){return new k(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new k(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return p(this).rgb()}}));var G=-.14861,Z=1.78277,K=-.29227,J=-.90649,Q=1.97294,tt=Q*J,et=Q*Z,nt=Z*K-J*G;N(T,S,e(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new T(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new T(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*$,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new s(255*(e+n*(G*r+Z*i)),255*(e+n*(K*r+J*i)),255*(e+n*(Q*r)),this.opacity)}})),t.color=r,t.rgb=u,t.hsl=f,t.lab=g,t.hcl=w,t.cubehelix=S,Object.defineProperty(t,"__esModule",{value:!0})})},{}],5:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:t.d3=t.d3||{})}(this,function(t){"use strict";function e(){for(var t,e=0,r=arguments.length,i={};e<r;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new n(i)}function n(t){this._=t}function r(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function i(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function o(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=a,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}var a={value:function(){}};n.prototype=e.prototype={constructor:n,on:function(t,e){var n,a=this._,u=r(t+"",a),s=-1,c=u.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<c;)if(n=(t=u[s]).type)a[n]=o(a[n],t.name,e);else if(null==e)for(n in a)a[n]=o(a[n],t.name,null);return this}for(;++s<c;)if((n=(t=u[s]).type)&&(n=i(a[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new n(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},t.dispatch=e,Object.defineProperty(t,"__esModule",{value:!0})})},{}],6:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-dispatch"),t("d3-selection")):i(r.d3=r.d3||{},r.d3,r.d3)}(this,function(t,e,n){"use strict";function r(){n.event.stopImmediatePropagation()}function i(t,e){var r=t.document.documentElement,i=n.select(t).on("dragstart.drag",null);e&&(i.on("click.drag",l,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function o(t,e,n,r,i,o,a,u,s,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=s,this._=c}function a(){return!n.event.button}function u(){return this.parentNode}function s(t){return null==t?{x:n.event.x,y:n.event.y}:t}function c(){return"ontouchstart"in this}var l=function(){n.event.preventDefault(),n.event.stopImmediatePropagation()},f=function(t){var e=t.document.documentElement,r=n.select(t).on("dragstart.drag",l,!0);"onselectstart"in e?r.on("selectstart.drag",l,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},h=function(t){return function(){return t}};o.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};t.drag=function(){function t(t){t.on("mousedown.drag",d).filter(N).on("touchstart.drag",v).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!k&&M.apply(this,arguments)){var t=b("mouse",S.apply(this,arguments),n.mouse,this,arguments);t&&(n.select(n.event.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),f(n.event.view),r(),w=!1,_=n.event.clientX,x=n.event.clientY,t("start"))}}function p(){if(l(),!w){var t=n.event.clientX-_,e=n.event.clientY-x;w=t*t+e*e>C}E.mouse("drag")}function g(){n.select(n.event.view).on("mousemove.drag mouseup.drag",null),i(n.event.view,w),l(),E.mouse("end")}function v(){if(M.apply(this,arguments)){var t,e,i=n.event.changedTouches,o=S.apply(this,arguments),a=i.length;for(t=0;t<a;++t)(e=b(i[t].identifier,o,n.touch,this,arguments))&&(r(),e("start"))}}function y(){var t,e,r=n.event.changedTouches,i=r.length;for(t=0;t<i;++t)(e=E[r[t].identifier])&&(l(),e("drag"))}function m(){var t,e,i=n.event.changedTouches,o=i.length;for(k&&clearTimeout(k),k=setTimeout(function(){k=null},500),t=0;t<o;++t)(e=E[i[t].identifier])&&(r(),e("end"))}function b(e,r,i,a,u){var s,c,l,f=i(r,e),h=O.copy();if(n.customEvent(new o(t,"beforestart",s,e,P,f[0],f[1],0,0,h),function(){return null!=(n.event.subject=s=T.apply(a,u))&&(c=s.x-f[0]||0,l=s.y-f[1]||0,!0)}))return function d(p){var g,v=f;switch(p){case"start":E[e]=d,g=P++;break;case"end":delete E[e],--P;case"drag":f=i(r,e),g=P}n.customEvent(new o(t,p,s,e,g,f[0]+c,f[1]+l,f[0]-v[0],f[1]-v[1],h),h.apply,h,[p,a,u])}}var _,x,w,k,M=a,S=u,T=s,N=c,E={},O=e.dispatch("start","drag","end"),P=0,C=0;return t.filter=function(e){return arguments.length?(M="function"==typeof e?e:h(!!e),t):M},t.container=function(e){return arguments.length?(S="function"==typeof e?e:h(e),t):S},t.subject=function(e){return arguments.length?(T="function"==typeof e?e:h(e),t):T},t.touchable=function(e){return arguments.length?(N="function"==typeof e?e:h(!!e),t):N},t.on=function(){var e=O.on.apply(O,arguments);return e===O?t:e},t.clickDistance=function(e){return arguments.length?(C=(e=+e)*e,t):Math.sqrt(C)},t},t.dragDisable=f,t.dragEnable=i,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-dispatch":5,"d3-selection":13}],7:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function n(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function r(t){return(1-Math.cos(l*t))/2}function i(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function o(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function a(t){return(t=+t)<h?x*t*t:t<p?x*(t-=d)*t+g:t<y?x*(t-=v)*t+m:x*(t-=b)*t+_}var u=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),s=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),c=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),l=Math.PI,f=l/2,h=4/11,d=6/11,p=8/11,g=.75,v=9/11,y=10/11,m=.9375,b=21/22,_=63/64,x=1/h/h,w=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),k=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),M=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),S=2*Math.PI,T=function t(e,n){function r(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=S);return r.amplitude=function(e){return t(e,n*S)},r.period=function(n){return t(e,n)},r}(1,.3),N=function t(e,n){function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=S);return r.amplitude=function(e){return t(e,n*S)},r.period=function(n){return t(e,n)},r}(1,.3),E=function t(e,n){function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=S);return r.amplitude=function(e){return t(e,n*S)},r.period=function(n){return t(e,n)},r}(1,.3);t.easeLinear=function(t){return+t},t.easeQuad=e,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=e,t.easeCubic=n,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=n,t.easePoly=c,t.easePolyIn=u,t.easePolyOut=s,t.easePolyInOut=c,t.easeSin=r,t.easeSinIn=function(t){return 1-Math.cos(t*f)},t.easeSinOut=function(t){return Math.sin(t*f)},t.easeSinInOut=r,t.easeExp=i,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=i,t.easeCircle=o,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=o,t.easeBounce=a,t.easeBounceIn=function(t){return 1-a(1-t)},t.easeBounceOut=a,t.easeBounceInOut=function(t){return((t*=2)<=1?1-a(1-t):a(t-1)+1)/2},t.easeBack=M,t.easeBackIn=w,t.easeBackOut=k,t.easeBackInOut=M,t.easeElastic=N,t.easeElasticIn=T,t.easeElasticOut=N,t.easeElasticInOut=E,Object.defineProperty(t,"__esModule",{value:!0})})},{}],8:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return new n(t)}function n(t){if(!(e=f.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],u=e[6]&&+e[6],s=!!e[7],c=e[8]&&+e[8].slice(1),h=e[9]||"";"n"===h?(s=!0,h="g"):l[h]||(h=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=u,this.comma=s,this.precision=c,this.type=h}function r(e){return h=g(e),t.format=h.format,t.formatPrefix=h.formatPrefix,h}var i,o=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},a=function(t){return(t=o(Math.abs(t)))?t[1]:NaN},u=function(t,e){return function(n,r){for(var i=n.length,o=[],a=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(n.substring(i-=u,i+u)),!((s+=u+1)>r));)u=t[a=(a+1)%t.length];return o.reverse().join(e)}},s=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},c=function(t,e){var n=o(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},l={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return c(100*t,e)},r:c,s:function(t,e){var n=o(t,e);if(!n)return t+"";var r=n[0],a=n[1],u=a-(i=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=r.length;return u===s?r:u>s?r+new Array(u-s+1).join("0"):u>0?r.slice(0,u)+"."+r.slice(u):"0."+new Array(1-u).join("0")+o(t,Math.max(0,e+u-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},f=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;e.prototype=n.prototype,n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var h,d=function(t){return t},p=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],g=function(t){function n(t){function n(t){var e,n,o,l=_,h=x;if("c"===b)h=w(t)+h,t="";else{var d=(t=+t)<0;if(t=w(Math.abs(t),m),d&&0==+t&&(d=!1),l=(d?"("===s?s:"-":"-"===s||"("===s?"":s)+l,h=h+("s"===b?p[8+i/3]:"")+(d&&"("===s?")":""),k)for(e=-1,n=t.length;++e<n;)if(48>(o=t.charCodeAt(e))||o>57){h=(46===o?c+t.slice(e+1):t.slice(e))+h,t=t.slice(0,e);break}}y&&!g&&(t=r(t,1/0));var M=l.length+t.length+h.length,S=M<v?new Array(v-M+1).join(a):"";switch(y&&g&&(t=r(S+t,S.length?v-h.length:1/0),S=""),u){case"<":t=l+t+h+S;break;case"=":t=l+S+t+h;break;case"^":t=S.slice(0,M=S.length>>1)+l+t+h+S.slice(M);break;default:t=S+l+t+h}return f(t)}var a=(t=e(t)).fill,u=t.align,s=t.sign,d=t.symbol,g=t.zero,v=t.width,y=t.comma,m=t.precision,b=t.type,_="$"===d?o[0]:"#"===d&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",x="$"===d?o[1]:/[%p]/.test(b)?h:"",w=l[b],k=!b||/[defgprs%]/.test(b);return m=null==m?b?6:12:/[gprs]/.test(b)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),n.toString=function(){return t+""},n}var r=t.grouping&&t.thousands?u(t.grouping,t.thousands):d,o=t.currency,c=t.decimal,f=t.numerals?s(t.numerals):d,h=t.percent||"%";return{format:n,formatPrefix:function(t,r){var i=n((t=e(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(a(r)/3))),u=Math.pow(10,-o),s=p[8+o/3];return function(t){return i(u*t)+s}}}};r({decimal:".",thousands:",",grouping:[3],currency:["$",""]});t.formatDefaultLocale=r,t.formatLocale=g,t.formatSpecifier=e,t.precisionFixed=function(t){return Math.max(0,-a(Math.abs(t)))},t.precisionPrefix=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(a(e)/3)))-a(Math.abs(t)))},t.precisionRound=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,a(e)-a(t))+1},Object.defineProperty(t,"__esModule",{value:!0})})},{}],9:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){return t.parent===e.parent?1:2}function n(t){return t.reduce(r,0)/t.length}function r(t,e){return t+e.x}function i(t){return 1+t.reduce(o,0)}function o(t,e){return Math.max(t,e.y)}function a(t){for(var e;e=t.children;)t=e[0];return t}function u(t){for(var e;e=t.children;)t=e[e.length-1];return t}function s(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function c(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function l(t,e){var n,r,i,o,a,u=new p(t),s=+t.value&&(u.value=t.value),c=[u];for(null==e&&(e=f);n=c.pop();)if(s&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(r=n.children[o]=new p(i[o])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(d)}function f(t){return t.children}function h(t){t.data=t.data.data}function d(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function p(t){this.data=t,this.depth=this.height=0,this.parent=null}function g(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}function v(t,e){var n,r;if(b(e,t))return[e];for(n=0;n<t.length;++n)if(y(e,t[n])&&b(w(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(y(w(t[n],t[r]),e)&&y(w(t[n],e),t[r])&&y(w(t[r],e),t[n])&&b(k(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function y(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function m(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function b(t,e){for(var n=0;n<e.length;++n)if(!m(t,e[n]))return!1;return!0}function _(t){switch(t.length){case 1:return x(t[0]);case 2:return w(t[0],t[1]);case 3:return k(t[0],t[1],t[2])}}function x(t){return{x:t.x,y:t.y,r:t.r}}function w(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,u=e.r,s=o-n,c=a-r,l=u-i,f=Math.sqrt(s*s+c*c);return{x:(n+o+s/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+u)/2}}function k(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,u=e.y,s=e.r,c=n.x,l=n.y,f=n.r,h=r-a,d=r-c,p=i-u,g=i-l,v=s-o,y=f-o,m=r*r+i*i-o*o,b=m-a*a-u*u+s*s,_=m-c*c-l*l+f*f,x=d*p-h*g,w=(p*_-g*b)/(2*x)-r,k=(g*v-p*y)/x,M=(d*b-h*_)/(2*x)-i,S=(h*y-d*v)/x,T=k*k+S*S-1,N=2*(o+w*k+M*S),E=w*w+M*M-o*o,O=-(T?(N+Math.sqrt(N*N-4*T*E))/(2*T):E/N);return{x:r+w+k*O,y:i+M+S*O,r:O}}function M(t,e,n){var r=t.x,i=t.y,o=e.r+n.r,a=t.r+n.r,u=e.x-r,s=e.y-i,c=u*u+s*s;if(c){var l=.5+((a*=a)-(o*=o))/(2*c),f=Math.sqrt(Math.max(0,2*o*(a+c)-(a-=c)*a-o*o))/(2*c);n.x=r+l*u+f*s,n.y=i+l*s-f*u}else n.x=r+a,n.y=i}function S(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return i*i-1e-6>n*n+r*r}function T(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function N(t){this._=t,this.next=null,this.previous=null}function E(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,u,s,c,l,f;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;M(n,e,r=t[2]),e=new N(e),n=new N(n),r=new N(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(u=3;u<i;++u){M(e._,n._,r=t[u]),r=new N(r),s=n.next,c=e.previous,l=n._.r,f=e._.r;do{if(l<=f){if(S(s._,r._)){n=s,e.next=n,n.previous=e,--u;continue t}l+=s._.r,s=s.next}else{if(S(c._,r._)){(e=c).next=n,n.previous=e,--u;continue t}f+=c._.r,c=c.previous}}while(s!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=T(e);(r=r.next)!==n;)(a=T(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=X(e),u=0;u<i;++u)e=t[u],e.x-=r.x,e.y-=r.y;return r.r}function O(t){return null==t?null:P(t)}function P(t){if("function"!=typeof t)throw new Error;return t}function C(){return 0}function j(t){return Math.sqrt(t.value)}function A(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function D(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,u=t(n)*e||0;if(u)for(i=0;i<a;++i)r[i].r+=u;if(o=E(r),u)for(i=0;i<a;++i)r[i].r-=u;n.r=o+u}}}function R(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function z(t){return t.id}function L(t){return t.parentId}function U(t,e){return t.parent===e.parent?1:2}function I(t){var e=t.children;return e?e[0]:t.t}function $(t){var e=t.children;return e?e[e.length-1]:t.t}function W(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function B(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}function F(t,e,n){return t.a.parent===e.parent?t.a:n}function Y(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function H(t){for(var e,n,r,i,o,a=new Y(t,0),u=[a];e=u.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)u.push(n=e.children[i]=new Y(r[i],i)),n.parent=e;return(a.parent=new Y(null,0)).children=[a],a}function q(t,e,n,r,i,o){for(var a,u,s,c,l,f,h,d,p,g,v,y=[],m=e.children,b=0,_=0,x=m.length,w=e.value;b<x;){s=i-n,c=o-r;do{l=m[_++].value}while(!l&&_<x);for(f=h=l,v=l*l*(g=Math.max(c/s,s/c)/(w*t)),p=Math.max(h/v,v/f);_<x;++_){if(l+=u=m[_].value,u<f&&(f=u),u>h&&(h=u),v=l*l*g,(d=Math.max(h/v,v/f))>p){l-=u;break}p=d}y.push(a={value:l,dice:s<c,children:m.slice(b,_)}),a.dice?K(a,n,r,i,w?r+=c*l/w:o):et(a,n,r,w?n+=s*l/w:i,o),w-=l,b=_}return y}p.prototype=l.prototype={constructor:p,count:function(){return this.eachAfter(s)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=c(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return l(this).eachBefore(h)}};var V=Array.prototype.slice,X=function(t){for(var e,n,r=0,i=(t=g(V.call(t))).length,o=[];r<i;)e=t[r],n&&m(n,e)?++r:(n=_(o=v(o,e)),r=0);return n},G=function(t){return function(){return t}},Z=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},K=function(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,c=t.value&&(r-e)/t.value;++u<s;)(o=a[u]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c},J="$",Q={depth:-1},tt={};Y.prototype=Object.create(p.prototype);var et=function(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,c=t.value&&(i-n)/t.value;++u<s;)(o=a[u]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c},nt=(1+Math.sqrt(5))/2,rt=function t(e){function n(t,n,r,i,o){q(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(nt),it=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,u,s,c,l,f=-1,h=a.length,d=t.value;++f<h;){for(s=(u=a[f]).children,c=u.value=0,l=s.length;c<l;++c)u.value+=s[c].value;u.dice?K(u,n,r,i,r+=(o-r)*u.value/d):et(u,n,r,n+=(i-n)*u.value/d,o),d-=u.value}else t._squarify=a=q(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(nt);t.cluster=function(){function t(t){var e,l=0;t.eachAfter(function(t){var o=t.children;o?(t.x=n(o),t.y=i(o)):(t.x=e?l+=r(t,e):0,t.y=0,e=t)});var f=a(t),h=u(t),d=f.x-r(f,h)/2,p=h.x+r(h,f)/2;return t.eachAfter(c?function(e){e.x=(e.x-t.x)*o,e.y=(t.y-e.y)*s}:function(e){e.x=(e.x-d)/(p-d)*o,e.y=(1-(t.y?e.y/t.y:1))*s})}var r=e,o=1,s=1,c=!1;return t.separation=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(c=!1,o=+e[0],s=+e[1],t):c?null:[o,s]},t.nodeSize=function(e){return arguments.length?(c=!0,o=+e[0],s=+e[1],t):c?[o,s]:null},t},t.hierarchy=l,t.pack=function(){function t(t){return t.x=n/2,t.y=r/2,e?t.eachBefore(A(e)).eachAfter(D(i,.5)).eachBefore(R(1)):t.eachBefore(A(j)).eachAfter(D(C,1)).eachAfter(D(i,t.r/Math.min(n,r))).eachBefore(R(Math.min(n,r)/(2*t.r))),t}var e=null,n=1,r=1,i=C;return t.radius=function(n){return arguments.length?(e=O(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i="function"==typeof e?e:G(+e),t):i},t},t.packSiblings=function(t){return E(t),t},t.packEnclose=X,t.partition=function(){function t(t){var a=t.height+1;return t.x0=t.y0=i,t.x1=n,t.y1=r/a,t.eachBefore(e(r,a)),o&&t.eachBefore(Z),t}function e(t,e){return function(n){n.children&&K(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var r=n.x0,o=n.y0,a=n.x1-i,u=n.y1-i;a<r&&(r=a=(r+a)/2),u<o&&(o=u=(o+u)/2),n.x0=r,n.y0=o,n.x1=a,n.y1=u}}var n=1,r=1,i=0,o=!1;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i=+e,t):i},t},t.stratify=function(){function t(t){var r,i,o,a,u,s,c,l=t.length,f=new Array(l),h={};for(i=0;i<l;++i)r=t[i],u=f[i]=new p(r),null!=(s=e(r,i,t))&&(s+="")&&(h[c=J+(u.id=s)]=c in h?tt:u);for(i=0;i<l;++i)if(u=f[i],null!=(s=n(t[i],i,t))&&(s+="")){if(!(a=h[J+s]))throw new Error("missing: "+s);if(a===tt)throw new Error("ambiguous: "+s);a.children?a.children.push(u):a.children=[u],u.parent=a}else{if(o)throw new Error("multiple roots");o=u}if(!o)throw new Error("no root");if(o.parent=Q,o.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(d),o.parent=null,l>0)throw new Error("cycle");return o}var e=z,n=L;return t.id=function(n){return arguments.length?(e=P(n),t):e},t.parentId=function(e){return arguments.length?(n=P(e),t):n},t},t.tree=function(){function t(t){var r=H(t);if(r.eachAfter(e),r.parent.m=-r.z,r.eachBefore(n),s)t.eachBefore(i);else{var c=t,l=t,f=t;t.eachBefore(function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)});var h=c===l?1:o(c,l)/2,d=h-c.x,p=a/(l.x+h+d),g=u/(f.depth||1);t.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*g})}return t}function e(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){B(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+o(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+o(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var r,i=t,a=t,u=e,s=i.parent.children[0],c=i.m,l=a.m,f=u.m,h=s.m;u=$(u),i=I(i),u&&i;)s=I(s),(a=$(a)).a=t,(r=u.z+f-i.z-c+o(u._,i._))>0&&(W(F(u,t,n),t,r),c+=r,l+=r),f+=u.m,c+=i.m,h+=s.m,l+=a.m;u&&!$(a)&&(a.t=u,a.m+=f-l),i&&!I(s)&&(s.t=i,s.m+=c-h,n=t)}return n}function i(t){t.x*=a,t.y=t.depth*u}var o=U,a=1,u=1,s=null;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(s=!1,a=+e[0],u=+e[1],t):s?null:[a,u]},t.nodeSize=function(e){return arguments.length?(s=!0,a=+e[0],u=+e[1],t):s?[a,u]:null},t},t.treemap=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(e),a=[0],r&&t.eachBefore(Z),t}function e(t){var e=a[t.depth],r=t.x0+e,i=t.y0+e,o=t.x1-e,h=t.y1-e;o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=h,t.children&&(e=a[t.depth+1]=u(t)/2,r+=f(t)-e,i+=s(t)-e,o-=c(t)-e,h-=l(t)-e,o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),n(t,r,i,o,h))}var n=rt,r=!1,i=1,o=1,a=[0],u=C,s=C,c=C,l=C,f=C;return t.round=function(e){return arguments.length?(r=!!e,t):r},t.size=function(e){return arguments.length?(i=+e[0],o=+e[1],t):[i,o]},t.tile=function(e){return arguments.length?(n=P(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(u="function"==typeof e?e:G(+e),t):u},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(s="function"==typeof e?e:G(+e),t):s},t.paddingRight=function(e){return arguments.length?(c="function"==typeof e?e:G(+e),t):c},t.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:G(+e),t):l},t.paddingLeft=function(e){return arguments.length?(f="function"==typeof e?e:G(+e),t):f},t},t.treemapBinary=function(t,e,n,r,i){function o(t,e,n,r,i,a,u){if(t>=e-1){var c=s[t];return c.x0=r,c.y0=i,c.x1=a,void(c.y1=u)}for(var f=l[t],h=n/2+f,d=t+1,p=e-1;d<p;){var g=d+p>>>1;l[g]<h?d=g+1:p=g}h-l[d-1]<l[d]-h&&t+1<d&&--d;var v=l[d]-f,y=n-v;if(a-r>u-i){var m=(r*y+a*v)/n;o(t,d,v,r,i,m,u),o(d,e,y,m,i,a,u)}else{var b=(i*y+u*v)/n;o(t,d,v,r,i,a,b),o(d,e,y,r,b,a,u)}}var a,u,s=t.children,c=s.length,l=new Array(c+1);for(l[0]=u=a=0;a<c;++a)l[a+1]=u+=s[a].value;o(0,c,t.value,e,n,r,i)},t.treemapDice=K,t.treemapSlice=et,t.treemapSliceDice=function(t,e,n,r,i){(1&t.depth?et:K)(t,e,n,r,i)},t.treemapSquarify=rt,t.treemapResquarify=it,Object.defineProperty(t,"__esModule",{value:!0})})},{}],10:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-color")):i(r.d3=r.d3||{},r.d3)}(this,function(t,e){"use strict";function n(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function r(t,e){return function(n){return t+n*e}}function i(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function o(t,e){var n=e-t;return n?r(t,n>180||n<-180?n-360*Math.round(n/360):n):M(isNaN(t)?e:t)}function a(t){return 1==(t=+t)?u:function(e,n){return n-e?i(e,n,t):M(isNaN(e)?n:e)}}function u(t,e){var n=e-t;return n?r(t,n):M(isNaN(t)?e:t)}function s(t){return function(n){var r,i,o=n.length,a=new Array(o),u=new Array(o),s=new Array(o);for(r=0;r<o;++r)i=e.rgb(n[r]),a[r]=i.r||0,u[r]=i.g||0,s[r]=i.b||0;return a=t(a),u=t(u),s=t(s),i.opacity=1,function(t){return i.r=a(t),i.g=u(t),i.b=s(t),i+""}}}function c(t){return function(){return t}}function l(t){return function(e){return t(e)+""}}function f(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,e,null,n);u.push({i:s-4,x:P(t,i)},{i:s-2,x:P(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:P(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function u(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:P(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function s(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:P(t,n)},{i:u-2,x:P(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),u(e.skewX,n.skewX,r,i),s(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}function h(t){return((t=Math.exp(t))+1/t)/2}function d(t){return((t=Math.exp(t))-1/t)/2}function p(t){return((t=Math.exp(2*t))-1)/(t+1)}function g(t){return function(n,r){var i=t((n=e.hsl(n)).h,(r=e.hsl(r)).h),o=u(n.s,r.s),a=u(n.l,r.l),s=u(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(t),n.opacity=s(t),n+""}}}function v(t){return function(n,r){var i=t((n=e.hcl(n)).h,(r=e.hcl(r)).h),o=u(n.c,r.c),a=u(n.l,r.l),s=u(n.opacity,r.opacity);return function(t){return n.h=i(t),n.c=o(t),n.l=a(t),n.opacity=s(t),n+""}}}function y(t){return function n(r){function i(n,i){var o=t((n=e.cubehelix(n)).h,(i=e.cubehelix(i)).h),a=u(n.s,i.s),s=u(n.l,i.l),c=u(n.opacity,i.opacity);return function(t){return n.h=o(t),n.s=a(t),n.l=s(Math.pow(t,r)),n.opacity=c(t),n+""}}return r=+r,i.gamma=n,i}(1)}var m,b,_,x,w=function(t){var e=t.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[i],a=t[i+1],u=i>0?t[i-1]:2*o-a,s=i<e-1?t[i+2]:2*a-o;return n((r-i/e)*e,u,o,a,s)}},k=function(t){var e=t.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*e),o=t[(i+e-1)%e],a=t[i%e],u=t[(i+1)%e],s=t[(i+2)%e];return n((r-i/e)*e,o,a,u,s)}},M=function(t){return function(){return t}},S=function t(n){function r(t,n){var r=i((t=e.rgb(t)).r,(n=e.rgb(n)).r),o=i(t.g,n.g),a=i(t.b,n.b),s=u(t.opacity,n.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=a(e),t.opacity=s(e),t+""}}var i=a(n);return r.gamma=t,r}(1),T=s(w),N=s(k),E=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),a=new Array(r);for(n=0;n<i;++n)o[n]=R(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},O=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}},P=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},C=function(t,e){var n,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?r[n]=R(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},j=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,A=new RegExp(j.source,"g"),D=function(t,e){var n,r,i,o=j.lastIndex=A.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=j.exec(t))&&(r=A.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:P(n,r)})),o=A.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?l(s[0].x):c(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})},R=function(t,n){var r,i=typeof n;return null==n||"boolean"===i?M(n):("number"===i?P:"string"===i?(r=e.color(n))?(n=r,S):D:n instanceof e.color?S:n instanceof Date?O:Array.isArray(n)?E:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?C:P)(t,n)},z=180/Math.PI,L={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},U=function(t,e,n,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*z,skewX:Math.atan(s)*z,scaleX:a,scaleY:u}},I=f(function(t){return"none"===t?L:(m||(m=document.createElement("DIV"),b=document.documentElement,_=document.defaultView),m.style.transform=t,t=_.getComputedStyle(b.appendChild(m),null).getPropertyValue("transform"),b.removeChild(m),t=t.slice(7,-1).split(","),U(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),$=f(function(t){return null==t?L:(x||(x=document.createElementNS("http://www.w3.org/2000/svg","g")),x.setAttribute("transform",t),(t=x.transform.baseVal.consolidate())?(t=t.matrix,U(t.a,t.b,t.c,t.d,t.e,t.f)):L)},", ",")",")"),W=Math.SQRT2,B=g(o),F=g(u),Y=v(o),H=v(u),q=y(o),V=y(u);t.interpolate=R,t.interpolateArray=E,t.interpolateBasis=w,t.interpolateBasisClosed=k,t.interpolateDate=O,t.interpolateNumber=P,t.interpolateObject=C,t.interpolateRound=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},t.interpolateString=D,t.interpolateTransformCss=I,t.interpolateTransformSvg=$,t.interpolateZoom=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],u=e[0],s=e[1],c=e[2],l=u-i,f=s-o,g=l*l+f*f;if(g<1e-12)r=Math.log(c/a)/W,n=function(t){return[i+t*l,o+t*f,a*Math.exp(W*t*r)]};else{var v=Math.sqrt(g),y=(c*c-a*a+4*g)/(2*a*2*v),m=(c*c-a*a-4*g)/(2*c*2*v),b=Math.log(Math.sqrt(y*y+1)-y),_=Math.log(Math.sqrt(m*m+1)-m);r=(_-b)/W,n=function(t){var e=t*r,n=h(b),u=a/(2*v)*(n*p(W*e+b)-d(b));return[i+u*l,o+u*f,a*n/h(W*e+b)]}}return n.duration=1e3*r,n},t.interpolateRgb=S,t.interpolateRgbBasis=T,t.interpolateRgbBasisClosed=N,t.interpolateHsl=B,t.interpolateHslLong=F,t.interpolateLab=function(t,n){var r=u((t=e.lab(t)).l,(n=e.lab(n)).l),i=u(t.a,n.a),o=u(t.b,n.b),a=u(t.opacity,n.opacity);return function(e){return t.l=r(e),t.a=i(e),t.b=o(e),t.opacity=a(e),t+""}},t.interpolateHcl=Y,t.interpolateHclLong=H,t.interpolateCubehelix=q,t.interpolateCubehelixLong=V,t.quantize=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-color":4}],11:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:t.d3=t.d3||{})}(this,function(t){"use strict";function e(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function n(){return new e}var r=Math.PI,i=2*r,o=i-1e-6;e.prototype=n.prototype={constructor:e,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,i,o){t=+t,e=+e,n=+n,i=+i,o=+o;var a=this._x1,u=this._y1,s=n-t,c=i-e,l=a-t,f=u-e,h=l*l+f*f;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(f*s-c*l)>1e-6&&o){var d=n-a,p=i-u,g=s*s+c*c,v=d*d+p*p,y=Math.sqrt(g),m=Math.sqrt(h),b=o*Math.tan((r-Math.acos((g+h-v)/(2*y*m)))/2),_=b/m,x=b/y;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*l)+","+(e+_*f)),this._+="A"+o+","+o+",0,0,"+ +(f*d>l*p)+","+(this._x1=t+x*s)+","+(this._y1=e+x*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,a,u,s){t=+t,e=+e;var c=(n=+n)*Math.cos(a),l=n*Math.sin(a),f=t+c,h=e+l,d=1^s,p=s?a-u:u-a;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+f+","+h:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+f+","+h),n&&(p<0&&(p=p%i+i),p>o?this._+="A"+n+","+n+",0,1,"+d+","+(t-c)+","+(e-l)+"A"+n+","+n+",0,1,"+d+","+(this._x1=f)+","+(this._y1=h):p>1e-6&&(this._+="A"+n+","+n+",0,"+ +(p>=r)+","+d+","+(this._x1=t+n*Math.cos(u))+","+(this._y1=e+n*Math.sin(u))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.path=n,Object.defineProperty(t,"__esModule",{value:!0})})},{}],12:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-array"),t("d3-collection"),t("d3-interpolate"),t("d3-format"),t("d3-time"),t("d3-time-format"),t("d3-color")):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3,r.d3,r.d3)}(this,function(t,e,n,r,i,o,a,u){"use strict";function s(t){function e(e){var n=e+"",a=r.get(n);if(!a){if(o!==W)return o;r.set(n,a=i.push(e))}return t[(a-1)%t.length]}var r=n.map(),i=[],o=W;return t=null==t?[]:$.call(t),e.domain=function(t){if(!arguments.length)return i.slice();i=[],r=n.map();for(var o,a,u=-1,s=t.length;++u<s;)r.has(a=(o=t[u])+"")||r.set(a,i.push(o));return e},e.range=function(n){return arguments.length?(t=$.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(o=t,e):o},e.copy=function(){return s().domain(i).range(t).unknown(o)},e}function c(){function t(){var t=o().length,i=u[1]<u[0],s=u[i-0],c=u[1-i];n=(c-s)/Math.max(1,t-f+2*h),l&&(n=Math.floor(n)),s+=(c-s-n*(t-f))*d,r=n*(1-f),l&&(s=Math.round(s),r=Math.round(r));var p=e.range(t).map(function(t){return s+n*t});return a(i?p.reverse():p)}var n,r,i=s().unknown(void 0),o=i.domain,a=i.range,u=[0,1],l=!1,f=0,h=0,d=.5;return delete i.unknown,i.domain=function(e){return arguments.length?(o(e),t()):o()},i.range=function(e){return arguments.length?(u=[+e[0],+e[1]],t()):u.slice()},i.rangeRound=function(e){return u=[+e[0],+e[1]],l=!0,t()},i.bandwidth=function(){return r},i.step=function(){return n},i.round=function(e){return arguments.length?(l=!!e,t()):l},i.padding=function(e){return arguments.length?(f=h=Math.max(0,Math.min(1,e)),t()):f},i.paddingInner=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),t()):f},i.paddingOuter=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},i.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),t()):d},i.copy=function(){return c().domain(o()).range(u).round(l).paddingInner(f).paddingOuter(h).align(d)},t()}function l(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return l(e())},t}function f(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:B(e)}function h(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function d(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function p(t,e,n,r){var i=t[0],o=t[1],a=e[0],u=e[1];return o<i?(i=n(o,i),a=r(u,a)):(i=n(i,o),a=r(a,u)),function(t){return a(i(t))}}function g(t,n,r,i){var o=Math.min(t.length,n.length)-1,a=new Array(o),u=new Array(o),s=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<o;)a[s]=r(t[s],t[s+1]),u[s]=i(n[s],n[s+1]);return function(n){var r=e.bisect(t,n,1,o)-1;return u[r](a[r](n))}}function v(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function y(t,e){function n(){return o=Math.min(s.length,c.length)>2?g:p,a=u=null,i}function i(e){return(a||(a=o(s,c,v?h(t):t,l)))(+e)}var o,a,u,s=Y,c=Y,l=r.interpolate,v=!1;return i.invert=function(t){return(u||(u=o(c,s,f,v?d(e):e)))(+t)},i.domain=function(t){return arguments.length?(s=I.call(t,F),n()):s.slice()},i.range=function(t){return arguments.length?(c=$.call(t),n()):c.slice()},i.rangeRound=function(t){return c=$.call(t),l=r.interpolateRound,n()},i.clamp=function(t){return arguments.length?(v=!!t,n()):v},i.interpolate=function(t){return arguments.length?(l=t,n()):l},n()}function m(t){var n=t.domain;return t.ticks=function(t){var r=n();return e.ticks(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,e){return H(n(),t,e)},t.nice=function(r){null==r&&(r=10);var i,o=n(),a=0,u=o.length-1,s=o[a],c=o[u];return c<s&&(i=s,s=c,c=i,i=a,a=u,u=i),(i=e.tickIncrement(s,c,r))>0?(s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i,i=e.tickIncrement(s,c,r)):i<0&&(s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i,i=e.tickIncrement(s,c,r)),i>0?(o[a]=Math.floor(s/i)*i,o[u]=Math.ceil(c/i)*i,n(o)):i<0&&(o[a]=Math.ceil(s*i)/i,o[u]=Math.floor(c*i)/i,n(o)),t},t}function b(){var t=y(f,r.interpolateNumber);return t.copy=function(){return v(t,b())},m(t)}function _(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=I.call(n,F),t):e.slice()},t.copy=function(){return _().domain(e)},m(t)}function x(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:B(e)}function w(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function k(t){return isFinite(t)?+("1e"+t):t<0?0:t}function M(t){return 10===t?k:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function S(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function T(t){return function(e){return-t(-e)}}function N(){function t(){return a=S(o),u=M(o),r()[0]<0&&(a=T(a),u=T(u)),n}var n=y(x,w).domain([1,10]),r=n.domain,o=10,a=S(10),u=M(10);return n.base=function(e){return arguments.length?(o=+e,t()):o},n.domain=function(e){return arguments.length?(r(e),t()):r()},n.ticks=function(t){var n,i=r(),s=i[0],c=i[i.length-1];(n=c<s)&&(d=s,s=c,c=d);var l,f,h,d=a(s),p=a(c),g=null==t?10:+t,v=[];if(!(o%1)&&p-d<g){if(d=Math.round(d)-1,p=Math.round(p)+1,s>0){for(;d<p;++d)for(f=1,l=u(d);f<o;++f)if(!((h=l*f)<s)){if(h>c)break;v.push(h)}}else for(;d<p;++d)for(f=o-1,l=u(d);f>=1;--f)if(!((h=l*f)<s)){if(h>c)break;v.push(h)}}else v=e.ticks(d,p,Math.min(p-d,g)).map(u);return n?v.reverse():v},n.tickFormat=function(t,e){if(null==e&&(e=10===o?".0e":","),"function"!=typeof e&&(e=i.format(e)),t===1/0)return e;null==t&&(t=10);var r=Math.max(1,o*t/n.ticks().length);return function(t){var n=t/u(Math.round(a(t)));return n*o<o-.5&&(n*=o),n<=r?e(t):""}},n.nice=function(){return r(q(r(),{floor:function(t){return u(Math.floor(a(t)))},ceil:function(t){return u(Math.ceil(a(t)))}}))},n.copy=function(){return v(n,N().base(o))},n}function E(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function O(){var t=1,e=y(function(e,n){return(n=E(n,t)-(e=E(e,t)))?function(r){return(E(r,t)-e)/n}:B(n)},function(e,n){return n=E(n,t)-(e=E(e,t)),function(r){return E(e+n*r,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return v(e,O().exponent(t))},m(e)}function P(){function t(){var t=0,a=Math.max(1,i.length);for(o=new Array(a-1);++t<a;)o[t-1]=e.quantile(r,t/a);return n}function n(t){if(!isNaN(t=+t))return i[e.bisect(o,t)]}var r=[],i=[],o=[];return n.invertExtent=function(t){var e=i.indexOf(t);return e<0?[NaN,NaN]:[e>0?o[e-1]:r[0],e<o.length?o[e]:r[r.length-1]]},n.domain=function(n){if(!arguments.length)return r.slice();r=[];for(var i,o=0,a=n.length;o<a;++o)null==(i=n[o])||isNaN(i=+i)||r.push(i);return r.sort(e.ascending),t()},n.range=function(e){return arguments.length?(i=$.call(e),t()):i.slice()},n.quantiles=function(){return o.slice()},n.copy=function(){return P().domain(r).range(i)},n}function C(){function t(t){if(t<=t)return u[e.bisect(a,t,0,o)]}function n(){var e=-1;for(a=new Array(o);++e<o;)a[e]=((e+1)*i-(e-o)*r)/(o+1);return t}var r=0,i=1,o=1,a=[.5],u=[0,1];return t.domain=function(t){return arguments.length?(r=+t[0],i=+t[1],n()):[r,i]},t.range=function(t){return arguments.length?(o=(u=$.call(t)).length-1,n()):u.slice()},t.invertExtent=function(t){var e=u.indexOf(t);return e<0?[NaN,NaN]:e<1?[r,a[0]]:e>=o?[a[o-1],i]:[a[e-1],a[e]]},t.copy=function(){return C().domain([r,i]).range(u)},m(t)}function j(){function t(t){if(t<=t)return r[e.bisect(n,t,0,i)]}var n=[.5],r=[0,1],i=1;return t.domain=function(e){return arguments.length?(n=$.call(e),i=Math.min(n.length,r.length-1),t):n.slice()},t.range=function(e){return arguments.length?(r=$.call(e),i=Math.min(n.length,r.length-1),t):r.slice()},t.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},t.copy=function(){return j().domain(n).range(r)},t}function A(t){return new Date(t)}function D(t){return t instanceof Date?+t:+new Date(+t)}function R(t,n,i,o,a,u,s,c,l){function h(e){return(s(e)<e?b:u(e)<e?_:a(e)<e?x:o(e)<e?w:n(e)<e?i(e)<e?k:M:t(e)<e?S:T)(e)}function d(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(i-r)/n,u=e.bisector(function(t){return t[2]}).right(N,a);u===N.length?(o=e.tickStep(r/Q,i/Q,n),n=t):u?(o=(u=N[a/N[u-1][2]<N[u][2]/a?u-1:u])[1],n=u[0]):(o=e.tickStep(r,i,n),n=c)}return null==o?n:n.every(o)}var p=y(f,r.interpolateNumber),g=p.invert,m=p.domain,b=l(".%L"),_=l(":%S"),x=l("%I:%M"),w=l("%I %p"),k=l("%a %d"),M=l("%b %d"),S=l("%B"),T=l("%Y"),N=[[s,1,V],[s,5,5*V],[s,15,15*V],[s,30,30*V],[u,1,X],[u,5,5*X],[u,15,15*X],[u,30,30*X],[a,1,G],[a,3,3*G],[a,6,6*G],[a,12,12*G],[o,1,Z],[o,2,2*Z],[i,1,K],[n,1,J],[n,3,3*J],[t,1,Q]];return p.invert=function(t){return new Date(g(t))},p.domain=function(t){return arguments.length?m(I.call(t,D)):m().map(A)},p.ticks=function(t,e){var n,r=m(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=d(t,i,o,e),n=n?n.range(i,o+1):[],a?n.reverse():n},p.tickFormat=function(t,e){return null==e?h:l(e)},p.nice=function(t,e){var n=m();return(t=d(t,n[0],n[n.length-1],e))?m(q(n,t)):p},p.copy=function(){return v(p,R(t,n,i,o,a,u,s,c,l))},p}function z(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function L(t){function e(e){var o=(e-n)/(r-n);return t(i?Math.max(0,Math.min(1,o)):o)}var n=0,r=1,i=!1;return e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.clamp=function(t){return arguments.length?(i=!!t,e):i},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return L(t).domain([n,r]).clamp(i)},m(e)}var U=Array.prototype,I=U.map,$=U.slice,W={name:"implicit"},B=function(t){return function(){return t}},F=function(t){return+t},Y=[0,1],H=function(t,n,r){var o,a=t[0],u=t[t.length-1],s=e.tickStep(a,u,null==n?10:n);switch((r=i.formatSpecifier(null==r?",f":r)).type){case"s":var c=Math.max(Math.abs(a),Math.abs(u));return null!=r.precision||isNaN(o=i.precisionPrefix(s,c))||(r.precision=o),i.formatPrefix(r,c);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=i.precisionRound(s,Math.max(Math.abs(a),Math.abs(u))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=i.precisionFixed(s))||(r.precision=o-2*("%"===r.type))}return i.format(r)},q=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t},V=1e3,X=60*V,G=60*X,Z=24*G,K=7*Z,J=30*Z,Q=365*Z,tt=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},et=tt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),nt=tt("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),rt=tt("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),it=tt("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ot=r.interpolateCubehelixLong(u.cubehelix(300,.5,0),u.cubehelix(-240,.5,1)),at=r.interpolateCubehelixLong(u.cubehelix(-100,.75,.35),u.cubehelix(80,1.5,.8)),ut=r.interpolateCubehelixLong(u.cubehelix(260,.75,.35),u.cubehelix(80,1.5,.8)),st=u.cubehelix(),ct=z(tt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),lt=z(tt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ft=z(tt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ht=z(tt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));t.scaleBand=c,t.scalePoint=function(){return l(c().paddingInner(1))},t.scaleIdentity=_,t.scaleLinear=b,t.scaleLog=N,t.scaleOrdinal=s,t.scaleImplicit=W,t.scalePow=O,t.scaleSqrt=function(){return O().exponent(.5)},t.scaleQuantile=P,t.scaleQuantize=C,t.scaleThreshold=j,t.scaleTime=function(){return R(o.timeYear,o.timeMonth,o.timeWeek,o.timeDay,o.timeHour,o.timeMinute,o.timeSecond,o.timeMillisecond,a.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return R(o.utcYear,o.utcMonth,o.utcWeek,o.utcDay,o.utcHour,o.utcMinute,o.utcSecond,o.utcMillisecond,a.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.schemeCategory10=et,t.schemeCategory20b=nt,t.schemeCategory20c=rt,t.schemeCategory20=it,t.interpolateCubehelixDefault=ot,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return st.h=360*t-100,st.s=1.5-1.5*e,st.l=.8-.9*e,st+""},t.interpolateWarm=at,t.interpolateCool=ut,t.interpolateViridis=ct,t.interpolateMagma=lt,t.interpolateInferno=ft,t.interpolatePlasma=ht,t.scaleSequential=L,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-array":1,"d3-collection":3,"d3-color":4,"d3-format":8,"d3-interpolate":10,"d3-time":16,"d3-time-format":15}],13:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===J&&e.documentElement.namespaceURI===J?e.createElement(t):e.createElementNS(n,t)}}function n(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function r(){return new i}function i(){this._="@"+(++nt).toString(36)}function o(t,e,n){return t=a(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function a(e,n,r){return function(i){var o=t.event;t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=o}}}function u(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function s(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function c(t,e,n){var r=ut.hasOwnProperty(t.type)?o:a;return function(i,o,a){var u,s=this.__on,c=r(e,o,a);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=n),void(u.value=e);this.addEventListener(t.type,c,n),u={type:t.type,name:t.name,value:e,listener:c,capture:n},s?s.push(u):this.__on=[u]}}function l(){}function f(){return[]}function h(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function d(t,e,n,r,i,o){for(var a,u=0,s=e.length,c=o.length;u<c;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new h(t,o[u]);for(;u<s;++u)(a=e[u])&&(i[u]=a)}function p(t,e,n,r,i,o,a){var u,s,c,l={},f=e.length,d=o.length,p=new Array(f);for(u=0;u<f;++u)(s=e[u])&&(p[u]=c=pt+a.call(s,s.__data__,u,e),c in l?i[u]=s:l[c]=s);for(u=0;u<d;++u)(s=l[c=pt+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],l[c]=null):n[u]=new h(t,o[u]);for(u=0;u<f;++u)(s=e[u])&&l[p[u]]===s&&(i[u]=s)}function g(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function v(t){return function(){this.removeAttribute(t)}}function y(t){return function(){this.removeAttributeNS(t.space,t.local)}}function m(t,e){return function(){this.setAttribute(t,e)}}function b(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function _(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function x(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function w(t){return function(){this.style.removeProperty(t)}}function k(t,e,n){return function(){this.style.setProperty(t,e,n)}}function M(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function S(t,e){return t.style.getPropertyValue(e)||gt(t).getComputedStyle(t,null).getPropertyValue(e)}function T(t){return function(){delete this[t]}}function N(t,e){return function(){this[t]=e}}function E(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function O(t){return t.trim().split(/^|\s+/)}function P(t){return t.classList||new C(t)}function C(t){this._node=t,this._names=O(t.getAttribute("class")||"")}function j(t,e){for(var n=P(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function A(t,e){for(var n=P(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function D(t){return function(){j(this,t)}}function R(t){return function(){A(this,t)}}function z(t,e){return function(){(e.apply(this,arguments)?j:A)(this,t)}}function L(){this.textContent=""}function U(t){return function(){this.textContent=t}}function I(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function $(){this.innerHTML=""}function W(t){return function(){this.innerHTML=t}}function B(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function F(){this.nextSibling&&this.parentNode.appendChild(this)}function Y(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function H(){return null}function q(){var t=this.parentNode;t&&t.removeChild(this)}function V(t,e,n){var r=gt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function X(t,e){return function(){return V(this,t,e)}}function G(t,e){return function(){return V(this,t,e.apply(this,arguments))}}function Z(t,e){this._groups=t,this._parents=e}function K(){return new Z([[document.documentElement]],vt)}var J="http://www.w3.org/1999/xhtml",Q={svg:"http://www.w3.org/2000/svg",xhtml:J,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},tt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Q.hasOwnProperty(e)?{space:Q[e],local:t}:t},et=function(t){var r=tt(t);return(r.local?n:e)(r)},nt=0;i.prototype=r.prototype={constructor:i,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var rt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var it=document.documentElement;if(!it.matches){var ot=it.webkitMatchesSelector||it.msMatchesSelector||it.mozMatchesSelector||it.oMatchesSelector;rt=function(t){return function(){return ot.call(this,t)}}}}var at=rt,ut={};t.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ut={mouseenter:"mouseover",mouseleave:"mouseout"}));var st=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},ct=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},lt=function(t){return null==t?l:function(){return this.querySelector(t)}},ft=function(t){return null==t?f:function(){return this.querySelectorAll(t)}},ht=function(t){return new Array(t.length)};h.prototype={constructor:h,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var dt=function(t){return function(){return t}},pt="$",gt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};C.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var vt=[null];Z.prototype=K.prototype={constructor:Z,select:function(t){"function"!=typeof t&&(t=lt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new Z(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=ft(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new Z(r,i)},filter:function(t){"function"!=typeof t&&(t=at(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new Z(r,this._parents)},data:function(t,e){if(!t)return g=new Array(this.size()),c=-1,this.each(function(t){g[++c]=t}),g;var n=e?p:d,r=this._parents,i=this._groups;"function"!=typeof t&&(t=dt(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,g=t.call(l,l&&l.__data__,c,r),v=g.length,y=u[c]=new Array(v),m=a[c]=new Array(v);n(l,f,y,m,s[c]=new Array(h),g,e);for(var b,_,x=0,w=0;x<v;++x)if(b=y[x]){for(x>=w&&(w=x+1);!(_=m[w])&&++w<v;);b._next=_||null}}return a=new Z(a,r),a._enter=u,a._exit=s,a},enter:function(){return new Z(this._enter||this._groups.map(ht),this._parents)},exit:function(){return new Z(this._exit||this._groups.map(ht),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=e[u],l=n[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=e[u];return new Z(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){t||(t=g);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var o,a=e[i],u=a.length,s=r[i]=new Array(u),c=0;c<u;++c)(o=a[c])&&(s[c]=o);s.sort(function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n})}return new Z(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=tt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?y:v:"function"==typeof e?n.local?x:_:n.local?b:m)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?w:"function"==typeof e?M:k)(t,e,null==n?"":n)):S(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?T:"function"==typeof e?E:N)(t,e)):this.node()[t]},classed:function(t,e){var n=O(t+"");if(arguments.length<2){for(var r=P(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?z:e?D:R)(n,e))},text:function(t){return arguments.length?this.each(null==t?L:("function"==typeof t?I:U)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?$:("function"==typeof t?B:W)(t)):this.node().innerHTML},raise:function(){return this.each(F)},lower:function(){return this.each(Y)},append:function(t){var e="function"==typeof t?t:et(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:et(t),r=null==e?H:"function"==typeof e?e:lt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(q)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=u(t+""),a=o.length;{if(!(arguments.length<2)){for(l=e?c:s,null==n&&(n=!1),r=0;r<a;++r)this.each(l(o[r],e,n));return this}var l=this.node().__on;if(l)for(var f,h=0,d=l.length;h<d;++h)for(r=0,f=l[h];r<a;++r)if((i=o[r]).type===f.type&&i.name===f.name)return f.value}},dispatch:function(t,e){return this.each(("function"==typeof e?G:X)(t,e))}};t.creator=et,t.local=r,t.matcher=at,t.mouse=function(t){var e=st();return e.changedTouches&&(e=e.changedTouches[0]),ct(t,e)},t.namespace=tt,t.namespaces=Q,t.select=function(t){return"string"==typeof t?new Z([[document.querySelector(t)]],[document.documentElement]):new Z([[t]],vt)},t.selectAll=function(t){return"string"==typeof t?new Z([document.querySelectorAll(t)],[document.documentElement]):new Z([null==t?[]:t],vt)},t.selection=K,t.selector=lt,t.selectorAll=ft,t.style=S,t.touch=function(t,e,n){arguments.length<3&&(n=e,e=st().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return ct(t,r);return null},t.touches=function(t,e){null==e&&(e=st().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=ct(t,e[n]);return i},t.window=gt,t.customEvent=function(e,n,r,i){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=o}},Object.defineProperty(t,"__esModule",{value:!0})})},{}],14:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-path")):i(r.d3=r.d3||{},r.d3)}(this,function(t,e){"use strict";function n(t){return t>1?0:t<-1?it:Math.acos(t)}function r(t){return t>=1?ot:t<=-1?-ot:Math.asin(t)}function i(t){return t.innerRadius}function o(t){return t.outerRadius}function a(t){return t.startAngle}function u(t){return t.endAngle}function s(t){return t&&t.padAngle}function c(t,e,n,r,i,o,a,u){var s=n-t,c=r-e,l=a-i,f=u-o,h=(l*(e-o)-f*(t-i))/(f*s-l*c);return[t+h*s,e+h*c]}function l(t,e,n,r,i,o,a){var u=t-n,s=e-r,c=(a?o:-o)/nt(u*u+s*s),l=c*s,f=-c*u,h=t+l,d=e+f,p=n+l,g=r+f,v=(h+p)/2,y=(d+g)/2,m=p-h,b=g-d,_=m*m+b*b,x=i-o,w=h*g-p*d,k=(b<0?-1:1)*nt(Q(0,x*x*_-w*w)),M=(w*b-m*k)/_,S=(-w*m-b*k)/_,T=(w*b+m*k)/_,N=(-w*m+b*k)/_,E=M-v,O=S-y,P=T-v,C=N-y;return E*E+O*O>P*P+C*C&&(M=T,S=N),{cx:M,cy:S,x01:-l,y01:-f,x11:M*(i/x-1),y11:S*(i/x-1)}}function f(t){this._context=t}function h(t){return t[0]}function d(t){return t[1]}function p(t){this._curve=t}function g(t){function e(e){return new p(t(e))}return e._curve=t,e}function v(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(g(t)):e()._curve},t}function y(t){return t.source}function m(t){return t.target}function b(t){function n(){var n,s=vt.call(arguments),c=r.apply(this,s),l=i.apply(this,s);if(u||(u=n=e.path()),t(u,+o.apply(this,(s[0]=c,s)),+a.apply(this,s),+o.apply(this,(s[0]=l,s)),+a.apply(this,s)),n)return u=null,n+""||null}var r=y,i=m,o=h,a=d,u=null;return n.source=function(t){return arguments.length?(r=t,n):r},n.target=function(t){return arguments.length?(i=t,n):i},n.x=function(t){return arguments.length?(o="function"==typeof t?t:G(+t),n):o},n.y=function(t){return arguments.length?(a="function"==typeof t?t:G(+t),n):a},n.context=function(t){return arguments.length?(u=null==t?null:t,n):u},n}function _(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function x(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function w(t,e,n,r,i){var o=gt(e,n),a=gt(e,n=(n+i)/2),u=gt(r,n),s=gt(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],s[0],s[1])}function k(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function M(t){this._context=t}function S(t){this._context=t}function T(t){this._context=t}function N(t,e){this._basis=new M(t),this._beta=e}function E(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function O(t,e){this._context=t,this._k=(1-e)/6}function P(t,e){this._context=t,this._k=(1-e)/6}function C(t,e){this._context=t,this._k=(1-e)/6}function j(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>rt){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>rt){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function A(t,e){this._context=t,this._alpha=e}function D(t,e){this._context=t,this._alpha=e}function R(t,e){this._context=t,this._alpha=e}function z(t){this._context=t}function L(t){return t<0?-1:1}function U(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(L(o)+L(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function I(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function $(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function W(t){this._context=t}function B(t){this._context=new F(t)}function F(t){this._context=t}function Y(t){this._context=t}function H(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function q(t,e){this._context=t,this._t=e}function V(t,e){return t[e]}function X(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}var G=function(t){return function(){return t}},Z=Math.abs,K=Math.atan2,J=Math.cos,Q=Math.max,tt=Math.min,et=Math.sin,nt=Math.sqrt,rt=1e-12,it=Math.PI,ot=it/2,at=2*it;f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var ut=function(t){return new f(t)},st=function(){function t(t){var s,c,l,f=t.length,h=!1;for(null==o&&(u=a(l=e.path())),s=0;s<=f;++s)!(s<f&&i(c=t[s],s,t))===h&&((h=!h)?u.lineStart():u.lineEnd()),h&&u.point(+n(c,s,t),+r(c,s,t));if(l)return u=null,l+""||null}var n=h,r=d,i=G(!0),o=null,a=ut,u=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:G(+e),t):n},t.y=function(e){return arguments.length?(r="function"==typeof e?e:G(+e),t):r},t.defined=function(e){return arguments.length?(i="function"==typeof e?e:G(!!e),t):i},t.curve=function(e){return arguments.length?(a=e,null!=o&&(u=a(o)),t):a},t.context=function(e){return arguments.length?(null==e?o=u=null:u=a(o=e),t):o},t},ct=function(){function t(t){var n,f,h,d,p,g=t.length,v=!1,y=new Array(g),m=new Array(g);for(null==s&&(l=c(p=e.path())),n=0;n<=g;++n){if(!(n<g&&u(d=t[n],n,t))===v)if(v=!v)f=n,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),h=n-1;h>=f;--h)l.point(y[h],m[h]);l.lineEnd(),l.areaEnd()}v&&(y[n]=+r(d,n,t),m[n]=+o(d,n,t),l.point(i?+i(d,n,t):y[n],a?+a(d,n,t):m[n]))}if(p)return l=null,p+""||null}function n(){return st().defined(u).curve(c).context(s)}var r=h,i=null,o=G(0),a=d,u=G(!0),s=null,c=ut,l=null;return t.x=function(e){return arguments.length?(r="function"==typeof e?e:G(+e),i=null,t):r},t.x0=function(e){return arguments.length?(r="function"==typeof e?e:G(+e),t):r},t.x1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:G(+e),t):i},t.y=function(e){return arguments.length?(o="function"==typeof e?e:G(+e),a=null,t):o},t.y0=function(e){return arguments.length?(o="function"==typeof e?e:G(+e),t):o},t.y1=function(e){return arguments.length?(a=null==e?null:"function"==typeof e?e:G(+e),t):a},t.lineX0=t.lineY0=function(){return n().x(r).y(o)},t.lineY1=function(){return n().x(r).y(a)},t.lineX1=function(){return n().x(i).y(o)},t.defined=function(e){return arguments.length?(u="function"==typeof e?e:G(!!e),t):u},t.curve=function(e){return arguments.length?(c=e,null!=s&&(l=c(s)),t):c},t.context=function(e){return arguments.length?(null==e?s=l=null:l=c(s=e),t):s},t},lt=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},ft=function(t){return t},ht=g(ut);p.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var dt=function(){return v(st().curve(ht))},pt=function(){var t=ct().curve(ht),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return v(n())},delete t.lineX0,t.lineEndAngle=function(){return v(r())},delete t.lineX1,t.lineInnerRadius=function(){return v(i())},delete t.lineY0,t.lineOuterRadius=function(){return v(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(g(t)):e()._curve},t},gt=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},vt=Array.prototype.slice,yt={draw:function(t,e){var n=Math.sqrt(e/it);t.moveTo(n,0),t.arc(0,0,n,0,at)}},mt={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},bt=Math.sqrt(1/3),_t=2*bt,xt={draw:function(t,e){var n=Math.sqrt(e/_t),r=n*bt;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},wt=Math.sin(it/10)/Math.sin(7*it/10),kt=Math.sin(at/10)*wt,Mt=-Math.cos(at/10)*wt,St={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=kt*n,i=Mt*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=at*o/5,u=Math.cos(a),s=Math.sin(a);t.lineTo(s*n,-u*n),t.lineTo(u*r-s*i,s*r+u*i)}t.closePath()}},Tt={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},Nt=Math.sqrt(3),Et={draw:function(t,e){var n=-Math.sqrt(e/(3*Nt));t.moveTo(0,2*n),t.lineTo(-Nt*n,-n),t.lineTo(Nt*n,-n),t.closePath()}},Ot=-.5,Pt=Math.sqrt(3)/2,Ct=1/Math.sqrt(12),jt=3*(Ct/2+1),At={draw:function(t,e){var n=Math.sqrt(e/jt),r=n/2,i=n*Ct,o=r,a=n*Ct+n,u=-o,s=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,s),t.lineTo(Ot*r-Pt*i,Pt*r+Ot*i),t.lineTo(Ot*o-Pt*a,Pt*o+Ot*a),t.lineTo(Ot*u-Pt*s,Pt*u+Ot*s),t.lineTo(Ot*r+Pt*i,Ot*i-Pt*r),t.lineTo(Ot*o+Pt*a,Ot*a-Pt*o),t.lineTo(Ot*u+Pt*s,Ot*s-Pt*u),t.closePath()}},Dt=[yt,mt,xt,Tt,St,Et,At],Rt=function(){};M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:k(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:k(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};S.prototype={areaStart:Rt,areaEnd:Rt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:k(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:k(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};N.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,u=e[n]-o,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*a),this._beta*e[s]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var zt=function t(e){function n(t){return 1===e?new M(t):new N(t,e)}return n.beta=function(e){return t(+e)},n}(.85);O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:E(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:E(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Lt=function t(e){function n(t){return new O(t,e)}return n.tension=function(e){return t(+e)},n}(0);P.prototype={areaStart:Rt,areaEnd:Rt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:E(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ut=function t(e){function n(t){return new P(t,e)}return n.tension=function(e){return t(+e)},n}(0);C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:E(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var It=function t(e){function n(t){return new C(t,e)}return n.tension=function(e){return t(+e)},n}(0);A.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:j(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var $t=function t(e){function n(t){return e?new A(t,e):new O(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);D.prototype={areaStart:Rt,areaEnd:Rt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:j(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Wt=function t(e){function n(t){return e?new D(t,e):new P(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);R.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:j(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Bt=function t(e){function n(t){return e?new R(t,e):new C(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);z.prototype={areaStart:Rt,areaEnd:Rt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$(this,this._t0,I(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$(this,I(this,n=U(this,t,e)),n);break;default:$(this,this._t0,n=U(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(B.prototype=Object.create(W.prototype)).point=function(t,e){W.prototype.point.call(this,e,t)},F.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=H(t),i=H(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};q.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Ft=function(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],u=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},Yt=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n},Ht=function(t){var e=t.map(X);return Yt(t).sort(function(t,n){return e[t]-e[n]})};t.arc=function(){function t(){var t,i,o=+f.apply(this,arguments),a=+h.apply(this,arguments),u=g.apply(this,arguments)-ot,s=v.apply(this,arguments)-ot,b=Z(s-u),_=s>u;if(m||(m=t=e.path()),a<o&&(i=a,a=o,o=i),a>rt)if(b>at-rt)m.moveTo(a*J(u),a*et(u)),m.arc(0,0,a,u,s,!_),o>rt&&(m.moveTo(o*J(s),o*et(s)),m.arc(0,0,o,s,u,_));else{var x,w,k=u,M=s,S=u,T=s,N=b,E=b,O=y.apply(this,arguments)/2,P=O>rt&&(p?+p.apply(this,arguments):nt(o*o+a*a)),C=tt(Z(a-o)/2,+d.apply(this,arguments)),j=C,A=C;if(P>rt){var D=r(P/o*et(O)),R=r(P/a*et(O));(N-=2*D)>rt?(D*=_?1:-1,S+=D,T-=D):(N=0,S=T=(u+s)/2),(E-=2*R)>rt?(R*=_?1:-1,k+=R,M-=R):(E=0,k=M=(u+s)/2)}var z=a*J(k),L=a*et(k),U=o*J(T),I=o*et(T);if(C>rt){var $=a*J(M),W=a*et(M),B=o*J(S),F=o*et(S);if(b<it){var Y=N>rt?c(z,L,B,F,$,W,U,I):[U,I],H=z-Y[0],q=L-Y[1],V=$-Y[0],X=W-Y[1],G=1/et(n((H*V+q*X)/(nt(H*H+q*q)*nt(V*V+X*X)))/2),Q=nt(Y[0]*Y[0]+Y[1]*Y[1]);j=tt(C,(o-Q)/(G-1)),A=tt(C,(a-Q)/(G+1))}}E>rt?A>rt?(x=l(B,F,z,L,a,A,_),w=l($,W,U,I,a,A,_),m.moveTo(x.cx+x.x01,x.cy+x.y01),A<C?m.arc(x.cx,x.cy,A,K(x.y01,x.x01),K(w.y01,w.x01),!_):(m.arc(x.cx,x.cy,A,K(x.y01,x.x01),K(x.y11,x.x11),!_),m.arc(0,0,a,K(x.cy+x.y11,x.cx+x.x11),K(w.cy+w.y11,w.cx+w.x11),!_),m.arc(w.cx,w.cy,A,K(w.y11,w.x11),K(w.y01,w.x01),!_))):(m.moveTo(z,L),m.arc(0,0,a,k,M,!_)):m.moveTo(z,L),o>rt&&N>rt?j>rt?(x=l(U,I,$,W,o,-j,_),w=l(z,L,B,F,o,-j,_),m.lineTo(x.cx+x.x01,x.cy+x.y01),j<C?m.arc(x.cx,x.cy,j,K(x.y01,x.x01),K(w.y01,w.x01),!_):(m.arc(x.cx,x.cy,j,K(x.y01,x.x01),K(x.y11,x.x11),!_),m.arc(0,0,o,K(x.cy+x.y11,x.cx+x.x11),K(w.cy+w.y11,w.cx+w.x11),_),m.arc(w.cx,w.cy,j,K(w.y11,w.x11),K(w.y01,w.x01),!_))):m.arc(0,0,o,T,S,_):m.lineTo(U,I)}else m.moveTo(0,0);if(m.closePath(),t)return m=null,t+""||null}var f=i,h=o,d=G(0),p=null,g=a,v=u,y=s,m=null;return t.centroid=function(){var t=(+f.apply(this,arguments)+ +h.apply(this,arguments))/2,e=(+g.apply(this,arguments)+ +v.apply(this,arguments))/2-it/2;return[J(e)*t,et(e)*t]},t.innerRadius=function(e){return arguments.length?(f="function"==typeof e?e:G(+e),t):f},t.outerRadius=function(e){return arguments.length?(h="function"==typeof e?e:G(+e),t):h},t.cornerRadius=function(e){return arguments.length?(d="function"==typeof e?e:G(+e),t):d},t.padRadius=function(e){return arguments.length?(p=null==e?null:"function"==typeof e?e:G(+e),t):p},t.startAngle=function(e){return arguments.length?(g="function"==typeof e?e:G(+e),t):g},t.endAngle=function(e){return arguments.length?(v="function"==typeof e?e:G(+e),t):v},t.padAngle=function(e){return arguments.length?(y="function"==typeof e?e:G(+e),t):y},t.context=function(e){return arguments.length?(m=null==e?null:e,t):m},t},t.area=ct,t.line=st,t.pie=function(){function t(t){var u,s,c,l,f,h=t.length,d=0,p=new Array(h),g=new Array(h),v=+i.apply(this,arguments),y=Math.min(at,Math.max(-at,o.apply(this,arguments)-v)),m=Math.min(Math.abs(y)/h,a.apply(this,arguments)),b=m*(y<0?-1:1);for(u=0;u<h;++u)(f=g[p[u]=u]=+e(t[u],u,t))>0&&(d+=f);for(null!=n?p.sort(function(t,e){return n(g[t],g[e])}):null!=r&&p.sort(function(e,n){return r(t[e],t[n])}),u=0,c=d?(y-h*b)/d:0;u<h;++u,v=l)s=p[u],l=v+((f=g[s])>0?f*c:0)+b,g[s]={data:t[s],index:u,value:f,startAngle:v,endAngle:l,padAngle:m};return g}var e=ft,n=lt,r=null,i=G(0),o=G(at),a=G(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:G(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,r=null,t):n},t.sort=function(e){return arguments.length?(r=e,n=null,t):r},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:G(+e),t):i},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:G(+e),t):o},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:G(+e),t):a},t},t.areaRadial=pt,t.radialArea=pt,t.lineRadial=dt,t.radialLine=dt,t.pointRadial=gt,t.linkHorizontal=function(){return b(_)},t.linkVertical=function(){return b(x)},t.linkRadial=function(){var t=b(w);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){function t(){var t;if(i||(i=t=e.path()),n.apply(this,arguments).draw(i,+r.apply(this,arguments)),t)return i=null,t+""||null}var n=G(yt),r=G(64),i=null;return t.type=function(e){return arguments.length?(n="function"==typeof e?e:G(e),t):n},t.size=function(e){return arguments.length?(r="function"==typeof e?e:G(+e),t):r},t.context=function(e){return arguments.length?(i=null==e?null:e,t):i},t},t.symbols=Dt,t.symbolCircle=yt,t.symbolCross=mt,t.symbolDiamond=xt,t.symbolSquare=Tt,t.symbolStar=St,t.symbolTriangle=Et,t.symbolWye=At,t.curveBasisClosed=function(t){return new S(t)},t.curveBasisOpen=function(t){return new T(t)},t.curveBasis=function(t){return new M(t)},t.curveBundle=zt,t.curveCardinalClosed=Ut,t.curveCardinalOpen=It,t.curveCardinal=Lt,t.curveCatmullRomClosed=Wt,t.curveCatmullRomOpen=Bt,t.curveCatmullRom=$t,t.curveLinearClosed=function(t){return new z(t)},t.curveLinear=ut,t.curveMonotoneX=function(t){return new W(t)},t.curveMonotoneY=function(t){return new B(t)},t.curveNatural=function(t){return new Y(t)},t.curveStep=function(t){return new q(t,.5)},t.curveStepAfter=function(t){return new q(t,1)},t.curveStepBefore=function(t){return new q(t,0)},t.stack=function(){function t(t){var o,a,u=e.apply(this,arguments),s=t.length,c=u.length,l=new Array(c);for(o=0;o<c;++o){for(var f,h=u[o],d=l[o]=new Array(s),p=0;p<s;++p)d[p]=f=[0,+i(t[p],h,p,t)],f.data=t[p];d.key=h}for(o=0,a=n(l);o<c;++o)l[a[o]].index=o;return r(l,a),l}var e=G([]),n=Yt,r=Ft,i=V;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:G(vt.call(n)),t):e},t.value=function(e){return arguments.length?(i="function"==typeof e?e:G(+e),t):i},t.order=function(e){return arguments.length?(n=null==e?Yt:"function"==typeof e?e:G(vt.call(e)),t):n},t.offset=function(e){return arguments.length?(r=null==e?Ft:e,t):r},t},t.stackOffsetExpand=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}Ft(t,e)}},t.stackOffsetDiverging=function(t,e){if((u=t.length)>1)for(var n,r,i,o,a,u,s=0,c=t[e[0]].length;s<c;++s)for(o=a=0,n=0;n<u;++n)(i=(r=t[e[n]][s])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},t.stackOffsetNone=Ft,t.stackOffsetSilhouette=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<n;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}Ft(t,e)}},t.stackOffsetWiggle=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var u=0,s=0,c=0;u<i;++u){for(var l=t[e[u]],f=l[a][1]||0,h=(f-(l[a-1][1]||0))/2,d=0;d<u;++d){var p=t[e[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}s+=f,c+=h*f}n[a-1][1]+=n[a-1][0]=o,s&&(o-=c/s)}n[a-1][1]+=n[a-1][0]=o,Ft(t,e)}},t.stackOrderAscending=Ht,t.stackOrderDescending=function(t){return Ht(t).reverse()},t.stackOrderInsideOut=function(t){var e,n,r=t.length,i=t.map(X),o=Yt(t).sort(function(t,e){return i[e]-i[t]}),a=0,u=0,s=[],c=[];for(e=0;e<r;++e)n=o[e],a<u?(a+=i[n],s.push(n)):(u+=i[n],c.push(n));return c.reverse().concat(s)},t.stackOrderNone=Yt,t.stackOrderReverse=function(t){return Yt(t).reverse()},Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-path":11}],15:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-time")):i(r.d3=r.d3||{},r.d3)}(this,function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function o(t){function o(t,e){return function(n){var r,i,o,a=[],u=-1,s=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=pt[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function a(t,n){return function(o){var a,s,c=i(1900);if(u(c,t,o+="",0)!=o.length)return null;if("Q"in c)return new Date(c.Q);if("p"in c&&(c.H=c.H%12+12*c.p),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(a=(s=(a=r(i(c.y))).getUTCDay())>4||0===s?e.utcMonday.ceil(a):e.utcMonday(a),a=e.utcDay.offset(a,7*(c.V-1)),c.y=a.getUTCFullYear(),c.m=a.getUTCMonth(),c.d=a.getUTCDate()+(c.w+6)%7):(a=(s=(a=n(i(c.y))).getDay())>4||0===s?e.timeMonday.ceil(a):e.timeMonday(a),a=e.timeDay.offset(a,7*(c.V-1)),c.y=a.getFullYear(),c.m=a.getMonth(),c.d=a.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),s="Z"in c?r(i(c.y)).getUTCDay():n(i(c.y)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(s+5)%7:c.w+7*c.U-(s+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,r(c)):n(c)}}function u(t,e,n,r){for(var i,o,a=0,u=e.length,s=n.length;a<u;){if(r>=s)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=At[i in pt?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}var ht=t.dateTime,dt=t.date,gt=t.time,vt=t.periods,yt=t.days,mt=t.shortDays,bt=t.months,_t=t.shortMonths,xt=s(vt),wt=c(vt),kt=s(yt),Mt=c(yt),St=s(mt),Tt=c(mt),Nt=s(bt),Et=c(bt),Ot=s(_t),Pt=c(_t),Ct={a:function(t){return mt[t.getDay()]},A:function(t){return yt[t.getDay()]},b:function(t){return _t[t.getMonth()]},B:function(t){return bt[t.getMonth()]},c:null,d:O,e:O,f:D,H:P,I:C,j:j,L:A,m:R,M:z,p:function(t){return vt[+(t.getHours()>=12)]},Q:lt,s:ft,S:L,u:U,U:I,V:$,w:W,W:B,x:null,X:null,y:F,Y:Y,Z:H,"%":ct},jt={a:function(t){return mt[t.getUTCDay()]},A:function(t){return yt[t.getUTCDay()]},b:function(t){return _t[t.getUTCMonth()]},B:function(t){return bt[t.getUTCMonth()]},c:null,d:q,e:q,f:K,H:V,I:X,j:G,L:Z,m:J,M:Q,p:function(t){return vt[+(t.getUTCHours()>=12)]},Q:lt,s:ft,S:tt,u:et,U:nt,V:rt,w:it,W:ot,x:null,X:null,y:at,Y:ut,Z:st,"%":ct},At={a:function(t,e,n){var r=St.exec(e.slice(n));return r?(t.w=Tt[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=kt.exec(e.slice(n));return r?(t.w=Mt[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=Ot.exec(e.slice(n));return r?(t.m=Pt[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=Nt.exec(e.slice(n));return r?(t.m=Et[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return u(t,ht,e,n)},d:b,e:b,f:S,H:x,I:x,j:_,L:M,m:m,M:w,p:function(t,e,n){var r=xt.exec(e.slice(n));return r?(t.p=wt[r[0].toLowerCase()],n+r[0].length):-1},Q:N,s:E,S:k,u:f,U:h,V:d,w:l,W:p,x:function(t,e,n){return u(t,dt,e,n)},X:function(t,e,n){return u(t,gt,e,n)},y:v,Y:g,Z:y,"%":T};return Ct.x=o(dt,Ct),Ct.X=o(gt,Ct),Ct.c=o(ht,Ct),jt.x=o(dt,jt),jt.X=o(gt,jt),jt.c=o(ht,jt),{format:function(t){var e=o(t+="",Ct);return e.toString=function(){return t},e},parse:function(t){var e=a(t+="",n);return e.toString=function(){return t},e},utcFormat:function(t){var e=o(t+="",jt);return e.toString=function(){return t},e},utcParse:function(t){var e=a(t,r);return e.toString=function(){return t},e}}}function a(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function u(t){return t.replace(yt,"\\$&")}function s(t){return new RegExp("^(?:"+t.map(u).join("|")+")","i")}function c(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function l(t,e,n){var r=gt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function f(t,e,n){var r=gt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function h(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function d(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function p(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function g(t,e,n){var r=gt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function v(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function y(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function m(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function b(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _(t,e,n){var r=gt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function x(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function w(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function k(t,e,n){var r=gt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function M(t,e,n){var r=gt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function S(t,e,n){var r=gt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function T(t,e,n){var r=vt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function N(t,e,n){var r=gt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function E(t,e,n){var r=gt.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function O(t,e){return a(t.getDate(),e,2)}function P(t,e){return a(t.getHours(),e,2)}function C(t,e){return a(t.getHours()%12||12,e,2)}function j(t,n){return a(1+e.timeDay.count(e.timeYear(t),t),n,3)}function A(t,e){return a(t.getMilliseconds(),e,3)}function D(t,e){return A(t,e)+"000"}function R(t,e){return a(t.getMonth()+1,e,2)}function z(t,e){return a(t.getMinutes(),e,2)}function L(t,e){return a(t.getSeconds(),e,2)}function U(t){var e=t.getDay();return 0===e?7:e}function I(t,n){return a(e.timeSunday.count(e.timeYear(t),t),n,2)}function $(t,n){var r=t.getDay();return t=r>=4||0===r?e.timeThursday(t):e.timeThursday.ceil(t),a(e.timeThursday.count(e.timeYear(t),t)+(4===e.timeYear(t).getDay()),n,2)}function W(t){return t.getDay()}function B(t,n){return a(e.timeMonday.count(e.timeYear(t),t),n,2)}function F(t,e){return a(t.getFullYear()%100,e,2)}function Y(t,e){return a(t.getFullYear()%1e4,e,4)}function H(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+a(e/60|0,"0",2)+a(e%60,"0",2)}function q(t,e){return a(t.getUTCDate(),e,2)}function V(t,e){return a(t.getUTCHours(),e,2)}function X(t,e){return a(t.getUTCHours()%12||12,e,2)}function G(t,n){return a(1+e.utcDay.count(e.utcYear(t),t),n,3)}function Z(t,e){return a(t.getUTCMilliseconds(),e,3)}function K(t,e){return Z(t,e)+"000"}function J(t,e){return a(t.getUTCMonth()+1,e,2)}function Q(t,e){return a(t.getUTCMinutes(),e,2)}function tt(t,e){return a(t.getUTCSeconds(),e,2)}function et(t){var e=t.getUTCDay();return 0===e?7:e}function nt(t,n){return a(e.utcSunday.count(e.utcYear(t),t),n,2)}function rt(t,n){var r=t.getUTCDay();return t=r>=4||0===r?e.utcThursday(t):e.utcThursday.ceil(t),a(e.utcThursday.count(e.utcYear(t),t)+(4===e.utcYear(t).getUTCDay()),n,2)}function it(t){return t.getUTCDay()}function ot(t,n){return a(e.utcMonday.count(e.utcYear(t),t),n,2)}function at(t,e){return a(t.getUTCFullYear()%100,e,2)}function ut(t,e){return a(t.getUTCFullYear()%1e4,e,4)}function st(){return"+0000"}function ct(){return"%"}function lt(t){return+t}function ft(t){return Math.floor(+t/1e3)}function ht(e){return dt=o(e),t.timeFormat=dt.format,t.timeParse=dt.parse,t.utcFormat=dt.utcFormat,t.utcParse=dt.utcParse,dt}var dt,pt={"-":"",_:" ",0:"0"},gt=/^\s*\d+/,vt=/^%/,yt=/[\\^$*+?|[\]().{}]/g;ht({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var mt=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),bt=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");t.timeFormatDefaultLocale=ht,t.timeFormatLocale=o,t.isoFormat=mt,t.isoParse=bt,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-time":16}],16:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,n,r,a){function u(e){return t(e=new Date(+e)),e}return u.floor=u,u.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},u.round=function(t){var e=u(t),n=u.ceil(t);return t-e<n-t?e:n},u.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},u.range=function(e,r,i){var o=[];if(e=u.ceil(e),i=null==i?1:Math.floor(i),!(e<r&&i>0))return o;do{o.push(new Date(+e))}while(n(e,i),t(e),e<r);return o},u.filter=function(r){return e(function(e){if(e>=e)for(;t(e),!r(e);)e.setTime(e-1)},function(t,e){if(t>=t)if(e<0)for(;++e<=0;)for(;n(t,-1),!r(t););else for(;--e>=0;)for(;n(t,1),!r(t););})},r&&(u.count=function(e,n){return i.setTime(+e),o.setTime(+n),t(i),t(o),Math.floor(r(i,o))},u.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?u.filter(a?function(e){return a(e)%t==0}:function(e){return u.count(0,e)%t==0}):u:null}),u}function n(t){return e(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*s)/c})}function r(t){return e(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/c})}var i=new Date,o=new Date,a=e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):a:null};var u=a.range,s=6e4,c=6048e5,l=e(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),f=l.range,h=e(function(t){t.setTime(Math.floor(t/s)*s)},function(t,e){t.setTime(+t+e*s)},function(t,e){return(e-t)/s},function(t){return t.getMinutes()}),d=h.range,p=e(function(t){var e=t.getTimezoneOffset()*s%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),g=p.range,v=e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*s)/864e5},function(t){return t.getDate()-1}),y=v.range,m=n(0),b=n(1),_=n(2),x=n(3),w=n(4),k=n(5),M=n(6),S=m.range,T=b.range,N=_.range,E=x.range,O=w.range,P=k.range,C=M.range,j=e(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),A=j.range,D=e(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});D.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var R=D.range,z=e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*s)},function(t,e){return(e-t)/s},function(t){return t.getUTCMinutes()}),L=z.range,U=e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),I=U.range,$=e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),W=$.range,B=r(0),F=r(1),Y=r(2),H=r(3),q=r(4),V=r(5),X=r(6),G=B.range,Z=F.range,K=Y.range,J=H.range,Q=q.range,tt=V.range,et=X.range,nt=e(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),rt=nt.range,it=e(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});it.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ot=it.range;t.timeInterval=e,t.timeMillisecond=a,t.timeMilliseconds=u,t.utcMillisecond=a,t.utcMilliseconds=u,t.timeSecond=l,t.timeSeconds=f,t.utcSecond=l,t.utcSeconds=f,t.timeMinute=h,t.timeMinutes=d,t.timeHour=p,t.timeHours=g,t.timeDay=v,t.timeDays=y,t.timeWeek=m,t.timeWeeks=S,t.timeSunday=m,t.timeSundays=S,t.timeMonday=b,t.timeMondays=T,t.timeTuesday=_,t.timeTuesdays=N,t.timeWednesday=x,t.timeWednesdays=E,t.timeThursday=w,t.timeThursdays=O,t.timeFriday=k,t.timeFridays=P,t.timeSaturday=M,t.timeSaturdays=C,t.timeMonth=j,t.timeMonths=A,t.timeYear=D,t.timeYears=R,t.utcMinute=z,t.utcMinutes=L,t.utcHour=U,t.utcHours=I,t.utcDay=$,t.utcDays=W,t.utcWeek=B,t.utcWeeks=G,t.utcSunday=B,t.utcSundays=G,t.utcMonday=F,t.utcMondays=Z,t.utcTuesday=Y,t.utcTuesdays=K,t.utcWednesday=H,t.utcWednesdays=J,t.utcThursday=q,t.utcThursdays=Q,t.utcFriday=V,t.utcFridays=tt,t.utcSaturday=X,t.utcSaturdays=et,t.utcMonth=nt,t.utcMonths=rt,t.utcYear=it,t.utcYears=ot,Object.defineProperty(t,"__esModule",{value:!0})})},{}],17:[function(t,e,n){!function(t,r){r("object"==typeof n&&void 0!==e?n:t.d3=t.d3||{})}(this,function(t){"use strict";function e(){return y||(_(n),y=b.now()+m)}function n(){y=0}function r(){this._call=this._time=this._next=null}function i(t,e,n){var i=new r;return i.restart(t,e,n),i}function o(){e(),++h;for(var t,n=l;n;)(t=y-n._time)>=0&&n._call.call(null,t),n=n._next;--h}function a(){y=(v=b.now())+m,h=d=0;try{o()}finally{h=0,s(),y=0}}function u(){var t=b.now(),e=t-v;e>g&&(m-=e,v=t)}function s(){for(var t,e,n=l,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:l=e);f=t,c(r)}function c(t){h||(d&&(d=clearTimeout(d)),t-y>24?(t<1/0&&(d=setTimeout(a,t-b.now()-m)),p&&(p=clearInterval(p))):(p||(v=b.now(),p=setInterval(u,g)),h=1,_(a)))}var l,f,h=0,d=0,p=0,g=1e3,v=0,y=0,m=0,b="object"==typeof performance&&performance.now?performance:Date,_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};r.prototype=i.prototype={constructor:r,restart:function(t,n,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?e():+r)+(null==n?0:+n),this._next||f===this||(f?f._next=this:l=this,f=this),this._call=t,this._time=r,c()},stop:function(){this._call&&(this._call=null,this._time=1/0,c())}};t.now=e,t.timer=i,t.timerFlush=o,t.timeout=function(t,e,n){var i=new r;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i},t.interval=function(t,n,i){var o=new r,a=n;return null==n?(o.restart(t,n,i),o):(n=+n,i=null==i?e():+i,o.restart(function e(r){r+=a,o.restart(e,a+=n,i),t(r)},n,i),o)},Object.defineProperty(t,"__esModule",{value:!0})})},{}],18:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-selection"),t("d3-dispatch"),t("d3-timer"),t("d3-interpolate"),t("d3-color"),t("d3-ease")):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3,r.d3)}(this,function(t,e,n,r,i,o,a){"use strict";function u(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>F)throw new Error("too late");return n}function s(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>H)throw new Error("too late");return n}function c(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function l(t,e,n){function i(c){var l,f,h,d;if(n.state!==Y)return a();for(l in s)if((d=s[l]).name===n.name){if(d.state===q)return r.timeout(i);d.state===V?(d.state=G,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete s[l]):+l<e&&(d.state=G,d.timer.stop(),delete s[l])}if(r.timeout(function(){n.state===q&&(n.state=V,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=H,n.on.call("start",t,t.__data__,n.index,n.group),n.state===H){for(n.state=q,u=new Array(h=n.tween.length),l=0,f=-1;l<h;++l)(d=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(u[++f]=d);u.length=f+1}}function o(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=X,1),i=-1,o=u.length;++i<o;)u[i].call(null,r);n.state===X&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=G,n.timer.stop(),delete s[e];for(var r in s)return;delete t.__transition}var u,s=t.__transition;s[e]=n,n.timer=r.timer(function(t){n.state=Y,n.timer.restart(i,n.delay,n.time),n.delay<=t&&i(t-n.delay)},0,n.time)}function f(t,e){var n,r;return function(){var i=s(this,t),o=i.tween;if(o!==n)for(var a=0,u=(r=n=o).length;a<u;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function h(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=s(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:e,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===e){i[c]=u;break}c===l&&i.push(u)}o.tween=i}}function d(t,e,n){var r=t._id;return t.each(function(){var t=s(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return c(t,r).value[e]}}function p(t){return function(){this.removeAttribute(t)}}function g(t){return function(){this.removeAttributeNS(t.space,t.local)}}function v(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}}function y(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}function m(t,e,n){var r,i,o;return function(){var a,u=n(this);{if(null!=u)return(a=this.getAttribute(t))===u?null:a===r&&u===i?o:o=e(r=a,i=u);this.removeAttribute(t)}}}function b(t,e,n){var r,i,o;return function(){var a,u=n(this);{if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===u?null:a===r&&u===i?o:o=e(r=a,i=u);this.removeAttributeNS(t.space,t.local)}}}function _(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}function x(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n}function w(t,e){return function(){u(this,t).delay=+e.apply(this,arguments)}}function k(t,e){return e=+e,function(){u(this,t).delay=e}}function M(t,e){return function(){s(this,t).duration=+e.apply(this,arguments)}}function S(t,e){return e=+e,function(){s(this,t).duration=e}}function T(t,e){if("function"!=typeof e)throw new Error;return function(){s(this,t).ease=e}}function N(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function E(t,e,n){var r,i,o=N(e)?u:s;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(e,n),a.on=i}}function O(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function P(t,n){var r,i,o;return function(){var a=e.style(this,t),u=(this.style.removeProperty(t),e.style(this,t));return a===u?null:a===r&&u===i?o:o=n(r=a,i=u)}}function C(t){return function(){this.style.removeProperty(t)}}function j(t,n,r){var i,o;return function(){var a=e.style(this,t);return a===r?null:a===i?o:o=n(i=a,r)}}function A(t,n,r){var i,o,a;return function(){var u=e.style(this,t),s=r(this);return null==s&&(this.style.removeProperty(t),s=e.style(this,t)),u===s?null:u===i&&s===o?a:a=n(i=u,o=s)}}function D(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}function R(t){return function(){this.textContent=t}}function z(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function L(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function U(t){return e.selection().transition(t)}function I(){return++tt}function $(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return nt.time=r.now(),nt;return n}var W=n.dispatch("start","end","interrupt"),B=[],F=0,Y=1,H=2,q=3,V=4,X=5,G=6,Z=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};l(t,n,{name:e,index:r,group:i,on:W,tween:B,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:F})},K=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){e=null==e?null:e+"";for(i in o)(n=o[i]).name===e?(r=n.state>H&&n.state<X,n.state=G,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},J=function(t,e){var n;return("number"==typeof e?i.interpolateNumber:e instanceof o.color?i.interpolateRgb:(n=o.color(e))?(e=n,i.interpolateRgb):i.interpolateString)(t,e)},Q=e.selection.prototype.constructor,tt=0,et=e.selection.prototype;L.prototype=U.prototype={constructor:L,select:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=e.selector(t));for(var i=this._groups,o=i.length,a=new Array(o),u=0;u<o;++u)for(var s,l,f=i[u],h=f.length,d=a[u]=new Array(h),p=0;p<h;++p)(s=f[p])&&(l=t.call(s,s.__data__,p,f))&&("__data__"in s&&(l.__data__=s.__data__),d[p]=l,Z(d[p],n,r,p,d,c(s,r)));return new L(a,this._parents,n,r)},selectAll:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=e.selectorAll(t));for(var i=this._groups,o=i.length,a=[],u=[],s=0;s<o;++s)for(var l,f=i[s],h=f.length,d=0;d<h;++d)if(l=f[d]){for(var p,g=t.call(l,l.__data__,d,f),v=c(l,r),y=0,m=g.length;y<m;++y)(p=g[y])&&Z(p,n,r,y,g,v);a.push(g),u.push(l)}return new L(a,u,n,r)},filter:function(t){"function"!=typeof t&&(t=e.matcher(t));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a,u=n[o],s=u.length,c=i[o]=[],l=0;l<s;++l)(a=u[l])&&t.call(a,a.__data__,l,u)&&c.push(a);return new L(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=e[u],l=n[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=e[u];return new L(a,this._parents,this._name,this._id)},selection:function(){return new Q(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=I(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)if(a=u[l]){var f=c(a,e);Z(a,t,n,l,u,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new L(r,this._parents,t,n)},call:et.call,nodes:et.nodes,node:et.node,size:et.size,empty:et.empty,each:et.each,on:function(t,e){var n=this._id;return arguments.length<2?c(this.node(),n).on.on(t):this.each(E(n,t,e))},attr:function(t,n){var r=e.namespace(t),o="transform"===r?i.interpolateTransformSvg:J;return this.attrTween(t,"function"==typeof n?(r.local?b:m)(r,o,d(this,"attr."+t,n)):null==n?(r.local?g:p)(r):(r.local?y:v)(r,o,n+""))},attrTween:function(t,n){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;var i=e.namespace(t);return this.tween(r,(i.local?_:x)(i,n))},style:function(t,e,n){var r="transform"==(t+="")?i.interpolateTransformCss:J;return null==e?this.styleTween(t,P(t,r)).on("end.style."+t,C(t)):this.styleTween(t,"function"==typeof e?A(t,r,d(this,"style."+t,e)):j(t,r,e+""),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,D(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?z(d(this,"text",t)):R(null==t?"":t+""))},remove:function(){return this.on("end.remove",O(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=c(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?f:h)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?w:k)(e,t)):c(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?M:S)(e,t)):c(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(T(e,t)):c(this.node(),e).ease}};var nt={time:null,delay:0,duration:250,ease:a.easeCubicInOut};e.selection.prototype.interrupt=function(t){return this.each(function(){K(this,t)})},e.selection.prototype.transition=function(t){var e,n;t instanceof L?(e=t._id,t=t._name):(e=I(),(n=nt).time=r.now(),t=null==t?null:t+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var u,s=i[a],c=s.length,l=0;l<c;++l)(u=s[l])&&Z(u,t,e,l,s,n||$(u,e));return new L(i,this._parents,t,e)};var rt=[null];t.transition=U,t.active=function(t,e){var n,r,i=t.__transition;if(i){e=null==e?null:e+"";for(r in i)if((n=i[r]).state>Y&&n.name===e)return new L([[t]],rt,e,+r)}return null},t.interrupt=K,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-color":4,"d3-dispatch":5,"d3-ease":7,"d3-interpolate":10,"d3-selection":13,"d3-timer":17}],19:[function(t,e,n){!function(t,n,r,i){"use strict";function o(t,e,n){return setTimeout(l(t,n),e)}function a(t,e,n){return!!Array.isArray(t)&&(u(t,n[e],n),!0)}function u(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function s(e,n,r){var i="DEPRECATED METHOD: "+n+"\n"+r+" AT \n";return function(){var n=new Error("get-stack-trace"),r=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=t.console&&(t.console.warn||t.console.log);return o&&o.call(t.console,i,r),e.apply(this,arguments)}}function c(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&ft(r,n)}function l(t,e){return function(){return t.apply(e,arguments)}}function f(t,e){return typeof t==pt?t.apply(e?e[0]||i:i,e):t}function h(t,e){return t===i?e:t}function d(t,e,n){u(y(e),function(e){t.addEventListener(e,n,!1)})}function p(t,e,n){u(y(e),function(e){t.removeEventListener(e,n,!1)})}function g(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function v(t,e){return t.indexOf(e)>-1}function y(t){return t.trim().split(/\s+/g)}function m(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function b(t){return Array.prototype.slice.call(t,0)}function _(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];m(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function x(t,e){for(var n,r,o=e[0].toUpperCase()+e.slice(1),a=0;a<ht.length;){if(n=ht[a],(r=n?n+o:e)in t)return r;a++}return i}function w(){return _t++}function k(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}function M(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){f(t.options.enable,[t])&&n.handler(e)},this.init()}function S(t){var e=t.options.inputClass;return new(e||(wt?I:kt?B:xt?Y:U))(t,T)}function T(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&St&&r-i==0,a=e&(Nt|Et)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,N(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function N(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=P(e)),i>1&&!n.firstMultiple?n.firstMultiple=P(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,s=e.center=C(r);e.timeStamp=yt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=R(u,s),e.distance=D(u,s),E(n,e),e.offsetDirection=A(e.deltaX,e.deltaY);var c=j(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=vt(c.x)>vt(c.y)?c.x:c.y,e.scale=a?L(a.pointers,r):1,e.rotation=a?z(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,O(n,e);var l=t.element;g(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function E(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==St&&o.eventType!==Nt||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}function O(t,e){var n,r,o,a,u=t.lastInterval||e,s=e.timeStamp-u.timeStamp;if(e.eventType!=Et&&(s>Mt||u.velocity===i)){var c=e.deltaX-u.deltaX,l=e.deltaY-u.deltaY,f=j(s,c,l);r=f.x,o=f.y,n=vt(f.x)>vt(f.y)?f.x:f.y,a=A(c,l),t.lastInterval=e}else n=u.velocity,r=u.velocityX,o=u.velocityY,a=u.direction;e.velocity=n,e.velocityX=r,e.velocityY=o,e.direction=a}function P(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:gt(t.pointers[n].clientX),clientY:gt(t.pointers[n].clientY)},n++;return{timeStamp:yt(),pointers:e,center:C(e),deltaX:t.deltaX,deltaY:t.deltaY}}function C(t){var e=t.length;if(1===e)return{x:gt(t[0].clientX),y:gt(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:gt(n/e),y:gt(r/e)}}function j(t,e,n){return{x:e/t||0,y:n/t||0}}function A(t,e){return t===e?Ot:vt(t)>=vt(e)?t<0?Pt:Ct:e<0?jt:At}function D(t,e,n){n||(n=Lt);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function R(t,e,n){n||(n=Lt);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}function z(t,e){return R(e[1],e[0],Ut)+R(t[1],t[0],Ut)}function L(t,e){return D(e[0],e[1],Ut)/D(t[0],t[1],Ut)}function U(){this.evEl=$t,this.evWin=Wt,this.pressed=!1,M.apply(this,arguments)}function I(){this.evEl=Yt,this.evWin=Ht,M.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function $(){this.evTarget=Vt,this.evWin=Xt,this.started=!1,M.apply(this,arguments)}function W(t,e){var n=b(t.touches),r=b(t.changedTouches);return e&(Nt|Et)&&(n=_(n.concat(r),"identifier",!0)),[n,r]}function B(){this.evTarget=Zt,this.targetIds={},M.apply(this,arguments)}function F(t,e){var n=b(t.touches),r=this.targetIds;if(e&(St|Tt)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=b(t.changedTouches),u=[],s=this.target;if(o=n.filter(function(t){return g(t.target,s)}),e===St)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&u.push(a[i]),e&(Nt|Et)&&delete r[a[i].identifier],i++;return u.length?[_(o.concat(u),"identifier",!0),u]:void 0}function Y(){M.apply(this,arguments);var t=l(this.handler,this);this.touch=new B(this.manager,t),this.mouse=new U(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function H(t,e){t&St?(this.primaryTouch=e.changedPointers[0].identifier,q.call(this,e)):t&(Nt|Et)&&q.call(this,e)}function q(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)},Kt)}}function V(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=Jt&&a<=Jt)return!0}return!1}function X(t,e){this.manager=t,this.set(e)}function G(t){if(v(t,re))return re;var e=v(t,ie),n=v(t,oe);return e&&n?re:e||n?e?ie:oe:v(t,ne)?ne:ee}function Z(t){this.options=ft({},this.defaults,t||{}),this.id=w(),this.manager=null,this.options.enable=h(this.options.enable,!0),this.state=ue,this.simultaneous={},this.requireFail=[]}function K(t){return t&he?"cancel":t&le?"end":t&ce?"move":t&se?"start":""}function J(t){return t==At?"down":t==jt?"up":t==Pt?"left":t==Ct?"right":""}function Q(t,e){var n=e.manager;return n?n.get(t):t}function tt(){Z.apply(this,arguments)}function et(){tt.apply(this,arguments),this.pX=null,this.pY=null}function nt(){tt.apply(this,arguments)}function rt(){Z.apply(this,arguments),this._timer=null,this._input=null}function it(){tt.apply(this,arguments)}function ot(){tt.apply(this,arguments)}function at(){Z.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ut(t,e){return e=e||{},e.recognizers=h(e.recognizers,ut.defaults.preset),new st(t,e)}function st(t,e){this.options=ft({},ut.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=S(this),this.touchAction=new X(this,this.options.touchAction),ct(this,!0),u(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ct(t,e){var n=t.element;if(n.style){var r;u(t.options.cssProps,function(i,o){r=x(n.style,o),e?(t.oldCssProps[r]=n.style[r],n.style[r]=i):n.style[r]=t.oldCssProps[r]||""}),e||(t.oldCssProps={})}}function lt(t,e){var r=n.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var ft,ht=["","webkit","Moz","MS","ms","o"],dt=n.createElement("div"),pt="function",gt=Math.round,vt=Math.abs,yt=Date.now;ft="function"!=typeof Object.assign?function(t){if(t===i||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==i&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}:Object.assign;var mt=s(function(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;)(!n||n&&t[r[o]]===i)&&(t[r[o]]=e[r[o]]),o++;return t},"extend","Use `assign`."),bt=s(function(t,e){return mt(t,e,!0)},"merge","Use `assign`."),_t=1,xt="ontouchstart"in t,wt=x(t,"PointerEvent")!==i,kt=xt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Mt=25,St=1,Tt=2,Nt=4,Et=8,Ot=1,Pt=2,Ct=4,jt=8,At=16,Dt=Pt|Ct,Rt=jt|At,zt=Dt|Rt,Lt=["x","y"],Ut=["clientX","clientY"];M.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(k(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(k(this.element),this.evWin,this.domHandler)}};var It={mousedown:St,mousemove:Tt,mouseup:Nt},$t="mousedown",Wt="mousemove mouseup";c(U,M,{handler:function(t){var e=It[t.type];e&St&&0===t.button&&(this.pressed=!0),e&Tt&&1!==t.which&&(e=Nt),this.pressed&&(e&Nt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Bt={pointerdown:St,pointermove:Tt,pointerup:Nt,pointercancel:Et,pointerout:Et},Ft={2:"touch",3:"pen",4:"mouse",5:"kinect"},Yt="pointerdown",Ht="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Yt="MSPointerDown",Ht="MSPointerMove MSPointerUp MSPointerCancel"),c(I,M,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=Bt[r],o=Ft[t.pointerType]||t.pointerType,a="touch"==o,u=m(e,t.pointerId,"pointerId");i&St&&(0===t.button||a)?u<0&&(e.push(t),u=e.length-1):i&(Nt|Et)&&(n=!0),u<0||(e[u]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(u,1))}});var qt={touchstart:St,touchmove:Tt,touchend:Nt,touchcancel:Et},Vt="touchstart",Xt="touchstart touchmove touchend touchcancel";c($,M,{handler:function(t){var e=qt[t.type];if(e===St&&(this.started=!0),this.started){var n=W.call(this,t,e);e&(Nt|Et)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Gt={touchstart:St,touchmove:Tt,touchend:Nt,touchcancel:Et},Zt="touchstart touchmove touchend touchcancel";c(B,M,{handler:function(t){var e=Gt[t.type],n=F.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var Kt=2500,Jt=25;c(Y,M,{handler:function(t,e,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)H.call(this,e,n);else if(i&&V.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Qt=x(dt.style,"touchAction"),te=Qt!==i,ee="auto",ne="manipulation",re="none",ie="pan-x",oe="pan-y",ae=function(){if(!te)return!1;var e={},n=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){e[r]=!n||t.CSS.supports("touch-action",r)}),e}();X.prototype={set:function(t){"compute"==t&&(t=this.compute()),te&&this.manager.element.style&&ae[t]&&(this.manager.element.style[Qt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return u(this.manager.recognizers,function(e){f(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),G(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=v(r,re)&&!ae[re],o=v(r,oe)&&!ae[oe],a=v(r,ie)&&!ae[ie];if(i){var u=1===t.pointers.length,s=t.distance<2,c=t.deltaTime<250;if(u&&s&&c)return}if(!a||!o)return i||o&&n&Dt||a&&n&Rt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ue=1,se=2,ce=4,le=8,fe=le,he=16;Z.prototype={defaults:{},set:function(t){return ft(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(a(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=Q(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return a(t,"dropRecognizeWith",this)?this:(t=Q(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(a(t,"requireFailure",this))return this;var e=this.requireFail;return t=Q(t,this),-1===m(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(a(t,"dropRequireFailure",this))return this;t=Q(t,this);var e=m(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,r=this.state;r<le&&e(n.options.event+K(r)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),r>=le&&e(n.options.event+K(r))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|ue)))return!1;t++}return!0},recognize:function(t){var e=ft({},t);if(!f(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(fe|he|32)&&(this.state=ue),this.state=this.process(e),this.state&(se|ce|le|he)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},c(tt,Z,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(se|ce),i=this.attrTest(t);return r&&(n&Et||!i)?e|he:r||i?n&Nt?e|le:e&se?e|ce:se:32}}),c(et,tt,{defaults:{event:"pan",threshold:10,pointers:1,direction:zt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Dt&&e.push(oe),t&Rt&&e.push(ie),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&Dt?(i=0===o?Ot:o<0?Pt:Ct,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?Ot:a<0?jt:At,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return tt.prototype.attrTest.call(this,t)&&(this.state&se||!(this.state&se)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=J(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),c(nt,tt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[re]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&se)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),c(rt,Z,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ee]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(Nt|Et)&&!i)this.reset();else if(t.eventType&St)this.reset(),this._timer=o(function(){this.state=fe,this.tryEmit()},e.time,this);else if(t.eventType&Nt)return fe;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===fe&&(t&&t.eventType&Nt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=yt(),this.manager.emit(this.options.event,this._input)))}}),c(it,tt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[re]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&se)}}),c(ot,tt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Dt|Rt,pointers:1},getTouchAction:function(){return et.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Dt|Rt)?e=t.overallVelocity:n&Dt?e=t.overallVelocityX:n&Rt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&vt(e)>this.options.velocity&&t.eventType&Nt},emit:function(t){var e=J(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),c(at,Z,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ne]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&St&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=Nt)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<e.interval,u=!this.pCenter||D(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,u&&a?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=o(function(){this.state=fe,this.tryEmit()},e.interval,this),se):fe}return 32},failTimeout:function(){return this._timer=o(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==fe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ut.VERSION="2.0.7",ut.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[it,{enable:!1}],[nt,{enable:!1},["rotate"]],[ot,{direction:Dt}],[et,{direction:Dt},["swipe"]],[at],[at,{event:"doubletap",taps:2},["tap"]],[rt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};st.prototype={set:function(t){return ft(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&fe)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(se|ce|le)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Z)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(a(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(a(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=m(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==i&&e!==i){var n=this.handlers;return u(y(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==i){var n=this.handlers;return u(y(t),function(t){e?n[t]&&n[t].splice(m(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&lt(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ct(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ft(ut,{INPUT_START:St,INPUT_MOVE:Tt,INPUT_END:Nt,INPUT_CANCEL:Et,STATE_POSSIBLE:ue,STATE_BEGAN:se,STATE_CHANGED:ce,STATE_ENDED:le,STATE_RECOGNIZED:fe,STATE_CANCELLED:he,STATE_FAILED:32,DIRECTION_NONE:Ot,DIRECTION_LEFT:Pt,DIRECTION_RIGHT:Ct,DIRECTION_UP:jt,DIRECTION_DOWN:At,DIRECTION_HORIZONTAL:Dt,DIRECTION_VERTICAL:Rt,DIRECTION_ALL:zt,Manager:st,Input:M,TouchAction:X,TouchInput:B,MouseInput:U,PointerEventInput:I,TouchMouseInput:Y,SingleTouchInput:$,Recognizer:Z,AttrRecognizer:tt,Tap:at,Pan:et,Swipe:ot,Pinch:nt,Rotate:it,Press:rt,on:d,off:p,each:u,merge:bt,extend:mt,assign:ft,inherit:c,bindFn:l,prefixed:x}),(void 0!==t?t:"undefined"!=typeof self?self:{}).Hammer=ut,void 0!==e&&e.exports?e.exports=ut:t.Hammer=ut}(window,document)},{}],20:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):i(t,e))}function s(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}Object.defineProperty(n,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./utils")),h=r(t("./logger")),d=function(t){function e(n,r,i){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o(this,e);var s=a(this,t.call(this));return s.backend=n,s.store=r,s.languageUtils=i.languageUtils,s.options=u,s.logger=h.default.create("backendConnector"),s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(i,u.backend,u),s}return u(e,t),e.prototype.queueLoad=function(t,e,n){var r=this,i=[],o=[],a=[],u=[];return t.forEach(function(t){var n=!0;e.forEach(function(e){var a=t+"|"+e;r.store.hasResourceBundle(t,e)?r.state[a]=2:r.state[a]<0||(1===r.state[a]?o.indexOf(a)<0&&o.push(a):(r.state[a]=1,n=!1,o.indexOf(a)<0&&o.push(a),i.indexOf(a)<0&&i.push(a),u.indexOf(e)<0&&u.push(e)))}),n||a.push(t)}),(i.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:n}),{toLoad:i,pending:o,toLoadLanguages:a,toLoadNamespaces:u}},e.prototype.loaded=function(t,e,n){var r=this,i=t.split("|"),o=l(i,2),a=o[0],u=o[1];e&&this.emit("failedLoading",a,u,e),n&&this.store.addResourceBundle(a,u,n),this.state[t]=e?-1:2,this.queue.forEach(function(n){f.pushPath(n.loaded,[a],u),s(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(r.emit("loaded",n.loaded),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.queue=this.queue.filter(function(t){return!t.done})},e.prototype.read=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,a=arguments[5];return t.length?this.backend[n](t,e,function(u,s){u&&s&&r<5?setTimeout(function(){i.read.call(i,t,e,n,r+1,2*o,a)},o):a(u,s)}):a(null,{})},e.prototype.load=function(t,e,n){var r=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();var i=c({},this.backend.options,this.options.backend);"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var o=this.queueLoad(t,e,n);if(!o.toLoad.length)return o.pending.length||n(),null;i.allowMultiLoading&&this.backend.readMulti?this.read(o.toLoadLanguages,o.toLoadNamespaces,"readMulti",null,null,function(t,e){t&&r.logger.warn("loading namespaces "+o.toLoadNamespaces.join(", ")+" for languages "+o.toLoadLanguages.join(", ")+" via multiloading failed",t),!t&&e&&r.logger.log("successfully loaded namespaces "+o.toLoadNamespaces.join(", ")+" for languages "+o.toLoadLanguages.join(", ")+" via multiloading",e),o.toLoad.forEach(function(n){var i=n.split("|"),o=l(i,2),a=o[0],u=o[1],s=f.getPath(e,[a,u]);if(s)r.loaded(n,t,s);else{var c="loading namespace "+u+" for language "+a+" via multiloading failed";r.loaded(n,c),r.logger.error(c)}})}):o.toLoad.forEach(function(t){r.loadOne(t)})},e.prototype.reload=function(t,e){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var r=c({},this.backend.options,this.options.backend);"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]),r.allowMultiLoading&&this.backend.readMulti?this.read(t,e,"readMulti",null,null,function(r,i){r&&n.logger.warn("reloading namespaces "+e.join(", ")+" for languages "+t.join(", ")+" via multiloading failed",r),!r&&i&&n.logger.log("successfully reloaded namespaces "+e.join(", ")+" for languages "+t.join(", ")+" via multiloading",i),t.forEach(function(t){e.forEach(function(e){var o=f.getPath(i,[t,e]);if(o)n.loaded(t+"|"+e,r,o);else{var a="reloading namespace "+e+" for language "+t+" via multiloading failed";n.loaded(t+"|"+e,a),n.logger.error(a)}})})}):t.forEach(function(t){e.forEach(function(e){n.loadOne(t+"|"+e,"re")})})},e.prototype.loadOne=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.split("|"),i=l(r,2),o=i[0],a=i[1];this.read(o,a,"read",null,null,function(r,i){r&&e.logger.warn(n+"loading namespace "+a+" for language "+o+" failed",r),!r&&i&&e.logger.log(n+"loaded namespace "+a+" for language "+o,i),e.loaded(t,r,i)})},e.prototype.saveMissing=function(t,e,n,r){this.backend&&this.backend.create&&this.backend.create(t,e,n,r),t&&t[0]&&this.store.addResource(t[0],e,n,r)},e}(r(t("./EventEmitter")).default);n.default=d},{"./EventEmitter":22,"./logger":31,"./utils":33}],21:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):i(t,e))}Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=r(t("./logger")),l=function(t){function e(n,r,i){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o(this,e);var s=a(this,t.call(this));return s.cache=n,s.store=r,s.services=i,s.options=u,s.logger=c.default.create("cacheConnector"),s.cache&&s.cache.init&&s.cache.init(i,u.cache,u),s}return u(e,t),e.prototype.load=function(t,e,n){var r=this;if(!this.cache)return n&&n();var i=s({},this.cache.options,this.options.cache),o="string"==typeof t?this.services.languageUtils.toResolveHierarchy(t):t;i.enabled?this.cache.load(o,function(t,e){if(t&&r.logger.error("loading languages "+o.join(", ")+" from cache failed",t),e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))for(var a in e[i])if(Object.prototype.hasOwnProperty.call(e[i],a)&&"i18nStamp"!==a){var u=e[i][a];u&&r.store.addResourceBundle(i,a,u)}n&&n()}):n&&n()},e.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},e}(r(t("./EventEmitter")).default);n.default=l},{"./EventEmitter":22,"./logger":31}],22:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){r(this,t),this.observers={}}return t.prototype.on=function(t,e){var n=this;t.split(" ").forEach(function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})},t.prototype.off=function(t,e){var n=this;this.observers[t]&&this.observers[t].forEach(function(){if(e){var r=n.observers[t].indexOf(e);r>-1&&n.observers[t].splice(r,1)}else delete n.observers[t]})},t.prototype.emit=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.observers[t]&&[].concat(this.observers[t]).forEach(function(t){t.apply(void 0,n)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(e){var r;e.apply(e,(r=[t]).concat.apply(r,n))})},t}();n.default=i},{}],23:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./utils")),a=function(t){return t&&t.__esModule?t:{default:t}}(t("./logger")),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.logger=a.default.create("interpolator"),this.init(e,!0)}return t.prototype.init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=t,this.format=t.interpolation&&t.interpolation.format||function(t){return t},this.escape=t.interpolation&&t.interpolation.escape||o.escape),t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.prefix=e.prefix?o.regexEscape(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?o.regexEscape(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?o.regexEscape(e.nestingPrefix):e.nestingPrefixEscaped||o.regexEscape("$t("),this.nestingSuffix=e.nestingSuffix?o.regexEscape(e.nestingSuffix):e.nestingSuffixEscaped||o.regexEscape(")"),this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.resetRegExp()},t.prototype.reset=function(){this.options&&this.init(this.options)},t.prototype.resetRegExp=function(){var t=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(t,"g");var e=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(e,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},t.prototype.interpolate=function(t,e,n){function r(t){return t.replace(/\$/g,"$$$$")}var i=this,a=void 0,u=void 0,s=void 0,c=function(t){if(t.indexOf(i.formatSeparator)<0)return o.getPath(e,t);var r=t.split(i.formatSeparator),a=r.shift().trim(),u=r.join(i.formatSeparator).trim();return i.format(o.getPath(e,a),u,n)};for(this.resetRegExp(),s=0;(a=this.regexpUnescape.exec(t))&&(u=c(a[1].trim()),t=t.replace(a[0],u),this.regexpUnescape.lastIndex=0,!(++s>=this.maxReplaces)););for(s=0;(a=this.regexp.exec(t))&&("string"!=typeof(u=c(a[1].trim()))&&(u=o.makeString(u)),u||(this.logger.warn("missed to pass in variable "+a[1]+" for interpolating "+t),u=""),u=r(this.escapeValue?this.escape(u):u),t=t.replace(a[0],u),this.regexp.lastIndex=0,!(++s>=this.maxReplaces)););return t},t.prototype.nest=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=void 0,a=void 0,u=i({},n);for(u.applyPostProcessor=!1;r=this.nestingRegexp.exec(t);){if((a=e(function(t){if(t.indexOf(",")<0)return t;var e=t.split(",");t=e.shift();var n=e.join(",");n=(n=this.interpolate(n,u)).replace(/'/g,'"');try{u=JSON.parse(n)}catch(e){this.logger.error("failed parsing options string in nesting for key "+t,e)}return t}.call(this,r[1].trim()),u))&&r[0]===t&&"string"!=typeof a)return a;"string"!=typeof a&&(a=o.makeString(a)),a||(this.logger.warn("missed to resolve "+r[1]+" for nesting "+t),a=""),t=t.replace(r[0],a),this.regexp.lastIndex=0}return t},t}();n.default=u},{"./logger":31,"./utils":33}],24:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return t.charAt(0).toUpperCase()+t.slice(1)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(t("./logger")),a=function(){function t(e){r(this,t),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=o.default.create("languageUtils")}return t.prototype.getScriptPartFromCode=function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))},t.prototype.getLanguagePartFromCode=function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])},t.prototype.formatLanguageCode=function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map(function(t){return t.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=i(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=i(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=i(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t},t.prototype.isWhitelisted=function(t){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1},t.prototype.getFallbackCodes=function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t.default),n||[]},t.prototype.toResolveHierarchy=function(t,e){var n=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[],o=function(t){t&&(n.isWhitelisted(t)?i.push(t):n.logger.warn("rejecting non-whitelisted language code: "+t))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):"string"==typeof t&&o(this.formatLanguageCode(t)),r.forEach(function(t){i.indexOf(t)<0&&o(n.formatLanguageCode(t))}),i},t}();n.default=a},{"./logger":31}],25:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(){var t={};return a.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:u[e.fc]}})}),t}Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(t("./logger")),a=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],u={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)}},s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.languageUtils=e,this.options=n,this.logger=o.default.create("pluralResolver"),this.rules=i()}return t.prototype.addRule=function(t,e){this.rules[t]=e},t.prototype.getRule=function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]},t.prototype.needsPlural=function(t){var e=this.getRule(t);return e&&e.numbers.length>1},t.prototype.getSuffix=function(t,e){var n=this,r=this.getRule(t);if(r){var i=r.noAbs?r.plurals(e):r.plurals(Math.abs(e)),o=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_"+o.toString():a():"v2"===this.options.compatibilityJSON||2===r.numbers.length&&1===r.numbers[0]?a():2===r.numbers.length&&1===r.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: "+t),""},t}();n.default=s},{"./logger":31}],26:[function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}Object.defineProperty(n,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(t){return t&&t.__esModule?t:{default:t}}(t("./EventEmitter")),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./utils")),l=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};i(this,e);var a=o(this,t.call(this));return a.data=n||{},a.options=r,a}return a(e,t),e.prototype.addNamespaces=function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)},e.prototype.removeNamespaces=function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)},e.prototype.getResource=function(t,e,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).keySeparator||this.options.keySeparator;void 0===r&&(r=".");var i=[t,e];return n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(r?n.split(r):n)),t.indexOf(".")>-1&&(i=t.split(".")),c.getPath(this.data,i)},e.prototype.addResource=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[t,e];n&&(a=a.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(r=e,e=(a=t.split("."))[1]),this.addNamespaces(e),c.setPath(this.data,a,r),i.silent||this.emit("added",t,e,n,r)},e.prototype.addResources=function(t,e,n){for(var r in n)"string"==typeof n[r]&&this.addResource(t,e,r,n[r],{silent:!0});this.emit("added",t,e,n)},e.prototype.addResourceBundle=function(t,e,n,r,i){var o=[t,e];t.indexOf(".")>-1&&(r=n,n=e,e=(o=t.split("."))[1]),this.addNamespaces(e);var a=c.getPath(this.data,o)||{};r?c.deepExtend(a,n,i):a=u({},a,n),c.setPath(this.data,o,a),this.emit("added",t,e,n)},e.prototype.removeResourceBundle=function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)},e.prototype.hasResourceBundle=function(t,e){return void 0!==this.getResource(t,e)},e.prototype.getResourceBundle=function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?u({},this.getResource(t,e)):this.getResource(t,e)},e.prototype.toJSON=function(){return this.data},e}(s.default);n.default=l},{"./EventEmitter":22,"./utils":33}],27:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):i(t,e))}Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=r(t("./logger")),f=r(t("./EventEmitter")),h=r(t("./postProcessor")),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./utils")),p=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e);var i=a(this,t.call(this));return d.copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],n,i),i.options=r,i.logger=l.default.create("translator"),i}return u(e,t),e.prototype.changeLanguage=function(t){t&&(this.language=t)},e.prototype.exists=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,e);return n&&void 0!==n.res},e.prototype.extractFromKey=function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=e.keySeparator||this.options.keySeparator||".",i=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var o=t.split(n);(n!==r||n===r&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),t=o.join(r)}return"string"==typeof i&&(i=[i]),{key:t,namespaces:i}},e.prototype.translate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==(void 0===e?"undefined":c(e))&&(e=this.options.overloadTranslationOptionHandler(arguments)),void 0===t||null===t||""===t)return"";"number"==typeof t&&(t=String(t)),"string"==typeof t&&(t=[t]);var n=e.keySeparator||this.options.keySeparator||".",r=this.extractFromKey(t[t.length-1],e),i=r.key,o=r.namespaces,a=o[o.length-1],u=e.lng||this.language,l=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase())return l?a+(e.nsSeparator||this.options.nsSeparator)+i:i;var f=this.resolve(t,e),h=f&&f.res,d=f&&f.usedKey||i,p=Object.prototype.toString.apply(h),g=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays;if(h&&"string"!=typeof h&&["[object Number]","[object Function]","[object RegExp]"].indexOf(p)<0&&(!g||"[object Array]"!==p)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,h,e):"key '"+i+" ("+this.language+")' returned an object instead of string.";if(e.keySeparator||this.options.keySeparator){var v="[object Array]"===p?[]:{};for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(v[y]=this.translate(""+d+n+y,s({},e,{joinArrays:!1,ns:o})));h=v}}else if(g&&"[object Array]"===p)(h=h.join(g))&&(h=this.extendTranslation(h,t,e));else{var m=!1,b=!1;if(this.isValidLookup(h)||void 0===e.defaultValue||(m=!0,h=e.defaultValue),this.isValidLookup(h)||(b=!0,h=i),b||m){this.logger.log("missingKey",u,a,i,h);var _=[],x=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&x&&x[0])for(var w=0;w<x.length;w++)_.push(x[w]);else"all"===this.options.saveMissingTo?_=this.languageUtils.toResolveHierarchy(e.lng||this.language):_.push(e.lng||this.language);this.options.saveMissing&&(this.options.missingKeyHandler?this.options.missingKeyHandler(_,a,i,h):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(_,a,i,h)),this.emit("missingKey",_,a,i,h)}h=this.extendTranslation(h,t,e),b&&h===i&&this.options.appendNamespaceToMissingKey&&(h=a+":"+i),b&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(h))}return h},e.prototype.extendTranslation=function(t,e,n){var r=this;n.interpolation&&this.interpolator.init(s({},n,{interpolation:s({},this.options.interpolation,n.interpolation)}));var i=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(i=s({},this.options.interpolation.defaultVariables,i)),t=this.interpolator.interpolate(t,i,n.lng||this.language),!1!==n.nest&&(t=this.interpolator.nest(t,function(){return r.translate.apply(r,arguments)},n)),n.interpolation&&this.interpolator.reset();var o=n.postProcess||this.options.postProcess,a="string"==typeof o?[o]:o;return void 0!==t&&a&&a.length&&!1!==n.applyPostProcessor&&(t=h.default.handle(a,t,e,n,this)),t},e.prototype.resolve=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0,i=void 0;return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!e.isValidLookup(r)){var o=e.extractFromKey(t,n),a=o.key;i=a;var u=o.namespaces;e.options.fallbackNS&&(u=u.concat(e.options.fallbackNS));var s=void 0!==n.count&&"string"!=typeof n.count,c=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,l=n.lngs?n.lngs:e.languageUtils.toResolveHierarchy(n.lng||e.language);u.forEach(function(t){e.isValidLookup(r)||l.forEach(function(i){if(!e.isValidLookup(r)){var o=a,u=[o],l=void 0;s&&(l=e.pluralResolver.getSuffix(i,n.count)),s&&c&&u.push(o+l),c&&u.push(o+=""+e.options.contextSeparator+n.context),s&&u.push(o+=l);for(var f=void 0;f=u.pop();)e.isValidLookup(r)||(r=e.getResource(i,t,f,n))}})})}}),{res:r,usedKey:i}},e.prototype.isValidLookup=function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)},e.prototype.getResource=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(t,e,n,r)},e}(f.default);n.default=p},{"./EventEmitter":22,"./logger":31,"./postProcessor":32,"./utils":33}],28:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.transformOptions=function(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&t.whitelist.push("cimode"),t},n.get=function(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,saveMissingTo:"fallback",missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){return{defaultValue:t[1]}},interpolation:{escapeValue:!0,format:function(t,e,n){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}}}},{}],29:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):i(t,e))}function s(){}Object.defineProperty(n,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=r(t("./logger")),f=r(t("./EventEmitter")),h=r(t("./ResourceStore")),d=r(t("./Translator")),p=r(t("./LanguageUtils")),g=r(t("./PluralResolver")),v=r(t("./Interpolator")),y=r(t("./BackendConnector")),m=r(t("./CacheConnector")),b=t("./defaults"),_=r(t("./postProcessor")),x=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];o(this,e);var i=a(this,t.call(this));if(i.options=(0,b.transformOptions)(n),i.services={},i.logger=l.default,i.modules={external:[]},r&&!i.isInitialized&&!n.isClone){var u;if(!i.options.initImmediate)return u=i.init(n,r),a(i,u);setTimeout(function(){i.init(n,r)},0)}return i}return u(e,t),e.prototype.init=function(){function t(t){return t?"function"==typeof t?new t:t:null}var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];if("function"==typeof n&&(r=n,n={}),this.options=c({},(0,b.get)(),this.options,(0,b.transformOptions)(n)),this.format=this.options.interpolation.format,r||(r=s),!this.options.isClone){this.modules.logger?l.default.init(t(this.modules.logger),this.options):l.default.init(null,this.options);var i=new p.default(this.options);this.store=new h.default(this.options.resources,this.options);var o=this.services;o.logger=l.default,o.resourceStore=this.store,o.resourceStore.on("added removed",function(t,e){o.cacheConnector.save()}),o.languageUtils=i,o.pluralResolver=new g.default(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o.interpolator=new v.default(this.options),o.backendConnector=new y.default(t(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))}),o.backendConnector.on("loaded",function(t){o.cacheConnector.save()}),o.cacheConnector=new m.default(t(this.modules.cache),o.resourceStore,o,this.options),o.cacheConnector.on("*",function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))}),this.modules.languageDetector&&(o.languageDetector=t(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.translator=new d.default(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))}),this.modules.external.forEach(function(t){t.init&&t.init(e)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}});var a=function(){e.changeLanguage(e.options.lng,function(t,n){e.isInitialized=!0,e.logger.log("initialized",e.options),e.emit("initialized",e.options),r(t,n)})};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),this},e.prototype.loadResources=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;if(this.options.resources)e(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return e();var n=[],r=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(t){n.indexOf(t)<0&&n.push(t)})};this.language?r(this.language):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(t){return r(t)}),this.options.preload&&this.options.preload.forEach(function(t){return r(t)}),this.services.cacheConnector.load(n,this.options.ns,function(){t.services.backendConnector.load(n,t.options.ns,e)})}},e.prototype.reloadResources=function(t,e){t||(t=this.languages),e||(e=this.options.ns),this.services.backendConnector.reload(t,e)},e.prototype.use=function(t){return"backend"===t.type&&(this.modules.backend=t),"cache"===t.type&&(this.modules.cache=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"postProcessor"===t.type&&_.default.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this},e.prototype.changeLanguage=function(t,e){var n=this,r=function(t,r){n.translator.changeLanguage(r),r&&(n.emit("languageChanged",r),n.logger.log("languageChanged",r)),e&&e(t,function(){return n.t.apply(n,arguments)})},i=function(t){t&&(n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(t)),n.loadResources(function(e){r(e,t)})};t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(t):i(this.services.languageDetector.detect())},e.prototype.getFixedT=function(t,e){var n=this,r=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="string"==typeof r?{defaultValue:r}:c({},r);return i.lng=i.lng||t.lng,i.lngs=i.lngs||t.lngs,i.ns=i.ns||t.ns,n.t(e,i)};return"string"==typeof t?r.lng=t:r.lngs=t,r.ns=e,r},e.prototype.t=function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)},e.prototype.exists=function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)},e.prototype.setDefaultNamespace=function(t){this.options.defaultNS=t},e.prototype.loadNamespaces=function(t,e){var n=this;if(!this.options.ns)return e&&e();"string"==typeof t&&(t=[t]),t.forEach(function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)}),this.loadResources(e)},e.prototype.loadLanguages=function(t,e){"string"==typeof t&&(t=[t]);var n=this.options.preload||[],r=t.filter(function(t){return n.indexOf(t)<0});if(!r.length)return e();this.options.preload=n.concat(r),this.loadResources(e)},e.prototype.dir=function(t){if(t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),!t)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr"},e.prototype.createInstance=function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},e.prototype.cloneInstance=function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,i=c({},this.options,n,{isClone:!0}),o=new e(i,r);return["store","services","language"].forEach(function(e){o[e]=t[e]}),o.translator=new d.default(o.services,o.options),o.translator.on("*",function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];o.emit.apply(o,[t].concat(n))}),o.init(i,r),o},e}(f.default);n.default=new x},{"./BackendConnector":20,"./CacheConnector":21,"./EventEmitter":22,"./Interpolator":23,"./LanguageUtils":24,"./PluralResolver":25,"./ResourceStore":26,"./Translator":27,"./defaults":28,"./logger":31,"./postProcessor":32}],30:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.use=n.t=n.setDefaultNamespace=n.on=n.off=n.loadResources=n.loadNamespaces=n.loadLanguages=n.init=n.getFixedT=n.exists=n.dir=n.createInstance=n.cloneInstance=n.changeLanguage=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(t("./i18next"));n.default=r.default;n.changeLanguage=r.default.changeLanguage.bind(r.default),n.cloneInstance=r.default.cloneInstance.bind(r.default),n.createInstance=r.default.createInstance.bind(r.default),n.dir=r.default.dir.bind(r.default),n.exists=r.default.exists.bind(r.default),n.getFixedT=r.default.getFixedT.bind(r.default),n.init=r.default.init.bind(r.default),n.loadLanguages=r.default.loadLanguages.bind(r.default),n.loadNamespaces=r.default.loadNamespaces.bind(r.default),n.loadResources=r.default.loadResources.bind(r.default),n.off=r.default.off.bind(r.default),n.on=r.default.on.bind(r.default),n.setDefaultNamespace=r.default.setDefaultNamespace.bind(r.default),n.t=r.default.t.bind(r.default),n.use=r.default.use.bind(r.default)},{"./i18next":29}],31:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var n;console&&console[t]&&(n=console)[t].apply(n,i(e))}},u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.init(e,n)}return t.prototype.init=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||a,this.options=e,this.debug=e.debug},t.prototype.setDebug=function(t){this.debug=t},t.prototype.log=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)},t.prototype.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)},t.prototype.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")},t.prototype.deprecate=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)},t.prototype.forward=function(t,e,n,r){return r&&!this.debug?null:("string"==typeof t[0]&&(t[0]=""+n+this.prefix+" "+t[0]),this.logger[e](t))},t.prototype.create=function(e){return new t(this.logger,o({prefix:this.prefix+":"+e+":"},this.options))},t}();n.default=new u},{}],32:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,i){var o=this;return t.forEach(function(t){o.processors[t]&&(e=o.processors[t].process(e,n,r,i))}),e}}},{}],33:[function(t,e,n){"use strict";function r(t,e,n){function r(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function i(){return!t||"string"==typeof t}for(var o="string"!=typeof e?[].concat(e):e.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!t[a]&&n&&(t[a]=new n),t=t[a]}return i()?{}:{obj:t,k:r(o.shift())}}function i(t,e,n){for(var r in e)r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof e[r]||e[r]instanceof String?n&&(t[r]=e[r]):i(t[r],e[r],n):t[r]=e[r];return t}Object.defineProperty(n,"__esModule",{value:!0}),n.makeString=function(t){return null==t?"":""+t},n.copy=function(t,e,n){t.forEach(function(t){e[t]&&(n[t]=e[t])})},n.setPath=function(t,e,n){var i=r(t,e,Object);i.obj[i.k]=n},n.pushPath=function(t,e,n,i){var o=r(t,e,Object),a=o.obj,u=o.k;a[u]=a[u]||[],i&&(a[u]=a[u].concat(n)),i||a[u].push(n)},n.getPath=function(t,e){var n=r(t,e),i=n.obj,o=n.k;if(i)return i[o]},n.deepExtend=i,n.regexEscape=function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},n.escape=function(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return o[t]}):t};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"}},{}],34:[function(t,e,n){e.exports=t("./dist/commonjs/index.js").default},{"./dist/commonjs/index.js":30}],35:[function(t,e,n){(function(t){(function(){function r(t,e){return t.set(e[0],e[1]),t}function i(t,e){return t.add(e),t}function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function a(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function u(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function s(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function c(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function l(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function f(t,e){return!!(null==t?0:t.length)&&w(t,e,0)>-1}function h(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function d(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function p(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function g(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function v(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function y(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function m(t){return t.split("")}function b(t){return t.match(Ue)||[]}function _(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function x(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function w(t,e,n){return e===e?G(t,e,n):x(t,M,n)}function k(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function M(t){return t!==t}function S(t,e){var n=null==t?0:t.length;return n?P(t,e)/n:At}function T(t){return function(e){return null==e?nt:e[t]}}function N(t){return function(e){return null==t?nt:t[e]}}function E(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function O(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function P(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==nt&&(n=n===nt?o:n+o)}return n}function C(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function j(t,e){return d(e,function(e){return[e,t[e]]})}function A(t){return function(e){return t(e)}}function D(t,e){return d(e,function(e){return t[e]})}function R(t,e){return t.has(e)}function z(t,e){for(var n=-1,r=t.length;++n<r&&w(e,t[n],0)>-1;);return n}function L(t,e){for(var n=t.length;n--&&w(e,t[n],0)>-1;);return n}function U(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function I(t){return"\\"+wn[t]}function $(t,e){return null==t?nt:t[e]}function W(t){return vn.test(t)}function B(t){return yn.test(t)}function F(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function H(t,e){return function(n){return t(e(n))}}function q(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==st||(t[n]=st,o[i++]=n)}return o}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function X(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function G(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function Z(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function K(t){return W(t)?Q(t):In(t)}function J(t){return W(t)?tt(t):m(t)}function Q(t){for(var e=pn.lastIndex=0;pn.test(t);)++e;return e}function tt(t){return t.match(pn)||[]}function et(t){return t.match(gn)||[]}var nt,rt=200,it="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ot="Expected a function",at="__lodash_hash_undefined__",ut=500,st="__lodash_placeholder__",ct=1,lt=2,ft=4,ht=1,dt=2,pt=1,gt=2,vt=4,yt=8,mt=16,bt=32,_t=64,xt=128,wt=256,kt=512,Mt=30,St="...",Tt=800,Nt=16,Et=1,Ot=2,Pt=1/0,Ct=9007199254740991,jt=1.7976931348623157e308,At=NaN,Dt=4294967295,Rt=Dt-1,zt=Dt>>>1,Lt=[["ary",xt],["bind",pt],["bindKey",gt],["curry",yt],["curryRight",mt],["flip",kt],["partial",bt],["partialRight",_t],["rearg",wt]],Ut="[object Arguments]",It="[object Array]",$t="[object AsyncFunction]",Wt="[object Boolean]",Bt="[object Date]",Ft="[object DOMException]",Yt="[object Error]",Ht="[object Function]",qt="[object GeneratorFunction]",Vt="[object Map]",Xt="[object Number]",Gt="[object Null]",Zt="[object Object]",Kt="[object Proxy]",Jt="[object RegExp]",Qt="[object Set]",te="[object String]",ee="[object Symbol]",ne="[object Undefined]",re="[object WeakMap]",ie="[object WeakSet]",oe="[object ArrayBuffer]",ae="[object DataView]",ue="[object Float32Array]",se="[object Float64Array]",ce="[object Int8Array]",le="[object Int16Array]",fe="[object Int32Array]",he="[object Uint8Array]",de="[object Uint8ClampedArray]",pe="[object Uint16Array]",ge="[object Uint32Array]",ve=/\b__p \+= '';/g,ye=/\b(__p \+=) '' \+/g,me=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39);/g,_e=/[&<>"']/g,xe=RegExp(be.source),we=RegExp(_e.source),ke=/<%-([\s\S]+?)%>/g,Me=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,Te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ne=/^\w*$/,Ee=/^\./,Oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/[\\^$.*+?()[\]{}|]/g,Ce=RegExp(Pe.source),je=/^\s+|\s+$/g,Ae=/^\s+/,De=/\s+$/,Re=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ze=/\{\n\/\* \[wrapped with (.+)\] \*/,Le=/,? & /,Ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ie=/\\(\\)?/g,$e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,We=/\w*$/,Be=/^[-+]0x[0-9a-f]+$/i,Fe=/^0b[01]+$/i,Ye=/^\[object .+?Constructor\]$/,He=/^0o[0-7]+$/i,qe=/^(?:0|[1-9]\d*)$/,Ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xe=/($^)/,Ge=/['\n\r\u2028\u2029\\]/g,Ze="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Je="["+Ke+"]",Qe="["+Ze+"]",tn="[a-z\\xdf-\\xf6\\xf8-\\xff]",en="[^\\ud800-\\udfff"+Ke+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",nn="\\ud83c[\\udffb-\\udfff]",rn="(?:\\ud83c[\\udde6-\\uddff]){2}",on="[\\ud800-\\udbff][\\udc00-\\udfff]",an="[A-Z\\xc0-\\xd6\\xd8-\\xde]",un="(?:"+tn+"|"+en+")",sn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",cn="[\\ufe0e\\ufe0f]?"+sn+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",rn,on].join("|")+")[\\ufe0e\\ufe0f]?"+sn+")*"),ln="(?:"+["[\\u2700-\\u27bf]",rn,on].join("|")+")"+cn,fn="(?:"+["[^\\ud800-\\udfff]"+Qe+"?",Qe,rn,on,"[\\ud800-\\udfff]"].join("|")+")",hn=RegExp("['’]","g"),dn=RegExp(Qe,"g"),pn=RegExp(nn+"(?="+nn+")|"+fn+cn,"g"),gn=RegExp([an+"?"+tn+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Je,an,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Je,an+un,"$"].join("|")+")",an+"?"+un+"+(?:['’](?:d|ll|m|re|s|t|ve))?",an+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",ln].join("|"),"g"),vn=RegExp("[\\u200d\\ud800-\\udfff"+Ze+"\\ufe0e\\ufe0f]"),yn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bn=-1,_n={};_n[ue]=_n[se]=_n[ce]=_n[le]=_n[fe]=_n[he]=_n[de]=_n[pe]=_n[ge]=!0,_n[Ut]=_n[It]=_n[oe]=_n[Wt]=_n[ae]=_n[Bt]=_n[Yt]=_n[Ht]=_n[Vt]=_n[Xt]=_n[Zt]=_n[Jt]=_n[Qt]=_n[te]=_n[re]=!1;var xn={};xn[Ut]=xn[It]=xn[oe]=xn[ae]=xn[Wt]=xn[Bt]=xn[ue]=xn[se]=xn[ce]=xn[le]=xn[fe]=xn[Vt]=xn[Xt]=xn[Zt]=xn[Jt]=xn[Qt]=xn[te]=xn[ee]=xn[he]=xn[de]=xn[pe]=xn[ge]=!0,xn[Yt]=xn[Ht]=xn[re]=!1;var wn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kn=parseFloat,Mn=parseInt,Sn="object"==typeof t&&t&&t.Object===Object&&t,Tn="object"==typeof self&&self&&self.Object===Object&&self,Nn=Sn||Tn||Function("return this")(),En="object"==typeof n&&n&&!n.nodeType&&n,On=En&&"object"==typeof e&&e&&!e.nodeType&&e,Pn=On&&On.exports===En,Cn=Pn&&Sn.process,jn=function(){try{return Cn&&Cn.binding&&Cn.binding("util")}catch(t){}}(),An=jn&&jn.isArrayBuffer,Dn=jn&&jn.isDate,Rn=jn&&jn.isMap,zn=jn&&jn.isRegExp,Ln=jn&&jn.isSet,Un=jn&&jn.isTypedArray,In=T("length"),$n=N({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Wn=N({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Bn=N({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Fn=function t(e){function n(t){if(ea(t)&&!Ys(t)&&!(t instanceof G)){if(t instanceof N)return t;if(Ya.call(t,"__wrapped__"))return So(t)}return new N(t)}function m(){}function N(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=nt}function G(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Dt,this.__views__=[]}function Q(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ue(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ze(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Ue;++e<n;)this.add(t[e])}function Ke(t){var e=this.__data__=new tt(t);this.size=e.size}function Je(t,e){var n=Ys(t),r=!n&&Fs(t),i=!n&&!r&&qs(t),o=!n&&!r&&!i&&Ks(t),a=n||r||i||o,u=a?C(t.length,La):[],s=u.length;for(var c in t)!e&&!Ya.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ro(c,s))||u.push(c);return u}function Qe(t){var e=t.length;return e?t[wr(0,e-1)]:nt}function tn(t,e){return xo(ai(t),fn(e,0,t.length))}function en(t){return xo(ai(t))}function nn(t,e,n){(n===nt||Vo(t[e],n))&&(n!==nt||e in t)||cn(t,e,n)}function rn(t,e,n){var r=t[e];Ya.call(t,e)&&Vo(r,n)&&(n!==nt||e in t)||cn(t,e,n)}function on(t,e){for(var n=t.length;n--;)if(Vo(t[n][0],e))return n;return-1}function an(t,e,n,r){return Bu(t,function(t,i,o){e(r,t,n(t),o)}),r}function un(t,e){return t&&ui(e,ga(e),t)}function sn(t,e){return t&&ui(e,va(e),t)}function cn(t,e,n){"__proto__"==e&&su?su(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ln(t,e){for(var n=-1,r=e.length,i=Pa(r),o=null==t;++n<r;)i[n]=o?nt:da(t,e[n]);return i}function fn(t,e,n){return t===t&&(n!==nt&&(t=t<=n?t:n),e!==nt&&(t=t>=e?t:e)),t}function pn(t,e,n,r,i,o){var a,s=e&ct,c=e&lt,l=e&ft;if(n&&(a=i?n(t,r,i,o):n(t)),a!==nt)return a;if(!ta(t))return t;var f=Ys(t);if(f){if(a=Ji(t),!s)return ai(t,a)}else{var h=ts(t),d=h==Ht||h==qt;if(qs(t))return Xr(t,s);if(h==Zt||h==Ut||d&&!i){if(a=c||d?{}:Qi(t),!s)return c?ci(t,sn(a,t)):si(t,un(a,t))}else{if(!xn[h])return i?t:{};a=to(t,h,pn,s)}}o||(o=new Ke);var p=o.get(t);if(p)return p;o.set(t,a);var g=f?nt:(l?c?Wi:$i:c?va:ga)(t);return u(g||t,function(r,i){g&&(r=t[i=r]),rn(a,i,pn(r,e,n,i,t,o))}),a}function gn(t){var e=ga(t);return function(n){return vn(n,t,e)}}function vn(t,e,n){var r=n.length;if(null==t)return!r;for(t=Ra(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===nt&&!(i in t)||!o(a))return!1}return!0}function yn(t,e,n){if("function"!=typeof t)throw new Ua(ot);return rs(function(){t.apply(nt,n)},e)}function wn(t,e,n,r){var i=-1,o=f,a=!0,u=t.length,s=[],c=e.length;if(!u)return s;n&&(e=d(e,A(n))),r?(o=h,a=!1):e.length>=rt&&(o=R,a=!1,e=new Ze(e));t:for(;++i<u;){var l=t[i],p=null==n?l:n(l);if(l=r||0!==l?l:0,a&&p===p){for(var g=c;g--;)if(e[g]===p)continue t;s.push(l)}else o(e,p,r)||s.push(l)}return s}function Sn(t,e){var n=!0;return Bu(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Tn(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(u===nt?a===a&&!oa(a):n(a,u)))var u=a,s=o}return s}function En(t,e,n,r){var i=t.length;for((n=sa(n))<0&&(n=-n>i?0:i+n),(r=r===nt||r>i?i:sa(r))<0&&(r+=i),r=n>r?0:ca(r);n<r;)t[n++]=e;return t}function On(t,e){var n=[];return Bu(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Cn(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=no),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?Cn(u,e-1,n,r,i):p(i,u):r||(i[i.length]=u)}return i}function jn(t,e){return t&&Yu(t,e,ga)}function In(t,e){return t&&Hu(t,e,ga)}function Yn(t,e){return l(e,function(e){return Ko(t[e])})}function Hn(t,e){for(var n=0,r=(e=qr(e,t)).length;null!=t&&n<r;)t=t[wo(e[n++])];return n&&n==r?t:nt}function qn(t,e,n){var r=e(t);return Ys(t)?r:p(r,n(t))}function Vn(t){return null==t?t===nt?ne:Gt:uu&&uu in Ra(t)?Xi(t):go(t)}function Xn(t,e){return t>e}function Gn(t,e){return null!=t&&Ya.call(t,e)}function Zn(t,e){return null!=t&&e in Ra(t)}function Kn(t,e,n){return t>=_u(e,n)&&t<bu(e,n)}function Jn(t,e,n){for(var r=n?h:f,i=t[0].length,o=t.length,a=o,u=Pa(o),s=1/0,c=[];a--;){var l=t[a];a&&e&&(l=d(l,A(e))),s=_u(l.length,s),u[a]=!n&&(e||i>=120&&l.length>=120)?new Ze(a&&l):nt}l=t[0];var p=-1,g=u[0];t:for(;++p<i&&c.length<s;){var v=l[p],y=e?e(v):v;if(v=n||0!==v?v:0,!(g?R(g,y):r(c,y,n))){for(a=o;--a;){var m=u[a];if(!(m?R(m,y):r(t[a],y,n)))continue t}g&&g.push(y),c.push(v)}}return c}function Qn(t,e,n,r){return jn(t,function(t,i,o){e(r,n(t),i,o)}),r}function tr(t,e,n){var r=null==(t=yo(t,e=qr(e,t)))?t:t[wo(Po(e))];return null==r?nt:o(r,t,n)}function er(t){return ea(t)&&Vn(t)==Ut}function nr(t,e,n,r,i){return t===e||(null==t||null==e||!ea(t)&&!ea(e)?t!==t&&e!==e:rr(t,e,n,r,nr,i))}function rr(t,e,n,r,i,o){var a=Ys(t),u=Ys(e),s=a?It:ts(t),c=u?It:ts(e),l=(s=s==Ut?Zt:s)==Zt,f=(c=c==Ut?Zt:c)==Zt,h=s==c;if(h&&qs(t)){if(!qs(e))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new Ke),a||Ks(t)?zi(t,e,n,r,i,o):Li(t,e,s,n,r,i,o);if(!(n&ht)){var d=l&&Ya.call(t,"__wrapped__"),p=f&&Ya.call(e,"__wrapped__");if(d||p){var g=d?t.value():t,v=p?e.value():e;return o||(o=new Ke),i(g,v,n,r,o)}}return!!h&&(o||(o=new Ke),Ui(t,e,n,r,i,o))}function ir(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Ra(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var s=(u=n[i])[0],c=t[s],l=u[1];if(a&&u[2]){if(c===nt&&!(s in t))return!1}else{var f=new Ke;if(r)var h=r(c,l,s,t,e,f);if(!(h===nt?nr(l,c,ht|dt,r,f):h))return!1}}return!0}function or(t){return!(!ta(t)||so(t))&&(Ko(t)?Za:Ye).test(ko(t))}function ar(t){return"function"==typeof t?t:null==t?ka:"object"==typeof t?Ys(t)?hr(t[0],t[1]):fr(t):Na(t)}function ur(t){if(!co(t))return mu(t);var e=[];for(var n in Ra(t))Ya.call(t,n)&&"constructor"!=n&&e.push(n);return e}function sr(t){if(!ta(t))return po(t);var e=co(t),n=[];for(var r in t)("constructor"!=r||!e&&Ya.call(t,r))&&n.push(r);return n}function cr(t,e){return t<e}function lr(t,e){var n=-1,r=Xo(t)?Pa(t.length):[];return Bu(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function fr(t){var e=qi(t);return 1==e.length&&e[0][2]?fo(e[0][0],e[0][1]):function(n){return n===t||ir(n,t,e)}}function hr(t,e){return oo(t)&&lo(e)?fo(wo(t),e):function(n){var r=da(n,t);return r===nt&&r===e?pa(n,t):nr(e,r,ht|dt)}}function dr(t,e,n,r,i){t!==e&&Yu(e,function(o,a){if(ta(o))i||(i=new Ke),pr(t,e,a,n,dr,r,i);else{var u=r?r(t[a],o,a+"",t,e,i):nt;u===nt&&(u=o),nn(t,a,u)}},va)}function pr(t,e,n,r,i,o,a){var u=t[n],s=e[n],c=a.get(s);if(c)nn(t,n,c);else{var l=o?o(u,s,n+"",t,e,a):nt,f=l===nt;if(f){var h=Ys(s),d=!h&&qs(s),p=!h&&!d&&Ks(s);l=s,h||d||p?Ys(u)?l=u:Go(u)?l=ai(u):d?(f=!1,l=Xr(s,!0)):p?(f=!1,l=ei(s,!0)):l=[]:ra(s)||Fs(s)?(l=u,Fs(u)?l=fa(u):(!ta(u)||r&&Ko(u))&&(l=Qi(s))):f=!1}f&&(a.set(s,l),i(l,s,r,o,a),a.delete(s)),nn(t,n,l)}}function gr(t,e){var n=t.length;if(n)return e+=e<0?n:0,ro(e,n)?t[e]:nt}function vr(t,e,n){var r=-1;return e=d(e.length?e:[ka],A(Yi())),O(lr(t,function(t,n,i){return{criteria:d(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return ri(t,e,n)})}function yr(t,e){return mr(t,e,function(e,n){return pa(t,n)})}function mr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=Hn(t,a);n(u,a)&&Er(o,qr(a,t),u)}return o}function br(t){return function(e){return Hn(e,t)}}function _r(t,e,n,r){var i=r?k:w,o=-1,a=e.length,u=t;for(t===e&&(e=ai(e)),n&&(u=d(t,A(n)));++o<a;)for(var s=0,c=e[o],l=n?n(c):c;(s=i(u,l,s,r))>-1;)u!==t&&iu.call(u,s,1),iu.call(t,s,1);return t}function xr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ro(i)?iu.call(t,i,1):Ur(t,i)}}return t}function wr(t,e){return t+du(ku()*(e-t+1))}function kr(t,e,n,r){for(var i=-1,o=bu(hu((e-t)/(n||1)),0),a=Pa(o);o--;)a[r?o:++i]=t,t+=n;return a}function Mr(t,e){var n="";if(!t||e<1||e>Ct)return n;do{e%2&&(n+=t),(e=du(e/2))&&(t+=t)}while(e);return n}function Sr(t,e){return is(vo(t,e,ka),t+"")}function Tr(t){return Qe(ma(t))}function Nr(t,e){var n=ma(t);return xo(n,fn(e,0,n.length))}function Er(t,e,n,r){if(!ta(t))return t;for(var i=-1,o=(e=qr(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var s=wo(e[i]),c=n;if(i!=a){var l=u[s];(c=r?r(l,s,u):nt)===nt&&(c=ta(l)?l:ro(e[i+1])?[]:{})}rn(u,s,c),u=u[s]}return t}function Or(t){return xo(ma(t))}function Pr(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Pa(i);++r<i;)o[r]=t[r+e];return o}function Cr(t,e){var n;return Bu(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function jr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=zt){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!oa(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Ar(t,e,ka,n)}function Ar(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!==e,u=null===e,s=oa(e),c=e===nt;i<o;){var l=du((i+o)/2),f=n(t[l]),h=f!==nt,d=null===f,p=f===f,g=oa(f);if(a)var v=r||p;else v=c?p&&(r||h):u?p&&h&&(r||!d):s?p&&h&&!d&&(r||!g):!d&&!g&&(r?f<=e:f<e);v?i=l+1:o=l}return _u(o,Rt)}function Dr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!Vo(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function Rr(t){return"number"==typeof t?t:oa(t)?At:+t}function zr(t){if("string"==typeof t)return t;if(Ys(t))return d(t,zr)+"";if(oa(t))return $u?$u.call(t):"";var e=t+"";return"0"==e&&1/t==-Pt?"-0":e}function Lr(t,e,n){var r=-1,i=f,o=t.length,a=!0,u=[],s=u;if(n)a=!1,i=h;else if(o>=rt){var c=e?null:Zu(t);if(c)return V(c);a=!1,i=R,s=new Ze}else s=e?[]:u;t:for(;++r<o;){var l=t[r],d=e?e(l):l;if(l=n||0!==l?l:0,a&&d===d){for(var p=s.length;p--;)if(s[p]===d)continue t;e&&s.push(d),u.push(l)}else i(s,d,n)||(s!==u&&s.push(d),u.push(l))}return u}function Ur(t,e){return e=qr(e,t),null==(t=yo(t,e))||delete t[wo(Po(e))]}function Ir(t,e,n,r){return Er(t,e,n(Hn(t,e)),r)}function $r(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Pr(t,r?0:o,r?o+1:i):Pr(t,r?o+1:0,r?i:o)}function Wr(t,e){var n=t;return n instanceof G&&(n=n.value()),g(e,function(t,e){return e.func.apply(e.thisArg,p([t],e.args))},n)}function Br(t,e,n){var r=t.length;if(r<2)return r?Lr(t[0]):[];for(var i=-1,o=Pa(r);++i<r;)for(var a=t[i],u=-1;++u<r;)u!=i&&(o[i]=wn(o[i]||a,t[u],e,n));return Lr(Cn(o,1),e,n)}function Fr(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var u=r<o?e[r]:nt;n(a,t[r],u)}return a}function Yr(t){return Go(t)?t:[]}function Hr(t){return"function"==typeof t?t:ka}function qr(t,e){return Ys(t)?t:oo(t,e)?[t]:os(ha(t))}function Vr(t,e,n){var r=t.length;return n=n===nt?r:n,!e&&n>=r?t:Pr(t,e,n)}function Xr(t,e){if(e)return t.slice();var n=t.length,r=tu?tu(n):new t.constructor(n);return t.copy(r),r}function Gr(t){var e=new t.constructor(t.byteLength);return new Qa(e).set(new Qa(t)),e}function Zr(t,e){var n=e?Gr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Kr(t,e,n){return g(e?n(Y(t),ct):Y(t),r,new t.constructor)}function Jr(t){var e=new t.constructor(t.source,We.exec(t));return e.lastIndex=t.lastIndex,e}function Qr(t,e,n){return g(e?n(V(t),ct):V(t),i,new t.constructor)}function ti(t){return Iu?Ra(Iu.call(t)):{}}function ei(t,e){var n=e?Gr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ni(t,e){if(t!==e){var n=t!==nt,r=null===t,i=t===t,o=oa(t),a=e!==nt,u=null===e,s=e===e,c=oa(e);if(!u&&!c&&!o&&t>e||o&&a&&s&&!u&&!c||r&&a&&s||!n&&s||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!s)return-1}return 0}function ri(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;++r<a;){var s=ni(i[r],o[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return t.index-e.index}function ii(t,e,n,r){for(var i=-1,o=t.length,a=n.length,u=-1,s=e.length,c=bu(o-a,0),l=Pa(s+c),f=!r;++u<s;)l[u]=e[u];for(;++i<a;)(f||i<o)&&(l[n[i]]=t[i]);for(;c--;)l[u++]=t[i++];return l}function oi(t,e,n,r){for(var i=-1,o=t.length,a=-1,u=n.length,s=-1,c=e.length,l=bu(o-u,0),f=Pa(l+c),h=!r;++i<l;)f[i]=t[i];for(var d=i;++s<c;)f[d+s]=e[s];for(;++a<u;)(h||i<o)&&(f[d+n[a]]=t[i++]);return f}function ai(t,e){var n=-1,r=t.length;for(e||(e=Pa(r));++n<r;)e[n]=t[n];return e}function ui(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],s=r?r(n[u],t[u],u,n,t):nt;s===nt&&(s=t[u]),i?cn(n,u,s):rn(n,u,s)}return n}function si(t,e){return ui(t,Ju(t),e)}function ci(t,e){return ui(t,Qu(t),e)}function li(t,e){return function(n,r){var i=Ys(n)?a:an,o=e?e():{};return i(n,t,Yi(r,2),o)}}function fi(t){return Sr(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:nt,a=i>2?n[2]:nt;for(o=t.length>3&&"function"==typeof o?(i--,o):nt,a&&io(n[0],n[1],a)&&(o=i<3?nt:o,i=1),e=Ra(e);++r<i;){var u=n[r];u&&t(e,u,r,o)}return e})}function hi(t,e){return function(n,r){if(null==n)return n;if(!Xo(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Ra(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function di(t){return function(e,n,r){for(var i=-1,o=Ra(e),a=r(e),u=a.length;u--;){var s=a[t?u:++i];if(!1===n(o[s],s,o))break}return e}}function pi(t,e,n){function r(){return(this&&this!==Nn&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=e&pt,o=yi(t);return r}function gi(t){return function(e){var n=W(e=ha(e))?J(e):nt,r=n?n[0]:e.charAt(0),i=n?Vr(n,1).join(""):e.slice(1);return r[t]()+i}}function vi(t){return function(e){return g(xa(_a(e).replace(hn,"")),t,"")}}function yi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Wu(t.prototype),r=t.apply(n,e);return ta(r)?r:n}}function mi(t,e,n){function r(){for(var a=arguments.length,u=Pa(a),s=a,c=Fi(r);s--;)u[s]=arguments[s];var l=a<3&&u[0]!==c&&u[a-1]!==c?[]:q(u,c);return(a-=l.length)<n?Oi(t,e,xi,r.placeholder,nt,u,l,nt,nt,n-a):o(this&&this!==Nn&&this instanceof r?i:t,this,u)}var i=yi(t);return r}function bi(t){return function(e,n,r){var i=Ra(e);if(!Xo(e)){var o=Yi(n,3);e=ga(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:nt}}function _i(t){return Ii(function(e){var n=e.length,r=n,i=N.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new Ua(ot);if(i&&!a&&"wrapper"==Bi(o))var a=new N([],!0)}for(r=a?r:n;++r<n;){var u=Bi(o=e[r]),s="wrapper"==u?Ku(o):nt;a=s&&uo(s[0])&&s[1]==(xt|yt|bt|wt)&&!s[4].length&&1==s[9]?a[Bi(s[0])].apply(a,s[3]):1==o.length&&uo(o)?a[u]():a.thru(o)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&Ys(r))return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function xi(t,e,n,r,i,o,a,u,s,c){function l(){for(var y=arguments.length,m=Pa(y),b=y;b--;)m[b]=arguments[b];if(p)var _=Fi(l),x=U(m,_);if(r&&(m=ii(m,r,i,p)),o&&(m=oi(m,o,a,p)),y-=x,p&&y<c){var w=q(m,_);return Oi(t,e,xi,l.placeholder,n,m,w,u,s,c-y)}var k=h?n:this,M=d?k[t]:t;return y=m.length,u?m=mo(m,u):g&&y>1&&m.reverse(),f&&s<y&&(m.length=s),this&&this!==Nn&&this instanceof l&&(M=v||yi(M)),M.apply(k,m)}var f=e&xt,h=e&pt,d=e&gt,p=e&(yt|mt),g=e&kt,v=d?nt:yi(t);return l}function wi(t,e){return function(n,r){return Qn(n,t,e(r),{})}}function ki(t,e){return function(n,r){var i;if(n===nt&&r===nt)return e;if(n!==nt&&(i=n),r!==nt){if(i===nt)return r;"string"==typeof n||"string"==typeof r?(n=zr(n),r=zr(r)):(n=Rr(n),r=Rr(r)),i=t(n,r)}return i}}function Mi(t){return Ii(function(e){return e=d(e,A(Yi())),Sr(function(n){var r=this;return t(e,function(t){return o(t,r,n)})})})}function Si(t,e){var n=(e=e===nt?" ":zr(e)).length;if(n<2)return n?Mr(e,t):e;var r=Mr(e,hu(t/K(e)));return W(e)?Vr(J(r),0,t).join(""):r.slice(0,t)}function Ti(t,e,n,r){function i(){for(var e=-1,s=arguments.length,c=-1,l=r.length,f=Pa(l+s),h=this&&this!==Nn&&this instanceof i?u:t;++c<l;)f[c]=r[c];for(;s--;)f[c++]=arguments[++e];return o(h,a?n:this,f)}var a=e&pt,u=yi(t);return i}function Ni(t){return function(e,n,r){return r&&"number"!=typeof r&&io(e,n,r)&&(n=r=nt),e=ua(e),n===nt?(n=e,e=0):n=ua(n),r=r===nt?e<n?1:-1:ua(r),kr(e,n,r,t)}}function Ei(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=la(e),n=la(n)),t(e,n)}}function Oi(t,e,n,r,i,o,a,u,s,c){var l=e&yt;e|=l?bt:_t,(e&=~(l?_t:bt))&vt||(e&=~(pt|gt));var f=[t,e,i,l?o:nt,l?a:nt,l?nt:o,l?nt:a,u,s,c],h=n.apply(nt,f);return uo(t)&&ns(h,f),h.placeholder=r,bo(h,t,e)}function Pi(t){var e=Da[t];return function(t,n){if(t=la(t),n=null==n?0:_u(sa(n),292)){var r=(ha(t)+"e").split("e");return+((r=(ha(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}function Ci(t){return function(e){var n=ts(e);return n==Vt?Y(e):n==Qt?X(e):j(e,t(e))}}function ji(t,e,n,r,i,o,a,u){var s=e&gt;if(!s&&"function"!=typeof t)throw new Ua(ot);var c=r?r.length:0;if(c||(e&=~(bt|_t),r=i=nt),a=a===nt?a:bu(sa(a),0),u=u===nt?u:sa(u),c-=i?i.length:0,e&_t){var l=r,f=i;r=i=nt}var h=s?nt:Ku(t),d=[t,e,n,r,i,l,f,o,a,u];if(h&&ho(d,h),t=d[0],e=d[1],n=d[2],r=d[3],i=d[4],!(u=d[9]=d[9]===nt?s?0:t.length:bu(d[9]-c,0))&&e&(yt|mt)&&(e&=~(yt|mt)),e&&e!=pt)p=e==yt||e==mt?mi(t,e,u):e!=bt&&e!=(pt|bt)||i.length?xi.apply(nt,d):Ti(t,e,n,r);else var p=pi(t,e,n);return bo((h?qu:ns)(p,d),t,e)}function Ai(t,e,n,r){return t===nt||Vo(t,Wa[n])&&!Ya.call(r,n)?e:t}function Di(t,e,n,r,i,o){return ta(t)&&ta(e)&&(o.set(e,t),dr(t,e,nt,Di,o),o.delete(e)),t}function Ri(t){return ra(t)?nt:t}function zi(t,e,n,r,i,o){var a=n&ht,u=t.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,f=!0,h=n&dt?new Ze:nt;for(o.set(t,e),o.set(e,t);++l<u;){var d=t[l],p=e[l];if(r)var g=a?r(p,d,l,e,t,o):r(d,p,l,t,e,o);if(g!==nt){if(g)continue;f=!1;break}if(h){if(!y(e,function(t,e){if(!R(h,e)&&(d===t||i(d,t,n,r,o)))return h.push(e)})){f=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Li(t,e,n,r,i,o,a){switch(n){case ae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oe:return!(t.byteLength!=e.byteLength||!o(new Qa(t),new Qa(e)));case Wt:case Bt:case Xt:return Vo(+t,+e);case Yt:return t.name==e.name&&t.message==e.message;case Jt:case te:return t==e+"";case Vt:var u=Y;case Qt:var s=r&ht;if(u||(u=V),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=dt,a.set(t,e);var l=zi(u(t),u(e),r,i,o,a);return a.delete(t),l;case ee:if(Iu)return Iu.call(t)==Iu.call(e)}return!1}function Ui(t,e,n,r,i,o){var a=n&ht,u=$i(t),s=u.length;if(s!=$i(e).length&&!a)return!1;for(var c=s;c--;){var l=u[c];if(!(a?l in e:Ya.call(e,l)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);for(var d=a;++c<s;){var p=t[l=u[c]],g=e[l];if(r)var v=a?r(g,p,l,e,t,o):r(p,g,l,t,e,o);if(!(v===nt?p===g||i(p,g,n,r,o):v)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var y=t.constructor,m=e.constructor;y!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m)&&(h=!1)}return o.delete(t),o.delete(e),h}function Ii(t){return is(vo(t,nt,Eo),t+"")}function $i(t){return qn(t,ga,Ju)}function Wi(t){return qn(t,va,Qu)}function Bi(t){for(var e=t.name+"",n=ju[e],r=Ya.call(ju,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Fi(t){return(Ya.call(n,"placeholder")?n:t).placeholder}function Yi(){var t=n.iteratee||Ma;return t=t===Ma?ar:t,arguments.length?t(arguments[0],arguments[1]):t}function Hi(t,e){var n=t.__data__;return ao(e)?n["string"==typeof e?"string":"hash"]:n.map}function qi(t){for(var e=ga(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,lo(i)]}return e}function Vi(t,e){var n=$(t,e);return or(n)?n:nt}function Xi(t){var e=Ya.call(t,uu),n=t[uu];try{t[uu]=nt;var r=!0}catch(t){}var i=Va.call(t);return r&&(e?t[uu]=n:delete t[uu]),i}function Gi(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=_u(e,t+a);break;case"takeRight":t=bu(t,e-a)}}return{start:t,end:e}}function Zi(t){var e=t.match(ze);return e?e[1].split(Le):[]}function Ki(t,e,n){for(var r=-1,i=(e=qr(e,t)).length,o=!1;++r<i;){var a=wo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Qo(i)&&ro(a,i)&&(Ys(t)||Fs(t))}function Ji(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Ya.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Qi(t){return"function"!=typeof t.constructor||co(t)?{}:Wu(eu(t))}function to(t,e,n,r){var i=t.constructor;switch(e){case oe:return Gr(t);case Wt:case Bt:return new i(+t);case ae:return Zr(t,r);case ue:case se:case ce:case le:case fe:case he:case de:case pe:case ge:return ei(t,r);case Vt:return Kr(t,r,n);case Xt:case te:return new i(t);case Jt:return Jr(t);case Qt:return Qr(t,r,n);case ee:return ti(t)}}function eo(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Re,"{\n/* [wrapped with "+e+"] */\n")}function no(t){return Ys(t)||Fs(t)||!!(ou&&t&&t[ou])}function ro(t,e){return!!(e=null==e?Ct:e)&&("number"==typeof t||qe.test(t))&&t>-1&&t%1==0&&t<e}function io(t,e,n){if(!ta(n))return!1;var r=typeof e;return!!("number"==r?Xo(n)&&ro(e,n.length):"string"==r&&e in n)&&Vo(n[e],t)}function oo(t,e){if(Ys(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!oa(t))||Ne.test(t)||!Te.test(t)||null!=e&&t in Ra(e)}function ao(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function uo(t){var e=Bi(t),r=n[e];if("function"!=typeof r||!(e in G.prototype))return!1;if(t===r)return!0;var i=Ku(r);return!!i&&t===i[0]}function so(t){return!!qa&&qa in t}function co(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Wa)}function lo(t){return t===t&&!ta(t)}function fo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==nt||t in Ra(n))}}function ho(t,e){var n=t[1],r=e[1],i=n|r,o=i<(pt|gt|xt),a=r==xt&&n==yt||r==xt&&n==wt&&t[7].length<=e[8]||r==(xt|wt)&&e[7].length<=e[8]&&n==yt;if(!o&&!a)return t;r&pt&&(t[2]=e[2],i|=n&pt?0:vt);var u=e[3];if(u){var s=t[3];t[3]=s?ii(s,u,e[4]):u,t[4]=s?q(t[3],st):e[4]}return(u=e[5])&&(s=t[5],t[5]=s?oi(s,u,e[6]):u,t[6]=s?q(t[5],st):e[6]),(u=e[7])&&(t[7]=u),r&xt&&(t[8]=null==t[8]?e[8]:_u(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function po(t){var e=[];if(null!=t)for(var n in Ra(t))e.push(n);return e}function go(t){return Va.call(t)}function vo(t,e,n){return e=bu(e===nt?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=bu(r.length-e,0),u=Pa(a);++i<a;)u[i]=r[e+i];i=-1;for(var s=Pa(e+1);++i<e;)s[i]=r[i];return s[e]=n(u),o(t,this,s)}}function yo(t,e){return e.length<2?t:Hn(t,Pr(e,0,-1))}function mo(t,e){for(var n=t.length,r=_u(e.length,n),i=ai(t);r--;){var o=e[r];t[r]=ro(o,n)?i[o]:nt}return t}function bo(t,e,n){var r=e+"";return is(t,eo(r,Mo(Zi(r),n)))}function _o(t){var e=0,n=0;return function(){var r=xu(),i=Nt-(r-n);if(n=r,i>0){if(++e>=Tt)return arguments[0]}else e=0;return t.apply(nt,arguments)}}function xo(t,e){var n=-1,r=t.length,i=r-1;for(e=e===nt?r:e;++n<e;){var o=wr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function wo(t){if("string"==typeof t||oa(t))return t;var e=t+"";return"0"==e&&1/t==-Pt?"-0":e}function ko(t){if(null!=t){try{return Fa.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Mo(t,e){return u(Lt,function(n){var r="_."+n[0];e&n[1]&&!f(t,r)&&t.push(r)}),t.sort()}function So(t){if(t instanceof G)return t.clone();var e=new N(t.__wrapped__,t.__chain__);return e.__actions__=ai(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function To(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:sa(n);return i<0&&(i=bu(r+i,0)),x(t,Yi(e,3),i)}function No(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==nt&&(i=sa(n),i=n<0?bu(r+i,0):_u(i,r-1)),x(t,Yi(e,3),i,!0)}function Eo(t){return(null==t?0:t.length)?Cn(t,1):[]}function Oo(t){return t&&t.length?t[0]:nt}function Po(t){var e=null==t?0:t.length;return e?t[e-1]:nt}function Co(t,e){return t&&t.length&&e&&e.length?_r(t,e):t}function jo(t){return null==t?t:Mu.call(t)}function Ao(t){if(!t||!t.length)return[];var e=0;return t=l(t,function(t){if(Go(t))return e=bu(t.length,e),!0}),C(e,function(e){return d(t,T(e))})}function Do(t,e){if(!t||!t.length)return[];var n=Ao(t);return null==e?n:d(n,function(t){return o(e,nt,t)})}function Ro(t){var e=n(t);return e.__chain__=!0,e}function zo(t,e){return e(t)}function Lo(t,e){return(Ys(t)?u:Bu)(t,Yi(e,3))}function Uo(t,e){return(Ys(t)?s:Fu)(t,Yi(e,3))}function Io(t,e){return(Ys(t)?d:lr)(t,Yi(e,3))}function $o(t,e,n){return e=n?nt:e,e=t&&null==e?t.length:e,ji(t,xt,nt,nt,nt,nt,e)}function Wo(t,e){var n;if("function"!=typeof e)throw new Ua(ot);return t=sa(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=nt),n}}function Bo(t,e,n){var r=ji(t,yt,nt,nt,nt,nt,nt,e=n?nt:e);return r.placeholder=Bo.placeholder,r}function Fo(t,e,n){var r=ji(t,mt,nt,nt,nt,nt,nt,e=n?nt:e);return r.placeholder=Fo.placeholder,r}function Yo(t,e,n){function r(e){var n=l,r=f;return l=f=nt,v=e,d=t.apply(r,n)}function i(t){return v=t,p=rs(u,e),y?r(t):d}function o(t){var n=e-(t-g);return m?_u(n,h-(t-v)):n}function a(t){var n=t-g;return g===nt||n>=e||n<0||m&&t-v>=h}function u(){var t=js();if(a(t))return s(t);p=rs(u,o(t))}function s(t){return p=nt,b&&l?r(t):(l=f=nt,d)}function c(){var t=js(),n=a(t);if(l=arguments,f=this,g=t,n){if(p===nt)return i(g);if(m)return p=rs(u,e),r(g)}return p===nt&&(p=rs(u,e)),d}var l,f,h,d,p,g,v=0,y=!1,m=!1,b=!0;if("function"!=typeof t)throw new Ua(ot);return e=la(e)||0,ta(n)&&(y=!!n.leading,h=(m="maxWait"in n)?bu(la(n.maxWait)||0,e):h,b="trailing"in n?!!n.trailing:b),c.cancel=function(){p!==nt&&Gu(p),v=0,l=g=f=p=nt},c.flush=function(){return p===nt?d:s(js())},c}function Ho(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ua(ot);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ho.Cache||Ue),n}function qo(t){if("function"!=typeof t)throw new Ua(ot);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Vo(t,e){return t===e||t!==t&&e!==e}function Xo(t){return null!=t&&Qo(t.length)&&!Ko(t)}function Go(t){return ea(t)&&Xo(t)}function Zo(t){if(!ea(t))return!1;var e=Vn(t);return e==Yt||e==Ft||"string"==typeof t.message&&"string"==typeof t.name&&!ra(t)}function Ko(t){if(!ta(t))return!1;var e=Vn(t);return e==Ht||e==qt||e==$t||e==Kt}function Jo(t){return"number"==typeof t&&t==sa(t)}function Qo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ct}function ta(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ea(t){return null!=t&&"object"==typeof t}function na(t){return"number"==typeof t||ea(t)&&Vn(t)==Xt}function ra(t){if(!ea(t)||Vn(t)!=Zt)return!1;var e=eu(t);if(null===e)return!0;var n=Ya.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Fa.call(n)==Xa}function ia(t){return"string"==typeof t||!Ys(t)&&ea(t)&&Vn(t)==te}function oa(t){return"symbol"==typeof t||ea(t)&&Vn(t)==ee}function aa(t){if(!t)return[];if(Xo(t))return ia(t)?J(t):ai(t);if(au&&t[au])return F(t[au]());var e=ts(t);return(e==Vt?Y:e==Qt?V:ma)(t)}function ua(t){return t?(t=la(t))===Pt||t===-Pt?(t<0?-1:1)*jt:t===t?t:0:0===t?t:0}function sa(t){var e=ua(t),n=e%1;return e===e?n?e-n:e:0}function ca(t){return t?fn(sa(t),0,Dt):0}function la(t){if("number"==typeof t)return t;if(oa(t))return At;if(ta(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ta(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(je,"");var n=Fe.test(t);return n||He.test(t)?Mn(t.slice(2),n?2:8):Be.test(t)?At:+t}function fa(t){return ui(t,va(t))}function ha(t){return null==t?"":zr(t)}function da(t,e,n){var r=null==t?nt:Hn(t,e);return r===nt?n:r}function pa(t,e){return null!=t&&Ki(t,e,Zn)}function ga(t){return Xo(t)?Je(t):ur(t)}function va(t){return Xo(t)?Je(t,!0):sr(t)}function ya(t,e){if(null==t)return{};var n=d(Wi(t),function(t){return[t]});return e=Yi(e),mr(t,n,function(t,n){return e(t,n[0])})}function ma(t){return null==t?[]:D(t,ga(t))}function ba(t){return kc(ha(t).toLowerCase())}function _a(t){return(t=ha(t))&&t.replace(Ve,$n).replace(dn,"")}function xa(t,e,n){return t=ha(t),(e=n?nt:e)===nt?B(t)?et(t):b(t):t.match(e)||[]}function wa(t){return function(){return t}}function ka(t){return t}function Ma(t){return ar("function"==typeof t?t:pn(t,ct))}function Sa(t,e,n){var r=ga(e),i=Yn(e,r);null!=n||ta(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Yn(e,ga(e)));var o=!(ta(n)&&"chain"in n&&!n.chain),a=Ko(t);return u(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=ai(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,p([this.value()],arguments))})}),t}function Ta(){}function Na(t){return oo(t)?T(wo(t)):br(t)}function Ea(){return[]}function Oa(){return!1}var Pa=(e=null==e?Nn:Fn.defaults(Nn.Object(),e,Fn.pick(Nn,mn))).Array,Ca=e.Date,ja=e.Error,Aa=e.Function,Da=e.Math,Ra=e.Object,za=e.RegExp,La=e.String,Ua=e.TypeError,Ia=Pa.prototype,$a=Aa.prototype,Wa=Ra.prototype,Ba=e["__core-js_shared__"],Fa=$a.toString,Ya=Wa.hasOwnProperty,Ha=0,qa=function(){var t=/[^.]+$/.exec(Ba&&Ba.keys&&Ba.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Va=Wa.toString,Xa=Fa.call(Ra),Ga=Nn._,Za=za("^"+Fa.call(Ya).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ka=Pn?e.Buffer:nt,Ja=e.Symbol,Qa=e.Uint8Array,tu=Ka?Ka.allocUnsafe:nt,eu=H(Ra.getPrototypeOf,Ra),nu=Ra.create,ru=Wa.propertyIsEnumerable,iu=Ia.splice,ou=Ja?Ja.isConcatSpreadable:nt,au=Ja?Ja.iterator:nt,uu=Ja?Ja.toStringTag:nt,su=function(){try{var t=Vi(Ra,"defineProperty");return t({},"",{}),t}catch(t){}}(),cu=e.clearTimeout!==Nn.clearTimeout&&e.clearTimeout,lu=Ca&&Ca.now!==Nn.Date.now&&Ca.now,fu=e.setTimeout!==Nn.setTimeout&&e.setTimeout,hu=Da.ceil,du=Da.floor,pu=Ra.getOwnPropertySymbols,gu=Ka?Ka.isBuffer:nt,vu=e.isFinite,yu=Ia.join,mu=H(Ra.keys,Ra),bu=Da.max,_u=Da.min,xu=Ca.now,wu=e.parseInt,ku=Da.random,Mu=Ia.reverse,Su=Vi(e,"DataView"),Tu=Vi(e,"Map"),Nu=Vi(e,"Promise"),Eu=Vi(e,"Set"),Ou=Vi(e,"WeakMap"),Pu=Vi(Ra,"create"),Cu=Ou&&new Ou,ju={},Au=ko(Su),Du=ko(Tu),Ru=ko(Nu),zu=ko(Eu),Lu=ko(Ou),Uu=Ja?Ja.prototype:nt,Iu=Uu?Uu.valueOf:nt,$u=Uu?Uu.toString:nt,Wu=function(){function t(){}return function(e){if(!ta(e))return{};if(nu)return nu(e);t.prototype=e;var n=new t;return t.prototype=nt,n}}();n.templateSettings={escape:ke,evaluate:Me,interpolate:Se,variable:"",imports:{_:n}},n.prototype=m.prototype,n.prototype.constructor=n,N.prototype=Wu(m.prototype),N.prototype.constructor=N,G.prototype=Wu(m.prototype),G.prototype.constructor=G,Q.prototype.clear=function(){this.__data__=Pu?Pu(null):{},this.size=0},Q.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Q.prototype.get=function(t){var e=this.__data__;if(Pu){var n=e[t];return n===at?nt:n}return Ya.call(e,t)?e[t]:nt},Q.prototype.has=function(t){var e=this.__data__;return Pu?e[t]!==nt:Ya.call(e,t)},Q.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Pu&&e===nt?at:e,this},tt.prototype.clear=function(){this.__data__=[],this.size=0},tt.prototype.delete=function(t){var e=this.__data__,n=on(e,t);return!(n<0||(n==e.length-1?e.pop():iu.call(e,n,1),--this.size,0))},tt.prototype.get=function(t){var e=this.__data__,n=on(e,t);return n<0?nt:e[n][1]},tt.prototype.has=function(t){return on(this.__data__,t)>-1},tt.prototype.set=function(t,e){var n=this.__data__,r=on(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Ue.prototype.clear=function(){this.size=0,this.__data__={hash:new Q,map:new(Tu||tt),string:new Q}},Ue.prototype.delete=function(t){var e=Hi(this,t).delete(t);return this.size-=e?1:0,e},Ue.prototype.get=function(t){return Hi(this,t).get(t)},Ue.prototype.has=function(t){return Hi(this,t).has(t)},Ue.prototype.set=function(t,e){var n=Hi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Ze.prototype.add=Ze.prototype.push=function(t){return this.__data__.set(t,at),this},Ze.prototype.has=function(t){return this.__data__.has(t)},Ke.prototype.clear=function(){this.__data__=new tt,this.size=0},Ke.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ke.prototype.get=function(t){return this.__data__.get(t)},Ke.prototype.has=function(t){return this.__data__.has(t)},Ke.prototype.set=function(t,e){var n=this.__data__;if(n instanceof tt){var r=n.__data__;if(!Tu||r.length<rt-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ue(r)}return n.set(t,e),this.size=n.size,this};var Bu=hi(jn),Fu=hi(In,!0),Yu=di(),Hu=di(!0),qu=Cu?function(t,e){return Cu.set(t,e),t}:ka,Vu=su?function(t,e){return su(t,"toString",{configurable:!0,enumerable:!1,value:wa(e),writable:!0})}:ka,Xu=Sr,Gu=cu||function(t){return Nn.clearTimeout(t)},Zu=Eu&&1/V(new Eu([,-0]))[1]==Pt?function(t){return new Eu(t)}:Ta,Ku=Cu?function(t){return Cu.get(t)}:Ta,Ju=pu?function(t){return null==t?[]:(t=Ra(t),l(pu(t),function(e){return ru.call(t,e)}))}:Ea,Qu=pu?function(t){for(var e=[];t;)p(e,Ju(t)),t=eu(t);return e}:Ea,ts=Vn;(Su&&ts(new Su(new ArrayBuffer(1)))!=ae||Tu&&ts(new Tu)!=Vt||Nu&&"[object Promise]"!=ts(Nu.resolve())||Eu&&ts(new Eu)!=Qt||Ou&&ts(new Ou)!=re)&&(ts=function(t){var e=Vn(t),n=e==Zt?t.constructor:nt,r=n?ko(n):"";if(r)switch(r){case Au:return ae;case Du:return Vt;case Ru:return"[object Promise]";case zu:return Qt;case Lu:return re}return e});var es=Ba?Ko:Oa,ns=_o(qu),rs=fu||function(t,e){return Nn.setTimeout(t,e)},is=_o(Vu),os=function(t){var e=Ho(t,function(t){return n.size===ut&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return Ee.test(t)&&e.push(""),t.replace(Oe,function(t,n,r,i){e.push(r?i.replace(Ie,"$1"):n||t)}),e}),as=Sr(function(t,e){return Go(t)?wn(t,Cn(e,1,Go,!0)):[]}),us=Sr(function(t,e){var n=Po(e);return Go(n)&&(n=nt),Go(t)?wn(t,Cn(e,1,Go,!0),Yi(n,2)):[]}),ss=Sr(function(t,e){var n=Po(e);return Go(n)&&(n=nt),Go(t)?wn(t,Cn(e,1,Go,!0),nt,n):[]}),cs=Sr(function(t){var e=d(t,Yr);return e.length&&e[0]===t[0]?Jn(e):[]}),ls=Sr(function(t){var e=Po(t),n=d(t,Yr);return e===Po(n)?e=nt:n.pop(),n.length&&n[0]===t[0]?Jn(n,Yi(e,2)):[]}),fs=Sr(function(t){var e=Po(t),n=d(t,Yr);return(e="function"==typeof e?e:nt)&&n.pop(),n.length&&n[0]===t[0]?Jn(n,nt,e):[]}),hs=Sr(Co),ds=Ii(function(t,e){var n=null==t?0:t.length,r=ln(t,e);return xr(t,d(e,function(t){return ro(t,n)?+t:t}).sort(ni)),r}),ps=Sr(function(t){return Lr(Cn(t,1,Go,!0))}),gs=Sr(function(t){var e=Po(t);return Go(e)&&(e=nt),Lr(Cn(t,1,Go,!0),Yi(e,2))}),vs=Sr(function(t){var e=Po(t);return e="function"==typeof e?e:nt,Lr(Cn(t,1,Go,!0),nt,e)}),ys=Sr(function(t,e){return Go(t)?wn(t,e):[]}),ms=Sr(function(t){return Br(l(t,Go))}),bs=Sr(function(t){var e=Po(t);return Go(e)&&(e=nt),Br(l(t,Go),Yi(e,2))}),_s=Sr(function(t){var e=Po(t);return e="function"==typeof e?e:nt,Br(l(t,Go),nt,e)}),xs=Sr(Ao),ws=Sr(function(t){var e=t.length,n=e>1?t[e-1]:nt;return n="function"==typeof n?(t.pop(),n):nt,Do(t,n)}),ks=Ii(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return ln(e,t)};return!(e>1||this.__actions__.length)&&r instanceof G&&ro(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:zo,args:[i],thisArg:nt}),new N(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(nt),t})):this.thru(i)}),Ms=li(function(t,e,n){Ya.call(t,n)?++t[n]:cn(t,n,1)}),Ss=bi(To),Ts=bi(No),Ns=li(function(t,e,n){Ya.call(t,n)?t[n].push(e):cn(t,n,[e])}),Es=Sr(function(t,e,n){var r=-1,i="function"==typeof e,a=Xo(t)?Pa(t.length):[];return Bu(t,function(t){a[++r]=i?o(e,t,n):tr(t,e,n)}),a}),Os=li(function(t,e,n){cn(t,n,e)}),Ps=li(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Cs=Sr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&io(t,e[0],e[1])?e=[]:n>2&&io(e[0],e[1],e[2])&&(e=[e[0]]),vr(t,Cn(e,1),[])}),js=lu||function(){return Nn.Date.now()},As=Sr(function(t,e,n){var r=pt;if(n.length){var i=q(n,Fi(As));r|=bt}return ji(t,r,e,n,i)}),Ds=Sr(function(t,e,n){var r=pt|gt;if(n.length){var i=q(n,Fi(Ds));r|=bt}return ji(e,r,t,n,i)}),Rs=Sr(function(t,e){return yn(t,1,e)}),zs=Sr(function(t,e,n){return yn(t,la(e)||0,n)});Ho.Cache=Ue;var Ls=Xu(function(t,e){var n=(e=1==e.length&&Ys(e[0])?d(e[0],A(Yi())):d(Cn(e,1),A(Yi()))).length;return Sr(function(r){for(var i=-1,a=_u(r.length,n);++i<a;)r[i]=e[i].call(this,r[i]);return o(t,this,r)})}),Us=Sr(function(t,e){var n=q(e,Fi(Us));return ji(t,bt,nt,e,n)}),Is=Sr(function(t,e){var n=q(e,Fi(Is));return ji(t,_t,nt,e,n)}),$s=Ii(function(t,e){return ji(t,wt,nt,nt,nt,e)}),Ws=Ei(Xn),Bs=Ei(function(t,e){return t>=e}),Fs=er(function(){return arguments}())?er:function(t){return ea(t)&&Ya.call(t,"callee")&&!ru.call(t,"callee")},Ys=Pa.isArray,Hs=An?A(An):function(t){return ea(t)&&Vn(t)==oe},qs=gu||Oa,Vs=Dn?A(Dn):function(t){return ea(t)&&Vn(t)==Bt},Xs=Rn?A(Rn):function(t){return ea(t)&&ts(t)==Vt},Gs=zn?A(zn):function(t){return ea(t)&&Vn(t)==Jt},Zs=Ln?A(Ln):function(t){return ea(t)&&ts(t)==Qt},Ks=Un?A(Un):function(t){return ea(t)&&Qo(t.length)&&!!_n[Vn(t)]},Js=Ei(cr),Qs=Ei(function(t,e){return t<=e}),tc=fi(function(t,e){if(co(e)||Xo(e))ui(e,ga(e),t);else for(var n in e)Ya.call(e,n)&&rn(t,n,e[n])}),ec=fi(function(t,e){ui(e,va(e),t)}),nc=fi(function(t,e,n,r){ui(e,va(e),t,r)}),rc=fi(function(t,e,n,r){ui(e,ga(e),t,r)}),ic=Ii(ln),oc=Sr(function(t){return t.push(nt,Ai),o(nc,nt,t)}),ac=Sr(function(t){return t.push(nt,Di),o(fc,nt,t)}),uc=wi(function(t,e,n){t[e]=n},wa(ka)),sc=wi(function(t,e,n){Ya.call(t,e)?t[e].push(n):t[e]=[n]},Yi),cc=Sr(tr),lc=fi(function(t,e,n){dr(t,e,n)}),fc=fi(function(t,e,n,r){dr(t,e,n,r)}),hc=Ii(function(t,e){var n={};if(null==t)return n;var r=!1;e=d(e,function(e){return e=qr(e,t),r||(r=e.length>1),e}),ui(t,Wi(t),n),r&&(n=pn(n,ct|lt|ft,Ri));for(var i=e.length;i--;)Ur(n,e[i]);return n}),dc=Ii(function(t,e){return null==t?{}:yr(t,e)}),pc=Ci(ga),gc=Ci(va),vc=vi(function(t,e,n){return e=e.toLowerCase(),t+(n?ba(e):e)}),yc=vi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),mc=vi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),bc=gi("toLowerCase"),_c=vi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),xc=vi(function(t,e,n){return t+(n?" ":"")+kc(e)}),wc=vi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),kc=gi("toUpperCase"),Mc=Sr(function(t,e){try{return o(t,nt,e)}catch(t){return Zo(t)?t:new ja(t)}}),Sc=Ii(function(t,e){return u(e,function(e){e=wo(e),cn(t,e,As(t[e],t))}),t}),Tc=_i(),Nc=_i(!0),Ec=Sr(function(t,e){return function(n){return tr(n,t,e)}}),Oc=Sr(function(t,e){return function(n){return tr(t,n,e)}}),Pc=Mi(d),Cc=Mi(c),jc=Mi(y),Ac=Ni(),Dc=Ni(!0),Rc=ki(function(t,e){return t+e},0),zc=Pi("ceil"),Lc=ki(function(t,e){return t/e},1),Uc=Pi("floor"),Ic=ki(function(t,e){return t*e},1),$c=Pi("round"),Wc=ki(function(t,e){return t-e},0);return n.after=function(t,e){if("function"!=typeof e)throw new Ua(ot);return t=sa(t),function(){if(--t<1)return e.apply(this,arguments)}},n.ary=$o,n.assign=tc,n.assignIn=ec,n.assignInWith=nc,n.assignWith=rc,n.at=ic,n.before=Wo,n.bind=As,n.bindAll=Sc,n.bindKey=Ds,n.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ys(t)?t:[t]},n.chain=Ro,n.chunk=function(t,e,n){e=(n?io(t,e,n):e===nt)?1:bu(sa(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=Pa(hu(r/e));i<r;)a[o++]=Pr(t,i,i+=e);return a},n.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},n.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Pa(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return p(Ys(n)?ai(n):[n],Cn(e,1))},n.cond=function(t){var e=null==t?0:t.length,n=Yi();return t=e?d(t,function(t){if("function"!=typeof t[1])throw new Ua(ot);return[n(t[0]),t[1]]}):[],Sr(function(n){for(var r=-1;++r<e;){var i=t[r];if(o(i[0],this,n))return o(i[1],this,n)}})},n.conforms=function(t){return gn(pn(t,ct))},n.constant=wa,n.countBy=Ms,n.create=function(t,e){var n=Wu(t);return null==e?n:un(n,e)},n.curry=Bo,n.curryRight=Fo,n.debounce=Yo,n.defaults=oc,n.defaultsDeep=ac,n.defer=Rs,n.delay=zs,n.difference=as,n.differenceBy=us,n.differenceWith=ss,n.drop=function(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:sa(e),Pr(t,e<0?0:e,r)):[]},n.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:sa(e),e=r-e,Pr(t,0,e<0?0:e)):[]},n.dropRightWhile=function(t,e){return t&&t.length?$r(t,Yi(e,3),!0,!0):[]},n.dropWhile=function(t,e){return t&&t.length?$r(t,Yi(e,3),!0):[]},n.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&io(t,e,n)&&(n=0,r=i),En(t,e,n,r)):[]},n.filter=function(t,e){return(Ys(t)?l:On)(t,Yi(e,3))},n.flatMap=function(t,e){return Cn(Io(t,e),1)},n.flatMapDeep=function(t,e){return Cn(Io(t,e),Pt)},n.flatMapDepth=function(t,e,n){return n=n===nt?1:sa(n),Cn(Io(t,e),n)},n.flatten=Eo,n.flattenDeep=function(t){return(null==t?0:t.length)?Cn(t,Pt):[]},n.flattenDepth=function(t,e){return(null==t?0:t.length)?(e=e===nt?1:sa(e),Cn(t,e)):[]},n.flip=function(t){return ji(t,kt)},n.flow=Tc,n.flowRight=Nc,n.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},n.functions=function(t){return null==t?[]:Yn(t,ga(t))},n.functionsIn=function(t){return null==t?[]:Yn(t,va(t))},n.groupBy=Ns,n.initial=function(t){return(null==t?0:t.length)?Pr(t,0,-1):[]},n.intersection=cs,n.intersectionBy=ls,n.intersectionWith=fs,n.invert=uc,n.invertBy=sc,n.invokeMap=Es,n.iteratee=Ma,n.keyBy=Os,n.keys=ga,n.keysIn=va,n.map=Io,n.mapKeys=function(t,e){var n={};return e=Yi(e,3),jn(t,function(t,r,i){cn(n,e(t,r,i),t)}),n},n.mapValues=function(t,e){var n={};return e=Yi(e,3),jn(t,function(t,r,i){cn(n,r,e(t,r,i))}),n},n.matches=function(t){return fr(pn(t,ct))},n.matchesProperty=function(t,e){return hr(t,pn(e,ct))},n.memoize=Ho,n.merge=lc,n.mergeWith=fc,n.method=Ec,n.methodOf=Oc,n.mixin=Sa,n.negate=qo,n.nthArg=function(t){return t=sa(t),Sr(function(e){return gr(e,t)})},n.omit=hc,n.omitBy=function(t,e){return ya(t,qo(Yi(e)))},n.once=function(t){return Wo(2,t)},n.orderBy=function(t,e,n,r){return null==t?[]:(Ys(e)||(e=null==e?[]:[e]),n=r?nt:n,Ys(n)||(n=null==n?[]:[n]),vr(t,e,n))},n.over=Pc,n.overArgs=Ls,n.overEvery=Cc,n.overSome=jc,n.partial=Us,n.partialRight=Is,n.partition=Ps,n.pick=dc,n.pickBy=ya,n.property=Na,n.propertyOf=function(t){return function(e){return null==t?nt:Hn(t,e)}},n.pull=hs,n.pullAll=Co,n.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?_r(t,e,Yi(n,2)):t},n.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?_r(t,e,nt,n):t},n.pullAt=ds,n.range=Ac,n.rangeRight=Dc,n.rearg=$s,n.reject=function(t,e){return(Ys(t)?l:On)(t,qo(Yi(e,3)))},n.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Yi(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return xr(t,i),n},n.rest=function(t,e){if("function"!=typeof t)throw new Ua(ot);return e=e===nt?e:sa(e),Sr(t,e)},n.reverse=jo,n.sampleSize=function(t,e,n){return e=(n?io(t,e,n):e===nt)?1:sa(e),(Ys(t)?tn:Nr)(t,e)},n.set=function(t,e,n){return null==t?t:Er(t,e,n)},n.setWith=function(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:Er(t,e,n,r)},n.shuffle=function(t){return(Ys(t)?en:Or)(t)},n.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&io(t,e,n)?(e=0,n=r):(e=null==e?0:sa(e),n=n===nt?r:sa(n)),Pr(t,e,n)):[]},n.sortBy=Cs,n.sortedUniq=function(t){return t&&t.length?Dr(t):[]},n.sortedUniqBy=function(t,e){return t&&t.length?Dr(t,Yi(e,2)):[]},n.split=function(t,e,n){return n&&"number"!=typeof n&&io(t,e,n)&&(e=n=nt),(n=n===nt?Dt:n>>>0)?(t=ha(t))&&("string"==typeof e||null!=e&&!Gs(e))&&!(e=zr(e))&&W(t)?Vr(J(t),0,n):t.split(e,n):[]},n.spread=function(t,e){if("function"!=typeof t)throw new Ua(ot);return e=null==e?0:bu(sa(e),0),Sr(function(n){var r=n[e],i=Vr(n,0,e);return r&&p(i,r),o(t,this,i)})},n.tail=function(t){var e=null==t?0:t.length;return e?Pr(t,1,e):[]},n.take=function(t,e,n){return t&&t.length?(e=n||e===nt?1:sa(e),Pr(t,0,e<0?0:e)):[]},n.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:sa(e),e=r-e,Pr(t,e<0?0:e,r)):[]},n.takeRightWhile=function(t,e){return t&&t.length?$r(t,Yi(e,3),!1,!0):[]},n.takeWhile=function(t,e){return t&&t.length?$r(t,Yi(e,3)):[]},n.tap=function(t,e){return e(t),t},n.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Ua(ot);return ta(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Yo(t,e,{leading:r,maxWait:e,trailing:i})},n.thru=zo,n.toArray=aa,n.toPairs=pc,n.toPairsIn=gc,n.toPath=function(t){return Ys(t)?d(t,wo):oa(t)?[t]:ai(os(ha(t)))},n.toPlainObject=fa,n.transform=function(t,e,n){var r=Ys(t),i=r||qs(t)||Ks(t);if(e=Yi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ta(t)&&Ko(o)?Wu(eu(t)):{}}return(i?u:jn)(t,function(t,r,i){return e(n,t,r,i)}),n},n.unary=function(t){return $o(t,1)},n.union=ps,n.unionBy=gs,n.unionWith=vs,n.uniq=function(t){return t&&t.length?Lr(t):[]},n.uniqBy=function(t,e){return t&&t.length?Lr(t,Yi(e,2)):[]},n.uniqWith=function(t,e){return e="function"==typeof e?e:nt,t&&t.length?Lr(t,nt,e):[]},n.unset=function(t,e){return null==t||Ur(t,e)},n.unzip=Ao,n.unzipWith=Do,n.update=function(t,e,n){return null==t?t:Ir(t,e,Hr(n))},n.updateWith=function(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:Ir(t,e,Hr(n),r)},n.values=ma,n.valuesIn=function(t){return null==t?[]:D(t,va(t))},n.without=ys,n.words=xa,n.wrap=function(t,e){return Us(Hr(e),t)},n.xor=ms,n.xorBy=bs,n.xorWith=_s,n.zip=xs,n.zipObject=function(t,e){return Fr(t||[],e||[],rn)},n.zipObjectDeep=function(t,e){return Fr(t||[],e||[],Er)},n.zipWith=ws,n.entries=pc,n.entriesIn=gc,n.extend=ec,n.extendWith=nc,Sa(n,n),n.add=Rc,n.attempt=Mc,n.camelCase=vc,n.capitalize=ba,n.ceil=zc,n.clamp=function(t,e,n){return n===nt&&(n=e,e=nt),n!==nt&&(n=(n=la(n))===n?n:0),e!==nt&&(e=(e=la(e))===e?e:0),fn(la(t),e,n)},n.clone=function(t){return pn(t,ft)},n.cloneDeep=function(t){return pn(t,ct|ft)},n.cloneDeepWith=function(t,e){return e="function"==typeof e?e:nt,pn(t,ct|ft,e)},n.cloneWith=function(t,e){return e="function"==typeof e?e:nt,pn(t,ft,e)},n.conformsTo=function(t,e){return null==e||vn(t,e,ga(e))},n.deburr=_a,n.defaultTo=function(t,e){return null==t||t!==t?e:t},n.divide=Lc,n.endsWith=function(t,e,n){t=ha(t),e=zr(e);var r=t.length,i=n=n===nt?r:fn(sa(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},n.eq=Vo,n.escape=function(t){return(t=ha(t))&&we.test(t)?t.replace(_e,Wn):t},n.escapeRegExp=function(t){return(t=ha(t))&&Ce.test(t)?t.replace(Pe,"\\$&"):t},n.every=function(t,e,n){var r=Ys(t)?c:Sn;return n&&io(t,e,n)&&(e=nt),r(t,Yi(e,3))},n.find=Ss,n.findIndex=To,n.findKey=function(t,e){return _(t,Yi(e,3),jn)},n.findLast=Ts,n.findLastIndex=No,n.findLastKey=function(t,e){return _(t,Yi(e,3),In)},n.floor=Uc,n.forEach=Lo,n.forEachRight=Uo,n.forIn=function(t,e){return null==t?t:Yu(t,Yi(e,3),va)},n.forInRight=function(t,e){return null==t?t:Hu(t,Yi(e,3),va)},n.forOwn=function(t,e){return t&&jn(t,Yi(e,3))},n.forOwnRight=function(t,e){return t&&In(t,Yi(e,3))},n.get=da,n.gt=Ws,n.gte=Bs,n.has=function(t,e){return null!=t&&Ki(t,e,Gn)},n.hasIn=pa,n.head=Oo,n.identity=ka,n.includes=function(t,e,n,r){t=Xo(t)?t:ma(t),n=n&&!r?sa(n):0;var i=t.length;return n<0&&(n=bu(i+n,0)),ia(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&w(t,e,n)>-1},n.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:sa(n);return i<0&&(i=bu(r+i,0)),w(t,e,i)},n.inRange=function(t,e,n){return e=ua(e),n===nt?(n=e,e=0):n=ua(n),t=la(t),Kn(t,e,n)},n.invoke=cc,n.isArguments=Fs,n.isArray=Ys,n.isArrayBuffer=Hs,n.isArrayLike=Xo,n.isArrayLikeObject=Go,n.isBoolean=function(t){return!0===t||!1===t||ea(t)&&Vn(t)==Wt},n.isBuffer=qs,n.isDate=Vs,n.isElement=function(t){return ea(t)&&1===t.nodeType&&!ra(t)},n.isEmpty=function(t){if(null==t)return!0;if(Xo(t)&&(Ys(t)||"string"==typeof t||"function"==typeof t.splice||qs(t)||Ks(t)||Fs(t)))return!t.length;var e=ts(t);if(e==Vt||e==Qt)return!t.size;if(co(t))return!ur(t).length;for(var n in t)if(Ya.call(t,n))return!1;return!0},n.isEqual=function(t,e){return nr(t,e)},n.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:nt)?n(t,e):nt;return r===nt?nr(t,e,nt,n):!!r},n.isError=Zo,n.isFinite=function(t){return"number"==typeof t&&vu(t)},n.isFunction=Ko,n.isInteger=Jo,n.isLength=Qo,n.isMap=Xs,n.isMatch=function(t,e){return t===e||ir(t,e,qi(e))},n.isMatchWith=function(t,e,n){return n="function"==typeof n?n:nt,ir(t,e,qi(e),n)},n.isNaN=function(t){return na(t)&&t!=+t},n.isNative=function(t){if(es(t))throw new ja(it);return or(t)},n.isNil=function(t){return null==t},n.isNull=function(t){return null===t},n.isNumber=na,n.isObject=ta,n.isObjectLike=ea,n.isPlainObject=ra,n.isRegExp=Gs,n.isSafeInteger=function(t){return Jo(t)&&t>=-Ct&&t<=Ct},n.isSet=Zs,n.isString=ia,n.isSymbol=oa,n.isTypedArray=Ks,n.isUndefined=function(t){return t===nt},n.isWeakMap=function(t){return ea(t)&&ts(t)==re},n.isWeakSet=function(t){return ea(t)&&Vn(t)==ie},n.join=function(t,e){return null==t?"":yu.call(t,e)},n.kebabCase=yc,n.last=Po,n.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==nt&&(i=(i=sa(n))<0?bu(r+i,0):_u(i,r-1)),e===e?Z(t,e,i):x(t,M,i,!0)},n.lowerCase=mc,n.lowerFirst=bc,n.lt=Js,n.lte=Qs,n.max=function(t){return t&&t.length?Tn(t,ka,Xn):nt},n.maxBy=function(t,e){return t&&t.length?Tn(t,Yi(e,2),Xn):nt},n.mean=function(t){return S(t,ka)},n.meanBy=function(t,e){return S(t,Yi(e,2))},n.min=function(t){return t&&t.length?Tn(t,ka,cr):nt},n.minBy=function(t,e){return t&&t.length?Tn(t,Yi(e,2),cr):nt},n.stubArray=Ea,n.stubFalse=Oa,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=Ic,n.nth=function(t,e){return t&&t.length?gr(t,sa(e)):nt},n.noConflict=function(){return Nn._===this&&(Nn._=Ga),this},n.noop=Ta,n.now=js,n.pad=function(t,e,n){t=ha(t);var r=(e=sa(e))?K(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Si(du(i),n)+t+Si(hu(i),n)},n.padEnd=function(t,e,n){t=ha(t);var r=(e=sa(e))?K(t):0;return e&&r<e?t+Si(e-r,n):t},n.padStart=function(t,e,n){t=ha(t);var r=(e=sa(e))?K(t):0;return e&&r<e?Si(e-r,n)+t:t},n.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),wu(ha(t).replace(Ae,""),e||0)},n.random=function(t,e,n){if(n&&"boolean"!=typeof n&&io(t,e,n)&&(e=n=nt),n===nt&&("boolean"==typeof e?(n=e,e=nt):"boolean"==typeof t&&(n=t,t=nt)),t===nt&&e===nt?(t=0,e=1):(t=ua(t),e===nt?(e=t,t=0):e=ua(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=ku();return _u(t+i*(e-t+kn("1e-"+((i+"").length-1))),e)}return wr(t,e)},n.reduce=function(t,e,n){var r=Ys(t)?g:E,i=arguments.length<3;return r(t,Yi(e,4),n,i,Bu)},n.reduceRight=function(t,e,n){var r=Ys(t)?v:E,i=arguments.length<3;return r(t,Yi(e,4),n,i,Fu)},n.repeat=function(t,e,n){return e=(n?io(t,e,n):e===nt)?1:sa(e),Mr(ha(t),e)},n.replace=function(){var t=arguments,e=ha(t[0]);return t.length<3?e:e.replace(t[1],t[2])},n.result=function(t,e,n){var r=-1,i=(e=qr(e,t)).length;for(i||(i=1,t=nt);++r<i;){var o=null==t?nt:t[wo(e[r])];o===nt&&(r=i,o=n),t=Ko(o)?o.call(t):o}return t},n.round=$c,n.runInContext=t,n.sample=function(t){return(Ys(t)?Qe:Tr)(t)},n.size=function(t){if(null==t)return 0;if(Xo(t))return ia(t)?K(t):t.length;var e=ts(t);return e==Vt||e==Qt?t.size:ur(t).length},n.snakeCase=_c,n.some=function(t,e,n){var r=Ys(t)?y:Cr;return n&&io(t,e,n)&&(e=nt),r(t,Yi(e,3))},n.sortedIndex=function(t,e){return jr(t,e)},n.sortedIndexBy=function(t,e,n){return Ar(t,e,Yi(n,2))},n.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=jr(t,e);if(r<n&&Vo(t[r],e))return r}return-1},n.sortedLastIndex=function(t,e){return jr(t,e,!0)},n.sortedLastIndexBy=function(t,e,n){return Ar(t,e,Yi(n,2),!0)},n.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=jr(t,e,!0)-1;if(Vo(t[n],e))return n}return-1},n.startCase=xc,n.startsWith=function(t,e,n){return t=ha(t),n=null==n?0:fn(sa(n),0,t.length),e=zr(e),t.slice(n,n+e.length)==e},n.subtract=Wc,n.sum=function(t){return t&&t.length?P(t,ka):0},n.sumBy=function(t,e){return t&&t.length?P(t,Yi(e,2)):0},n.template=function(t,e,r){var i=n.templateSettings;r&&io(t,e,r)&&(e=nt),t=ha(t),e=nc({},e,i,Ai);var o,a,u=nc({},e.imports,i.imports,Ai),s=ga(u),c=D(u,s),l=0,f=e.interpolate||Xe,h="__p += '",d=za((e.escape||Xe).source+"|"+f.source+"|"+(f===Se?$e:Xe).source+"|"+(e.evaluate||Xe).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++bn+"]")+"\n";t.replace(d,function(e,n,r,i,u,s){return r||(r=i),h+=t.slice(l,s).replace(Ge,I),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),u&&(a=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+e.length,e}),h+="';\n";var g=e.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(ve,""):h).replace(ye,"$1").replace(me,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Mc(function(){return Aa(s,p+"return "+h).apply(nt,c)});if(v.source=h,Zo(v))throw v;return v},n.times=function(t,e){if((t=sa(t))<1||t>Ct)return[];var n=Dt,r=_u(t,Dt);e=Yi(e),t-=Dt;for(var i=C(r,e);++n<t;)e(n);return i},n.toFinite=ua,n.toInteger=sa,n.toLength=ca,n.toLower=function(t){return ha(t).toLowerCase()},n.toNumber=la,n.toSafeInteger=function(t){return t?fn(sa(t),-Ct,Ct):0===t?t:0},n.toString=ha,n.toUpper=function(t){return ha(t).toUpperCase()},n.trim=function(t,e,n){if((t=ha(t))&&(n||e===nt))return t.replace(je,"");if(!t||!(e=zr(e)))return t;var r=J(t),i=J(e);return Vr(r,z(r,i),L(r,i)+1).join("")},n.trimEnd=function(t,e,n){if((t=ha(t))&&(n||e===nt))return t.replace(De,"");if(!t||!(e=zr(e)))return t;var r=J(t);return Vr(r,0,L(r,J(e))+1).join("")},n.trimStart=function(t,e,n){if((t=ha(t))&&(n||e===nt))return t.replace(Ae,"");if(!t||!(e=zr(e)))return t;var r=J(t);return Vr(r,z(r,J(e))).join("")},n.truncate=function(t,e){var n=Mt,r=St;if(ta(e)){var i="separator"in e?e.separator:i;n="length"in e?sa(e.length):n,r="omission"in e?zr(e.omission):r}var o=(t=ha(t)).length;if(W(t)){var a=J(t);o=a.length}if(n>=o)return t;var u=n-K(r);if(u<1)return r;var s=a?Vr(a,0,u).join(""):t.slice(0,u);if(i===nt)return s+r;if(a&&(u+=s.length-u),Gs(i)){if(t.slice(u).search(i)){var c,l=s;for(i.global||(i=za(i.source,ha(We.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;s=s.slice(0,f===nt?u:f)}}else if(t.indexOf(zr(i),u)!=u){var h=s.lastIndexOf(i);h>-1&&(s=s.slice(0,h))}return s+r},n.unescape=function(t){return(t=ha(t))&&xe.test(t)?t.replace(be,Bn):t},n.uniqueId=function(t){var e=++Ha;return ha(t)+e},n.upperCase=wc,n.upperFirst=kc,n.each=Lo,n.eachRight=Uo,n.first=Oo,Sa(n,function(){var t={};return jn(n,function(e,r){Ya.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION="4.17.4",u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),u(["drop","take"],function(t,e){G.prototype[t]=function(n){n=n===nt?1:bu(sa(n),0);var r=this.__filtered__&&!e?new G(this):this.clone();return r.__filtered__?r.__takeCount__=_u(n,r.__takeCount__):r.__views__.push({size:_u(n,Dt),type:t+(r.__dir__<0?"Right":"")}),r},G.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),u(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==Et||3==n;G.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Yi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),u(["head","last"],function(t,e){var n="take"+(e?"Right":"");G.prototype[t]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");G.prototype[t]=function(){return this.__filtered__?new G(this):this[n](1)}}),G.prototype.compact=function(){return this.filter(ka)},G.prototype.find=function(t){return this.filter(t).head()},G.prototype.findLast=function(t){return this.reverse().find(t)},G.prototype.invokeMap=Sr(function(t,e){return"function"==typeof t?new G(this):this.map(function(n){return tr(n,t,e)})}),G.prototype.reject=function(t){return this.filter(qo(Yi(t)))},G.prototype.slice=function(t,e){t=sa(t);var n=this;return n.__filtered__&&(t>0||e<0)?new G(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==nt&&(n=(e=sa(e))<0?n.dropRight(-e):n.take(e-t)),n)},G.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},G.prototype.toArray=function(){return this.take(Dt)},jn(G.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=n[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);o&&(n.prototype[e]=function(){var e=this.__wrapped__,u=i?[1]:arguments,s=e instanceof G,c=u[0],l=s||Ys(e),f=function(t){var e=o.apply(n,p([t],u));return i&&h?e[0]:e};l&&r&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,d=!!this.__actions__.length,g=a&&!h,v=s&&!d;if(!a&&l){e=v?e:new G(this);var y=t.apply(e,u);return y.__actions__.push({func:zo,args:[f],thisArg:nt}),new N(y,h)}return g&&v?t.apply(this,u):(y=this.thru(f),g?i?y.value()[0]:y.value():y)})}),u(["pop","push","shift","sort","splice","unshift"],function(t){var e=Ia[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(Ys(n)?n:[],t)}return this[r](function(n){return e.apply(Ys(n)?n:[],t)})}}),jn(G.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"";(ju[i]||(ju[i]=[])).push({name:e,func:r})}}),ju[xi(nt,gt).name]=[{name:"wrapper",func:nt}],G.prototype.clone=function(){var t=new G(this.__wrapped__);return t.__actions__=ai(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ai(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ai(this.__views__),t},G.prototype.reverse=function(){if(this.__filtered__){var t=new G(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},G.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ys(t),r=e<0,i=n?t.length:0,o=Gi(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,f=l.length,h=0,d=_u(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return Wr(t,this.__actions__);var p=[];t:for(;s--&&h<d;){for(var g=-1,v=t[c+=e];++g<f;){var y=l[g],m=y.iteratee,b=y.type,_=m(v);if(b==Ot)v=_;else if(!_){if(b==Et)continue t;break t}}p[h++]=v}return p},n.prototype.at=ks,n.prototype.chain=function(){return Ro(this)},n.prototype.commit=function(){return new N(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===nt&&(this.__values__=aa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?nt:this.__values__[this.__index__++]}},n.prototype.plant=function(t){for(var e,n=this;n instanceof m;){var r=So(n);r.__index__=0,r.__values__=nt,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},n.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof G){var e=t;return this.__actions__.length&&(e=new G(this)),(e=e.reverse()).__actions__.push({func:zo,args:[jo],thisArg:nt}),new N(e,this.__chain__)}return this.thru(jo)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return Wr(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,au&&(n.prototype[au]=function(){return this}),n}();On?((On.exports=Fn)._=Fn,En._=Fn):Nn._=Fn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],36:[function(t,e,n){!function(t,n){"use strict";"object"==typeof e&&e.exports?e.exports=n():t.log=n()}(this,function(){"use strict";function t(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function e(e){return"debug"===e&&(e="log"),typeof console!==u&&(void 0!==console[e]?t(console,e):void 0!==console.log?t(console,"log"):a)}function n(t,e){for(var n=0;n<s.length;n++){var r=s[n];this[r]=n<t?a:this.methodFactory(r,t,e)}this.log=this.debug}function r(t,e,r){return function(){typeof console!==u&&(n.call(this,e,r),this[t].apply(this,arguments))}}function i(t,n,i){return e(t)||r.apply(this,arguments)}function o(t,e,r){function o(t){var e=(s[t]||"silent").toUpperCase();if(typeof window!==u){try{return void(window.localStorage[f]=e)}catch(t){}try{window.document.cookie=encodeURIComponent(f)+"="+e+";"}catch(t){}}}function a(){var t;if(typeof window!==u){try{t=window.localStorage[f]}catch(t){}if(typeof t===u)try{var e=window.document.cookie,n=e.indexOf(encodeURIComponent(f)+"=");-1!==n&&(t=/^([^;]+)/.exec(e.slice(n))[1])}catch(t){}return void 0===l.levels[t]&&(t=void 0),t}}var c,l=this,f="loglevel";t&&(f+=":"+t),l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=r||i,l.getLevel=function(){return c},l.setLevel=function(e,r){if("string"==typeof e&&void 0!==l.levels[e.toUpperCase()]&&(e=l.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=l.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;if(c=e,!1!==r&&o(e),n.call(l,e,t),typeof console===u&&e<l.levels.SILENT)return"No console available for logging"},l.setDefaultLevel=function(t){a()||l.setLevel(t,!1)},l.enableAll=function(t){l.setLevel(l.levels.TRACE,t)},l.disableAll=function(t){l.setLevel(l.levels.SILENT,t)};var h=a();null==h&&(h=null==e?"WARN":e),l.setLevel(h,!1)}var a=function(){},u="undefined",s=["trace","debug","info","warn","error"],c=new o,l={};c.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=l[t];return e||(e=l[t]=new o(t,c.getLevel(),c.methodFactory)),e};var f=typeof window!==u?window.log:void 0;return c.noConflict=function(){return typeof window!==u&&window.log===c&&(window.log=f),c},c})},{}],37:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./src/index");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})})},{"./src/index":49}],38:[function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.DataModel=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("sd-utils"),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./domain")),s=t("./validation-result");n.DataModel=function(){function t(e){i(this,t),this.nodes=[],this.edges=[],this.texts=[],this.payoffNames=[],this.defaultCriterion1Weight=1,this.weightLowerBound=0,this.weightUpperBound=1/0,this.expressionScope={},this.code="",this.$codeError=null,this.$codeDirty=!1,this.$version=1,this.validationResults=[],this.maxStackSize=20,this.undoStack=[],this.redoStack=[],this.undoRedoStateChangedCallback=null,this.nodeAddedCallback=null,this.nodeRemovedCallback=null,this.textAddedCallback=null,this.textRemovedCallback=null,this.callbacksDisabled=!1,e&&this.load(e)}return o(t,[{key:"getJsonReplacer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(i,o){if(!(r&&a.Utils.startsWith(i,"$")||"parentNode"==i||t&&"location"==i||e&&"computed"==i))return n?n(i,o):o}}},{key:"serialize",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o={code:this.code,expressionScope:this.expressionScope,trees:this.getRoots(),texts:this.texts,payoffNames:this.payoffNames.slice(),defaultCriterion1Weight:this.defaultCriterion1Weight,weightLowerBound:this.weightLowerBound,weightUpperBound:this.weightUpperBound};return t?a.Utils.stringify(o,this.getJsonReplacer(e,n,r,i),[]):o}},{key:"load",value:function(t){var e=this,n=this.callbacksDisabled;this.callbacksDisabled=!0,this.clear(),t.trees.forEach(function(t){e.createNodeFromData(t)}),t.texts&&t.texts.forEach(function(t){var n=new u.Point(t.location.x,t.location.y),r=new u.Text(n,t.value);e.texts.push(r)}),this.clearExpressionScope(),this.code=t.code||"",t.expressionScope&&a.Utils.extend(this.expressionScope,t.expressionScope),void 0!==t.payoffNames&&null!==t.payoffNames&&(this.payoffNames=t.payoffNames),void 0!==t.defaultCriterion1Weight&&null!==t.defaultCriterion1Weight&&(this.defaultCriterion1Weight=t.defaultCriterion1Weight),void 0!==t.weightLowerBound&&null!==t.weightLowerBound&&(this.weightLowerBound=t.weightLowerBound),void 0!==t.weightUpperBound&&null!==t.weightUpperBound&&(this.weightUpperBound=t.weightUpperBound),this.callbacksDisabled=n}},{key:"getDTO",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{serializedData:this.serialize(!0,t,e,null,n),$codeError:this.$codeError,$codeDirty:this.$codeDirty,validationResults:this.validationResults.slice()}}},{key:"loadFromDTO",value:function(t,e){var n=this;this.load(JSON.parse(t.serializedData,e)),this.$codeError=t.$codeError,this.$codeDirty=t.$codeDirty,this.validationResults.length=0,t.validationResults.forEach(function(t){n.validationResults.push(s.ValidationResult.createFromDTO(t))})}},{key:"updateFrom",value:function(t){if(this.$version>t.$version)a.log.warn("DataModel.updateFrom: version of current model greater than update");else{var e={};t.nodes.forEach(function(t){e[t.$id]=t}),this.nodes.forEach(function(t,n){e[t.$id]&&t.loadComputedValues(e[t.$id].computed)}),t.edges.forEach(function(t){e[t.$id]=t}),this.edges.forEach(function(t,n){e[t.$id]&&t.loadComputedValues(e[t.$id].computed)}),this.expressionScope=t.expressionScope,this.$codeError=t.$codeError,this.$codeDirty=t.$codeDirty,this.validationResults=t.validationResults}}},{key:"getGlobalVariableNames",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=[];return a.Utils.forOwn(this.expressionScope,function(n,r){t&&a.Utils.isFunction(n)||e.push(r)}),e}},{key:"createNodeFromData",value:function(t,e){var n,r,i=this;r=t.location?new u.Point(t.location.x,t.location.y):new u.Point(0,0),u.DecisionNode.$TYPE==t.type?n=new u.DecisionNode(r):u.ChanceNode.$TYPE==t.type?n=new u.ChanceNode(r):u.TerminalNode.$TYPE==t.type&&(n=new u.TerminalNode(r)),t.$id&&(n.$id=t.$id),t.$fieldStatus&&(n.$fieldStatus=t.$fieldStatus),n.name=t.name,t.code&&(n.code=t.code),t.expressionScope&&(n.expressionScope=t.expressionScope),t.computed&&n.loadComputedValues(t.computed),n.folded=!!t.folded;var o=this.addNode(n,e);return t.childEdges.forEach(function(t){var e=i.createNodeFromData(t.childNode,n);a.Utils.isArray(t.payoff)?e.payoff=t.payoff:e.payoff=[t.payoff,0],e.probability=t.probability,e.name=t.name,t.computed&&e.loadComputedValues(t.computed),t.$id&&(e.$id=t.$id),t.$fieldStatus&&(e.$fieldStatus=t.$fieldStatus)}),o}},{key:"addNode",value:function(t,e){var n=this;if(n.nodes.push(t),e){var r=n._addChild(e,t);return this._fireNodeAddedCallback(t),r}return this._fireNodeAddedCallback(t),t}},{key:"injectNode",value:function(t,e){var n=e.parentNode,r=e.childNode;this.nodes.push(t),t.$parent=n,e.childNode=t,this._addChild(t,r),this._fireNodeAddedCallback(t)}},{key:"_addChild",value:function(t,e){var n=this,r=new u.Edge(t,e);return n._setEdgeInitialProbability(r),n.edges.push(r),t.childEdges.push(r),e.$parent=t,r}},{key:"_setEdgeInitialProbability",value:function(t){t.parentNode instanceof u.ChanceNode?t.probability="#":t.probability=void 0}},{key:"removeNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this;t.childEdges.forEach(function(t){return n.removeNode(t.childNode,e+1)}),n._removeNode(t);var r=t.$parent;if(r){var i=a.Utils.find(r.childEdges,function(e,n){return e.childNode===t});0==e?n.removeEdge(i):n._removeEdge(i)}this._fireNodeRemovedCallback(t)}},{key:"removeNodes",value:function(t){var e=this;this.findSubtreeRoots(t).forEach(function(t){return e.removeNode(t,0)},this)}},{key:"convertNode",value:function(t,e){var n,r=this;!t.childEdges.length&&t.$parent?n=this.createNodeByType(e,t.location):t instanceof u.DecisionNode&&e==u.ChanceNode.$TYPE?n=this.createNodeByType(e,t.location):e==u.DecisionNode.$TYPE&&(n=this.createNodeByType(e,t.location)),n&&(n.name=t.name,this.replaceNode(n,t),n.childEdges.forEach(function(t){return r._setEdgeInitialProbability(t)}),this._fireNodeAddedCallback(n))}},{key:"createNodeByType",value:function(t,e){return t==u.DecisionNode.$TYPE?new u.DecisionNode(e):t==u.ChanceNode.$TYPE?new u.ChanceNode(e):t==u.TerminalNode.$TYPE?new u.TerminalNode(e):void 0}},{key:"replaceNode",value:function(t,e){var n=e.$parent;t.$parent=n,n&&(a.Utils.find(t.$parent.childEdges,function(t){return t.childNode===e}).childNode=t),t.childEdges=e.childEdges,t.childEdges.forEach(function(e){return e.parentNode=t});var r=this.nodes.indexOf(e);~r&&(this.nodes[r]=t)}},{key:"getRoots",value:function(){return this.nodes.filter(function(t){return!t.$parent})}},{key:"findSubtreeRoots",value:function(t){return t.filter(function(e){return!e.$parent||-1===t.indexOf(e.$parent)})}},{key:"cloneSubtree",value:function(t,e){var n=this,r=this.cloneNode(t);return t.childEdges.forEach(function(t){var i=n.cloneSubtree(t.childNode,e);i.$parent=r;var o=a.Utils.clone(t);o.$id=a.Utils.guid(),o.parentNode=r,o.childNode=i,o.payoff=a.Utils.cloneDeep(t.payoff),o.computed={},e&&(o.computed=a.Utils.cloneDeep(t.computed),i.computed=a.Utils.cloneDeep(t.childNode.computed)),r.childEdges.push(o)}),e&&(r.computed=a.Utils.cloneDeep(t.computed)),r}},{key:"attachSubtree",value:function(t,e){var n=this,r=n.addNode(t,e);return t.expressionScope=null,n.getAllDescendantEdges(t).forEach(function(t){n.edges.push(t),n.nodes.push(t.childNode),t.childNode.expressionScope=null}),r}},{key:"cloneNodes",value:function(t){}},{key:"cloneNode",value:function(t){var e=a.Utils.clone(t);return e.$id=a.Utils.guid(),e.location=a.Utils.clone(t.location),e.computed=a.Utils.clone(t.computed),e.$parent=null,e.childEdges=[],e}},{key:"findNodeById",value:function(t){return a.Utils.find(this.nodes,function(e){return e.$id==t})}},{key:"findEdgeById",value:function(t){return a.Utils.find(this.edges,function(e){return e.$id==t})}},{key:"findById",value:function(t){var e=this.findNodeById(t);return e||this.findEdgeById(t)}},{key:"_removeNode",value:function(t){var e=this.nodes.indexOf(t);e>-1&&this.nodes.splice(e,1)}},{key:"removeEdge",value:function(t){var e=t.parentNode.childEdges.indexOf(t);e>-1&&t.parentNode.childEdges.splice(e,1),this._removeEdge(t)}},{key:"_removeEdge",value:function(t){var e=this.edges.indexOf(t);e>-1&&this.edges.splice(e,1)}},{key:"_removeNodes",value:function(t){this.nodes=this.nodes.filter(function(e){return-1===t.indexOf(e)})}},{key:"_removeEdges",value:function(t){this.edges=this.edges.filter(function(e){return-1===t.indexOf(e)})}},{key:"getAllDescendantEdges",value:function(t){var e=this,n=[];return t.childEdges.forEach(function(t){n.push(t),t.childNode&&n.push.apply(n,r(e.getAllDescendantEdges(t.childNode)))}),n}},{key:"getAllDescendantNodes",value:function(t){var e=this,n=[];return t.childEdges.forEach(function(t){t.childNode&&(n.push(t.childNode),n.push.apply(n,r(e.getAllDescendantNodes(t.childNode))))}),n}},{key:"getAllNodesInSubtree",value:function(t){var e=this.getAllDescendantNodes(t);return e.unshift(t),e}},{key:"isUndoAvailable",value:function(){return!!this.undoStack.length}},{key:"isRedoAvailable",value:function(){return!!this.redoStack.length}},{key:"createStateSnapshot",value:function(t){return{revertConf:t,nodes:a.Utils.cloneDeep(this.nodes),edges:a.Utils.cloneDeep(this.edges),texts:a.Utils.cloneDeep(this.texts),payoffNames:a.Utils.cloneDeep(this.payoffNames),defaultCriterion1Weight:a.Utils.cloneDeep(this.defaultCriterion1Weight),weightLowerBound:a.Utils.cloneDeep(this.weightLowerBound),weightUpperBound:a.Utils.cloneDeep(this.weightUpperBound),expressionScope:a.Utils.cloneDeep(this.expressionScope),code:this.code,$codeError:this.$codeError}}},{key:"saveStateFromSnapshot",value:function(t){return this.redoStack.length=0,this._pushToStack(this.undoStack,t),this._fireUndoRedoCallback(),this}},{key:"saveState",value:function(t){return this.saveStateFromSnapshot(this.createStateSnapshot(t)),this}},{key:"undo",value:function(){var t=this,e=this.undoStack.pop();if(e)return this._pushToStack(this.redoStack,{revertConf:e.revertConf,nodes:t.nodes,edges:t.edges,texts:t.texts,payoffNames:t.payoffNames,defaultCriterion1Weight:t.defaultCriterion1Weight,weightLowerBound:t.weightLowerBound,weightUpperBound:t.weightUpperBound,expressionScope:t.expressionScope,code:t.code,$codeError:t.$codeError}),this._setNewState(e),this._fireUndoRedoCallback(),this}},{key:"redo",value:function(){var t=this,e=this.redoStack.pop();if(e)return this._pushToStack(this.undoStack,{revertConf:e.revertConf,nodes:t.nodes,edges:t.edges,texts:t.texts,payoffNames:t.payoffNames,defaultCriterion1Weight:t.defaultCriterion1Weight,weightLowerBound:t.weightLowerBound,weightUpperBound:t.weightUpperBound,expressionScope:t.expressionScope,code:t.code,$codeError:t.$codeError}),this._setNewState(e,!0),this._fireUndoRedoCallback(),this}},{key:"clear",value:function(){this.nodes.length=0,this.edges.length=0,this.undoStack.length=0,this.redoStack.length=0,this.texts.length=0,this.clearExpressionScope(),this.code="",this.$codeError=null,this.$codeDirty=!1,this.payoffNames=[],this.defaultCriterion1Weight=1,this.weightLowerBound=0,this.weightUpperBound=1/0}},{key:"addText",value:function(t){this.texts.push(t),this._fireTextAddedCallback(t)}},{key:"removeTexts",value:function(t){var e=this;t.forEach(function(t){return e.removeText(t)})}},{key:"removeText",value:function(t){var e=this.texts.indexOf(t);e>-1&&(this.texts.splice(e,1),this._fireTextRemovedCallback(t))}},{key:"clearExpressionScope",value:function(){var t=this;a.Utils.forOwn(this.expressionScope,function(e,n){delete t.expressionScope[n]})}},{key:"reversePayoffs",value:function(){this.payoffNames.reverse(),this.edges.forEach(function(t){return t.payoff.reverse()})}},{key:"_setNewState",value:function(t,e){var n=a.Utils.getObjectByIdMap(t.nodes),r=a.Utils.getObjectByIdMap(t.edges);this.nodes=t.nodes,this.edges=t.edges,this.texts=t.texts,this.payoffNames=t.payoffNames,this.defaultCriterion1Weight=t.defaultCriterion1Weight,this.weightLowerBound=t.weightLowerBound,this.weightUpperBound=t.weightUpperBound,this.expressionScope=t.expressionScope,this.code=t.code,this.$codeError=t.$codeError,this.nodes.forEach(function(t){for(var e=0;e<t.childEdges.length;e++){var i=r[t.childEdges[e].$id];t.childEdges[e]=i,i.parentNode=t,i.childNode=n[i.childNode.$id]}}),t.revertConf&&(!e&&t.revertConf.onUndo&&t.revertConf.onUndo(t.revertConf.data),e&&t.revertConf.onRedo&&t.revertConf.onRedo(t.revertConf.data)),this.revertConf=t.revertConf}},{key:"_pushToStack",value:function(t,e){t.length>=this.maxStackSize&&t.shift(),t.push(e)}},{key:"_fireUndoRedoCallback",value:function(){!this.callbacksDisabled&&this.undoRedoStateChangedCallback&&this.undoRedoStateChangedCallback()}},{key:"_fireNodeAddedCallback",value:function(t){!this.callbacksDisabled&&this.nodeAddedCallback&&this.nodeAddedCallback(t)}},{key:"_fireNodeRemovedCallback",value:function(t){!this.callbacksDisabled&&this.nodeRemovedCallback&&this.nodeRemovedCallback(t)}},{key:"_fireTextAddedCallback",value:function(t){!this.callbacksDisabled&&this.textAddedCallback&&this.textAddedCallback(t)}},{key:"_fireTextRemovedCallback",value:function(t){!this.callbacksDisabled&&this.textRemovedCallback&&this.textRemovedCallback(t)}}]),t}()},{"./domain":40,"./validation-result":50,"sd-utils":51}],39:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Edge=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=t("./object-with-computed-values");n.Edge=function(t){function e(t,n,o,a,u){r(this,e);var s=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return s.name="",s.probability=void 0,s.payoff=[0,0],s.$DISPLAY_VALUE_NAMES=["probability","payoff","optimal"],s.parentNode=t,s.childNode=n,void 0!==o&&(s.name=o),void 0!==u&&(s.probability=u),void 0!==a&&(s.payoff=a),s}return o(e,u.ObjectWithComputedValues),a(e,[{key:"setName",value:function(t){return this.name=t,this}},{key:"setProbability",value:function(t){return this.probability=t,this}},{key:"setPayoff",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.payoff[e]=t,this}},{key:"computedBaseProbability",value:function(t){return this.computedValue(null,"probability",t)}},{key:"computedBasePayoff",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.computedValue(null,"payoff["+e+"]",t)}},{key:"displayProbability",value:function(t){return this.displayValue("probability",t)}},{key:"displayPayoff",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.displayValue("payoff["+e+"]",t)}}]),e}()},{"./object-with-computed-values":45}],40:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./node/node");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var i=t("./node/decision-node");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("./node/chance-node");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var a=t("./node/terminal-node");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}})});var u=t("./edge");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})});var s=t("./point");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})});var c=t("./text");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return c[t]}})})},{"./edge":39,"./node/chance-node":41,"./node/decision-node":42,"./node/node":43,"./node/terminal-node":44,"./point":47,"./text":48}],41:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.ChanceNode=void 0;var a=t("./node");(n.ChanceNode=function(t){function e(t){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.$TYPE,t))}return o(e,a.Node),e}()).$TYPE="chance"},{"./node":43}],42:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.DecisionNode=void 0;var a=t("./node");(n.DecisionNode=function(t){function e(t){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.$TYPE,t))}return o(e,a.Node),e}()).$TYPE="decision"},{"./node":43}],43:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Node=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=t("../point"),s=t("../object-with-computed-values");n.Node=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.childEdges=[],o.name="",o.code="",o.$codeDirty=!1,o.$codeError=null,o.expressionScope=null,o.folded=!1,o.$DISPLAY_VALUE_NAMES=["childrenPayoff","aggregatedPayoff","probabilityToEnter","optimal"],o.location=n,n||(o.location=new u.Point(0,0)),o.type=t,o}return o(e,s.ObjectWithComputedValues),a(e,[{key:"setName",value:function(t){return this.name=t,this}},{key:"moveTo",value:function(t,e,n){if(n){var r=t-this.location.x,i=e-this.location.y;this.childEdges.forEach(function(t){return t.childNode.move(r,i,!0)})}return this.location.moveTo(t,e),this}},{key:"move",value:function(t,e,n){return n&&this.childEdges.forEach(function(n){return n.childNode.move(t,e,!0)}),this.location.move(t,e),this}}]),e}()},{"../object-with-computed-values":45,"../point":47}],44:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.TerminalNode=void 0;var a=t("./node");(n.TerminalNode=function(t){function e(t){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.$TYPE,t))}return o(e,a.Node),e}()).$TYPE="terminal"},{"./node":43}],45:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectWithComputedValues=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=t("sd-utils"),s=t("./object-with-id-and-editable-fields");n.ObjectWithComputedValues=function(t){function e(){var t,n,o,a;r(this,e);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=o=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),o.computed={},a=n,i(o,a)}return o(e,s.ObjectWithIdAndEditableFields),a(e,[{key:"computedValue",value:function(t,e,n){var r="computed.";return t&&(r+=t+"."),r+=e,void 0===n?u.Utils.get(this,r,null):(u.Utils.set(this,r,n),n)}},{key:"clearComputedValues",value:function(t){var e=this;void 0!=t?u.Utils.isArray(t)?t.forEach(function(t){e.computed[t]={}}):this.computed[t]={}:this.computed={}}},{key:"clearDisplayValues",value:function(){this.computed.$displayValues={}}},{key:"displayValue",value:function(t,e){return this.computedValue(null,"$displayValues."+t,e)}},{key:"loadComputedValues",value:function(t){this.computed=u.Utils.cloneDeep(t)}}]),e}()},{"./object-with-id-and-editable-fields":46,"sd-utils":51}],46:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectWithIdAndEditableFields=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("sd-utils");n.ObjectWithIdAndEditableFields=function(){function t(){r(this,t),this.$id=o.Utils.guid(),this.$fieldStatus={}}return i(t,[{key:"getFieldStatus",value:function(t){return o.Utils.get(this.$fieldStatus,t,null)||o.Utils.set(this.$fieldStatus,t,{valid:{syntax:!0,value:!0}}),o.Utils.get(this.$fieldStatus,t)}},{key:"setSyntaxValidity",value:function(t,e){this.getFieldStatus(t).valid.syntax=e}},{key:"setValueValidity",value:function(t,e){this.getFieldStatus(t).valid.value=e}},{key:"isFieldValid",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.getFieldStatus(t);return e&&n?r.valid.syntax&&r.valid.value:e?r.valid.syntax:r.valid.value}}]),t}()},{"sd-utils":51}],47:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n.Point=function(){function t(e,n){r(this,t),e instanceof t?(n=e.y,e=e.x):Array.isArray(e)&&(n=e[1],e=e[0]),this.x=e,this.y=n}return i(t,[{key:"moveTo",value:function(t,e){return Array.isArray(t)&&(e=t[1],t=t[0]),this.x=t,this.y=e,this}},{key:"move",value:function(t,e){return Array.isArray(t)&&(e=t[1],t=t[0]),this.x+=t,this.y+=e,this}}]),t}()},{}],48:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.Text=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=t("./point"),s=(t("sd-utils"),t("./object-with-id-and-editable-fields"));n.Text=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.value="",o.location=t,t||(o.location=new u.Point(0,0)),n&&(o.value=n),o}return o(e,s.ObjectWithIdAndEditableFields),a(e,[{key:"moveTo",value:function(t,e){return this.location.moveTo(t,e),this}},{key:"move",value:function(t,e){return this.location.move(t,e),this}}]),e}()},{"./object-with-id-and-editable-fields":46,"./point":47,"sd-utils":51}],49:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.domain=void 0;var r=t("./data-model");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var i=t("./validation-result");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./domain"));n.domain=o},{"./data-model":38,"./domain":40,"./validation-result":50}],50:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ValidationResult=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("sd-utils");n.ValidationResult=function(){function t(){r(this,t),this.errors={},this.warnings={},this.objectIdToError={}}return i(t,[{key:"addError",value:function(t,e){o.Utils.isString(t)&&(t={name:t});var n=t.name,r=this.errors[n];r||(r=[],this.errors[n]=r);var i=this.objectIdToError[e.$id];i||(i=[],this.objectIdToError[e.$id]=i),r.push(e),i.push(t)}},{key:"addWarning",value:function(t,e){var n=this.warnings[t];n||(n=[],this.warnings[t]=n),n.push(e)}},{key:"isValid",value:function(){return 0===Object.getOwnPropertyNames(this.errors).length}}],[{key:"createFromDTO",value:function(e){var n=new t;return n.errors=e.errors,n.warnings=e.warnings,n.objectIdToError=e.objectIdToError,n}}]),t}()},{"sd-utils":51}],51:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=t("loglevel");Object.defineProperty(n,"log",{enumerable:!0,get:function(){return r(i).default}});var o=t("./src/utils");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})})},{"./src/utils":52,loglevel:36}],52:[function(t,e,n){(function(e){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("lodash")),c=n.Utils=function(){function t(){i(this,t)}return u(t,null,[{key:"deepExtend",value:function(t){var e=this;!t&&arguments.length>1&&Array.isArray(arguments[1])&&(t=[]),t=t||{};for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)if(r.hasOwnProperty(i)){var o=Array.isArray(t[i]),a=e.isObject(t[i]),u=e.isObject(r[i]);a&&!o&&u?e.deepExtend(t[i],r[i]):t[i]=r[i]}}return t}},{key:"extend",value:function(t,e){var n;t||(t={});for(n in e)t[n]=e[n];return t}},{key:"mergeDeep",value:function(e,n){var i=a({},e);return t.isObjectNotArray(e)&&t.isObjectNotArray(n)&&Object.keys(n).forEach(function(o){t.isObjectNotArray(n[o])&&o in e?i[o]=t.mergeDeep(e[o],n[o]):a(i,r({},o,n[o]))}),i}},{key:"getVariablesAsList",value:function(e){var n=[];return s.forOwn(e,function(e,r){t.isFunction(e)||n.push({key:r,value:e})}),n}},{key:"cross",value:function(t,e){var n,r,i=[],o=t.length,a=e.length;for(n=-1;++n<o;)for(r=-1;++r<a;)i.push({x:t[n],i:n,y:e[r],j:r});return i}},{key:"isObjectNotArray",value:function(t){return t&&"object"===(void 0===t?"undefined":o(t))&&!Array.isArray(t)&&null!==t}},{key:"isArray",value:function(t){return Array.isArray(t)}},{key:"isObject",value:function(t){return null!==t&&"object"===(void 0===t?"undefined":o(t))}},{key:"isNumber",value:function(t){return!isNaN(t)&&"number"==typeof t}},{key:"isNumeric",value:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},{key:"isInt",value:function(e){return t.isNumber(e)&&e%1==0}},{key:"isFunction",value:function(t){return"function"==typeof t}},{key:"isDate",value:function(t){return"[object Date]"===Object.prototype.toString.call(t)}},{key:"isString",value:function(t){return"string"==typeof t||t instanceof String}},{key:"guid",value:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},{key:"capitalizeFirstLetter",value:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},{key:"getObjectByIdMap",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$id",r={};return t?(t.forEach(function(t){var i=t;e&&(i=e(t)),r[t[n]]=i}),r):r}},{key:"waitForFinalEvent",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return n||(n="Don't call this twice without a uniqueId"),t.timers[n]&&clearTimeout(t.timers[n]),t.timers[n]=setTimeout(e,r),function(){return clearTimeout(t.timers[n])}}},{key:"detectIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}return!1}},{key:"detectEdge",value:function(){var t=window.navigator.userAgent,e=t.indexOf("Edge/");return e>0&&parseInt(t.substring(e+5,t.indexOf(".",e)),10)}},{key:"stripNumberToPrec",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return parseFloat(parseFloat(t).toPrecision(e))}},{key:"getGlobalObject",value:function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{}}},{key:"isWorker",value:function(){var e=t.getGlobalObject();return!e.document&&!!e.postMessage}},{key:"stringify",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["$"],i=[];return JSON.stringify(e,function(e,a){if(a===1/0)return"Infinity";if(a===-1/0)return"-Infinity";if(!r||!r.some(function(t){return s.startsWith(e,t)})){if("object"===(void 0===a?"undefined":o(a))&&null!==a){if(-1!==i.indexOf(a))return;i.push(a)}if(n){if(!t.isArray(n))return n(e,a);n.forEach(function(t){a=t(e,a)})}return a}},2)}},{key:"compareVersionNumbers",value:function(e,n){function r(e){for(var n=0;n<e.length;++n)if(!t.isPositiveInteger(e[n]))return!1;return!0}var i=e.split("."),o=n.split(".");if(!r(i)||!r(o))return NaN;for(var a=0;a<i.length;++a){if(o.length===a)return 1;if(i[a]!==o[a])return i[a]>o[a]?1:-1}return i.length!=o.length?-1:0}},{key:"isPositiveInteger",value:function(t){return/^\d+$/.test(t)}},{key:"isValidVersionString",value:function(e){return!!t.isString(e)&&t.versionRegexp.test(e)}},{key:"makeIterator",value:function(t){var e=0;return{next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0}}}}},{key:"isUnique",value:function(t,e){return t.length===new Set(t.map(e)).size}},{key:"getErrorDTO",value:function(t){return t?{name:t.constructor.name,message:t.message,data:t.data}:t}},{key:"cartesianProductOf",value:function(e){return t.reduce(e,function(e,n){return t.flatten(t.map(e,function(e){return t.map(n,function(t){return e.concat([t])})}),!0)},[[]])}},{key:"indexesOf",value:function(t,e){return t.reduce(function(t,n,r){return n===e?t.concat(r):t},[])}},{key:"startsWith",value:function(){return s.startsWith.apply(s,arguments)}},{key:"isBoolean",value:function(){return s.isBoolean.apply(s,arguments)}},{key:"find",value:function(){return s.find.apply(s,arguments)}},{key:"fill",value:function(){return s.fill.apply(s,arguments)}},{key:"assign",value:function(){return s.assign.apply(s,arguments)}},{key:"cloneDeep",value:function(){return s.cloneDeep.apply(s,arguments)}},{key:"clone",value:function(){return s.clone.apply(s,arguments)}},{key:"cloneDeepWith",value:function(){return s.cloneDeepWith.apply(s,arguments)}},{key:"cloneWith",value:function(){return s.cloneWith.apply(s,arguments)}},{key:"mergeWith",value:function(){return s.mergeWith.apply(s,arguments)}},{key:"forOwn",value:function(){return s.forOwn.apply(s,arguments)}},{key:"get",value:function(){return s.get.apply(s,arguments)}},{key:"set",value:function(){return s.set.apply(s,arguments)}},{key:"reduce",value:function(){return s.reduce.apply(s,arguments)}},{key:"flatten",value:function(){return s.flatten.apply(s,arguments)}},{key:"map",value:function(){return s.map.apply(s,arguments)}},{key:"maxBy",value:function(){return s.maxBy.apply(s,arguments)}},{key:"minBy",value:function(){return s.minBy.apply(s,arguments)}},{key:"debounce",value:function(){return s.debounce.apply(s,arguments)}},{key:"template",value:function(){return s.template.apply(s,arguments)}},{key:"round",value:function(){return s.round.apply(s,arguments)}}]),t}();c.SQRT_2=1.41421356237,c.timers={},c.versionRegexp=/^([0-9]+)\.([0-9]+)\.([0-9]+)$/}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{lodash:35}],53:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.AppUtils=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./d3")),a=t("./templates"),u=t("./i18n/i18n"),s=t("sd-utils"),c=function(){function t(){r(this,t)}return i(t,null,[{key:"placeTextWithEllipsis",value:function(t,e,n){var r=t.node();r.textContent=e;if(r.getComputedTextLength()>n+0){for(var i=e.length-3;i>0;i-=1)if(r.getSubStringLength(0,i)+9<=n+0)return r.textContent=e.substring(0,i)+"...",!0;return r.textContent="...",!0}return!1}},{key:"placeTextWithEllipsisAndTooltip",value:function(e,n,r,i){t.placeTextWithEllipsis(e,n,r)&&i&&(e.on("mouseover",function(t){i.transition().duration(200).style("opacity",.9),i.html(n).style("left",o.event.pageX+5+"px").style("top",o.event.pageY-28+"px")}),e.on("mouseout",function(t){i.transition().duration(500).style("opacity",0)}))}},{key:"getFontSize",value:function(t){return window.getComputedStyle(t,null).getPropertyValue("font-size")}},{key:"getTranslation",value:function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttributeNS(null,"transform",t);var n=e.transform.baseVal.consolidate().matrix;return[n.e,n.f]}},{key:"closestPoint",value:function(t,e){function n(t){var n=t.x-e[0],r=t.y-e[1];return n*n+r*r}for(var r,i,o,a,u=t.getTotalLength(),s=8,c=1/0,l=0;l<=u;l+=s)(a=n(o=t.getPointAtLength(l)))<c&&(r=o,i=l,c=a);for(s/=2;s>.5;){var f,h,d,p,g,v;(d=i-s)>=0&&(g=n(f=t.getPointAtLength(d)))<c?(r=f,i=d,c=g):(p=i+s)<=u&&(v=n(h=t.getPointAtLength(p)))<c?(r=h,i=p,c=v):s/=2}return r=[r.x,r.y],r.distance=Math.sqrt(c),r}},{key:"growl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"right",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3,i=a.Templates.get("growl",{message:t,type:e}),u=o.select("body").selectOrAppend("div.sd-growl-list."+n).append("div").html(i);setTimeout(function(){u.remove()},r)}},{key:"createElement",value:function(e,n,r){var i=document.createElement(e);return n&&t.deepExtend(i,n),r&&r.appendChild(i),i}},{key:"removeElement",value:function(t){t.parentNode.removeChild(t)}},{key:"replaceUrls",value:function(t){if(!t)return t;return t.replace(/((ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?)/,'<a href="$1" target="_blank">$1</a>')}},{key:"escapeHtml",value:function(t){var e=document.createTextNode(t),n=document.createElement("div");return n.appendChild(e),n.innerHTML}},{key:"dispatchHtmlEvent",value:function(t,e){if("createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent(e,!1,!0),t.dispatchEvent(n)}else t.fireEvent("on"+e)}},{key:"dispatchEvent",value:function(t,e){var n;try{n=new CustomEvent(t,{detail:e})}catch(r){(n=document.createEvent("CustomEvent")).initCustomEvent(t,!1,!1,e)}document.dispatchEvent(n)}},{key:"getValidationMessage",value:function(t){s.Utils.isString(t)&&(t={name:t});var e="validation."+t.name;return u.i18n.t(e,t.data)}},{key:"hide",value:function(t){t.classed("sd-hidden",!0)}},{key:"show",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.classed("sd-hidden",!e)}},{key:"isHidden",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!t||(e?"none"===window.getComputedStyle(t).display:null===t.offsetParent)}}]),t}();n.AppUtils=c,c.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},c.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},c.availableHeight=function(t,e,n){return Math.max(0,c.sanitizeHeight(t,e)-n.top-n.bottom)},c.availableWidth=function(t,e,n){return Math.max(0,c.sanitizeWidth(t,e)-n.left-n.right)}},{"./d3":60,"./i18n/i18n":64,"./templates":72,"sd-utils":51}],54:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ContextMenu=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../d3"));n.ContextMenu=function(){function t(e,n){r(this,t);var i=this;return"function"==typeof n?i.openCallback=n:(n=n||{},i.openCallback=n.onOpen,i.closeCallback=n.onClose),o.selectAll(".d3-context-menu").data([1]).enter().append("div").attr("class","d3-context-menu"),o.select("body").on("click.d3-context-menu",function(){o.select(".d3-context-menu").style("display","none"),i.closeCallback&&i.closeCallback()}),function(t,n){var r=this;o.selectAll(".d3-context-menu").html(""),o.selectAll(".d3-context-menu").on("contextmenu",function(t){o.select(".d3-context-menu").style("display","none"),o.event.preventDefault(),o.event.stopPropagation()}).append("ul").selectAll("li").data("function"==typeof e?e(t):e).enter().append("li").attr("class",function(t){var e="";return t.divider&&(e+=" is-divider"),t.disabled&&(e+=" is-disabled"),t.action||(e+=" is-header"),e}).html(function(e){return e.divider?"<hr>":(e.title||console.error("No title attribute set. Check the spelling of your options."),"string"==typeof e.title?e.title:e.title(t))}).on("click",function(e,a){e.disabled||e.action&&(e.action(r,t,n),o.select(".d3-context-menu").style("display","none"),i.closeCallback&&i.closeCallback())}),i.openCallback&&!1===i.openCallback(t,n)||(o.select(".d3-context-menu").style("left",o.event.pageX-2+"px").style("top",o.event.pageY-2+"px").style("display","block"),o.event.preventDefault(),o.event.stopPropagation())}}return i(t,null,[{key:"hide",value:function(){o.select(".d3-context-menu").style("display","none")}}]),t}()},{"../d3":60}],55:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":a(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":a(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(n,"__esModule",{value:!0}),n.EdgeContextMenu=void 0;var u=t("./context-menu"),s=t("../i18n/i18n");n.EdgeContextMenu=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,function(e){var n=[];return n.push({title:s.i18n.t("contextMenu.edge.injectDecisionNode"),action:function(e,n,r){t.injectDecisionNode(n)}}),n.push({title:s.i18n.t("contextMenu.edge.injectChanceNode"),action:function(e,n,r){t.injectChanceNode(n)}}),n}));return n.treeDesigner=t,n}return o(e,u.ContextMenu),e}()},{"../i18n/i18n":64,"./context-menu":54}],56:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":a(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":a(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(n,"__esModule",{value:!0}),n.MainContextMenu=void 0;var u=t("./context-menu"),s=t("sd-model"),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../d3")),l=t("../i18n/i18n");n.MainContextMenu=function(t){function e(t){r(this,e);var n=null,o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,function(e){var r=[];return r.push({title:l.i18n.t("contextMenu.main.addDecisionNode"),action:function(e,r,i){var o=new s.domain.DecisionNode(n);t.addNode(o)}}),r.push({title:l.i18n.t("contextMenu.main.addChanceNode"),action:function(e,r,i){var o=new s.domain.ChanceNode(n);t.addNode(o)}}),r.push({divider:!0}),r.push({title:l.i18n.t("contextMenu.main.addText"),action:function(e,r,i){var o=new s.domain.Text(n);t.addText(o)}}),r.push({divider:!0}),r.push({title:l.i18n.t("contextMenu.main.paste"),action:function(e,r,i){t.pasteToNewLocation(n)},disabled:!t.copiedNodes||!t.copiedNodes.length}),r.push({divider:!0}),r.push({title:l.i18n.t("contextMenu.main.selectAllNodes"),action:function(e,n,r){t.selectAllNodes()}}),r},{onOpen:function(){t.clearSelection(),n=new s.domain.Point(c.mouse(t.svg.node())).move(t.getMainGroupTranslation(!0))}}));return o.treeDesigner=t,o}return o(e,u.ContextMenu),e}()},{"../d3":60,"../i18n/i18n":64,"./context-menu":54,"sd-model":37}],57:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":a(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":a(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(n,"__esModule",{value:!0}),n.NodeContextMenu=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("./context-menu"),c=t("sd-model"),l=t("../i18n/i18n");n.NodeContextMenu=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,function(r){var i={title:l.i18n.t("contextMenu.node.copy"),action:function(e,n,r){t.selectNode(n,!t.isNodeSelected(n)),t.copySelectedNodes()}},o={title:l.i18n.t("contextMenu.node.cut"),action:function(e,n,r){t.selectNode(n,!t.isNodeSelected(n)),t.cutSelectedNodes()}},a={title:l.i18n.t("contextMenu.node.paste"),action:function(e,n,r){t.pasteToNode(n)},disabled:r.folded||!t.copiedNodes||!t.copiedNodes.length},u={title:l.i18n.t("contextMenu.node.delete"),action:function(e,n,r){t.selectNode(n,!t.isNodeSelected(n)),t.removeSelectedNodes()}},s=[];if(r.type==c.domain.TerminalNode.$TYPE)return s=[i,o,u],e.addNodeConversionOptions(r,s,t),s;if(r.folded||(s.push({title:l.i18n.t("contextMenu.node.addDecisionNode"),action:function(e,n,r){t.addDecisionNode(n)}}),s.push({title:l.i18n.t("contextMenu.node.addChanceNode"),action:function(e,n,r){t.addChanceNode(n)}}),s.push({title:l.i18n.t("contextMenu.node.addTerminalNode"),action:function(e,n,r){t.addTerminalNode(n)}}),s.push({divider:!0})),s.push(i),s.push(o),s.push(a),s.push(u),e.addNodeConversionOptions(r,s,t),s.push({divider:!0}),s.push({title:l.i18n.t("contextMenu.node.selectSubtree"),action:function(e,n,r){t.selectSubTree(n,!0)}}),r.folded?s.push({title:l.i18n.t("contextMenu.node.unfold"),action:function(e,n,r){t.foldSubtree(n,!1)}}):s.push({title:l.i18n.t("contextMenu.node.fold"),action:function(e,n,r){t.foldSubtree(n)}}),n){var f=n(r);f.length&&(s.push({divider:!0}),f.forEach(function(e){s.push({title:l.i18n.t("contextMenu.node."+e.name),action:function(n,r,i){t.performOperation(r,e)},disabled:!e.canPerform(r)})}))}return s}));return o.treeDesigner=t,o}return o(e,s.ContextMenu),u(e,null,[{key:"addNodeConversionOptions",value:function(t,n,r){var i=e.getNodeConversionOptions(t,r);i.length&&(n.push({divider:!0}),i.forEach(function(t){return n.push(t)}))}},{key:"getNodeConversionOptions",value:function(t,n){var r=[],i=[c.domain.DecisionNode.$TYPE,c.domain.ChanceNode.$TYPE,c.domain.TerminalNode.$TYPE];return!t.childEdges.length&&t.$parent?i.filter(function(e){return e!==t.type}).forEach(function(t){r.push(e.getNodeConversionOption(t,n))}):t instanceof c.domain.DecisionNode?r.push(e.getNodeConversionOption(c.domain.ChanceNode.$TYPE,n)):r.push(e.getNodeConversionOption(c.domain.DecisionNode.$TYPE,n)),r}},{key:"getNodeConversionOption",value:function(t,e){return{title:l.i18n.t("contextMenu.node.convert."+t),action:function(n,r,i){e.convertNode(r,t)}}}}]),e}()},{"../i18n/i18n":64,"./context-menu":54,"sd-model":37}],58:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":a(e))&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":a(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(n,"__esModule",{value:!0}),n.TextContextMenu=void 0;var u=t("./context-menu"),s=t("../i18n/i18n");n.TextContextMenu=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,function(e){var n={title:s.i18n.t("contextMenu.text.delete"),action:function(e,n,r){t.selectText(n,!0,!0),t.removeSelectedTexts()}},r=[];return r.push(n),r}));return n.treeDesigner=t,n}return o(e,u.ContextMenu),e}()},{"../i18n/i18n":64,"./context-menu":54}],59:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.D3Extensions=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./d3"));n.D3Extensions=function(){function t(){r(this,t)}return i(t,null,[{key:"extend",value:function(){o.selection.prototype.enter.prototype.insertSelector=o.selection.prototype.insertSelector=function(e,n){return t.insertSelector(this,e,n)},o.selection.prototype.enter.prototype.appendSelector=o.selection.prototype.appendSelector=function(e){return t.appendSelector(this,e)},o.selection.prototype.enter.prototype.selectOrAppend=o.selection.prototype.selectOrAppend=function(e){return t.selectOrAppend(this,e)},o.selection.prototype.enter.prototype.selectOrInsert=o.selection.prototype.selectOrInsert=function(e,n){return t.selectOrInsert(this,e,n)}}},{key:"insertOrAppendSelector",value:function(t,e,n,r){for(var i=e.split(/([\.\#])/),o=t[n](i.shift(),r);i.length>1;){var a=i.shift(),u=i.shift();"."===a?o=o.classed(u,!0):"#"===a&&(o=o.attr("id",u))}return o}},{key:"insertSelector",value:function(e,n,r){return t.insertOrAppendSelector(e,n,"insert",r)}},{key:"appendSelector",value:function(e,n){return t.insertOrAppendSelector(e,n,"append")}},{key:"selectOrAppend",value:function(e,n,r){var i=e.select(n);return i.empty()?r?e.append(r):t.appendSelector(e,n):i}},{key:"selectOrInsert",value:function(e,n,r){var i=e.select(n);return i.empty()?t.insertSelector(e,n,r):i}}]),t}()},{"./d3":60}],60:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("d3-dispatch");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var i=t("d3-scale");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("d3-selection");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var a=t("d3-shape");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}})});var u=t("d3-drag");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})});var s=t("d3-brush");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})});var c=t("d3-array");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return c[t]}})});var l=t("d3-hierarchy");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return l[t]}})});var f=t("d3-time-format");Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return f[t]}})})},{"d3-array":1,"d3-brush":2,"d3-dispatch":5,"d3-drag":6,"d3-hierarchy":9,"d3-scale":12,"d3-selection":13,"d3-shape":14,"d3-time-format":15}],61:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Entscheidungsknoten hinzufügen",addChanceNode:"Zufall Knoten hinzufügen",addText:"Text hinzufügen ",paste:"Einfügen",selectAllNodes:"Alle Knoten auswählen"},node:{copy:"Kopieren",cut:"Ausschneiden",paste:"Einfügen",delete:"Löschen",addDecisionNode:"Entscheidungsknoten hinzufügen",addChanceNode:"Zufall Knoten hinzufügen",addTerminalNode:"Endknotten hinzufügen",convert:{decision:"Als Entscheidungsknoten",chance:"Als Zufall Knoten",terminal:"Als Endknoten"},selectSubtree:"Teilbaum wählen",flipSubtree:"Teilbaum umdrehen"},edge:{injectDecisionNode:"Entscheidungsknoten Injizieren",injectChanceNode:"Zufall Knoten Injizieren"},text:{delete:"Löschen"}},validation:{incompletePath:"Pfad, der nicht mit dem Endknoten endet",probabilityDoNotSumUpTo1:"Die Summe der Wahrscheinlichkeiten ist nicht gleich 1",invalidProbability:"Ungültige Wahrscheinlichkeit im Zweig #{{number}}",invalidPayoff:"Ungültige Auszahlung in Zweig #{{number}}"},growl:{brushDisabled:"Auswahlbürste deaktiviert",brushEnabled:"Auswahlbürste aktiviert"},tooltip:{node:{payoff:{default:"Auszahlung {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Aggregierte Auszahlung {{number}}",named:"Aggregierte {{name}}"},probabilityToEnter:"Wahrscheinlichkeit"},edge:{payoff:{default:"Auszahlung {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Wahrscheinlichkeit: {{value}}"}}}},{}],62:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Add Decision Node",addChanceNode:"Add Chance Node",addText:"Add Text",paste:"Paste",selectAllNodes:"Select all nodes"},node:{copy:"Copy",cut:"Cut",paste:"Paste",delete:"Delete",addDecisionNode:"Add Decision Node",addChanceNode:"Add Chance Node",addTerminalNode:"Add Terminal Node",convert:{decision:"As Decision Node",chance:"As Chance Node",terminal:"As Terminal Node"},selectSubtree:"Select subtree",fold:"Fold subtree",unfold:"Unfold subtree",flipSubtree:"Flip subtree"},edge:{injectDecisionNode:"Inject Decision Node",injectChanceNode:"Inject Chance Node"},text:{delete:"Delete"}},validation:{incompletePath:"Path not ending with terminal node",probabilityDoNotSumUpTo1:"Probabilities do not sum up to 1",invalidProbability:"Invalid probability in edge #{{number}}",invalidPayoff:"Invalid payoff in edge #{{number}}"},growl:{brushDisabled:"Selection brush disabled",brushEnabled:"Selection brush enabled"},tooltip:{node:{payoff:{default:"Payoff {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Aggregated Payoff {{number}}",named:"Aggregated {{name}}"},probabilityToEnter:"Probability to enter"},edge:{payoff:{default:"Payoff {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Probability: {{value}}"}}}},{}],63:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Ajouter noud de décision",addChanceNode:"Ajouter noud aléatoire",addText:"Ajouter du texte",paste:"Coller",selectAllNodes:"Sélectionner tous les nouds"},node:{copy:"Copie",cut:"Couper",paste:"Coller",delete:"Effacer",addDecisionNode:"Ajouter noud de décision",addChanceNode:"Ajouter noud aléatoire",addTerminalNode:"Ajouter un noeud terminal",convert:{decision:"Comme noud de décision",chance:"Comme noud aléatoire",terminal:"Comme un noeud terminal"},selectSubtree:"Sélectionner une sous-arborescence",flipSubtree:"Basculer sous-arbre"},edge:{injectDecisionNode:"Injecter un noeud de décision",injectChanceNode:"Injecter un noeud de chance"},text:{delete:"Effacer"}},validation:{incompletePath:"Parcours non terminé par noeud terminal",probabilityDoNotSumUpTo1:"La somme des probabilités n'est pas 1 ou plus",invalidProbability:"Probabilité invalide - le bord #{{number}}",invalidPayoff:"Avantage invalide - le bord #{{number}}"},growl:{brushDisabled:"Brosse de sélection désactivée",brushEnabled:"Brosse de sélection activée"},tooltip:{node:{payoff:{default:"Avantage {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Avantage agrégé {{number}}",named:"Agrégé  {{name}}"},probabilityToEnter:"Probabilité d'entrée"},edge:{payoff:{default:"Avantage {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Probabilité: {{value}}"}}}},{}],64:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.i18n=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t){return t&&t.__esModule?t:{default:t}}(t("i18next")),u=r(t("./en.json")),s=r(t("./pl.json")),c=r(t("./it.json")),l=r(t("./de.json")),f=r(t("./fr.json"));n.i18n=function(){function t(){i(this,t)}return o(t,null,[{key:"init",value:function(e){t.language=e;var n={en:{translation:u},pl:{translation:s},it:{translation:c},de:{translation:l},fr:{translation:f}};t.$instance=a.default.createInstance({lng:e,fallbackLng:"en",resources:n},function(t,e){})}},{key:"t",value:function(e,n){return t.$instance.t(e,n)}}]),t}()},{"./de.json":61,"./en.json":62,"./fr.json":63,"./it.json":65,"./pl.json":66,i18next:34}],65:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Aggiungi un nodo di decisione",addChanceNode:"Aggiungi un nodo opportunità",addText:"Aggiungi testo",paste:"Incolla",selectAllNodes:"Seleziona tutti i nodi"},node:{copy:"Copia",cut:"Taglia",paste:"Incolla",delete:"Cancella",addDecisionNode:"Aggiungi un nodo di decisione",addChanceNode:"Aggiungi un nodo opportunità",addTerminalNode:"Aggiungi un nodo terminale",convert:{decision:"Come Decision Node",chance:"Come Chance Node",terminal:"Come Terminal Node"},selectSubtree:"Seleziona Sotto-albero",flipSubtree:"Ribalta sotto-albero"},edge:{injectDecisionNode:"Inietta nodo di decisione",injectChanceNode:"Inietta nodo opportunità"},text:{delete:"Cancella"}},validation:{incompletePath:"Percorso senza nodo terminale",probabilityDoNotSumUpTo1:"La somma delle probabilità è diversa da 1",invalidProbability:"Probabilità non valida - bordo #{{number}}",invalidPayoff:"Saldo non valido - bordo #{{number}}"},growl:{brushDisabled:"Selezione pennello disabilitata",brushEnabled:"Selezione pennello abilitata"},tooltip:{node:{payoff:{default:"Saldo {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Saldo aggregato {{number}}",named:"Aggregato {{name}}"},probabilityToEnter:"Probabilità da inserire"},edge:{payoff:{default:"Saldo {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Probabilità: {{value}}"}}}},{}],66:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Dodaj Węzeł Decyzyjny",addChanceNode:"Dodaj Węzeł Losowy",addText:"Dodaj Tekst",paste:"Wklej",selectAllNodes:"Zaznacz wszystkie węzły"},node:{copy:"Kopiuj",cut:"Wytnij",paste:"Wklej",delete:"Usuń",addDecisionNode:"Dodaj Węzeł Decyzyjny",addChanceNode:"Dodaj Węzeł Losowy",addTerminalNode:"Dodaj Węzeł Końcowy",convert:{decision:"Jako Węzeł Decyzyjny",chance:"Jako Węzeł Losowy",terminal:"Jako Węzeł Końcowy"},selectSubtree:"Zaznacz poddrzewo",flipSubtree:"Przewróć poddrzewo"},edge:{injectDecisionNode:"Wstrzyknij Węzeł Decyzyjny",injectChanceNode:"Wstrzyknij Węzeł Losowy"},text:{delete:"Usuń"}},validation:{incompletePath:"Ostatnim węzłem w ścieżce powinien być Węzeł Końcowy",probabilityDoNotSumUpTo1:"Prawdopodobieństwa nie sumują sie do 1",invalidProbability:"Niepoprawne prawdopodobieństwo na krawędzi #{{number}}",invalidPayoff:"Niepoprawna wypłata na krawędzi #{{number}}"},growl:{brushDisabled:"Zaznaczanie wyłączone",brushEnabled:"Zaznaczanie włączone"},tooltip:{node:{payoff:{default:"Wypłata {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Zagregowana wypłata {{number}}",named:"Zagregowana {{name}}"},probabilityToEnter:"Prawdopodobieństwo wejścia"},edge:{payoff:{default:"Wypłata {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Prawdopodobieństwo: {{value}}"}}}},{}],67:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.d3=void 0;var i=t("./tree-designer");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("./app-utils");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var a=t("./templates");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}})});var u=t("./tooltip");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})});var s=t("./d3-extensions");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})});var c=t("./d3");Object.defineProperty(n,"d3",{enumerable:!0,get:function(){return r(c).default}}),s.D3Extensions.extend()},{"./app-utils":53,"./d3":60,"./d3-extensions":59,"./templates":72,"./tooltip":75,"./tree-designer":76}],68:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Layout=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("sd-utils"),u=t("sd-model"),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./d3")),c=r(t("./symbols/circle")),l=r(t("./symbols/triangle")),f=t("./app-utils");(n.Layout=function(){function t(e,n,r){i(this,t),this.nodeTypeToSymbol={decision:s.symbolSquare,chance:c.default,terminal:l.default},this.onAutoLayoutChanged=[],this.nodeTypeOrder={decision:0,chance:0,terminal:1},this.treeMargin=50,this.targetSymbolSize={},this.nodeSeparation=function(t,e){return t.parent==e.parent?1:1.2},this.nodeSymbolSize={},this.treeDesigner=e,this.data=n,this.config=r}return o(t,[{key:"update",value:function(t){if(t&&t.$parent&&t.$parent.childEdges.sort(function(t,e){return t.childNode.location.y-e.childNode.location.y}),!this.isManualLayout())return this.autoLayout(this.config.type,!0);t?this.moveNodeToEmptyPlace(t):this.treeDesigner.redraw(!0)}},{key:"isManualLayout",value:function(){return this.config.type==t.MANUAL_LAYOUT_NAME}},{key:"getNewChildLocation",value:function(t){if(!t)return new u.domain.Point(this.getNodeMinX(),this.getNodeMinY());var e=t.location.x+this.config.gridWidth,n=t.location.y;return t.childEdges.length&&(n=t.childEdges[t.childEdges.length-1].childNode.location.y+1),new u.domain.Point(e,n)}},{key:"getInjectedNodeLocation",value:function(t){var e=t.$linePoints[2];return new u.domain.Point(e[0],e[1])}},{key:"moveNodeToEmptyPlace",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;t.location.x=Math.max(this.getNodeMinX(t),t.location.x),t.location.y=Math.max(this.getNodeMinY(t),t.location.y),this.nodesSortedByX=this.data.nodes.slice(),this.nodesSortedByX.sort(function(t,e){return t.location.x-e.location.x});for(var r,i=this.config.nodeSize/2,o=this.config.nodeSize+10,s=!1,c=new u.domain.Point(t.location);r=function(t,e){return a.Utils.find(n.nodesSortedByX,function(r){if(t==r)return!1;var i=n.config.nodeSize/3,o=r.location.x,a=r.location.y;return e.x-i<=o&&e.x+i>=o&&e.y-i<=a&&e.y+i>=a})}(t,c);)s=!0,t.$parent&&r.$parent&&t.$parent==r.$parent?c.move(0,75):c.move(i,o);s&&(t.moveTo(c.x,c.y,!0),e&&this.treeDesigner.redraw(!0))}},{key:"disableAutoLayout",value:function(){this.config.type=t.MANUAL_LAYOUT_NAME,this._fireOnAutoLayoutChangedCallbacks()}},{key:"drawNodeSymbol",value:function(t,e){var n=this,r=this.config.nodeSize;this.nodeSymbol=s.symbol().type(function(t){return n.nodeTypeToSymbol[t.type]}).size(function(t){return n.nodeSymbolSize[t.$id]?a.Utils.get(n.targetSymbolSize,t.type+"['"+n.config.nodeSize+"']",64):64}),t.each(function(t){var i=s.select(this);i.attr("d")||i.attr("d",n.nodeSymbol);var o=a.Utils.get(n.targetSymbolSize,t.type+"['"+n.config.nodeSize+"']");if(!o){var u=i.node().getBBox(),c=Math.min(r/u.width,r/u.height);o=c*c*(n.nodeSymbolSize[t.$id]||64),a.Utils.set(n.targetSymbolSize,t.type+"['"+n.config.nodeSize+"']",o)}e?i=i.transition():n.nodeSymbolSize[t.$id]=o,i.attr("d",n.nodeSymbol),e&&(n.nodeSymbolSize[t.$id]=o)})}},{key:"nodeLabelPosition",value:function(t){return t.attr("x",0).attr("y",-this.config.nodeSize/2-7)}},{key:"nodePayoffPosition",value:function(e){return t.setHangingPosition(e).attr("x",0).attr("y",this.config.nodeSize/2+7).attr("text-anchor","middle")}},{key:"nodeAggregatedPayoffPosition",value:function(e){var n=this,r=this.config.nodeSize/2+7;return t.setHangingPosition(e).attr("x",r).attr("y",function(t){var e=t.displayValue("aggregatedPayoff"),r=a.Utils.isArray(e)?e.filter(function(t){return void 0!==t}).length:1;return-Math.max(12*r+r>1?0:5,n.config.nodeSize/2)+(r>1?2:5)}),e.selectAll("tspan").attr("x",r),e}},{key:"nodeProbabilityToEnterPosition",value:function(t){return t.attr("x",this.config.nodeSize/2+7).attr("y",Math.max(17,this.config.nodeSize/2)-5)}},{key:"nodeIndicatorPosition",value:function(t){return t.attr("x",this.config.nodeSize/2+8).attr("y",-this.config.nodeSize/2).attr("dominant-baseline","central").attr("text-anchor","middle")}},{key:"nodeUnfoldButtonPosition",value:function(t){return t.attr("x",this.config.nodeSize/2+5).attr("y",0).attr("dominant-baseline","central")}},{key:"edgeLineD",value:function(t){var e=s.line().x(function(t){return t[0]}).y(function(t){return t[1]}),n=t.parentNode,r=t.childNode,i=r.location.x-n.location.x,o=(r.location.y,n.location.y,i>=0?1:-1),a=Math.min(i/2,this.config.nodeSize/2+10),u=Math.min(this.config.edgeSlantWidthMax,Math.max(i/2-a,0)),c=[n.location.x+this.config.nodeSize/2+1,n.location.y],l=[Math.max(n.location.x+a,c[0]),n.location.y],f=[n.location.x+a+u,r.location.y],h=[r.location.x-o*Math.max(0,Math.min(this.config.nodeSize/2+8,i/2)),r.location.y];return t.$linePoints=[c,l,f,h],e(t.$linePoints)}},{key:"edgePayoffPosition",value:function(e){return t.setHangingPosition(e).attr("x",function(t){return t.$linePoints[2][0]+2}).attr("y",function(t){return t.$linePoints[2][1]+7}),e.selectAll("tspan").attr("x",function(t){return s.select(this.parentNode).datum().$linePoints[2][0]+2}),e}},{key:"edgeLabelPosition",value:function(t){return t.attr("transform",function(t){return"translate("+(t.$linePoints[2][0]+2)+","+(t.$linePoints[2][1]-7)+")"})}},{key:"edgeProbabilityPosition",value:function(e){return t.setHangingPosition(e).attr("x",function(t){var e=this.getComputedTextLength(),n=t.$linePoints[2][0]+2+this.previousSibling.childNodes[0].getComputedTextLength()+7+e;return Math.max(n,t.$linePoints[3][0]-8)}).attr("y",function(t){return t.$linePoints[2][1]+7})}},{key:"getMinMarginBetweenNodes",value:function(){return this.config.nodeSize+30}},{key:"getNodeMinX",value:function(t){var e=this;return t&&t.$parent?t.$parent.location.x+e.getMinMarginBetweenNodes():e.config.nodeSize/2}},{key:"getNodeMinY",value:function(t){return this.config.nodeSize/2}},{key:"getNodeMaxX",value:function(t){var e=this;return t&&t.childEdges.length?s.min(t.childEdges,function(t){return t.childNode.$hidden?9999999:t.childNode.location.x})-e.getMinMarginBetweenNodes():9999999}},{key:"setGridWidth",value:function(t,e){var n=this;this.config.gridWidth!=t&&(e||this.data.saveState({data:{gridWidth:n.config.gridWidth},onUndo:function(t){n.setGridWidth(t.gridWidth,!0)},onRedo:function(e){n.setGridWidth(t,!0)}}),this.config.gridWidth=t,this.update())}},{key:"setGridHeight",value:function(t,e){var n=this;this.config.gridHeight!=t&&(e||this.data.saveState({data:{gridHeight:n.config.gridHeight},onUndo:function(t){n.setGridHeight(t.gridHeight,!0)},onRedo:function(e){n.setGridHeight(t,!0)}}),this.config.gridHeight=t,this.update())}},{key:"setNodeSize",value:function(t,e){var n=this;this.config.nodeSize!=t&&(e||this.data.saveState({data:{nodeSize:n.config.nodeSize},onUndo:function(t){n.setNodeSize(t.nodeSize,!0)},onRedo:function(e){n.setNodeSize(t,!0)}}),this.config.nodeSize=t,this.update(),this.isManualLayout()&&(this.fitNodesInPlottingRegion(n.data.getRoots()),this.treeDesigner.redraw(!0)))}},{key:"setEdgeSlantWidthMax",value:function(t,e){var n=this;this.config.edgeSlantWidthMax!=t&&(e||this.data.saveState({data:{edgeSlantWidthMax:n.config.edgeSlantWidthMax},onUndo:function(t){n.setEdgeSlantWidthMax(t.edgeSlantWidthMax,!0)},onRedo:function(e){n.setEdgeSlantWidthMax(t,!0)}}),this.config.edgeSlantWidthMax=t,this.treeDesigner.redraw(!0))}},{key:"autoLayout",value:function(t,e){var n=this;if(e||this.data.saveState({data:{newLayout:t,currentLayout:n.config.type},onUndo:function(t){n.config.type=t.currentLayout,n._fireOnAutoLayoutChangedCallbacks()},onRedo:function(t){n.autoLayout(t.newLayout,!0)}}),this.config.type=t,this.data.nodes.length){var r=n.getNodeMinY();return this.data.getRoots().forEach(function(e){var i=s.hierarchy(e,function(t){return t.childEdges.filter(function(t){return!t.$hidden}).map(function(t){return t.childNode})});i.sort(function(t,e){return t.data.location.y-e.data.location.y});var o;(o="cluster"==t?s.cluster():s.tree()).nodeSize([n.config.gridHeight,n.config.gridWidth]),o.separation(n.nodeSeparation),o(i);var a=999999999;i.each(function(t){a=Math.min(a,t.x)});var u=i.x-a+r,c=n.getNodeMinX(),l=0;i.each(function(t){t.data.location.x=t.y+c,t.data.location.y=t.x+u,l=Math.max(l,t.data.location.y)}),r=l+n.config.nodeSize+n.treeMargin}),this.treeDesigner.redraw(!0),this._fireOnAutoLayoutChangedCallbacks(),this}this._fireOnAutoLayoutChangedCallbacks()}},{key:"fitNodesInPlottingRegion",value:function(t){var e=this,n=s.min(t,function(t){return t.location.y})-e.getNodeMinY(),r=s.min(t,function(t){return t.location.x})-e.getNodeMinX();(n<0||r<0)&&t.forEach(function(t){return t.move(-r,-n)})}},{key:"moveNodes",value:function(e,n,r,i){var o=this,a=o.config.limitNodePositioning;a&&(n<0?e.sort(function(t,e){return t.location.x-e.location.x}):e.sort(function(t,e){return e.location.x-t.location.x}));var u=s.min(e,function(t){return t.location.y});u+r<o.getNodeMinY()&&(r=o.getNodeMinY()-u),e.forEach(function(e){if(a){t.backupNodeLocation(e);var i=o.getNodeMinX(e),u=o.getNodeMaxX(e);e.location.x=Math.min(Math.max(e.location.x+n,i),u),e.location.y+=r}else e.location.x+=n,e.location.y+=r});var c=i&&o.config.limitNodePositioning&&i.location.x==i.$location.x;e.forEach(function(t){c&&(t.location.x=t.$location.x),o.treeDesigner.updateNodePosition(t)})}},{key:"_fireOnAutoLayoutChangedCallbacks",value:function(){var t=this;this.onAutoLayoutChanged.forEach(function(e){return e(t.config.type)})}}],[{key:"backupNodeLocation",value:function(t){t.$location=new u.domain.Point(t.location)}},{key:"setHangingPosition",value:function(t){return f.AppUtils.isHidden(t.node())?t:(t.each(function(){this.getBBox().height;s.select(this).attr("dy","0.75em")}),t)}}]),t}()).MANUAL_LAYOUT_NAME="manual"},{"./app-utils":53,"./d3":60,"./symbols/circle":70,"./symbols/triangle":71,"sd-model":37,"sd-utils":51}],69:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.NodeDragHandler=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("./app-utils"),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./d3")),u=t("./context-menu/context-menu");n.NodeDragHandler=function(){function t(e,n){r(this,t),this.treeDesigner=e,this.data=n;var i=this;this.drag=a.drag().subject(function(t){if(null==t)return{x:event.x,y:event.y};var e=a.select(this);return{x:e.attr("x")+o.AppUtils.getTranslation(e.attr("transform"))[0],y:e.attr("y")+o.AppUtils.getTranslation(e.attr("transform"))[1]}}).on("start",function(t){i.dragStarted.call(this,t,i)}).on("drag",function(t){i.onDrag.call(this,t,i)}).on("end",function(t){i.dragEnded.call(this,t,i)})}return i(t,[{key:"dragStarted",value:function(t,e){if(e.ignoreDrag)return e.ignoreDrag=!1,void(e.ignoredDrag=!0);e.ignoredDrag=!1,u.ContextMenu.hide();var n=a.select(this);n.classed("selected")||e.treeDesigner.clearSelection(),e.treeDesigner.selectNode(t),n.classed("selected dragging",!0),e.selectedNodes=e.treeDesigner.getSelectedNodes(!0),e.prevDragEvent=a.event,e.dragEventCount=0}},{key:"onDrag",value:function(t,e){if(!(e.ignoredDrag||(2==e.dragEventCount&&e.data.saveState(),e.dragEventCount++,e.selectedNodes.length>5&&e.dragEventCount%2!=1))){var n=a.event.x-e.prevDragEvent.x,r=a.event.y-e.prevDragEvent.y;e.treeDesigner.layout.moveNodes(e.selectedNodes,n,r,t),e.prevDragEvent=a.event,e.treeDesigner.redrawEdges(),e.treeDesigner.updatePlottingRegionSize()}}},{key:"dragEnded",value:function(t,e){a.select(this).classed("dragging",!1);e.ignoredDrag||e.treeDesigner.layout.update(t)}},{key:"cancelDrag",value:function(){this.ignoreDrag=!0}}]),t}()},{"./app-utils":53,"./context-menu/context-menu":54,"./d3":60}],70:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Math.PI;n.default={draw:function(t,e){var n=Math.sqrt(e/r),i=.552284749831*n;t.moveTo(-n,0),t.bezierCurveTo(-n,-i,-i,-n,0,-n),t.bezierCurveTo(i,-n,n,-i,n,0),t.bezierCurveTo(n,i,i,n,0,n),t.bezierCurveTo(-i,n,-n,i,-n,0)}}},{}],71:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});Math.sqrt(3);n.default={draw:function(t,e){var n=Math.sqrt(e/Math.PI);t.moveTo(-n,0),t.lineTo(.9*n,-n),t.lineTo(.9*n,n),t.closePath()}}},{}],72:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Templates=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("sd-utils"),a=t("./i18n/i18n"),u=n.Templates=function(){function t(){r(this,t)}return i(t,null,[{key:"get",value:function(e,n){var r=o.Utils.template(t[e],{imports:{i18n:a.i18n,Templates:t,include:function(e,n){return t.get(e,n)}}});return n?n.variables=n:n={variables:{}},r(n)}},{key:"styleRule",value:function(e,n){var r=e+"{";return n.forEach(function(e){return r+=t.styleProp(e[0],e[1])}),r+="} "}},{key:"styleProp",value:function(t,e){return t+": <%= "+e+" %>; "}},{key:"nodeSelector",value:function(e,n){var r=t.treeDesignerSelector+" .node";return e&&(r+="."+e+"-node"),n&&(r+="."+n),r}},{key:"edgeSelector",value:function(e){var n=t.treeDesignerSelector+" .edge";return e&&(n+="."+e),n}}]),t}();u.growl=t("./templates/growl_message.html"),u.treeDesignerSelector="svg.sd-tree-designer",u.treeDesignerStyles=u.styleRule(u.treeDesignerSelector,[["font-size","fontSize"],["font-family","fontFamily"],["font-weight","fontWeight"],["font-style","fontStyle"]])+u.styleRule(u.nodeSelector()+" path",[["fill","node.fill"],["stroke-width","node.strokeWidth"]])+u.styleRule(u.nodeSelector("decision","optimal")+" path, "+u.nodeSelector("chance","optimal")+" path,"+u.nodeSelector("terminal","optimal")+" path",[["stroke","node.optimal.stroke"],["stroke-width","node.optimal.strokeWidth"]])+u.styleRule(u.nodeSelector()+" .label",[["font-size","node.label.fontSize"],["fill","node.label.color"]])+u.styleRule(u.nodeSelector()+" .payoff",[["font-size","node.payoff.fontSize"],["fill","node.payoff.color"]])+u.styleRule(u.nodeSelector()+" .payoff.negative",[["fill","node.payoff.negativeColor"]])+u.styleRule(u.nodeSelector("decision")+" path",[["fill","node.decision.fill"],["stroke","node.decision.stroke"]])+u.styleRule(u.nodeSelector("decision","selected")+" path",[["fill","node.decision.selected.fill"]])+u.styleRule(u.nodeSelector("chance")+" path",[["fill","node.chance.fill"],["stroke","node.chance.stroke"]])+u.styleRule(u.nodeSelector("chance","selected")+" path",[["fill","node.chance.selected.fill"]])+u.styleRule(u.nodeSelector("terminal")+" path",[["fill","node.terminal.fill"],["stroke","node.terminal.stroke"]])+u.styleRule(u.nodeSelector("terminal","selected")+" path",[["fill","node.terminal.selected.fill"]])+u.styleRule(u.nodeSelector("terminal")+" .aggregated-payoff",[["font-size","node.terminal.payoff.fontSize"],["fill","node.terminal.payoff.color"]])+u.styleRule(u.nodeSelector("terminal")+" .aggregated-payoff.negative",[["fill","node.terminal.payoff.negativeColor"]])+u.styleRule(u.treeDesignerSelector+" .node .probability-to-enter, "+u.treeDesignerSelector+" .edge .probability",[["font-size","probability.fontSize"],["fill","probability.color"]])+u.styleRule(u.edgeSelector()+" path",[["stroke","edge.stroke"],["stroke-width","edge.strokeWidth"]])+u.styleRule(u.treeDesignerSelector+" marker#arrow path",[["fill","edge.stroke"]])+u.styleRule(u.edgeSelector("optimal")+" path",[["stroke","edge.optimal.stroke"],["stroke-width","edge.optimal.strokeWidth"]])+u.styleRule(u.treeDesignerSelector+" marker#arrow-optimal path",[["fill","edge.optimal.stroke"]])+u.styleRule(u.edgeSelector("selected")+" path",[["stroke","edge.selected.stroke"],["stroke-width","edge.selected.strokeWidth"]])+u.styleRule(u.treeDesignerSelector+" marker#arrow-selected path",[["fill","edge.selected.stroke"]])+u.styleRule(u.edgeSelector()+" .label",[["font-size","edge.label.fontSize"],["fill","edge.label.color"]])+u.styleRule(u.edgeSelector()+" .payoff",[["font-size","edge.payoff.fontSize"],["fill","edge.payoff.color"]])+u.styleRule(u.edgeSelector()+" .payoff.negative",[["fill","edge.payoff.negativeColor"]])+u.styleRule(u.treeDesignerSelector+" .sd-title-container text.sd-title",[["font-size","title.fontSize"],["font-weight","title.fontWeight"],["font-style","title.fontStyle"],["fill","title.color"]])+u.styleRule(u.treeDesignerSelector+" .sd-title-container text.sd-description",[["font-size","description.fontSize"],["font-weight","description.fontWeight"],["font-style","description.fontStyle"],["fill","description.color"]])},{"./i18n/i18n":64,"./templates/growl_message.html":73,"sd-utils":51}],73:[function(t,e,n){e.exports='module.exports = "<div class=\\"sd-growl-message <%=type%>\\">\\n    <div class=\\"sd-growl-message-text\\">\\n        <%= message %>\\n    </div>\\n</div>\\n";\n'},{}],74:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TextDragHandler=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("./app-utils"),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./d3")),u=t("./context-menu/context-menu");n.TextDragHandler=function(){function t(e,n){r(this,t),this.treeDesigner=e,this.data=n;var i=this;this.drag=a.drag().subject(function(t){if(null==t)return{x:event.x,y:event.y};var e=a.select(this);return{x:e.attr("x")+o.AppUtils.getTranslation(e.attr("transform"))[0],y:e.attr("y")+o.AppUtils.getTranslation(e.attr("transform"))[1]}}).on("start",function(t){i.dragStarted.call(this,t,i)}).on("drag",function(t){i.onDrag.call(this,t,i)}).on("end",function(t){i.dragEnded.call(this,t,i)})}return i(t,[{key:"dragStarted",value:function(t,e){u.ContextMenu.hide();var n=a.select(this);n.classed("selected")||e.treeDesigner.clearSelection(),e.treeDesigner.selectText(t),n.classed("selected dragging",!0),e.selectedNodes=e.treeDesigner.getSelectedNodes(),e.prevDragEvent=a.event,e.dragEventCount=0}},{key:"onDrag",value:function(t,e){2==e.dragEventCount&&e.data.saveState(),e.dragEventCount++;var n=a.event.x-e.prevDragEvent.x,r=a.event.y-e.prevDragEvent.y;t.location.move(n,r),e.treeDesigner.updateTextPosition(t),e.prevDragEvent=a.event,e.treeDesigner.updatePlottingRegionSize()}},{key:"dragEnded",value:function(t,e){a.select(this).classed("dragging",!1)}}]),t}()},{"./app-utils":53,"./context-menu/context-menu":54,"./d3":60}],75:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Tooltip=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./d3")),a=t("sd-utils");n.Tooltip=function(){function t(){r(this,t)}return i(t,null,[{key:"getContainer",value:function(){return o.select("body").selectOrAppend("div.sd-tooltip")}},{key:"show",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28,i=arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=t.getContainer().style("opacity",0);a.transition().duration(200).style("opacity",.98),a.html(e),t.updatePosition(n,r,i),o&&setTimeout(function(){t.hide()},o)}},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:28,r=arguments[2];r=r||o.event,t.getContainer().style("left",r.pageX+e+"px").style("top",r.pageY-n+"px")}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,n=t.getContainer();e&&(n=n.transition().duration(e)),n.style("opacity",0)}},{key:"attach",value:function(e,n,r,i){e.on("mouseover",function(e,o){var u=null;null!==(u=a.Utils.isFunction(n)?n(e,o):n)&&void 0!==u&&""!==u?t.show(u,r,i):t.hide(0)}).on("mousemove",function(e){t.updatePosition(r,i)}).on("mouseout",function(e){t.hide()})}}]),t}()},{"./d3":60,"sd-utils":51}],76:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.TreeDesigner=n.TreeDesignerConfig=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=r(t("./d3")),s=t("sd-utils"),c=t("./app-utils"),l=t("sd-model"),f=t("./context-menu/context-menu"),h=t("./context-menu/main-context-menu"),d=t("./context-menu/node-context-menu"),p=t("./layout"),g=t("./node-drag-handler"),v=t("./tooltip"),y=t("./templates"),m=t("./text-drag-handler"),b=t("./context-menu/text-context-menu"),_=t("./context-menu/edge-context-menu"),x=r(t("hammerjs")),w=t("./i18n/i18n"),k=n.TreeDesignerConfig=function t(e){o(this,t),this.width=void 0,this.height=void 0,this.margin={left:25,right:25,top:25,bottom:25},this.lng="en",this.layout={type:"tree",nodeSize:40,limitNodePositioning:!0,gridHeight:75,gridWidth:150,edgeSlantWidthMax:20},this.fontFamily="sans-serif",this.fontSize="12px",this.fontWeight="normal",this.fontStyle="normal",this.node={strokeWidth:"1px",optimal:{stroke:"#006f00",strokeWidth:"1.5px"},label:{fontSize:"1em",color:"black"},payoff:{fontSize:"1em",color:"black",negativeColor:"#b60000"},decision:{fill:"#ff7777",stroke:"#660000",selected:{fill:"#aa3333"}},chance:{fill:"#ffff44",stroke:"#666600",selected:{fill:"#aaaa00"}},terminal:{fill:"#44ff44",stroke:"black",selected:{fill:"#00aa00"},payoff:{fontSize:"1em",color:"black",negativeColor:"#b60000"}}},this.edge={stroke:"#424242",strokeWidth:"1.5",optimal:{stroke:"#006f00",strokeWidth:"2.4"},selected:{stroke:"#045ad1",strokeWidth:"3.5"},label:{fontSize:"1em",color:"back"},payoff:{fontSize:"1em",color:"black",negativeColor:"#b60000"}},this.probability={fontSize:"1em",color:"#0000d7"},this.title={fontSize:"16px",fontWeight:"bold",fontStyle:"normal",color:"#000000",margin:{top:15,bottom:10}},this.description={show:!0,fontSize:"12px",fontWeight:"bold",fontStyle:"normal",color:"#000000",margin:{top:5,bottom:10}},this.readOnly=!1,this.disableAnimations=!1,this.forceFullEdgeRedraw=!1,this.hideLabels=!1,this.hidePayoffs=!1,this.hideProbabilities=!1,this.raw=!1,this.payoffNumberFormatter=function(t,e){return t},this.probabilityNumberFormatter=function(t){return t},this.onNodeSelected=function(t){},this.onEdgeSelected=function(t){},this.onTextSelected=function(t){},this.onSelectionCleared=function(){},this.operationsForObject=function(t){return[]},this.payoffNames=[null,null],this.maxPayoffsToDisplay=1,e&&s.Utils.deepExtend(this,e)};n.TreeDesigner=function(){function t(e,n,r){o(this,t),this.setConfig(r),this.data=n,this.initContainer(e),this.init()}return a(t,[{key:"setConfig",value:function(t){return this.config=new k(t),this.layout&&(this.layout.config=this.config.layout),this.updateCustomStyles(),this}},{key:"init",value:function(){this.initSvg(),this.initLayout(),this.initI18n(),this.initBrush(),this.initEdgeMarkers(),this.updateCustomStyles(),this.config.readOnly||(this.initMainContextMenu(),this.initNodeContextMenu(),this.initEdgeContextMenu(),this.initNodeDragHandler(),this.initTextDragHandler(),this.initTextContextMenu()),this.redraw()}},{key:"initI18n",value:function(){w.i18n.init(this.config.lng)}},{key:"updateCustomStyles",value:function(){return u.select("head").selectOrAppend("style#sd-tree-designer-style").html(y.Templates.get("treeDesignerStyles",this.config)),this}},{key:"initLayout",value:function(){this.layout=new p.Layout(this,this.data,this.config.layout)}},{key:"initNodeDragHandler",value:function(){this.nodeDragHandler=new g.NodeDragHandler(this,this.data)}},{key:"initTextDragHandler",value:function(){this.textDragHandler=new m.TextDragHandler(this,this.data)}},{key:"redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this;return t=!e.config.disableAnimations&&t,this.redrawDiagramTitle(),this.redrawDiagramDescription(),this.updateMargin(t),t&&(e.transitionPrev=e.transition,e.transition=!0),this.redrawNodes(),this.redrawEdges(),this.redrawFloatingTexts(),this.updateValidationMessages(),t&&(e.transition=e.transitionPrev),setTimeout(function(){e.updatePlottingRegionSize()},10),this}},{key:"computeAvailableSpace",value:function(){this.availableHeight=c.AppUtils.sanitizeHeight(this.config.height,this.container,this.config.margin),this.availableWidth=c.AppUtils.sanitizeWidth(this.config.width,this.container,this.config.margin)}},{key:"initSvg",value:function(){var t=this;this.computeAvailableSpace(),this.svg=this.container.selectOrAppend("svg.sd-tree-designer"),this.svg.attr("width",this.availableWidth).attr("height",this.availableHeight),this.mainGroup=this.svg.selectOrAppend("g.main-group"),this.updateMargin(),this.config.width||u.select(window).on("resize.tree-designer",function(){t.updatePlottingRegionSize(),t.redrawDiagramTitle()});var e=new x.Manager(this.svg.node(),{touchAction:"auto"});e.add(new x.Press({pointerType:"touch"})),e.add(new x.Pinch({pointerType:"touch"}));var n;e.on("pinchstart",function(){t.disableBrush()}),e.on("pinch",function(){n=s.Utils.waitForFinalEvent(function(){return t.enableBrush()},"pinchend",5e3)})}},{key:"updateMargin",value:function(t){var e=this,n=this.config.margin,r=this.mainGroup;t&&(r=r.transition()),this.topMargin=n.top,(this.diagramTitle||this.diagramDescription)&&(this.topMargin=parseInt(this.diagramTitle?this.config.title.margin.top:0)+this.getTitleGroupHeight()+Math.max(this.topMargin,parseInt(this.config.title.margin.bottom))),r.attr("transform","translate("+n.left+","+this.topMargin+")").on("end",function(){return e.updatePlottingRegionSize()})}},{key:"setMargin",value:function(t,e){var n=this;e||this.data.saveState({data:{margin:s.Utils.clone(n.config.margin)},onUndo:function(t){n.setMargin(t.margin,!0)},onRedo:function(e){n.setMargin(t,!0)}}),s.Utils.deepExtend(this.config.margin,t),this.redrawDiagramTitle(),this.updateMargin(!0)}},{key:"initContainer",value:function(t){if(s.Utils.isString(t)){var e=t.trim();s.Utils.startsWith(e,"#")||s.Utils.startsWith(e,".")||(e="#"+e),this.container=u.select(e)}else t._parents?this.container=t:this.container=u.select(t)}},{key:"updatePlottingRegionSize",value:function(){var t=!1;this.computeAvailableSpace();var e=this.config.margin,n=this.svg.attr("width"),r=this.svg.attr("height"),i=this.mainGroup.node().getBBox(),o=i.width+i.x+e.left+e.right;this.container.classed("with-overflow-x",o>=this.availableWidth),n!=(o=Math.max(o,this.availableWidth))&&(t=!0,this.svg.attr("width",o));var a=i.height+i.y+this.topMargin+e.bottom;this.container.classed("with-overflow-y",a>=this.availableHeight),r!=(a=Math.max(a,this.availableHeight))&&(t=!0,this.svg.attr("height",a)),t&&this.updateBrushExtent()}},{key:"redrawNodes",value:function(){var t=this,e=this.mainGroup.selectOrAppend("g.nodes").selectAll(".node").data(this.data.nodes.filter(function(t){return!t.$hidden}),function(t,e){return t.$id});e.exit().remove();var n=e.enter().append("g").attr("id",function(t){return"node-"+t.$id}).attr("class",function(t){return t.type+"-node node"}).attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"});n.append("path");var r=n.append("text").attr("class","label"),i=n.append("text").attr("class","payoff computed"),o=n.append("text").attr("class","error-indicator").text("!!"),a=n.append("text").attr("class","aggregated-payoff"),c=n.append("text").attr("class","probability-to-enter"),l=n.merge(e);l.classed("optimal",function(e){return t.isOptimal(e)});var f=l;this.transition&&(f=l.transition()).on("end",function(){return t.updatePlottingRegionSize()}),f.attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"});var h=l.select("path");this.layout.drawNodeSymbol(h,this.transition),this.layout.nodeLabelPosition(r),l.select("text.label").classed("sd-hidden",this.config.hideLabels);var d=f.select("text.label");d.each(this.updateTextLines),this.layout.nodeLabelPosition(d).attr("text-anchor","middle");var p=l.select("text.payoff"),g=p.selectAll("tspan").data(function(t){var e=t.displayValue("childrenPayoff");return s.Utils.isArray(e)?e.filter(function(t){return void 0!==t}):[e]});g.exit().remove();var y=g.enter().append("tspan").merge(g);y.attr("dy",function(t,e){return e>0?"1.1em":void 0}).attr("x","0").classed("negative",function(t){return null!==t&&t<0}).classed("sd-hidden",this.config.hidePayoffs||this.config.raw).text(function(e,n){var r=e;return null!==r?isNaN(r)?r:t.config.payoffNumberFormatter(r,n):""}),this.attachPayoffTooltip(y);var m=p;this.transition&&(m=p.transition()),this.layout.nodePayoffPosition(i),this.layout.nodePayoffPosition(m);var b=l.select("text.aggregated-payoff"),_=b.selectAll("tspan").data(function(t){var e=t.displayValue("aggregatedPayoff");return s.Utils.isArray(e)?e.filter(function(t){return void 0!==t}):[e]});_.exit().remove();var k=_.enter().append("tspan").merge(_).attr("dy",function(t,e){return e>0?"0.95em":void 0}).classed("negative",function(t){return null!==t&&t<0}).classed("sd-hidden",this.config.hidePayoffs||this.config.raw).text(function(e,n){return null!==e?isNaN(e)?e:t.config.payoffNumberFormatter(e,n):""});this.attachPayoffTooltip(k,"aggregatedPayoff");var M=b;this.transition&&(M=b.transition()),this.layout.nodeAggregatedPayoffPosition(a),this.layout.nodeAggregatedPayoffPosition(M);var S=l.select("text.probability-to-enter").text(function(e){var n=e.displayValue("probabilityToEnter");return null!==n?isNaN(n)?n:t.config.probabilityNumberFormatter(n):""}).classed("sd-hidden",this.config.hideProbabilities||this.config.raw);v.Tooltip.attach(S,w.i18n.t("tooltip.node.probabilityToEnter"));var T=S;this.transition&&(T=S.transition()),this.layout.nodeProbabilityToEnterPosition(c),this.layout.nodeProbabilityToEnterPosition(T);var N=l.select("text.error-indicator");N.classed("sd-hidden",this.config.raw),this.layout.nodeIndicatorPosition(o),this.layout.nodeIndicatorPosition(N),this.nodeDragHandler&&l.call(this.nodeDragHandler.drag),l.on("contextmenu",this.nodeContextMenu),l.on("dblclick",this.nodeContextMenu),l.each(function(e,n){var r=this,i=new x.Manager(r);if(i.add(new x.Press({pointerType:"touch"})),i.on("press",function(e){"touch"==e.pointerType&&t.nodeDragHandler.cancelDrag()}),e.folded){var o=u.select(r).selectOrAppend("text.sd-unfold-button").text("[+]").on("click dbclick mousedown",function(){return t.foldSubtree(e,!1)});t.layout.nodeUnfoldButtonPosition(o),v.Tooltip.attach(o,w.i18n.t("contextMenu.node.unfold"))}else u.select(r).select(".sd-unfold-button").remove()})}},{key:"attachPayoffTooltip",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"payoff",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"node",r=this;v.Tooltip.attach(t,function(t,i){return r.config.payoffNames.length>i&&null!==r.config.payoffNames[i]?w.i18n.t("tooltip."+n+"."+e+".named",{value:t.payoff,number:i+1,name:r.config.payoffNames[i]}):w.i18n.t("tooltip."+n+"."+e+".default",{value:t.payoff,number:r.config.maxPayoffsToDisplay<2?"":i+1})})}},{key:"updateTextLines",value:function(t){var e=t.name?t.name.split("\n"):[];e.reverse();var n=u.select(this).selectAll("tspan").data(e);n.enter().append("tspan").merge(n).text(function(t){return t}).attr("dy",function(t,e){return e>0?"-1.1em":void 0}).attr("x","0"),n.exit().remove()}},{key:"isOptimal",value:function(t){return t.displayValue("optimal")}},{key:"redrawEdges",value:function(){var t=this,e=this,n=this.mainGroup.selectOrAppend("g.edges");e.config.forceFullEdgeRedraw&&n.selectAll("*").remove();var r=n.selectAll(".edge").data(this.data.edges.filter(function(t){return!t.$hidden}),function(t,e){return t.$id});r.exit().remove();var i=r.enter().append("g").attr("id",function(t){return"edge-"+t.$id}).attr("class","edge");i.append("path");var o=i.appendSelector("g.label-group");o.append("text").attr("class","label");var a=i.append("text").attr("class","payoff"),c=i.append("text").attr("class","probability"),l=i.merge(r);l.classed("optimal",function(t){return e.isOptimal(t)});var f=l;this.transition&&(f=l.transition()),f.select("path").attr("d",function(e){return t.layout.edgeLineD(e)}).attr("fill","none").attr("marker-end",function(t){return"url(#arrow"+(u.select(this.parentNode).classed("selected")?"-selected":e.isOptimal(t)?"-optimal":"")+")"}),l.on("click",function(t){e.selectEdge(t,!0)}),this.layout.edgeLabelPosition(o),f.select("text.label").each(this.updateTextLines),l.select("g.label-group").classed("sd-hidden",this.config.hideLabels);var h=f.select("g.label-group");this.layout.edgeLabelPosition(h);var d=l.select("text.payoff"),p=d.selectAll("tspan").data(function(t){var n=t.displayValue("payoff");return s.Utils.isArray(n)?n.slice(0,Math.min(n.length,e.config.maxPayoffsToDisplay)).map(function(e){return t}):[t]});p.exit().remove();var g=p.enter().append("tspan").merge(p);g.attr("dy",function(t,e){return e>0?"1.1em":void 0}).classed("negative",function(t,e){var n=t.displayPayoff(void 0,e);return null!==n&&n<0}).classed("sd-hidden",this.config.hidePayoffs).text(function(n,r){if(t.config.raw)return n.payoff[r];var i=n.displayValue("payoff"),o=(s.Utils.isArray(i)?i:[i])[r];if(null!==o){if(!isNaN(o))return e.config.payoffNumberFormatter(o,r);if(s.Utils.isString(o))return o}return null===n.payoff[r]||isNaN(n.payoff[r])?n.payoff[r]:e.config.payoffNumberFormatter(n.payoff[r],r)}),v.Tooltip.attach(g,function(t,n){return e.config.payoffNames.length>n&&null!==e.config.payoffNames[n]?w.i18n.t("tooltip.edge.payoff.named",{value:t.payoff[n],number:n+1,name:e.config.payoffNames[n]}):w.i18n.t("tooltip.edge.payoff.default",{value:t.payoff[n],number:e.config.maxPayoffsToDisplay<2?"":n+1})});var y=d;this.transition&&(y=d.transition()),this.layout.edgePayoffPosition(a),this.layout.edgePayoffPosition(y),v.Tooltip.attach(l.select("text.probability"),function(t){return w.i18n.t("tooltip.edge.probability",{value:void 0===t.probability?t.displayProbability():t.probability})}),l.select("text.probability").classed("sd-hidden",this.config.hideProbabilities);var m=l.select("text.probability");m.attr("text-anchor","end").text(function(n){if(t.config.raw)return n.probability;var r=n.displayProbability();if(null!==r){if(!isNaN(r))return e.config.probabilityNumberFormatter(r);if(s.Utils.isString(r))return r}return null===n.probability||isNaN(n.probability)?n.probability:e.config.probabilityNumberFormatter(n.probability)});var b=m;this.transition&&(b=m.transition()),this.layout.edgeProbabilityPosition(c),this.layout.edgeProbabilityPosition(b),n.selectAll(".edge.optimal").raise(),l.on("contextmenu",this.edgeContextMenu),l.on("dblclick",this.edgeContextMenu),l.each(function(t,e){var n=this;new x.Manager(n).add(new x.Press({pointerType:x.POINTER_TOUCH}))})}},{key:"redrawFloatingTexts",value:function(){var t=this.mainGroup.selectOrAppend("g.floating-texts").selectAll(".floating-text").data(this.data.texts,function(t,e){return t.$id});t.exit().remove();var e=t.enter().appendSelector("g.floating-text").attr("id",function(t){return"text-"+t.$id});e.append("rect").attr("x",-5).attr("y",-16).attr("fill-opacity",0),e.append("text");var n=e.merge(t),r=n;this.transition&&(r=n.transition()),r.attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"});var i=n.select("text").selectAll("tspan").data(function(t){return t.value?t.value.split("\n"):[]});i.enter().append("tspan").merge(i).html(function(t){return c.AppUtils.replaceUrls(c.AppUtils.escapeHtml(t))}).attr("dy",function(t,e){return e>0?"1.1em":void 0}).attr("x","0"),i.exit().remove(),n.classed("sd-empty",function(t){return!t.value||!t.value.trim()}),n.select("rect").attr("width",40).attr("height",20),n.each(function(t){if(t.value){var e=u.select(this).select("text").node().getBBox();u.select(this).select("rect").attr("y",e.y-5).attr("width",Math.max(e.width+10,40)).attr("height",Math.max(e.height+10,20))}}),this.textDragHandler&&n.call(this.textDragHandler.drag),n.on("contextmenu",this.textContextMenu),n.on("dblclick",this.textContextMenu),n.each(function(t,e){var n=this;new x.Manager(n).add(new x.Press({pointerType:"touch"}))})}},{key:"updateValidationMessages",value:function(){var t=this;this.mainGroup.selectAll(".node").classed("error",!1),this.data.validationResults.forEach(function(e){e.isValid()||Object.getOwnPropertyNames(e.objectIdToError).forEach(function(n){var r=e.objectIdToError[n],i=t.getNodeD3SelectionById(n);i.classed("error",!0);var o="";r.forEach(function(t){o&&(o+="<br/>"),o+=c.AppUtils.getValidationMessage(t)}),v.Tooltip.attach(i.select(".error-indicator"),o)})})}},{key:"initEdgeMarkers",value:function(){this.svg.append("svg:defs");this.initArrowMarker("arrow"),this.initArrowMarker("arrow-optimal"),this.initArrowMarker("arrow-selected")}},{key:"initArrowMarker",value:function(t){this.svg.select("defs").append("marker").attr("id",t).attr("viewBox","0 -5 10 10").attr("refX",5).attr("refY",0).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("class","arrowHead")}},{key:"updateBrushExtent",value:function(){var t=this;this.brush.extent([[0,0],[t.svg.attr("width"),t.svg.attr("height")]]),this.brushContainer.call(this.brush)}},{key:"initBrush",value:function(){var t=this,e=t.brushContainer=this.brushContainer=this.svg.selectOrInsert("g.brush",":first-child").attr("class","brush"),n=this.brush=u.brush().on("start",function(){u.event.selection&&(t.hoveredEdge?t.selectEdge(t.hoveredEdge.datum(),!0):t.clearSelection(),f.ContextMenu.hide())}).on("brush",function(){var e=u.event.selection;e&&t.mainGroup.selectAll(".node").classed("selected",function(n){var r=t.getMainGroupTranslation(),i=n.location.x+r[0],o=n.location.y+r[1],a=.25*t.config.layout.nodeSize;return e[0][0]<=i+a&&i-a<=e[1][0]&&e[0][1]<=o+a&&o-a<=e[1][1]})}).on("end",function(){if(u.event.selection){n.move(e,null);var r=t.getSelectedNodes();r&&1===r.length&&t.selectNode(r[0])}});this.updateBrushExtent(),e.select(".overlay").on("mousemove.edgeSelection",function(){var e=u.mouse(this),n=t.getMainGroupTranslation(),r=[null,999999999];t.mainGroup.selectAll(".edge").each(function(t){var i=u.select(this);i.classed("sd-hover",!1);var o=i.select("path").node(),a=o.getBBox();if(a.x+n[0]<=e[0]&&a.x+a.width+n[0]>=e[0]&&a.y+n[1]-10<=e[1]&&a.y+a.height+n[1]+10>=e[1]){var s=c.AppUtils.closestPoint(o,[e[0]-n[0],e[1]-n[1]]);s.distance<10&&s.distance<r[1]&&(r=[i,s.distance])}}),t.hoveredEdge=null,r[0]&&(r[0].classed("sd-hover",!0),t.hoveredEdge=r[0])})}},{key:"disableBrush",value:function(){this.brushDisabled||c.AppUtils.growl(w.i18n.t("growl.brushDisabled"),"info","left"),this.brushDisabled=!0,this.brushContainer.remove()}},{key:"enableBrush",value:function(){this.brushDisabled&&(c.AppUtils.growl(w.i18n.t("growl.brushEnabled"),"info","left"),this.initBrush(),this.brushDisabled=!1)}},{key:"getMainGroupTranslation",value:function(t){var e=c.AppUtils.getTranslation(this.mainGroup.attr("transform"));return t&&(e[0]=-e[0],e[1]=-e[1]),e}},{key:"initNodeContextMenu",value:function(){this.nodeContextMenu=new d.NodeContextMenu(this,this.config.operationsForObject)}},{key:"initEdgeContextMenu",value:function(){this.edgeContextMenu=new _.EdgeContextMenu(this)}},{key:"initTextContextMenu",value:function(){this.textContextMenu=new b.TextContextMenu(this)}},{key:"initMainContextMenu",value:function(){this.mainContextMenu=new h.MainContextMenu(this),this.svg.on("contextmenu",this.mainContextMenu),this.svg.on("dblclick",this.mainContextMenu)}},{key:"addText",value:function(t){this.data.saveState(),this.data.addText(t),this.redraw(),this.selectText(t)}},{key:"addNode",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.data.saveState(),this.data.addNode(t,e),this.redraw(!0),this.layout.update(t),t}},{key:"addDecisionNode",value:function(t){var e=new l.domain.DecisionNode(this.layout.getNewChildLocation(t));this.addNode(e,t)}},{key:"addChanceNode",value:function(t){var e=new l.domain.ChanceNode(this.layout.getNewChildLocation(t));this.addNode(e,t)}},{key:"addTerminalNode",value:function(t){var e=new l.domain.TerminalNode(this.layout.getNewChildLocation(t));this.addNode(e,t)}},{key:"injectNode",value:function(t,e){return this.data.saveState(),this.data.injectNode(t,e),this.redraw(),this.layout.update(t),t}},{key:"injectDecisionNode",value:function(t){var e=new l.domain.DecisionNode(this.layout.getInjectedNodeLocation(t));this.injectNode(e,t)}},{key:"injectChanceNode",value:function(t){var e=new l.domain.ChanceNode(this.layout.getInjectedNodeLocation(t));this.injectNode(e,t)}},{key:"removeNode",value:function(t){this.data.saveState(),this.data.removeNode(t),this.layout.isManualLayout()?this.redraw():this.layout.update()}},{key:"removeSelectedNodes",value:function(){var t=this.getSelectedNodes();t.length&&(this.data.saveState(),this.data.removeNodes(t),this.clearSelection(),this.redraw(),this.layout.update())}},{key:"removeSelectedTexts",value:function(){var t=this.getSelectedTexts();t.length&&(this.data.saveState(),this.data.removeTexts(t),this.clearSelection(),this.redraw())}},{key:"copyNode",value:function(t,e){var n=this.data.cloneSubtree(t);e?(this.copiedNodes||(this.copiedNodes=[]),this.copiedNodes.push(n)):this.copiedNodes=[n]}},{key:"cutNode",value:function(t){this.copyNode(t),this.removeNode(t)}},{key:"cutSelectedNodes",value:function(){var t=this.getSelectedNodes(),e=this.data.findSubtreeRoots(t);this.copyNodes(e),this.removeSelectedNodes()}},{key:"copySelectedNodes",value:function(){var t=this.getSelectedNodes(),e=this.data.findSubtreeRoots(t);this.copyNodes(e)}},{key:"copyNodes",value:function(t){var e=this;this.copiedNodes=t.map(function(t){return e.data.cloneSubtree(t)})}},{key:"pasteToNode",value:function(t){var e=this;if(this.copiedNodes&&this.copiedNodes.length){this.data.saveState();var n=this;n.clearSelection();var r=this.copiedNodes;n.copyNodes(this.copiedNodes),r.forEach(function(i){var o=e.data.attachSubtree(i,t).childNode;o.folded&&n.foldSubtree(o,o.folded,!1);var a=n.layout.getNewChildLocation(t);o.moveTo(a.x,a.y,!0),n.layout.moveNodeToEmptyPlace(o,!1),n.layout.fitNodesInPlottingRegion(e.data.getAllDescendantNodes(o)),n.selectSubTree(o,!1,r.length>1)}),t.folded&&n.foldSubtree(t,t.folded,!1),setTimeout(function(){n.redraw(),n.layout.update()},10)}}},{key:"pasteToNewLocation",value:function(t){var e=this;this.data.saveState();var n=this;n.clearSelection();var r=this.copiedNodes;n.copyNodes(this.copiedNodes),r.forEach(function(i){var o=e.data.attachSubtree(i);o.folded&&n.foldSubtree(o,o.folded,!1),o.moveTo(t.x,t.y,!0),n.layout.moveNodeToEmptyPlace(o,!1),n.layout.fitNodesInPlottingRegion(e.data.getAllDescendantNodes(o)),n.selectSubTree(o,!1,r.length>1)}),setTimeout(function(){n.redraw(),n.layout.update()},10)}},{key:"convertNode",value:function(t,e){var n=this;this.data.saveState(),this.data.convertNode(t,e),setTimeout(function(){n.redraw(!0)},10)}},{key:"performOperation",value:function(t,e){var n=this;this.data.saveState(),e.perform(t),setTimeout(function(){n.redraw(),n.layout.update()},10)}},{key:"foldSubtree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this;t.folded=e,this.data.getAllDescendantNodes(t).forEach(function(t){t.$hidden=e,t.folded=!1}),this.data.getAllDescendantEdges(t).forEach(function(t){return t.$hidden=e}),n&&setTimeout(function(){r.redraw(),r.layout.update()},10)}},{key:"updateVisibility",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?e.folded?this.foldSubtree(e,!0,!1):e.childEdges.forEach(function(e){return t.updateVisibility(e.childNode)}):this.data.getRoots().forEach(function(e){return t.updateVisibility(e)})}},{key:"moveNodeTo",value:function(t,e){}},{key:"updateNodePosition",value:function(t){this.getNodeD3Selection(t).raise().attr("transform","translate("+t.location.x+" "+t.location.y+")")}},{key:"updateTextPosition",value:function(t){this.getTextD3Selection(t).raise().attr("transform","translate("+t.location.x+" "+t.location.y+")")}},{key:"getNodeD3Selection",value:function(t){return this.getNodeD3SelectionById(t.$id)}},{key:"getNodeD3SelectionById",value:function(t){return this.mainGroup.select("#node-"+t)}},{key:"getTextD3Selection",value:function(t){return this.getTextD3SelectionById(t.$id)}},{key:"getTextD3SelectionById",value:function(t){return this.mainGroup.select("#text-"+t)}},{key:"getSelectedNodes",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.mainGroup.selectAll(".node.selected").data();if(e)return n;var r=[];return r.push.apply(r,i(n)),n.forEach(function(e){if(e.folded){var n=t.data.getAllDescendantNodes(e);n&&r.push.apply(r,i(n))}}),r}},{key:"getSelectedTexts",value:function(){return this.mainGroup.selectAll(".floating-text.selected").data()}},{key:"clearSelection",value:function(){var t=this;this.mainGroup.selectAll(".edge.selected").select("path").attr("marker-end",function(e){return"url(#arrow"+(t.isOptimal(e)?"-optimal":"")+")"}),this.mainGroup.selectAll(".selected").classed("selected",!1),this.config.onSelectionCleared()}},{key:"selectEdge",value:function(t,e){e&&this.clearSelection(),this.config.onEdgeSelected(t),this.mainGroup.select("#edge-"+t.$id).classed("selected",!0).select("path").attr("marker-end",function(t){return"url(#arrow-selected)"})}},{key:"isNodeSelected",value:function(t){return this.getNodeD3Selection(t).classed("selected")}},{key:"selectNode",value:function(t,e,n){e&&this.clearSelection(),n||this.config.onNodeSelected(t),this.getNodeD3SelectionById(t.$id).classed("selected",!0)}},{key:"selectText",value:function(t,e,n){e&&this.clearSelection(),n||this.config.onTextSelected(t),this.getTextD3SelectionById(t.$id).classed("selected",!0)}},{key:"selectSubTree",value:function(t,e,n){var r=this;e&&this.clearSelection(),this.selectNode(t,!1,n),t.childEdges.forEach(function(t){return r.selectSubTree(t.childNode,!1,!0)})}},{key:"selectAllNodes",value:function(){this.mainGroup.selectAll(".node").classed("selected",!0)}},{key:"autoLayout",value:function(t,e){this.layout.autoLayout(t,e)}},{key:"updateDiagramTitle",value:function(t){t||(t=""),this.diagramTitle=t,this.redrawDiagramTitle(),this.redrawDiagramDescription(),this.updateMargin(!0)}},{key:"redrawDiagramTitle",value:function(){var t=this.svg.attr("width");this.svg.attr("height");this.titleContainer=this.svg.selectOrAppend("g.sd-title-container");var e=this.titleContainer.selectOrAppend("text.sd-title");e.text(this.diagramTitle),p.Layout.setHangingPosition(e);var n=parseInt(this.config.title.margin.top);this.titleContainer.attr("transform","translate("+t/2+","+n+")")}},{key:"redrawDiagramDescription",value:function(){this.svg.attr("width"),this.svg.attr("height");this.titleContainer=this.svg.selectOrAppend("g.sd-title-container");var t=this.titleContainer.selectOrAppend("text.sd-description");if(this.config.description.show){var e=this.diagramDescription?this.diagramDescription.split("\n"):[],n=t.selectAll("tspan").data(e);n.enter().append("tspan").merge(n).html(function(t){return c.AppUtils.replaceUrls(c.AppUtils.escapeHtml(t))}).attr("dy",function(t,e){return e>0?"1.1em":void 0}).attr("x","0"),n.exit().remove(),p.Layout.setHangingPosition(t);var r=this.titleContainer.selectOrAppend("text.sd-title"),i=0;this.diagramTitle&&(i+=r.node().getBBox().height,i+=Math.max(parseInt(this.config.description.margin.top),0)),t.attr("transform","translate(0,"+i+")")}else t.remove()}},{key:"updateDiagramDescription",value:function(t){t||(t=""),this.diagramDescription=t,this.redrawDiagramTitle(),this.redrawDiagramDescription(),this.updateMargin(!0)}},{key:"getTitleGroupHeight",value:function(t){if(!this.titleContainer)return 0;var e=this.titleContainer.node().getBBox().height;return t&&(e+=parseInt(this.config.title.margin.bottom),e+=parseInt(this.config.title.margin.top)),e}}]),t}()},{"./app-utils":53,"./context-menu/context-menu":54,"./context-menu/edge-context-menu":55,"./context-menu/main-context-menu":56,"./context-menu/node-context-menu":57,"./context-menu/text-context-menu":58,"./d3":60,"./i18n/i18n":64,"./layout":68,"./node-drag-handler":69,"./templates":72,"./text-drag-handler":74,"./tooltip":75,hammerjs:19,"sd-model":37,"sd-utils":51}],77:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./src/index");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})})},{"./src/index":67}]},{},[77])(77)});
//# sourceMappingURL=sd-tree-designer.min.js.map
