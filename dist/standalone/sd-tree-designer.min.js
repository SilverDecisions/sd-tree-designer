!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;((e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SilverDecisions||(e.SilverDecisions={})).TreeDesigner=t()}}(function(){return function o(a,u,s){function c(e,t){if(!u[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var i=u[e]={exports:{}};a[e][0].call(i.exports,function(t){return c(a[e][1][t]||t)},i,i.exports,o,a,u,s)}return u[e].exports}for(var l="function"==typeof require&&require,t=0;t<s.length;t++)c(s[t]);return c}({1:[function(t,e,n){e.exports=function(t){if(Array.isArray(t))return t}},{}],2:[function(t,e,n){e.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},{}],3:[function(t,e,n){e.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},{}],4:[function(t,e,n){e.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},{}],5:[function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}e.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},{}],6:[function(t,e,n){e.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},{}],7:[function(t,e,n){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}e.exports=r},{}],8:[function(t,e,n){var r=t("./setPrototypeOf");e.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},{"./setPrototypeOf":15}],9:[function(t,e,n){e.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},{}],10:[function(t,e,n){e.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}}},{}],11:[function(t,e,n){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},{}],12:[function(t,e,n){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},{}],13:[function(t,e,n){var i=t("./defineProperty");e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}},{"./defineProperty":6}],14:[function(t,e,n){var r=t("../helpers/typeof"),i=t("./assertThisInitialized");e.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},{"../helpers/typeof":18,"./assertThisInitialized":3}],15:[function(t,n,e){function r(t,e){return n.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}n.exports=r},{}],16:[function(t,e,n){var r=t("./arrayWithHoles"),i=t("./iterableToArrayLimit"),o=t("./nonIterableRest");e.exports=function(t,e){return r(t)||i(t,e)||o()}},{"./arrayWithHoles":1,"./iterableToArrayLimit":10,"./nonIterableRest":11}],17:[function(t,e,n){var r=t("./arrayWithoutHoles"),i=t("./iterableToArray"),o=t("./nonIterableSpread");e.exports=function(t){return r(t)||i(t)||o()}},{"./arrayWithoutHoles":2,"./iterableToArray":9,"./nonIterableSpread":12}],18:[function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?e.exports=i=function(t){return r(t)}:e.exports=i=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)},i(t)}e.exports=i},{}],19:[function(t,e,n){var r;r=this,function(t){"use strict";function u(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function e(o){return 1===o.length&&(o=function(n){return function(t,e){return u(n(t),e)}}(o)),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=1+i:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=1+i}return n}}}var n=e(u),v=n.right,r=n.left;function l(t,e){return[t,e]}function c(t){return null===t?NaN:+t}function i(t,e){var n,r,i=t.length,o=0,a=-1,u=0,s=0;if(null==e)for(;++a<i;)isNaN(n=c(t[a]))||(s+=(r=n-u)*(n-(u+=r/++o)));else for(;++a<i;)isNaN(n=c(e(t[a],a,t)))||(s+=(r=n-u)*(n-(u+=r/++o)));if(1<o)return s/(o-1)}function o(t,e){var n=i(t,e);return n?Math.sqrt(n):n}function a(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n<=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(n<r&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n<=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(n<r&&(r=n),i<n&&(i=n));return[r,i]}var s=Array.prototype,f=s.slice,h=s.map;function y(t){return function(){return t}}function g(t){return t}function m(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}var d=Math.sqrt(50),p=Math.sqrt(10),_=Math.sqrt(2);function b(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return 0<=i?(d<=o?10:p<=o?5:_<=o?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(d<=o?10:p<=o?5:_<=o?2:1)}function x(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return d<=o?i*=10:p<=o?i*=5:_<=o&&(i*=2),e<t?-i:i}function w(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function k(t,e,n){if(null==n&&(n=c),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(1<=e)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function S(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=n;++o<i;)null!=(n=t[o])&&n<r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n<r&&(r=n);return r}function M(t){if(!(i=t.length))return[];for(var e=-1,n=S(t,T),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function T(t){return t.length}t.bisect=v,t.bisectRight=v,t.bisectLeft=r,t.ascending=u,t.bisector=e,t.cross=function(t,e,n){var r,i,o,a,u=t.length,s=e.length,c=new Array(u*s);for(null==n&&(n=l),r=o=0;r<u;++r)for(a=t[r],i=0;i<s;++i,++o)c[o]=n(a,e[i]);return c},t.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},t.deviation=o,t.extent=a,t.histogram=function(){var h=g,d=a,p=w;function e(t){var e,n,r=t.length,i=new Array(r);for(e=0;e<r;++e)i[e]=h(t[e],e,t);var o=d(i),a=o[0],u=o[1],s=p(i,a,u);Array.isArray(s)||(s=x(a,u,s),s=m(Math.ceil(a/s)*s,u,s));for(var c=s.length;s[0]<=a;)s.shift(),--c;for(;s[c-1]>u;)s.pop(),--c;var l,f=new Array(c+1);for(e=0;e<=c;++e)(l=f[e]=[]).x0=0<e?s[e-1]:a,l.x1=e<c?s[e]:u;for(e=0;e<r;++e)a<=(n=i[e])&&n<=u&&f[v(s,n,0,c)].push(t[e]);return f}return e.value=function(t){return arguments.length?(h="function"==typeof t?t:y(t),e):h},e.domain=function(t){return arguments.length?(d="function"==typeof t?t:y([t[0],t[1]]),e):d},e.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Array.isArray(t)?y(f.call(t)):y(t),e):p},e},t.thresholdFreedmanDiaconis=function(t,e,n){return t=h.call(t,c).sort(u),Math.ceil((n-e)/(2*(k(t,.75)-k(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*o(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=w,t.max=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=n;++o<i;)null!=(n=t[o])&&r<n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r<n&&(r=n);return r},t.mean=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=c(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=c(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},t.median=function(t,e){var n,r=t.length,i=-1,o=[];if(null==e)for(;++i<r;)isNaN(n=c(t[i]))||o.push(n);else for(;++i<r;)isNaN(n=c(e(t[i],i,t)))||o.push(n);return k(o.sort(u),.5)},t.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);0<=--i;)for(e=(r=t[i]).length;0<=--e;)n[--a]=r[e];return n},t.min=S,t.pairs=function(t,e){null==e&&(e=l);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o},t.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},t.quantile=k,t.range=m,t.scan=function(t,e){if(n=t.length){var n,r,i=0,o=0,a=t[o];for(null==e&&(e=u);++i<n;)(e(r=t[i],a)<0||0!==e(a,a))&&(a=r,o=i);return 0===e(a,a)?o:void 0}},t.shuffle=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},t.sum=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},t.ticks=function(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=b(t,e,n))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o},t.tickIncrement=b,t.tickStep=x,t.transpose=M,t.variance=i,t.zip=function(){return M(arguments)},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],20:[function(t,e,n){var r,i;r=this,i=function(t,f,B,h,$,H){"use strict";function d(t){return function(){return t}}function p(t,e,n){this.target=t,this.type=e,this.selection=n}function Y(){$.event.stopImmediatePropagation()}function q(){$.event.preventDefault(),$.event.stopImmediatePropagation()}var V={name:"drag"},X={name:"space"},G={name:"handle"},K={name:"center"};function e(t){return[+t[0],+t[1]]}function v(t){return[e(t[0]),e(t[1])]}var Z={name:"x",handles:["w","e"].map(y),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},J={name:"y",handles:["n","s"].map(y),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},n={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(y),input:function(t){return null==t?null:v(t)},output:function(t){return t}},Q={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},tt={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},et={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},nt={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},rt={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function y(t){return{type:t}}function g(){return!$.event.ctrlKey&&!$.event.button}function m(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function _(){return navigator.maxTouchPoints||"ontouchstart"in this}function it(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function r(z){var I,e=m,L=g,r=_,U=!0,n=f.dispatch(o,"start","brush","end"),i=6;function o(t){var e=t.property("__brush",l).selectAll(".overlay").data([y("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Q.overlay).merge(e).each(function(){var t=it(this).extent;$.select(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([y("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Q.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data(z.handles,function(t){return t.type});n.exit().remove(),n.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Q[t.type]}),t.each(W).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",u).filter(r).on("touchstart.brush",u).on("touchmove.brush",s).on("touchend.brush touchcancel.brush",c).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function W(){var t=$.select(this),e=it(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-i/2:e[0][0]-i/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-i/2:e[0][1]-i/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+i:i}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+i:i})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function F(t,e,n){return!n&&t.__brush.emitter||new a(t,e)}function a(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function u(){if((!I||$.event.touches)&&L.apply(this,arguments)){var e,n,r,i,o,a,u,s,c,l,f,h=this,d=$.event.target.__data__.type,p="selection"===(U&&$.event.metaKey?d="overlay":d)?V:U&&$.event.altKey?K:G,v=z===J?null:nt[d],y=z===Z?null:rt[d],g=it(h),t=g.extent,m=g.selection,_=t[0][0],b=t[0][1],x=t[1][0],w=t[1][1],k=0,S=0,M=v&&y&&U&&$.event.shiftKey,T=$.event.touches?function(e){return function(t){return $.touch(t,$.event.touches,e)}}($.event.changedTouches[0].identifier):$.mouse,N=T(h),O=N,E=F(h,arguments,!0).beforestart();"overlay"===d?(m&&(c=!0),g.selection=m=[[e=z===J?_:N[0],r=z===Z?b:N[1]],[o=z===J?x:e,u=z===Z?w:r]]):(e=m[0][0],r=m[0][1],o=m[1][0],u=m[1][1]),n=e,i=r,a=o,s=u;var P=$.select(h).attr("pointer-events","none"),j=P.selectAll(".overlay").attr("cursor",Q[d]);if($.event.touches)E.moved=A,E.ended=R;else{var C=$.select($.event.view).on("mousemove.brush",A,!0).on("mouseup.brush",R,!0);U&&C.on("keydown.brush",function(){switch($.event.keyCode){case 16:M=v&&y;break;case 18:p===G&&(v&&(o=a-k*v,e=n+k*v),y&&(u=s-S*y,r=i+S*y),p=K,D());break;case 32:p!==G&&p!==K||(v<0?o=a-k:0<v&&(e=n-k),y<0?u=s-S:0<y&&(r=i-S),p=X,j.attr("cursor",Q.selection),D());break;default:return}q()},!0).on("keyup.brush",function(){switch($.event.keyCode){case 16:M&&(l=f=M=!1,D());break;case 18:p===K&&(v<0?o=a:0<v&&(e=n),y<0?u=s:0<y&&(r=i),p=G,D());break;case 32:p===X&&(p=$.event.altKey?(v&&(o=a-k*v,e=n+k*v),y&&(u=s-S*y,r=i+S*y),K):(v<0?o=a:0<v&&(e=n),y<0?u=s:0<y&&(r=i),G),j.attr("cursor",Q[d]),D());break;default:return}q()},!0),B.dragDisable($.event.view)}Y(),H.interrupt(h),W.call(h),E.start()}function A(){var t=T(h);!M||l||f||(Math.abs(t[0]-O[0])>Math.abs(t[1]-O[1])?f=!0:l=!0),O=t,c=!0,q(),D()}function D(){var t;switch(k=O[0]-N[0],S=O[1]-N[1],p){case X:case V:v&&(k=Math.max(_-e,Math.min(x-o,k)),n=e+k,a=o+k),y&&(S=Math.max(b-r,Math.min(w-u,S)),i=r+S,s=u+S);break;case G:v<0?(k=Math.max(_-e,Math.min(x-e,k)),n=e+k,a=o):0<v&&(k=Math.max(_-o,Math.min(x-o,k)),n=e,a=o+k),y<0?(S=Math.max(b-r,Math.min(w-r,S)),i=r+S,s=u):0<y&&(S=Math.max(b-u,Math.min(w-u,S)),i=r,s=u+S);break;case K:v&&(n=Math.max(_,Math.min(x,e-k*v)),a=Math.max(_,Math.min(x,o+k*v))),y&&(i=Math.max(b,Math.min(w,r-S*y)),s=Math.max(b,Math.min(w,u+S*y)))}a<n&&(v*=-1,t=e,e=o,o=t,t=n,n=a,a=t,d in tt&&j.attr("cursor",Q[d=tt[d]])),s<i&&(y*=-1,t=r,r=u,u=t,t=i,i=s,s=t,d in et&&j.attr("cursor",Q[d=et[d]])),g.selection&&(m=g.selection),l&&(n=m[0][0],a=m[1][0]),f&&(i=m[0][1],s=m[1][1]),m[0][0]===n&&m[0][1]===i&&m[1][0]===a&&m[1][1]===s||(g.selection=[[n,i],[a,s]],W.call(h),E.brush())}function R(){if(Y(),$.event.touches){if($.event.touches.length)return;I&&clearTimeout(I),I=setTimeout(function(){I=null},500)}else B.dragEnable($.event.view,c),C.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);P.attr("pointer-events","all"),j.attr("cursor",Q.overlay),g.selection&&(m=g.selection),function(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(m)&&(g.selection=null,W.call(h)),E.end()}}function s(){F(this,arguments).moved()}function c(){F(this,arguments).ended()}function l(){var t=this.__brush||{selection:null};return t.extent=v(e.apply(this,arguments)),t.dim=z,t}return o.move=function(t,u){t.selection?t.on("start.brush",function(){F(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){F(this,arguments).end()}).tween("brush",function(){var e=this,n=e.__brush,r=F(e,arguments),t=n.selection,i=z.input("function"==typeof u?u.apply(this,arguments):u,n.extent),o=h.interpolate(t,i);function a(t){n.selection=1===t&&null===i?null:o(t),W.call(e),r.brush()}return null!==t&&null!==i?a:a(1)}):t.each(function(){var t=this,e=arguments,n=t.__brush,r=z.input("function"==typeof u?u.apply(t,e):u,n.extent),i=F(t,e).beforestart();H.interrupt(t),n.selection=null===r?null:r,W.call(t),i.start().brush().end()})},o.clear=function(t){o.move(t,null)},a.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){$.customEvent(new p(o,t,z.output(this.state.selection)),n.apply,n,[t,this.that,this.args])}},o.extent=function(t){return arguments.length?(e="function"==typeof t?t:d(v(t)),o):e},o.filter=function(t){return arguments.length?(L="function"==typeof t?t:d(!!t),o):L},o.handleSize=function(t){return arguments.length?(i=+t,o):i},o.keyModifiers=function(t){return arguments.length?(U=!!t,o):U},o.on=function(){var t=n.on.apply(n,arguments);return t===n?o:t},o}t.brush=function(){return r(n)},t.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},t.brushX=function(){return r(Z)},t.brushY=function(){return r(J)},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-dispatch"),t("d3-drag"),t("d3-interpolate"),t("d3-selection"),t("d3-transition")):i((r=r||self).d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3)},{"d3-dispatch":23,"d3-drag":24,"d3-interpolate":28,"d3-selection":31,"d3-transition":36}],21:[function(t,e,n){var r;r=this,function(t){"use strict";var n="$";function u(){}function y(t,e){var n=new u;if(t instanceof u)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function r(){return{}}function i(t,e,n){t[e]=n}function o(){return y()}function s(t,e,n){t.set(e,n)}function a(){}u.prototype=y.prototype={constructor:u,has:function(t){return n+t in this},get:function(t){return this[n+t]},set:function(t,e){return this[n+t]=e,this},remove:function(t){var e=n+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===n&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===n&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===n&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===n&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===n&&++t;return t},empty:function(){for(var t in this)if(t[0]===n)return!1;return!0},each:function(t){for(var e in this)e[0]===n&&t(this[e],e.slice(1),this)}};var e=y.prototype;function c(t,e){var n=new a;if(t instanceof a)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}a.prototype=c.prototype={constructor:a,has:e.has,add:function(t){return this[n+(t+="")]=t,this},remove:e.remove,clear:e.clear,values:e.keys,size:e.size,empty:e.empty,each:e.each},t.nest=function(){var h,d,e,p=[],a=[];function v(t,n,r,i){if(n>=p.length)return null!=h&&t.sort(h),null!=d?d(t):t;for(var e,o,a,u=-1,s=t.length,c=p[n++],l=y(),f=r();++u<s;)(a=l.get(e=c(o=t[u])+""))?a.push(o):l.set(e,[o]);return l.each(function(t,e){i(f,e,v(t,n,r,i))}),f}return e={object:function(t){return v(t,0,r,i)},map:function(t){return v(t,0,o,s)},entries:function(t){return function n(t,r){if(++r>p.length)return t;var i,o=a[r-1];return null!=d&&r>=p.length?i=t.entries():(i=[],t.each(function(t,e){i.push({key:e,values:n(t,r)})})),null!=o?i.sort(function(t,e){return o(t.key,e.key)}):i}(v(t,0,o,s),0)},key:function(t){return p.push(t),e},sortKeys:function(t){return a[p.length-1]=t,e},sortValues:function(t){return h=t,e},rollup:function(t){return d=t,e}}},t.set=c,t.map=y,t.keys=function(t){var e=[];for(var n in t)e.push(n);return e},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],22:[function(t,e,n){var r;r=this,function(t){"use strict";function e(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function n(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function c(){}var r=1/.7,i="\\s*([+-]?\\d+)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3})$/,s=/^#([0-9a-f]{6})$/,l=new RegExp("^rgb\\("+[i,i,i]+"\\)$"),f=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),h=new RegExp("^rgba\\("+[i,i,i,o]+"\\)$"),d=new RegExp("^rgba\\("+[a,a,a,o]+"\\)$"),p=new RegExp("^hsl\\("+[o,a,a]+"\\)$"),v=new RegExp("^hsla\\("+[o,a,a,o]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function g(){return this.rgb().formatHex()}function m(){return this.rgb().formatRgb()}function _(t){var e;return t=(t+"").trim().toLowerCase(),(e=u.exec(t))?new S((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=s.exec(t))?b(parseInt(e[1],16)):(e=l.exec(t))?new S(e[1],e[2],e[3],1):(e=f.exec(t))?new S(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=h.exec(t))?x(e[1],e[2],e[3],e[4]):(e=d.exec(t))?x(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=p.exec(t))?O(e[1],e[2]/100,e[3]/100,1):(e=v.exec(t))?O(e[1],e[2]/100,e[3]/100,e[4]):y.hasOwnProperty(t)?b(y[t]):"transparent"===t?new S(NaN,NaN,NaN,0):null}function b(t){return new S(t>>16&255,t>>8&255,255&t,1)}function x(t,e,n,r){return r<=0&&(t=e=n=NaN),new S(t,e,n,r)}function w(t){return t instanceof c||(t=_(t)),t?new S((t=t.rgb()).r,t.g,t.b,t.opacity):new S}function k(t,e,n,r){return 1===arguments.length?w(t):new S(t,e,n,null==r?1:r)}function S(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function M(){return"#"+N(this.r)+N(this.g)+N(this.b)}function T(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function N(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function O(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new j(t,e,n,r)}function E(t){if(t instanceof j)return new j(t.h,t.s,t.l,t.opacity);if(t instanceof c||(t=_(t)),!t)return new j;if(t instanceof j)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=0<s&&s<1?0:a,new j(a,u,s,t.opacity)}function P(t,e,n,r){return 1===arguments.length?E(t):new j(t,e,n,null==r?1:r)}function j(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function C(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}e(c,_,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:g,formatHex:g,formatHsl:function(){return E(this).formatHsl()},formatRgb:m,toString:m}),e(S,k,n(c,{brighter:function(t){return t=null==t?r:Math.pow(r,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new S(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M,formatHex:M,formatRgb:T,toString:T})),e(j,P,n(c,{brighter:function(t){return t=null==t?r:Math.pow(r,t),new j(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new j(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new S(C(240<=t?t-240:120+t,i,r),C(t,i,r),C(t<120?240+t:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var A=Math.PI/180,D=180/Math.PI,R=.96422,z=1,I=.82521,L=4/29,U=6/29,W=3*U*U,F=U*U*U;function B(t){if(t instanceof H)return new H(t.l,t.a,t.b,t.opacity);if(t instanceof Z)return J(t);t instanceof S||(t=w(t));var e,n,r=X(t.r),i=X(t.g),o=X(t.b),a=Y((.2225045*r+.7168786*i+.0606169*o)/z);return r===i&&i===o?e=n=a:(e=Y((.4360747*r+.3850649*i+.1430804*o)/R),n=Y((.0139322*r+.0971045*i+.7141733*o)/I)),new H(116*a-16,500*(e-a),200*(a-n),t.opacity)}function $(t,e,n,r){return 1===arguments.length?B(t):new H(t,e,n,null==r?1:r)}function H(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Y(t){return F<t?Math.pow(t,1/3):t/W+L}function q(t){return U<t?t*t*t:W*(t-L)}function V(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function X(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function G(t){if(t instanceof Z)return new Z(t.h,t.c,t.l,t.opacity);if(t instanceof H||(t=B(t)),0===t.a&&0===t.b)return new Z(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*D;return new Z(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function K(t,e,n,r){return 1===arguments.length?G(t):new Z(t,e,n,null==r?1:r)}function Z(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function J(t){if(isNaN(t.h))return new H(t.l,0,0,t.opacity);var e=t.h*A;return new H(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}e(H,$,n(c,{brighter:function(t){return new H(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new H(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new S(V(3.1338561*(e=R*q(e))-1.6168667*(t=z*q(t))-.4906146*(n=I*q(n))),V(-.9787684*e+1.9161415*t+.033454*n),V(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),e(Z,K,n(c,{brighter:function(t){return new Z(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Z(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return J(this).rgb()}}));var Q=1.78277,tt=-.29227,et=-.90649,nt=1.97294,rt=nt*et,it=nt*Q,ot=Q*tt- -.14861*et;function at(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof ut)return new ut(t.h,t.s,t.l,t.opacity);t instanceof S||(t=w(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(ot*r+rt*e-it*n)/(ot+rt-it),o=r-i,a=(nt*(n-i)-tt*o)/et,u=Math.sqrt(a*a+o*o)/(nt*i*(1-i)),s=u?Math.atan2(a,o)*D-120:NaN;return new ut(s<0?s+360:s,u,i,t.opacity)}(t):new ut(t,e,n,null==r?1:r)}function ut(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}e(ut,at,n(c,{brighter:function(t){return t=null==t?r:Math.pow(r,t),new ut(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ut(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*A,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new S(255*(e+n*(-.14861*r+Q*i)),255*(e+n*(tt*r+et*i)),255*(e+nt*r*n),this.opacity)}})),t.color=_,t.cubehelix=at,t.gray=function(t,e){return new H(t,0,0,null==e?1:e)},t.hcl=K,t.hsl=P,t.lab=$,t.lch=function(t,e,n,r){return 1===arguments.length?G(t):new Z(n,e,t,null==r?1:r)},t.rgb=k,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:(r=r||self).d3=r.d3||{})},{}],23:[function(t,e,n){var r;r=this,function(t){"use strict";var o={value:function(){}};function e(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function u(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function s(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=o,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}i.prototype=e.prototype={constructor:i,on:function(t,e){var n,r=this._,i=function(t,r){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=s(r[n],t.name,e);else if(null==e)for(n in r)r[n]=s(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=u(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},t.dispatch=e,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],24:[function(t,e,n){var r,i;r=this,i=function(t,x,w){"use strict";function k(){w.event.stopImmediatePropagation()}function S(){w.event.preventDefault(),w.event.stopImmediatePropagation()}function M(t){var e=t.document.documentElement,n=w.select(t).on("dragstart.drag",S,!0);"onselectstart"in e?n.on("selectstart.drag",S,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function T(t,e){var n=t.document.documentElement,r=w.select(t).on("dragstart.drag",null);e&&(r.on("click.drag",S,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function N(t){return function(){return t}}function O(t,e,n,r,i,o,a,u,s,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=s,this._=c}function E(){return!w.event.ctrlKey&&!w.event.button}function P(){return this.parentNode}function j(t){return null==t?{x:w.event.x,y:w.event.y}:t}function C(){return navigator.maxTouchPoints||"ontouchstart"in this}O.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t},t.drag=function(){var n,r,i,o,a=E,u=P,e=j,s=C,p={},v=x.dispatch("start","drag","end"),y=0,c=0;function g(t){t.on("mousedown.drag",l).filter(s).on("touchstart.drag",d).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function l(){if(!o&&a.apply(this,arguments)){var t=b("mouse",u.apply(this,arguments),w.mouse,this,arguments);t&&(w.select(w.event.view).on("mousemove.drag",f,!0).on("mouseup.drag",h,!0),M(w.event.view),k(),i=!1,n=w.event.clientX,r=w.event.clientY,t("start"))}}function f(){if(S(),!i){var t=w.event.clientX-n,e=w.event.clientY-r;i=c<t*t+e*e}p.mouse("drag")}function h(){w.select(w.event.view).on("mousemove.drag mouseup.drag",null),T(w.event.view,i),S(),p.mouse("end")}function d(){if(a.apply(this,arguments)){var t,e,n=w.event.changedTouches,r=u.apply(this,arguments),i=n.length;for(t=0;t<i;++t)(e=b(n[t].identifier,r,w.touch,this,arguments))&&(k(),e("start"))}}function m(){var t,e,n=w.event.changedTouches,r=n.length;for(t=0;t<r;++t)(e=p[n[t].identifier])&&(S(),e("drag"))}function _(){var t,e,n=w.event.changedTouches,r=n.length;for(o&&clearTimeout(o),o=setTimeout(function(){o=null},500),t=0;t<r;++t)(e=p[n[t].identifier])&&(k(),e("end"))}function b(i,o,a,u,s){var c,l,f,h=a(o,i),d=v.copy();if(w.customEvent(new O(g,"beforestart",c,i,y,h[0],h[1],0,0,d),function(){return null!=(w.event.subject=c=e.apply(u,s))&&(l=c.x-h[0]||0,f=c.y-h[1]||0,!0)}))return function t(e){var n,r=h;switch(e){case"start":p[i]=t,n=y++;break;case"end":delete p[i],--y;case"drag":h=a(o,i),n=y}w.customEvent(new O(g,e,c,i,n,h[0]+l,h[1]+f,h[0]-r[0],h[1]-r[1],d),d.apply,d,[e,u,s])}}return g.filter=function(t){return arguments.length?(a="function"==typeof t?t:N(!!t),g):a},g.container=function(t){return arguments.length?(u="function"==typeof t?t:N(t),g):u},g.subject=function(t){return arguments.length?(e="function"==typeof t?t:N(t),g):e},g.touchable=function(t){return arguments.length?(s="function"==typeof t?t:N(!!t),g):s},g.on=function(){var t=v.on.apply(v,arguments);return t===v?g:t},g.clickDistance=function(t){return arguments.length?(c=(t=+t)*t,g):Math.sqrt(c)},g},t.dragDisable=M,t.dragEnable=T,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-dispatch"),t("d3-selection")):i((r=r||self).d3=r.d3||{},r.d3,r.d3)},{"d3-dispatch":23,"d3-selection":31}],25:[function(t,e,n){var r;r=this,function(t){"use strict";function e(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function n(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var r=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),i=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),o=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),a=Math.PI,u=a/2;function s(t){return(1-Math.cos(a*t))/2}function c(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function l(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var f=4/11,h=6/11,d=8/11,p=.75,v=9/11,y=10/11,g=.9375,m=21/22,_=63/64,b=1/f/f;function x(t){return(t=+t)<f?b*t*t:t<d?b*(t-=h)*t+p:t<y?b*(t-=v)*t+g:b*(t-=m)*t+_}var w=1.70158,k=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(w),S=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(w),M=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(w),T=2*Math.PI,N=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=T);function t(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/r)}return t.amplitude=function(t){return e(t,r*T)},t.period=function(t){return e(n,t)},t}(1,.3),O=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=T);function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/r)}return t.amplitude=function(t){return e(t,r*T)},t.period=function(t){return e(n,t)},t}(1,.3),E=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=T);function t(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/r):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/r))/2}return t.amplitude=function(t){return e(t,r*T)},t.period=function(t){return e(n,t)},t}(1,.3);t.easeLinear=function(t){return+t},t.easeQuad=e,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=e,t.easeCubic=n,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=n,t.easePoly=o,t.easePolyIn=r,t.easePolyOut=i,t.easePolyInOut=o,t.easeSin=s,t.easeSinIn=function(t){return 1-Math.cos(t*u)},t.easeSinOut=function(t){return Math.sin(t*u)},t.easeSinInOut=s,t.easeExp=c,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=c,t.easeCircle=l,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=l,t.easeBounce=x,t.easeBounceIn=function(t){return 1-x(1-t)},t.easeBounceOut=x,t.easeBounceInOut=function(t){return((t*=2)<=1?1-x(1-t):x(t-1)+1)/2},t.easeBack=M,t.easeBackIn=k,t.easeBackOut=S,t.easeBackInOut=M,t.easeElastic=O,t.easeElasticIn=N,t.easeElasticOut=O,t.easeElasticInOut=E,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],26:[function(t,e,n){var r;r=this,function(e){"use strict";function u(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[1<r.length?r[0]+r.slice(2):r,+t.slice(n+1)]}function s(t){return(t=u(Math.abs(t)))?t[1]:NaN}var N,n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function O(t){if(!(e=n.exec(t)))throw new Error("invalid format: "+t);var e;return new r({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function r(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function i(t,e){var n=u(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}O.prototype=r.prototype,r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var E={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return i(100*t,e)},r:i,s:function(t,e){var n=u(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(N=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:a<o?r+new Array(o-a+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+u(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function c(t){return t}var o,l=Array.prototype.map,P=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function a(t){var w=void 0===t.grouping||void 0===t.thousands?c:function(u,s){return function(t,e){for(var n=t.length,r=[],i=0,o=u[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=u[i=(i+1)%u.length];return r.reverse().join(s)}}(l.call(t.grouping,Number),t.thousands+""),r=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",k=void 0===t.decimal?".":t.decimal+"",S=void 0===t.numerals?c:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(l.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",M=void 0===t.minus?"-":t.minus+"",T=void 0===t.nan?"NaN":t.nan+"";function a(t){var c=(t=O(t)).fill,l=t.align,f=t.sign,e=t.symbol,h=t.zero,d=t.width,p=t.comma,v=t.precision,y=t.trim,g=t.type;"n"===g?(p=!0,g="g"):E[g]||(void 0===v&&(v=12),y=!0,g="g"),(h||"0"===c&&"="===l)&&(h=!0,c="0",l="=");var m="$"===e?r:"#"===e&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",_="$"===e?i:/[%p]/.test(g)?o:"",b=E[g],x=/[defgprs%]/.test(g);function n(t){var e,n,r,i=m,o=_;if("c"===g)o=b(t)+o,t="";else{var a=(t=+t)<0;if(t=isNaN(t)?T:b(Math.abs(t),v),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(0<i){if(!+t[r])break t;i=0}}return 0<i?t.slice(0,i)+t.slice(e+1):t}(t)),a&&0==+t&&(a=!1),i=(a?"("===f?f:M:"-"===f||"("===f?"":f)+i,o=("s"===g?P[8+N/3]:"")+o+(a&&"("===f?")":""),x)for(e=-1,n=t.length;++e<n;)if((r=t.charCodeAt(e))<48||57<r){o=(46===r?k+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}p&&!h&&(t=w(t,1/0));var u=i.length+t.length+o.length,s=u<d?new Array(d-u+1).join(c):"";switch(p&&h&&(t=w(s+t,s.length?d-o.length:1/0),s=""),l){case"<":t=i+t+o+s;break;case"=":t=i+s+t+o;break;case"^":t=s.slice(0,u=s.length>>1)+i+t+o+s.slice(u);break;default:t=s+i+t+o}return S(t)}return v=void 0===v?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),n.toString=function(){return t+""},n}return{format:a,formatPrefix:function(t,e){var n=a(((t=O(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(s(e)/3))),i=Math.pow(10,-r),o=P[8+r/3];return function(t){return n(i*t)+o}}}}function t(t){return o=a(t),e.format=o.format,e.formatPrefix=o.formatPrefix,o}t({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),e.FormatSpecifier=r,e.formatDefaultLocale=t,e.formatLocale=a,e.formatSpecifier=O,e.precisionFixed=function(t){return Math.max(0,-s(Math.abs(t)))},e.precisionPrefix=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(s(e)/3)))-s(Math.abs(t)))},e.precisionRound=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,s(e)-s(t))+1},Object.defineProperty(e,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:(r=r||self).d3=r.d3||{})},{}],27:[function(t,e,n){var r;r=this,function(t){"use strict";function n(t,e){return t.parent===e.parent?1:2}function f(t,e){return t+e.x}function h(t,e){return Math.max(t,e.y)}function e(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;0<=--r;)e+=n[r].value;else e=1;t.value=e}function r(t,e){var n,r,i,o,a,u=new p(t),s=+t.value&&(u.value=t.value),c=[u];for(null==e&&(e=l);n=c.pop();)if(s&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;0<=o;--o)c.push(r=n.children[o]=new p(i[o])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(d)}function l(t){return t.children}function i(t){t.data=t.data.data}function d(t){for(var e=0;t.height=e,(t=t.parent)&&t.height<++e;);}function p(t){this.data=t,this.depth=this.height=0,this.parent=null}p.prototype=r.prototype={constructor:p,count:function(){return this.eachAfter(e)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;0<=n;--n)i.push(e[n]);return this},sum:function(i){return this.eachAfter(function(t){for(var e=+i(t.data)||0,n=t.children,r=n&&n.length;0<=--r;)e+=n[r].value;t.value=e})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n},copy:function(){return r(this).eachBefore(i)}};var a=Array.prototype.slice;function v(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(a.call(t))).length,o=[];r<i;)e=t[r],n&&s(n,e)?++r:(n=y(o=u(o,e)),r=0);return n}function u(t,e){var n,r;if(c(e,t))return[e];for(n=0;n<t.length;++n)if(o(e,t[n])&&c(g(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(o(g(t[n],t[r]),e)&&o(g(t[n],e),t[r])&&o(g(t[r],e),t[n])&&c(m(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function o(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function s(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return 0<n&&r*r+i*i<n*n}function c(t,e){for(var n=0;n<e.length;++n)if(!s(t,e[n]))return!1;return!0}function y(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return g(t[0],t[1]);case 3:return m(t[0],t[1],t[2])}}function g(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,u=e.r,s=o-n,c=a-r,l=u-i,f=Math.sqrt(s*s+c*c);return{x:(n+o+s/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+u)/2}}function m(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,u=e.y,s=e.r,c=n.x,l=n.y,f=n.r,h=r-a,d=r-c,p=i-u,v=i-l,y=s-o,g=f-o,m=r*r+i*i-o*o,_=m-a*a-u*u+s*s,b=m-c*c-l*l+f*f,x=d*p-h*v,w=(p*b-v*_)/(2*x)-r,k=(v*y-p*g)/x,S=(d*_-h*b)/(2*x)-i,M=(h*g-d*y)/x,T=k*k+M*M-1,N=2*(o+w*k+S*M),O=w*w+S*S-o*o,E=-(T?(N+Math.sqrt(N*N-4*T*O))/(2*T):O/N);return{x:r+w+k*E,y:i+S+M*E,r:E}}function _(t,e,n){var r,i,o,a,u=t.x-e.x,s=t.y-e.y,c=u*u+s*s;c?(i=e.r+n.r,i*=i,a=t.r+n.r,(a*=a)<i?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=t.x-r*u-o*s,n.y=t.y-r*s+o*u):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*u-o*s,n.y=e.y+r*s+o*u)):(n.x=e.x+n.r,n.y=e.y)}function b(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return 0<n&&r*r+i*i<n*n}function x(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function w(t){this._=t,this.next=null,this.previous=null}function k(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,u,s,c,l,f;if((e=t[0]).x=0,e.y=0,!(1<i))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(2<i))return e.r+n.r;_(n,e,r=t[2]),e=new w(e),n=new w(n),r=new w(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(u=3;u<i;++u){_(e._,n._,r=t[u]),r=new w(r),s=n.next,c=e.previous,l=n._.r,f=e._.r;do{if(l<=f){if(b(s._,r._)){n=s,(e.next=n).previous=e,--u;continue t}l+=s._.r,s=s.next}else{if(b(c._,r._)){((e=c).next=n).previous=e,--u;continue t}f+=c._.r,c=c.previous}}while(s!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=x(e);(r=r.next)!==n;)(a=x(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=v(e),u=0;u<i;++u)(e=t[u]).x-=r.x,e.y-=r.y;return r.r}function S(t){if("function"!=typeof t)throw new Error;return t}function M(){return 0}function T(t){return function(){return t}}function N(t){return Math.sqrt(t.value)}function O(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function E(a,u){return function(t){if(e=t.children){var e,n,r,i=e.length,o=a(t)*u||0;if(o)for(n=0;n<i;++n)e[n].r+=o;if(r=k(e),o)for(n=0;n<i;++n)e[n].r-=o;t.r=r+o}}}function P(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function j(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function C(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,c=t.value&&(r-e)/t.value;++u<s;)(o=a[u]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}var A={depth:-1},D={};function R(t){return t.id}function z(t){return t.parentId}function I(t,e){return t.parent===e.parent?1:2}function L(t){var e=t.children;return e?e[0]:t.t}function U(t){var e=t.children;return e?e[e.length-1]:t.t}function W(t,e){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function F(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,c=t.value&&(i-n)/t.value;++u<s;)(o=a[u]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}W.prototype=Object.create(p.prototype);var B=(1+Math.sqrt(5))/2;function $(t,e,n,r,i,o){for(var a,u,s,c,l,f,h,d,p,v,y,g=[],m=e.children,_=0,b=0,x=m.length,w=e.value;_<x;){for(s=i-n,c=o-r;!(l=m[b++].value)&&b<x;);for(f=h=l,y=l*l*(v=Math.max(c/s,s/c)/(w*t)),p=Math.max(h/y,y/f);b<x;++b){if(l+=u=m[b].value,u<f&&(f=u),h<u&&(h=u),y=l*l*v,p<(d=Math.max(h/y,y/f))){l-=u;break}p=d}g.push(a={value:l,dice:s<c,children:m.slice(_,b)}),a.dice?C(a,n,r,i,w?r+=c*l/w:o):F(a,n,r,w?n+=s*l/w:i,o),w-=l,_=b}return g}var H=function e(o){function t(t,e,n,r,i){$(o,t,e,n,r,i)}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(B);var Y=function e(d){function t(t,e,n,r,i){if((o=t._squarify)&&o.ratio===d)for(var o,a,u,s,c,l=-1,f=o.length,h=t.value;++l<f;){for(u=(a=o[l]).children,s=a.value=0,c=u.length;s<c;++s)a.value+=u[s].value;a.dice?C(a,e,n,r,n+=(i-n)*a.value/h):F(a,e,n,e+=(r-e)*a.value/h,i),h-=a.value}else t._squarify=o=$(d,t,e,n,r,i),o.ratio=d}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(B);t.cluster=function(){var u=n,s=1,c=1,l=!1;function e(e){var n,r=0;e.eachAfter(function(t){var e=t.children;e?(t.x=function(t){return t.reduce(f,0)/t.length}(e),t.y=function(t){return 1+t.reduce(h,0)}(e)):(t.x=n?r+=u(t,n):0,t.y=0,n=t)});var t=function(t){for(var e;e=t.children;)t=e[0];return t}(e),i=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(e),o=t.x-u(t,i)/2,a=i.x+u(i,t)/2;return e.eachAfter(l?function(t){t.x=(t.x-e.x)*s,t.y=(e.y-t.y)*c}:function(t){t.x=(t.x-o)/(a-o)*s,t.y=(1-(e.y?t.y/e.y:1))*c})}return e.separation=function(t){return arguments.length?(u=t,e):u},e.size=function(t){return arguments.length?(l=!1,s=+t[0],c=+t[1],e):l?null:[s,c]},e.nodeSize=function(t){return arguments.length?(l=!0,s=+t[0],c=+t[1],e):l?[s,c]:null},e},t.hierarchy=r,t.pack=function(){var e=null,n=1,r=1,i=M;function o(t){return t.x=n/2,t.y=r/2,e?t.eachBefore(O(e)).eachAfter(E(i,.5)).eachBefore(P(1)):t.eachBefore(O(N)).eachAfter(E(M,1)).eachAfter(E(i,t.r/Math.min(n,r))).eachBefore(P(Math.min(n,r)/(2*t.r))),t}return o.radius=function(t){return arguments.length?(e=function(t){return null==t?null:S(t)}(t),o):e},o.size=function(t){return arguments.length?(n=+t[0],r=+t[1],o):[n,r]},o.padding=function(t){return arguments.length?(i="function"==typeof t?t:T(+t),o):i},o},t.packSiblings=function(t){return k(t),t},t.packEnclose=v,t.partition=function(){var n=1,r=1,u=0,i=!1;function e(t){var e=t.height+1;return t.x0=t.y0=u,t.x1=n,t.y1=r/e,t.eachBefore(function(o,a){return function(t){t.children&&C(t,t.x0,o*(t.depth+1)/a,t.x1,o*(t.depth+2)/a);var e=t.x0,n=t.y0,r=t.x1-u,i=t.y1-u;r<e&&(e=r=(e+r)/2),i<n&&(n=i=(n+i)/2),t.x0=e,t.y0=n,t.x1=r,t.y1=i}}(r,e)),i&&t.eachBefore(j),t}return e.round=function(t){return arguments.length?(i=!!t,e):i},e.size=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.padding=function(t){return arguments.length?(u=+t,e):u},e},t.stratify=function(){var f=R,h=z;function e(t){var e,n,r,i,o,a,u,s=t.length,c=new Array(s),l={};for(n=0;n<s;++n)e=t[n],o=c[n]=new p(e),null!=(a=f(e,n,t))&&(a+="")&&(l[u="$"+(o.id=a)]=u in l?D:o);for(n=0;n<s;++n)if(o=c[n],null!=(a=h(t[n],n,t))&&(a+="")){if(!(i=l["$"+a]))throw new Error("missing: "+a);if(i===D)throw new Error("ambiguous: "+a);i.children?i.children.push(o):i.children=[o],o.parent=i}else{if(r)throw new Error("multiple roots");r=o}if(!r)throw new Error("no root");if(r.parent=A,r.eachBefore(function(t){t.depth=t.parent.depth+1,--s}).eachBefore(d),r.parent=null,0<s)throw new Error("cycle");return r}return e.id=function(t){return arguments.length?(f=S(t),e):f},e.parentId=function(t){return arguments.length?(h=S(t),e):h},e},t.tree=function(){var _=I,c=1,l=1,f=null;function e(t){var e=function(t){for(var e,n,r,i,o,a=new W(t,0),u=[a];e=u.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;0<=i;--i)u.push(n=e.children[i]=new W(r[i],i)),n.parent=e;return(a.parent=new W(null,0)).children=[a],a}(t);if(e.eachAfter(h),e.parent.m=-e.z,e.eachBefore(d),f)t.eachBefore(p);else{var n=t,r=t,i=t;t.eachBefore(function(t){t.x<n.x&&(n=t),t.x>r.x&&(r=t),t.depth>i.depth&&(i=t)});var o=n===r?1:_(n,r)/2,a=o-n.x,u=c/(r.x+o+a),s=l/(i.depth||1);t.eachBefore(function(t){t.x=(t.x+a)*u,t.y=t.depth*s})}return t}function h(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;0<=--o;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+_(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+_(t._,r._));t.parent.A=function(t,e,n){if(e){for(var r,i=t,o=t,a=e,u=i.parent.children[0],s=i.m,c=o.m,l=a.m,f=u.m;a=U(a),i=L(i),a&&i;)u=L(u),(o=U(o)).a=t,0<(r=a.z+l-i.z-s+_(a._,i._))&&(g=t,m=n,h=(y=a).a.parent===g.parent?y.a:m,void 0,v=(p=r)/((d=t).i-h.i),d.c-=v,d.s+=p,h.c+=v,d.z+=p,d.m+=p,s+=r,c+=r),l+=a.m,s+=i.m,f+=u.m,c+=o.m;a&&!U(o)&&(o.t=a,o.m+=l-c),i&&!L(u)&&(u.t=i,u.m+=s-f,n=t)}var h,d,p,v;var y,g,m;return n}(t,r,t.parent.A||n[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function p(t){t.x*=c,t.y=t.depth*l}return e.separation=function(t){return arguments.length?(_=t,e):_},e.size=function(t){return arguments.length?(f=!1,c=+t[0],l=+t[1],e):f?null:[c,l]},e.nodeSize=function(t){return arguments.length?(f=!0,c=+t[0],l=+t[1],e):f?[c,l]:null},e},t.treemap=function(){var a=H,e=!1,n=1,r=1,u=[0],s=M,c=M,l=M,f=M,h=M;function i(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(o),u=[0],e&&t.eachBefore(j),t}function o(t){var e=u[t.depth],n=t.x0+e,r=t.y0+e,i=t.x1-e,o=t.y1-e;i<n&&(n=i=(n+i)/2),o<r&&(r=o=(r+o)/2),t.x0=n,t.y0=r,t.x1=i,t.y1=o,t.children&&(e=u[t.depth+1]=s(t)/2,n+=h(t)-e,r+=c(t)-e,(i-=l(t)-e)<n&&(n=i=(n+i)/2),(o-=f(t)-e)<r&&(r=o=(r+o)/2),a(t,n,r,i,o))}return i.round=function(t){return arguments.length?(e=!!t,i):e},i.size=function(t){return arguments.length?(n=+t[0],r=+t[1],i):[n,r]},i.tile=function(t){return arguments.length?(a=S(t),i):a},i.padding=function(t){return arguments.length?i.paddingInner(t).paddingOuter(t):i.paddingInner()},i.paddingInner=function(t){return arguments.length?(s="function"==typeof t?t:T(+t),i):s},i.paddingOuter=function(t){return arguments.length?i.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):i.paddingTop()},i.paddingTop=function(t){return arguments.length?(c="function"==typeof t?t:T(+t),i):c},i.paddingRight=function(t){return arguments.length?(l="function"==typeof t?t:T(+t),i):l},i.paddingBottom=function(t){return arguments.length?(f="function"==typeof t?t:T(+t),i):f},i.paddingLeft=function(t){return arguments.length?(h="function"==typeof t?t:T(+t),i):h},i},t.treemapBinary=function(t,e,n,r,i){var o,a,m=t.children,u=m.length,_=new Array(u+1);for(_[0]=a=o=0;o<u;++o)_[o+1]=a+=m[o].value;!function t(e,n,r,i,o,a,u){if(n-1<=e){var s=m[e];return s.x0=i,s.y0=o,s.x1=a,void(s.y1=u)}var c=_[e],l=r/2+c,f=e+1,h=n-1;for(;f<h;){var d=f+h>>>1;_[d]<l?f=1+d:h=d}l-_[f-1]<_[f]-l&&e+1<f&&--f;var p=_[f]-c,v=r-p;if(u-o<a-i){var y=(i*v+a*p)/r;t(e,f,p,i,o,y,u),t(f,n,v,y,o,a,u)}else{var g=(o*v+u*p)/r;t(e,f,p,i,o,a,g),t(f,n,v,i,g,a,u)}}(0,u,t.value,e,n,r,i)},t.treemapDice=C,t.treemapSlice=F,t.treemapSliceDice=function(t,e,n,r,i){(1&t.depth?F:C)(t,e,n,r,i)},t.treemapSquarify=H,t.treemapResquarify=Y,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],28:[function(t,e,n){var r,i;r=this,i=function(t,s){"use strict";function c(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function e(a){var u=a.length-1;return function(t){var e=t<=0?t=0:1<=t?u-(t=1):Math.floor(t*u),n=a[e],r=a[e+1],i=0<e?a[e-1]:2*n-r,o=e<u-1?a[e+2]:2*r-n;return c((t-e/u)*u,i,n,r,o)}}function n(a){var u=a.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*u),n=a[(e+u-1)%u],r=a[e%u],i=a[(e+1)%u],o=a[(e+2)%u];return c((t-e/u)*u,n,r,i,o)}}function i(t){return function(){return t}}function r(e,n){return function(t){return e+t*n}}function o(t,e){var n=e-t;return n?r(t,180<n||n<-180?n-360*Math.round(n/360):n):i(isNaN(t)?e:t)}function u(n){return 1==(n=+n)?l:function(t,e){return e-t?function(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(t){return Math.pow(e+t*n,r)}}(t,e,n):i(isNaN(t)?e:t)}}function l(t,e){var n=e-t;return n?r(t,n):i(isNaN(t)?e:t)}var a=function t(e){var a=u(e);function n(e,t){var n=a((e=s.rgb(e)).r,(t=s.rgb(t)).r),r=a(e.g,t.g),i=a(e.b,t.b),o=l(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);function f(u){return function(t){var e,n,r=t.length,i=new Array(r),o=new Array(r),a=new Array(r);for(e=0;e<r;++e)n=s.rgb(t[e]),i[e]=n.r||0,o[e]=n.g||0,a[e]=n.b||0;return i=u(i),o=u(o),a=u(a),n.opacity=1,function(t){return n.r=i(t),n.g=o(t),n.b=a(t),n+""}}}var h=f(e),d=f(n);function p(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=x(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function v(e,n){var r=new Date;return n-=e=+e,function(t){return r.setTime(e+n*t),r}}function y(e,n){return n-=e=+e,function(t){return e+n*t}}function g(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=x(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var m=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_=new RegExp(m.source,"g");function b(t,r){var e,n,i,o=m.lastIndex=_.lastIndex=0,a=-1,u=[],s=[];for(t+="",r+="";(e=m.exec(t))&&(n=_.exec(r));)(i=n.index)>o&&(i=r.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(n=n[0])?u[a]?u[a]+=n:u[++a]=n:(u[++a]=null,s.push({i:a,x:y(e,n)})),o=_.lastIndex;return o<r.length&&(i=r.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(t){return function(){return t}}(r):(r=s.length,function(t){for(var e,n=0;n<r;++n)u[(e=s[n]).i]=e.x(t);return u.join("")})}function x(t,e){var n,r=typeof e;return null==e||"boolean"==r?i(e):("number"==r?y:"string"==r?(n=s.color(e))?(e=n,a):b:e instanceof s.color?a:e instanceof Date?v:Array.isArray(e)?p:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?g:y)(t,e)}var w,k,S,M,T=180/Math.PI,N={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function O(t,e,n,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*T,skewX:Math.atan(s)*T,scaleX:a,scaleY:u}}function E(n,u,s,a){function c(t){return t.length?t.pop()+" ":""}return function(t,e){var i=[],o=[];return t=n(t),e=n(e),function(t,e,n,r,i,o){if(t!==n||e!==r){var a=i.push("translate(",null,u,null,s);o.push({i:a-4,x:y(t,n)},{i:a-2,x:y(e,r)})}else(n||r)&&i.push("translate("+n+u+r+s)}(t.translateX,t.translateY,e.translateX,e.translateY,i,o),function(t,e,n,r){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),r.push({i:n.push(c(n)+"rotate(",null,a)-2,x:y(t,e)})):e&&n.push(c(n)+"rotate("+e+a)}(t.rotate,e.rotate,i,o),function(t,e,n,r){t!==e?r.push({i:n.push(c(n)+"skewX(",null,a)-2,x:y(t,e)}):e&&n.push(c(n)+"skewX("+e+a)}(t.skewX,e.skewX,i,o),function(t,e,n,r,i,o){if(t!==n||e!==r){var a=i.push(c(i)+"scale(",null,",",null,")");o.push({i:a-4,x:y(t,n)},{i:a-2,x:y(e,r)})}else 1===n&&1===r||i.push(c(i)+"scale("+n+","+r+")")}(t.scaleX,t.scaleY,e.scaleX,e.scaleY,i,o),t=e=null,function(t){for(var e,n=-1,r=o.length;++n<r;)i[(e=o[n]).i]=e.x(t);return i.join("")}}}var P=E(function(t){return"none"===t?N:(w||(w=document.createElement("DIV"),k=document.documentElement,S=document.defaultView),w.style.transform=t,t=S.getComputedStyle(k.appendChild(w),null).getPropertyValue("transform"),k.removeChild(w),O(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),j=E(function(t){return null==t?N:((M=M||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=M.transform.baseVal.consolidate())?O((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):N)},", ",")",")"),C=Math.SQRT2;function A(t){return((t=Math.exp(t))+1/t)/2}function D(a){return function(e,t){var n=a((e=s.hsl(e)).h,(t=s.hsl(t)).h),r=l(e.s,t.s),i=l(e.l,t.l),o=l(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(t),e.opacity=o(t),e+""}}}var R=D(o),z=D(l);function I(a){return function(e,t){var n=a((e=s.hcl(e)).h,(t=s.hcl(t)).h),r=l(e.c,t.c),i=l(e.l,t.l),o=l(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=i(t),e.opacity=o(t),e+""}}}var L=I(o),U=I(l);function W(u){return function t(a){function e(e,t){var n=u((e=s.cubehelix(e)).h,(t=s.cubehelix(t)).h),r=l(e.s,t.s),i=l(e.l,t.l),o=l(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}var F=W(o),B=W(l);t.interpolate=x,t.interpolateArray=p,t.interpolateBasis=e,t.interpolateBasisClosed=n,t.interpolateDate=v,t.interpolateDiscrete=function(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}},t.interpolateHue=function(t,e){var n=o(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},t.interpolateNumber=y,t.interpolateObject=g,t.interpolateRound=function(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}},t.interpolateString=b,t.interpolateTransformCss=P,t.interpolateTransformSvg=j,t.interpolateZoom=function(t,e){var n,i,o=t[0],a=t[1],u=t[2],r=e[0],s=e[1],c=e[2],l=r-o,f=s-a,h=l*l+f*f;if(h<1e-12)i=Math.log(c/u)/C,n=function(t){return[o+t*l,a+t*f,u*Math.exp(C*t*i)]};else{var d=Math.sqrt(h),p=(c*c-u*u+4*h)/(2*u*2*d),v=(c*c-u*u-4*h)/(2*c*2*d),y=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(v*v+1)-v);i=(g-y)/C,n=function(t){var e=t*i,n=A(y),r=u/(2*d)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(C*e+y)-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[o+r*l,a+r*f,u*n/A(C*e+y)]}}return n.duration=1e3*i,n},t.interpolateRgb=a,t.interpolateRgbBasis=h,t.interpolateRgbBasisClosed=d,t.interpolateHsl=R,t.interpolateHslLong=z,t.interpolateLab=function(e,t){var n=l((e=s.lab(e)).l,(t=s.lab(t)).l),r=l(e.a,t.a),i=l(e.b,t.b),o=l(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}},t.interpolateHcl=L,t.interpolateHclLong=U,t.interpolateCubehelix=F,t.interpolateCubehelixLong=B,t.piecewise=function(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}},t.quantize=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-color")):i(r.d3=r.d3||{},r.d3)},{"d3-color":22}],29:[function(t,e,n){var r;r=this,function(t){"use strict";var x=Math.PI,h=2*x,w=1e-6,d=h-w;function e(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function n(){return new e}e.prototype=n.prototype={constructor:e,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,u=n-t,s=r-e,c=o-t,l=a-e,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(w<f)if(Math.abs(l*u-s*c)>w&&i){var h=n-o,d=r-a,p=u*u+s*s,v=h*h+d*d,y=Math.sqrt(p),g=Math.sqrt(f),m=i*Math.tan((x-Math.acos((p+f-v)/(2*y*g)))/2),_=m/g,b=m/y;Math.abs(_-1)>w&&(this._+="L"+(t+_*c)+","+(e+_*l)),this._+="A"+i+","+i+",0,0,"+ +(c*d<l*h)+","+(this._x1=t+b*u)+","+(this._y1=e+b*s)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),u=n*Math.sin(r),s=t+a,c=e+u,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>w||Math.abs(this._y1-c)>w)&&(this._+="L"+s+","+c),n&&(f<0&&(f=f%h+h),d<f?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-u)+"A"+n+","+n+",0,1,"+l+","+(this._x1=s)+","+(this._y1=c):w<f&&(this._+="A"+n+","+n+",0,"+ +(x<=f)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.path=n,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:(r=r||self).d3=r.d3||{})},{}],30:[function(t,e,n){var r,i;r=this,i=function(t,s,S,d,u,e,n){"use strict";function p(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function r(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var i=Array.prototype,M=i.map,v=i.slice,c={name:"implicit"};function y(){var o=s.map(),a=[],r=[],i=c;function u(t){var e=t+"",n=o.get(e);if(!n){if(i!==c)return i;o.set(e,n=a.push(t))}return r[(n-1)%r.length]}return u.domain=function(t){if(!arguments.length)return a.slice();a=[],o=s.map();for(var e,n,r=-1,i=t.length;++r<i;)o.has(n=(e=t[r])+"")||o.set(n,a.push(e));return u},u.range=function(t){return arguments.length?(r=v.call(t),u):r.slice()},u.unknown=function(t){return arguments.length?(i=t,u):i},u.copy=function(){return y(a,r).unknown(i)},p.apply(u,arguments),u}function g(){var o,a,t=y().unknown(void 0),u=t.domain,s=t.range,c=[0,1],l=!1,f=0,h=0,d=.5;function e(){var t=u().length,e=c[1]<c[0],n=c[e-0],r=c[1-e];o=(r-n)/Math.max(1,t-f+2*h),l&&(o=Math.floor(o)),n+=(r-n-o*(t-f))*d,a=o*(1-f),l&&(n=Math.round(n),a=Math.round(a));var i=S.range(t).map(function(t){return n+o*t});return s(e?i.reverse():i)}return delete t.unknown,t.domain=function(t){return arguments.length?(u(t),e()):u()},t.range=function(t){return arguments.length?(c=[+t[0],+t[1]],e()):c.slice()},t.rangeRound=function(t){return c=[+t[0],+t[1]],l=!0,e()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(t){return arguments.length?(l=!!t,e()):l},t.padding=function(t){return arguments.length?(f=Math.min(1,h=+t),e()):f},t.paddingInner=function(t){return arguments.length?(f=Math.min(1,t),e()):f},t.paddingOuter=function(t){return arguments.length?(h=+t,e()):h},t.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},t.copy=function(){return g(u(),c).round(l).paddingInner(f).paddingOuter(h).align(d)},p.apply(e(),arguments)}function m(t){return+t}var _=[0,1];function T(t){return t}function l(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function b(t){var e,n=t[0],r=t[t.length-1];return r<n&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function x(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return o=i<r?(r=l(i,r),n(a,o)):(r=l(r,i),n(o,a)),function(t){return o(r(t))}}function w(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=l(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(t){var e=S.bisect(n,t,1,r)-1;return o[e](i[e](t))}}function N(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function o(){var n,r,e,i,o,a,u=_,s=_,c=d.interpolate,l=T;function f(){return i=2<Math.min(u.length,s.length)?w:x,o=a=null,h}function h(t){return isNaN(t=+t)?e:(o=o||i(u.map(n),s,c))(n(l(t)))}return h.invert=function(t){return l(r((a=a||i(s,u.map(n),d.interpolateNumber))(t)))},h.domain=function(t){return arguments.length?(u=M.call(t,m),l===T||(l=b(u)),f()):u.slice()},h.range=function(t){return arguments.length?(s=v.call(t),f()):s.slice()},h.rangeRound=function(t){return s=v.call(t),c=d.interpolateRound,f()},h.clamp=function(t){return arguments.length?(l=t?b(u):T,h):l!==T},h.interpolate=function(t){return arguments.length?(c=t,f()):c},h.unknown=function(t){return arguments.length?(e=t,h):e},function(t,e){return n=t,r=e,f()}}function O(t,e){return o()(t,e)}function a(t,e,n,r){var i,o=S.tickStep(t,e,n);switch((r=u.formatSpecifier(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=u.precisionPrefix(o,a))||(r.precision=i),u.formatPrefix(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=u.precisionRound(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=u.precisionFixed(o))||(r.precision=i-2*("%"===r.type))}return u.format(r)}function f(u){var s=u.domain;return u.ticks=function(t){var e=s();return S.ticks(e[0],e[e.length-1],null==t?10:t)},u.tickFormat=function(t,e){var n=s();return a(n[0],n[n.length-1],null==t?10:t,e)},u.nice=function(t){null==t&&(t=10);var e,n=s(),r=0,i=n.length-1,o=n[r],a=n[i];return a<o&&(e=o,o=a,a=e,e=r,r=i,i=e),0<(e=S.tickIncrement(o,a,t))?(o=Math.floor(o/e)*e,a=Math.ceil(a/e)*e,e=S.tickIncrement(o,a,t)):e<0&&(o=Math.ceil(o*e)/e,a=Math.floor(a*e)/e,e=S.tickIncrement(o,a,t)),0<e?(n[r]=Math.floor(o/e)*e,n[i]=Math.ceil(a/e)*e,s(n)):e<0&&(n[r]=Math.ceil(o*e)/e,n[i]=Math.floor(a*e)/e,s(n)),u},u}function E(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function k(t){return Math.log(t)}function P(t){return Math.exp(t)}function j(t){return-Math.log(-t)}function C(t){return-Math.exp(-t)}function A(t){return isFinite(t)?+("1e"+t):t<0?0:t}function D(e){return function(t){return-e(-t)}}function h(t){var h,d,e=t(k,P),p=e.domain,v=10;function n(){return h=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(v),d=function(e){return 10===e?A:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(v),p()[0]<0?(h=D(h),d=D(d),t(j,C)):t(k,P),e}return e.base=function(t){return arguments.length?(v=+t,n()):v},e.domain=function(t){return arguments.length?(p(t),n()):p()},e.ticks=function(t){var e,n=p(),r=n[0],i=n[n.length-1];(e=i<r)&&(s=r,r=i,i=s);var o,a,u,s=h(r),c=h(i),l=null==t?10:+t,f=[];if(!(v%1)&&c-s<l){if(s=Math.round(s)-1,c=Math.round(c)+1,0<r){for(;s<c;++s)for(a=1,o=d(s);a<v;++a)if(!((u=o*a)<r)){if(i<u)break;f.push(u)}}else for(;s<c;++s)for(a=v-1,o=d(s);1<=a;--a)if(!((u=o*a)<r)){if(i<u)break;f.push(u)}}else f=S.ticks(s,c,Math.min(c-s,l)).map(d);return e?f.reverse():f},e.tickFormat=function(t,n){if(null==n&&(n=10===v?".0e":","),"function"!=typeof n&&(n=u.format(n)),t===1/0)return n;null==t&&(t=10);var r=Math.max(1,v*t/e.ticks().length);return function(t){var e=t/d(Math.round(h(t)));return e*v<v-.5&&(e*=v),e<=r?n(t):""}},e.nice=function(){return p(E(p(),{floor:function(t){return d(Math.floor(h(t)))},ceil:function(t){return d(Math.ceil(h(t)))}}))},e}function R(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function z(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function I(e){var n=1,t=e(R(n),z(n));return t.constant=function(t){return arguments.length?e(R(n=+t),z(n)):n},f(t)}function L(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function U(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function W(t){return t<0?-t*t:t*t}function F(e){var t=e(T,T),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(T,T):.5===n?e(U,W):e(L(n),L(1/n)):n},f(t)}function B(){var t=F(o());return t.copy=function(){return N(t,B()).exponent(t.exponent())},p.apply(t,arguments),t}var $=1e3,H=60*$,Y=60*H,q=24*Y,V=7*q,X=30*q,G=365*q;function K(t){return new Date(t)}function Z(t){return t instanceof Date?+t:+new Date(+t)}function J(a,e,n,r,i,o,u,s,c){var l=O(T,T),f=l.invert,h=l.domain,d=c(".%L"),p=c(":%S"),v=c("%I:%M"),y=c("%I %p"),g=c("%a %d"),m=c("%b %d"),_=c("%B"),b=c("%Y"),x=[[u,1,$],[u,5,5*$],[u,15,15*$],[u,30,30*$],[o,1,H],[o,5,5*H],[o,15,15*H],[o,30,30*H],[i,1,Y],[i,3,3*Y],[i,6,6*Y],[i,12,12*Y],[r,1,q],[r,2,2*q],[n,1,V],[e,1,X],[e,3,3*X],[a,1,G]];function w(t){return(u(t)<t?d:o(t)<t?p:i(t)<t?v:r(t)<t?y:e(t)<t?n(t)<t?g:m:a(t)<t?_:b)(t)}function k(t,e,n,r){if(null==t&&(t=10),"number"==typeof t){var i=Math.abs(n-e)/t,o=S.bisector(function(t){return t[2]}).right(x,i);t=o===x.length?(r=S.tickStep(e/G,n/G,t),a):o?(r=(o=x[i/x[o-1][2]<x[o][2]/i?o-1:o])[1],o[0]):(r=Math.max(S.tickStep(e,n,t),1),s)}return null==r?t:t.every(r)}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?h(M.call(t,Z)):h().map(K)},l.ticks=function(t,e){var n,r=h(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=k(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},l.tickFormat=function(t,e){return null==e?w:c(e)},l.nice=function(t,e){var n=h();return(t=k(t,n[0],n[n.length-1],e))?h(E(n,t)):l},l.copy=function(){return N(l,J(a,e,n,r,i,o,u,s,c))},l}function Q(){var e,n,r,i,o,a=0,u=1,s=T,c=!1;function l(t){return isNaN(t=+t)?o:s(0===r?.5:(t=(i(t)-e)*r,c?Math.max(0,Math.min(1,t)):t))}return l.domain=function(t){return arguments.length?(e=i(a=+t[0]),n=i(u=+t[1]),r=e===n?0:1/(n-e),l):[a,u]},l.clamp=function(t){return arguments.length?(c=!!t,l):c},l.interpolator=function(t){return arguments.length?(s=t,l):s},l.unknown=function(t){return arguments.length?(o=t,l):o},function(t){return e=(i=t)(a),n=t(u),r=e===n?0:1/(n-e),l}}function tt(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function et(){var t=F(Q());return t.copy=function(){return tt(t,et()).exponent(t.exponent())},r.apply(t,arguments)}function nt(){var e,n,r,i,o,a,u,s=0,c=.5,l=1,f=T,h=!1;function d(t){return isNaN(t=+t)?u:(t=.5+((t=+a(t))-n)*(t<n?i:o),f(h?Math.max(0,Math.min(1,t)):t))}return d.domain=function(t){return arguments.length?(e=a(s=+t[0]),n=a(c=+t[1]),r=a(l=+t[2]),i=e===n?0:.5/(n-e),o=n===r?0:.5/(r-n),d):[s,c,l]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(f=t,d):f},d.unknown=function(t){return arguments.length?(u=t,d):u},function(t){return e=(a=t)(s),n=t(c),r=t(l),i=e===n?0:.5/(n-e),o=n===r?0:.5/(r-n),d}}function rt(){var t=F(nt());return t.copy=function(){return tt(t,rt()).exponent(t.exponent())},r.apply(t,arguments)}t.scaleBand=g,t.scalePoint=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(g.apply(null,arguments).paddingInner(1))},t.scaleIdentity=function t(e){var n;function r(t){return isNaN(t=+t)?n:t}return(r.invert=r).domain=r.range=function(t){return arguments.length?(e=M.call(t,m),r):e.slice()},r.unknown=function(t){return arguments.length?(n=t,r):n},r.copy=function(){return t(e).unknown(n)},e=arguments.length?M.call(e,m):[0,1],f(r)},t.scaleLinear=function t(){var e=O(T,T);return e.copy=function(){return N(e,t())},p.apply(e,arguments),f(e)},t.scaleLog=function t(){var e=h(o()).domain([1,10]);return e.copy=function(){return N(e,t()).base(e.base())},p.apply(e,arguments),e},t.scaleSymlog=function t(){var e=I(o());return e.copy=function(){return N(e,t()).constant(e.constant())},p.apply(e,arguments)},t.scaleOrdinal=y,t.scaleImplicit=c,t.scalePow=B,t.scaleSqrt=function(){return B.apply(null,arguments).exponent(.5)},t.scaleQuantile=function t(){var e,i=[],n=[],r=[];function o(){var t=0,e=Math.max(1,n.length);for(r=new Array(e-1);++t<e;)r[t-1]=S.quantile(i,t/e);return a}function a(t){return isNaN(t=+t)?e:n[S.bisect(r,t)]}return a.invertExtent=function(t){var e=n.indexOf(t);return e<0?[NaN,NaN]:[0<e?r[e-1]:i[0],e<r.length?r[e]:i[i.length-1]]},a.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var e,n=0,r=t.length;n<r;++n)null==(e=t[n])||isNaN(e=+e)||i.push(e);return i.sort(S.ascending),o()},a.range=function(t){return arguments.length?(n=v.call(t),o()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return t().domain(i).range(n).unknown(e)},p.apply(a,arguments)},t.scaleQuantize=function t(){var e,n=0,r=1,i=1,o=[.5],a=[0,1];function u(t){return t<=t?a[S.bisect(o,t,0,i)]:e}function s(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*n)/(i+1);return u}return u.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],s()):[n,r]},u.range=function(t){return arguments.length?(i=(a=v.call(t)).length-1,s()):a.slice()},u.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:i<=e?[o[i-1],r]:[o[e-1],o[e]]},u.unknown=function(t){return arguments.length&&(e=t),u},u.thresholds=function(){return o.slice()},u.copy=function(){return t().domain([n,r]).range(a).unknown(e)},p.apply(f(u),arguments)},t.scaleThreshold=function t(){var e,n=[.5],r=[0,1],i=1;function o(t){return t<=t?r[S.bisect(n,t,0,i)]:e}return o.domain=function(t){return arguments.length?(n=v.call(t),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(t){return arguments.length?(r=v.call(t),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(r).unknown(e)},p.apply(o,arguments)},t.scaleTime=function(){return p.apply(J(e.timeYear,e.timeMonth,e.timeWeek,e.timeDay,e.timeHour,e.timeMinute,e.timeSecond,e.timeMillisecond,n.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},t.scaleUtc=function(){return p.apply(J(e.utcYear,e.utcMonth,e.utcWeek,e.utcDay,e.utcHour,e.utcMinute,e.utcSecond,e.utcMillisecond,n.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},t.scaleSequential=function t(){var e=f(Q()(T));return e.copy=function(){return tt(e,t())},r.apply(e,arguments)},t.scaleSequentialLog=function t(){var e=h(Q()).domain([1,10]);return e.copy=function(){return tt(e,t()).base(e.base())},r.apply(e,arguments)},t.scaleSequentialPow=et,t.scaleSequentialSqrt=function(){return et.apply(null,arguments).exponent(.5)},t.scaleSequentialSymlog=function t(){var e=I(Q());return e.copy=function(){return tt(e,t()).constant(e.constant())},r.apply(e,arguments)},t.scaleSequentialQuantile=function t(){var i=[],e=T;function o(t){if(!isNaN(t=+t))return e((S.bisect(i,t)-1)/(i.length-1))}return o.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var e,n=0,r=t.length;n<r;++n)null==(e=t[n])||isNaN(e=+e)||i.push(e);return i.sort(S.ascending),o},o.interpolator=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t(e).domain(i)},r.apply(o,arguments)},t.scaleDiverging=function t(){var e=f(nt()(T));return e.copy=function(){return tt(e,t())},r.apply(e,arguments)},t.scaleDivergingLog=function t(){var e=h(nt()).domain([.1,1,10]);return e.copy=function(){return tt(e,t()).base(e.base())},r.apply(e,arguments)},t.scaleDivergingPow=rt,t.scaleDivergingSqrt=function(){return rt.apply(null,arguments).exponent(.5)},t.scaleDivergingSymlog=function t(){var e=I(nt());return e.copy=function(){return tt(e,t()).constant(e.constant())},r.apply(e,arguments)},t.tickFormat=a,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-collection"),t("d3-array"),t("d3-interpolate"),t("d3-format"),t("d3-time"),t("d3-time-format")):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3,r.d3)},{"d3-array":19,"d3-collection":21,"d3-format":26,"d3-interpolate":28,"d3-time":34,"d3-time-format":33}],31:[function(t,e,n){var r;r=this,function(o){"use strict";var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function a(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.hasOwnProperty(e)?{space:i[e],local:t}:t}function u(t){var e=a(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===r&&t.documentElement.namespaceURI===r?t.createElement(n):t.createElementNS(e,n)}})(e)}function e(){}function f(t){return null==t?e:function(){return this.querySelector(t)}}function n(){return[]}function l(t){return null==t?n:function(){return this.querySelectorAll(t)}}function h(t){return function(){return this.matches(t)}}function t(t){return new Array(t.length)}function p(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}p.prototype={constructor:p,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var v="$";function x(t,e,n,r,i,o){for(var a,u=0,s=e.length,c=o.length;u<c;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new p(t,o[u]);for(;u<s;++u)(a=e[u])&&(i[u]=a)}function w(t,e,n,r,i,o,a){var u,s,c,l={},f=e.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(s=e[u])&&(d[u]=c=v+a.call(s,s.__data__,u,e),c in l?i[u]=s:l[c]=s);for(u=0;u<h;++u)(s=l[c=v+a.call(t,o[u],u,o)])?((r[u]=s).__data__=o[u],l[c]=null):n[u]=new p(t,o[u]);for(u=0;u<f;++u)(s=e[u])&&l[d[u]]===s&&(i[u]=s)}function d(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function s(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function c(t,e){return t.style.getPropertyValue(e)||s(t).getComputedStyle(t,null).getPropertyValue(e)}function y(t){return t.trim().split(/^|\s+/)}function g(t){return t.classList||new m(t)}function m(t){this._node=t,this._names=y(t.getAttribute("class")||"")}function _(t,e){for(var n=g(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function b(t,e){for(var n=g(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function k(){this.textContent=""}function S(){this.innerHTML=""}function M(){this.nextSibling&&this.parentNode.appendChild(this)}function T(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function N(){return null}function O(){var t=this.parentNode;t&&t.removeChild(this)}function E(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function P(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}m.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var j={};o.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(j={mouseenter:"mouseover",mouseleave:"mouseout"}));function C(n,t,e){return n=A(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function A(n,r,i){return function(t){var e=o.event;o.event=t;try{n.call(this,this.__data__,r,i)}finally{o.event=e}}}function D(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function R(s,c,l){var f=j.hasOwnProperty(s.type)?C:A;return function(t,e,n){var r,i=this.__on,o=f(c,e,n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===s.type&&r.name===s.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=l),void(r.value=c);this.addEventListener(s.type,o,l),r={type:s.type,name:s.name,value:c,listener:o,capture:l},i?i.push(r):this.__on=[r]}}function z(t,e,n){var r=s(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var I=[null];function L(t,e){this._groups=t,this._parents=e}function U(){return new L([[document.documentElement]],I)}function W(t){return"string"==typeof t?new L([[document.querySelector(t)]],[document.documentElement]):new L([[t]],I)}L.prototype=U.prototype={constructor:L,select:function(t){"function"!=typeof t&&(t=f(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new L(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=l(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new L(r,i)},filter:function(t){"function"!=typeof t&&(t=h(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new L(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var n=e?w:x,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],h=f.length,d=t.call(l,l&&l.__data__,c,r),p=d.length,v=u[c]=new Array(p),y=a[c]=new Array(p);n(l,f,v,y,s[c]=new Array(h),d,e);for(var g,m,_=0,b=0;_<p;++_)if(g=v[_]){for(b<=_&&(b=_+1);!(m=y[b])&&++b<p;);g._next=m||null}}return(a=new L(a,r))._enter=u,a._exit=s,a},enter:function(){return new L(this._enter||this._groups.map(t),this._parents)},exit:function(){return new L(this._exit||this._groups.map(t),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=e[u],l=n[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=e[u];return new L(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||d;for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(t)}return new L(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=a(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):c(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=y(t+"");if(arguments.length<2){for(var r=g(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?_:b)(this,t)}}:e?function(t){return function(){_(this,t)}}:function(t){return function(){b(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?k:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?S:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(M)},lower:function(){return this.each(T)},append:function(t){var e="function"==typeof t?t:u(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:u(t),r=null==e?N:"function"==typeof e?e:f(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(O)},clone:function(t){return this.select(t?P:E)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?R:D,null==n&&(n=!1),r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return z(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return z(this,t,e)}})(t,e))}};var F=0;function B(){return new $}function $(){this._="@"+(++F).toString(36)}function H(){for(var t,e=o.event;t=e.sourceEvent;)e=t;return e}function Y(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}$.prototype=B.prototype={constructor:$,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},o.create=function(t){return W(u(t).call(document.documentElement))},o.creator=u,o.local=B,o.matcher=h,o.mouse=function(t){var e=H();return e.changedTouches&&(e=e.changedTouches[0]),Y(t,e)},o.namespace=a,o.namespaces=i,o.clientPoint=Y,o.select=W,o.selectAll=function(t){return"string"==typeof t?new L([document.querySelectorAll(t)],[document.documentElement]):new L([null==t?[]:t],I)},o.selection=U,o.selector=f,o.selectorAll=l,o.style=c,o.touch=function(t,e,n){arguments.length<3&&(n=e,e=H().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return Y(t,r);return null},o.touches=function(t,e){null==e&&(e=H().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=Y(t,e[n]);return i},o.window=s,o.customEvent=function(t,e,n,r){var i=o.event;t.sourceEvent=o.event,o.event=t;try{return e.apply(n,r)}finally{o.event=i}},Object.defineProperty(o,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],32:[function(t,e,n){var r,i;r=this,i=function(t,q){"use strict";function b(t){return function(){return t}}var V=Math.abs,X=Math.atan2,G=Math.cos,C=Math.max,K=Math.min,Z=Math.sin,J=Math.sqrt,Q=1e-12,tt=Math.PI,et=tt/2,nt=2*tt;function rt(t){return 1<=t?et:t<=-1?-et:Math.asin(t)}function n(t){return t.innerRadius}function r(t){return t.outerRadius}function i(t){return t.startAngle}function o(t){return t.endAngle}function a(t){return t&&t.padAngle}function it(t,e,n,r,i,o,a){var u=t-n,s=e-r,c=(a?o:-o)/J(u*u+s*s),l=c*s,f=-c*u,h=t+l,d=e+f,p=n+l,v=r+f,y=(h+p)/2,g=(d+v)/2,m=p-h,_=v-d,b=m*m+_*_,x=i-o,w=h*v-p*d,k=(_<0?-1:1)*J(C(0,x*x*b-w*w)),S=(w*_-m*k)/b,M=(-w*m-_*k)/b,T=(w*_+m*k)/b,N=(-w*m+_*k)/b,O=S-y,E=M-g,P=T-y,j=N-g;return P*P+j*j<O*O+E*E&&(S=T,M=N),{cx:S,cy:M,x01:-l,y01:-f,x11:S*(i/x-1),y11:M*(i/x-1)}}function e(t){this._context=t}function m(t){return new e(t)}function _(t){return t[0]}function x(t){return t[1]}function u(){var a=_,u=x,s=b(!0),c=null,l=m,f=null;function e(t){var e,n,r,i=t.length,o=!1;for(null==c&&(f=l(r=q.path())),e=0;e<=i;++e)!(e<i&&s(n=t[e],e,t))===o&&((o=!o)?f.lineStart():f.lineEnd()),o&&f.point(+a(n,e,t),+u(n,e,t));if(r)return f=null,r+""||null}return e.x=function(t){return arguments.length?(a="function"==typeof t?t:b(+t),e):a},e.y=function(t){return arguments.length?(u="function"==typeof t?t:b(+t),e):u},e.defined=function(t){return arguments.length?(s="function"==typeof t?t:b(!!t),e):s},e.curve=function(t){return arguments.length?(l=t,null!=c&&(f=l(c)),e):l},e.context=function(t){return arguments.length?(null==t?c=f=null:f=l(c=t),e):c},e}function s(){var l=_,f=null,h=b(0),d=x,p=b(!0),v=null,y=m,g=null;function e(t){var e,n,r,i,o,a=t.length,u=!1,s=new Array(a),c=new Array(a);for(null==v&&(g=y(o=q.path())),e=0;e<=a;++e){if(!(e<a&&p(i=t[e],e,t))===u)if(u=!u)n=e,g.areaStart(),g.lineStart();else{for(g.lineEnd(),g.lineStart(),r=e-1;n<=r;--r)g.point(s[r],c[r]);g.lineEnd(),g.areaEnd()}u&&(s[e]=+l(i,e,t),c[e]=+h(i,e,t),g.point(f?+f(i,e,t):s[e],d?+d(i,e,t):c[e]))}if(o)return g=null,o+""||null}function t(){return u().defined(p).curve(y).context(v)}return e.x=function(t){return arguments.length?(l="function"==typeof t?t:b(+t),f=null,e):l},e.x0=function(t){return arguments.length?(l="function"==typeof t?t:b(+t),e):l},e.x1=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:b(+t),e):f},e.y=function(t){return arguments.length?(h="function"==typeof t?t:b(+t),d=null,e):h},e.y0=function(t){return arguments.length?(h="function"==typeof t?t:b(+t),e):h},e.y1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:b(+t),e):d},e.lineX0=e.lineY0=function(){return t().x(l).y(h)},e.lineY1=function(){return t().x(l).y(d)},e.lineX1=function(){return t().x(f).y(h)},e.defined=function(t){return arguments.length?(p="function"==typeof t?t:b(!!t),e):p},e.curve=function(t){return arguments.length?(y=t,null!=v&&(g=y(v)),e):y},e.context=function(t){return arguments.length?(null==t?v=g=null:g=y(v=t),e):v},e}function c(t,e){return e<t?-1:t<e?1:t<=e?0:NaN}function l(t){return t}e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var f=d(m);function h(t){this._curve=t}function d(e){function t(t){return new h(e(t))}return t._curve=e,t}function p(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(d(t)):e()._curve},t}function v(){return p(u().curve(f))}function y(){var t=s().curve(f),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return p(n())},delete t.lineX0,t.lineEndAngle=function(){return p(r())},delete t.lineX1,t.lineInnerRadius=function(){return p(i())},delete t.lineY0,t.lineOuterRadius=function(){return p(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(d(t)):e()._curve},t}function g(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}h.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var w=Array.prototype.slice;function k(t){return t.source}function S(t){return t.target}function M(i){var o=k,a=S,u=_,s=x,c=null;function e(){var t,e=w.call(arguments),n=o.apply(this,e),r=a.apply(this,e);if(c=c||(t=q.path()),i(c,+u.apply(this,(e[0]=n,e)),+s.apply(this,e),+u.apply(this,(e[0]=r,e)),+s.apply(this,e)),t)return c=null,t+""||null}return e.source=function(t){return arguments.length?(o=t,e):o},e.target=function(t){return arguments.length?(a=t,e):a},e.x=function(t){return arguments.length?(u="function"==typeof t?t:b(+t),e):u},e.y=function(t){return arguments.length?(s="function"==typeof t?t:b(+t),e):s},e.context=function(t){return arguments.length?(c=null==t?null:t,e):c},e}function T(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function N(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function O(t,e,n,r,i){var o=g(e,n),a=g(e,n=(n+i)/2),u=g(r,n),s=g(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],s[0],s[1])}var E={draw:function(t,e){var n=Math.sqrt(e/tt);t.moveTo(n,0),t.arc(0,0,n,0,nt)}},P={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},j=Math.sqrt(1/3),A=2*j,D={draw:function(t,e){var n=Math.sqrt(e/A),r=n*j;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},R=Math.sin(tt/10)/Math.sin(7*tt/10),z=Math.sin(nt/10)*R,I=-Math.cos(nt/10)*R,L={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=z*n,i=I*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=nt*o/5,u=Math.cos(a),s=Math.sin(a);t.lineTo(s*n,-u*n),t.lineTo(u*r-s*i,s*r+u*i)}t.closePath()}},U={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},W=Math.sqrt(3),F={draw:function(t,e){var n=-Math.sqrt(e/(3*W));t.moveTo(0,2*n),t.lineTo(-W*n,-n),t.lineTo(W*n,-n),t.closePath()}},B=-.5,$=Math.sqrt(3)/2,H=1/Math.sqrt(12),Y=3*(H/2+1),ot={draw:function(t,e){var n=Math.sqrt(e/Y),r=n/2,i=n*H,o=r,a=n*H+n,u=-o,s=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,s),t.lineTo(B*r-$*i,$*r+B*i),t.lineTo(B*o-$*a,$*o+B*a),t.lineTo(B*u-$*s,$*u+B*s),t.lineTo(B*r+$*i,B*i-$*r),t.lineTo(B*o+$*a,B*a-$*o),t.lineTo(B*u+$*s,B*s-$*u),t.closePath()}},at=[E,P,D,U,L,F,ot];function ut(){}function st(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ct(t){this._context=t}function lt(t){this._context=t}function ft(t){this._context=t}function ht(t,e){this._basis=new ct(t),this._beta=e}ct.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:st(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:st(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},lt.prototype={areaStart:ut,areaEnd:ut,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:st(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:st(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},ht.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(0<n)for(var r,i=t[0],o=e[0],a=t[n]-i,u=e[n]-o,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*a),this._beta*e[s]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var dt=function e(n){function t(t){return 1===n?new ct(t):new ht(t,n)}return t.beta=function(t){return e(+t)},t}(.85);function pt(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function vt(t,e){this._context=t,this._k=(1-e)/6}vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:pt(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:pt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var yt=function e(n){function t(t){return new vt(t,n)}return t.tension=function(t){return e(+t)},t}(0);function gt(t,e){this._context=t,this._k=(1-e)/6}gt.prototype={areaStart:ut,areaEnd:ut,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:pt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var mt=function e(n){function t(t){return new gt(t,n)}return t.tension=function(t){return e(+t)},t}(0);function _t(t,e){this._context=t,this._k=(1-e)/6}_t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:pt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var bt=function e(n){function t(t){return new _t(t,n)}return t.tension=function(t){return e(+t)},t}(0);function xt(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Q){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>Q){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function wt(t,e){this._context=t,this._alpha=e}wt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:xt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var kt=function e(n){function t(t){return n?new wt(t,n):new vt(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function St(t,e){this._context=t,this._alpha=e}St.prototype={areaStart:ut,areaEnd:ut,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:xt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Mt=function e(n){function t(t){return n?new St(t,n):new gt(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Tt(t,e){this._context=t,this._alpha=e}Tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Nt=function e(n){function t(t){return n?new Tt(t,n):new _t(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Ot(t){this._context=t}function Et(t){return t<0?-1:1}function Pt(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(Et(o)+Et(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function jt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ct(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function At(t){this._context=t}function Dt(t){this._context=new Rt(t)}function Rt(t){this._context=t}function zt(t){this._context=t}function It(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(o[i[0]=0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;0<=e;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Lt(t,e){this._context=t,this._t=e}function Ut(t,e){if(1<(i=t.length))for(var n,r,i,o=1,a=t[e[0]],u=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Wt(t){for(var e=t.length,n=new Array(e);0<=--e;)n[e]=e;return n}function Ft(t,e){return t[e]}function Bt(t){var n=t.map($t);return Wt(t).sort(function(t,e){return n[t]-n[e]})}function $t(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}function Ht(t){var n=t.map(Yt);return Wt(t).sort(function(t,e){return n[t]-n[e]})}function Yt(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}Ot.prototype={areaStart:ut,areaEnd:ut,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},At.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ct(this,this._t0,jt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ct(this,jt(this,n=Pt(this,t,e)),n);break;default:Ct(this,this._t0,n=Pt(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Dt.prototype=Object.create(At.prototype)).point=function(t,e){At.prototype.point.call(this,e,t)},Rt.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},zt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=It(t),i=It(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Lt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},t.arc=function(){var L=n,U=r,W=b(0),F=null,B=i,$=o,H=a,Y=null;function e(){var t,e,n=+L.apply(this,arguments),r=+U.apply(this,arguments),i=B.apply(this,arguments)-et,o=$.apply(this,arguments)-et,a=V(o-i),u=i<o;if(Y=Y||(t=q.path()),r<n&&(e=r,r=n,n=e),Q<r)if(nt-Q<a)Y.moveTo(r*G(i),r*Z(i)),Y.arc(0,0,r,i,o,!u),Q<n&&(Y.moveTo(n*G(o),n*Z(o)),Y.arc(0,0,n,o,i,u));else{var s,c,l=i,f=o,h=i,d=o,p=a,v=a,y=H.apply(this,arguments)/2,g=Q<y&&(F?+F.apply(this,arguments):J(n*n+r*r)),m=K(V(r-n)/2,+W.apply(this,arguments)),_=m,b=m;if(Q<g){var x=rt(g/n*Z(y)),w=rt(g/r*Z(y));(p-=2*x)>Q?(h+=x*=u?1:-1,d-=x):(p=0,h=d=(i+o)/2),(v-=2*w)>Q?(l+=w*=u?1:-1,f-=w):(v=0,l=f=(i+o)/2)}var k=r*G(l),S=r*Z(l),M=n*G(d),T=n*Z(d);if(Q<m){var N,O=r*G(f),E=r*Z(f),P=n*G(h),j=n*Z(h);if(a<tt&&(N=function(t,e,n,r,i,o,a,u){var s=n-t,c=r-e,l=a-i,f=u-o,h=f*s-l*c;if(!(h*h<Q))return[t+(h=(l*(e-o)-f*(t-i))/h)*s,e+h*c]}(k,S,P,j,O,E,M,T))){var C=k-N[0],A=S-N[1],D=O-N[0],R=E-N[1],z=1/Z(function(t){return 1<t?0:t<-1?tt:Math.acos(t)}((C*D+A*R)/(J(C*C+A*A)*J(D*D+R*R)))/2),I=J(N[0]*N[0]+N[1]*N[1]);_=K(m,(n-I)/(z-1)),b=K(m,(r-I)/(1+z))}}Q<v?Q<b?(s=it(P,j,k,S,r,b,u),c=it(O,E,M,T,r,b,u),Y.moveTo(s.cx+s.x01,s.cy+s.y01),b<m?Y.arc(s.cx,s.cy,b,X(s.y01,s.x01),X(c.y01,c.x01),!u):(Y.arc(s.cx,s.cy,b,X(s.y01,s.x01),X(s.y11,s.x11),!u),Y.arc(0,0,r,X(s.cy+s.y11,s.cx+s.x11),X(c.cy+c.y11,c.cx+c.x11),!u),Y.arc(c.cx,c.cy,b,X(c.y11,c.x11),X(c.y01,c.x01),!u))):(Y.moveTo(k,S),Y.arc(0,0,r,l,f,!u)):Y.moveTo(k,S),Q<n&&Q<p?Q<_?(s=it(M,T,O,E,n,-_,u),c=it(k,S,P,j,n,-_,u),Y.lineTo(s.cx+s.x01,s.cy+s.y01),_<m?Y.arc(s.cx,s.cy,_,X(s.y01,s.x01),X(c.y01,c.x01),!u):(Y.arc(s.cx,s.cy,_,X(s.y01,s.x01),X(s.y11,s.x11),!u),Y.arc(0,0,n,X(s.cy+s.y11,s.cx+s.x11),X(c.cy+c.y11,c.cx+c.x11),u),Y.arc(c.cx,c.cy,_,X(c.y11,c.x11),X(c.y01,c.x01),!u))):Y.arc(0,0,n,d,h,u):Y.lineTo(M,T)}else Y.moveTo(0,0);if(Y.closePath(),t)return Y=null,t+""||null}return e.centroid=function(){var t=(+L.apply(this,arguments)+ +U.apply(this,arguments))/2,e=(+B.apply(this,arguments)+ +$.apply(this,arguments))/2-tt/2;return[G(e)*t,Z(e)*t]},e.innerRadius=function(t){return arguments.length?(L="function"==typeof t?t:b(+t),e):L},e.outerRadius=function(t){return arguments.length?(U="function"==typeof t?t:b(+t),e):U},e.cornerRadius=function(t){return arguments.length?(W="function"==typeof t?t:b(+t),e):W},e.padRadius=function(t){return arguments.length?(F=null==t?null:"function"==typeof t?t:b(+t),e):F},e.startAngle=function(t){return arguments.length?(B="function"==typeof t?t:b(+t),e):B},e.endAngle=function(t){return arguments.length?($="function"==typeof t?t:b(+t),e):$},e.padAngle=function(t){return arguments.length?(H="function"==typeof t?t:b(+t),e):H},e.context=function(t){return arguments.length?(Y=null==t?null:t,e):Y},e},t.area=s,t.line=u,t.pie=function(){var p=l,v=c,y=null,g=b(0),m=b(nt),_=b(0);function e(n){var t,e,r,i,o,a=n.length,u=0,s=new Array(a),c=new Array(a),l=+g.apply(this,arguments),f=Math.min(nt,Math.max(-nt,m.apply(this,arguments)-l)),h=Math.min(Math.abs(f)/a,_.apply(this,arguments)),d=h*(f<0?-1:1);for(t=0;t<a;++t)0<(o=c[s[t]=t]=+p(n[t],t,n))&&(u+=o);for(null!=v?s.sort(function(t,e){return v(c[t],c[e])}):null!=y&&s.sort(function(t,e){return y(n[t],n[e])}),t=0,r=u?(f-a*d)/u:0;t<a;++t,l=i)e=s[t],i=l+(0<(o=c[e])?o*r:0)+d,c[e]={data:n[e],index:t,value:o,startAngle:l,endAngle:i,padAngle:h};return c}return e.value=function(t){return arguments.length?(p="function"==typeof t?t:b(+t),e):p},e.sortValues=function(t){return arguments.length?(v=t,y=null,e):v},e.sort=function(t){return arguments.length?(y=t,v=null,e):y},e.startAngle=function(t){return arguments.length?(g="function"==typeof t?t:b(+t),e):g},e.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:b(+t),e):m},e.padAngle=function(t){return arguments.length?(_="function"==typeof t?t:b(+t),e):_},e},t.areaRadial=y,t.radialArea=y,t.lineRadial=v,t.radialLine=v,t.pointRadial=g,t.linkHorizontal=function(){return M(T)},t.linkVertical=function(){return M(N)},t.linkRadial=function(){var t=M(O);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){var e=b(E),n=b(64),r=null;function i(){var t;if(r=r||(t=q.path()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),t)return r=null,t+""||null}return i.type=function(t){return arguments.length?(e="function"==typeof t?t:b(t),i):e},i.size=function(t){return arguments.length?(n="function"==typeof t?t:b(+t),i):n},i.context=function(t){return arguments.length?(r=null==t?null:t,i):r},i},t.symbols=at,t.symbolCircle=E,t.symbolCross=P,t.symbolDiamond=D,t.symbolSquare=U,t.symbolStar=L,t.symbolTriangle=F,t.symbolWye=ot,t.curveBasisClosed=function(t){return new lt(t)},t.curveBasisOpen=function(t){return new ft(t)},t.curveBasis=function(t){return new ct(t)},t.curveBundle=dt,t.curveCardinalClosed=mt,t.curveCardinalOpen=bt,t.curveCardinal=yt,t.curveCatmullRomClosed=Mt,t.curveCatmullRomOpen=Nt,t.curveCatmullRom=kt,t.curveLinearClosed=function(t){return new Ot(t)},t.curveLinear=m,t.curveMonotoneX=function(t){return new At(t)},t.curveMonotoneY=function(t){return new Dt(t)},t.curveNatural=function(t){return new zt(t)},t.curveStep=function(t){return new Lt(t,.5)},t.curveStepAfter=function(t){return new Lt(t,1)},t.curveStepBefore=function(t){return new Lt(t,0)},t.stack=function(){var f=b([]),h=Wt,d=Ut,p=Ft;function e(t){var e,n,r=f.apply(this,arguments),i=t.length,o=r.length,a=new Array(o);for(e=0;e<o;++e){for(var u,s=r[e],c=a[e]=new Array(i),l=0;l<i;++l)c[l]=u=[0,+p(t[l],s,l,t)],u.data=t[l];c.key=s}for(e=0,n=h(a);e<o;++e)a[n[e]].index=e;return d(a,n),a}return e.keys=function(t){return arguments.length?(f="function"==typeof t?t:b(w.call(t)),e):f},e.value=function(t){return arguments.length?(p="function"==typeof t?t:b(+t),e):p},e.order=function(t){return arguments.length?(h=null==t?Wt:"function"==typeof t?t:b(w.call(t)),e):h},e.offset=function(t){return arguments.length?(d=null==t?Ut:t,e):d},e},t.stackOffsetExpand=function(t,e){if(0<(r=t.length)){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}Ut(t,e)}},t.stackOffsetDiverging=function(t,e){if(0<(u=t.length))for(var n,r,i,o,a,u,s=0,c=t[e[0]].length;s<c;++s)for(o=a=0,n=0;n<u;++n)0<=(i=(r=t[e[n]][s])[1]-r[0])?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},t.stackOffsetNone=Ut,t.stackOffsetSilhouette=function(t,e){if(0<(n=t.length)){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<n;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}Ut(t,e)}},t.stackOffsetWiggle=function(t,e){if(0<(i=t.length)&&0<(r=(n=t[e[0]]).length)){for(var n,r,i,o=0,a=1;a<r;++a){for(var u=0,s=0,c=0;u<i;++u){for(var l=t[e[u]],f=l[a][1]||0,h=(f-(l[a-1][1]||0))/2,d=0;d<u;++d){var p=t[e[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}s+=f,c+=h*f}n[a-1][1]+=n[a-1][0]=o,s&&(o-=c/s)}n[a-1][1]+=n[a-1][0]=o,Ut(t,e)}},t.stackOrderAppearance=Bt,t.stackOrderAscending=Ht,t.stackOrderDescending=function(t){return Ht(t).reverse()},t.stackOrderInsideOut=function(t){var e,n,r=t.length,i=t.map(Yt),o=Bt(t),a=0,u=0,s=[],c=[];for(e=0;e<r;++e)n=o[e],a<u?(a+=i[n],s.push(n)):(u+=i[n],c.push(n));return c.reverse().concat(s)},t.stackOrderNone=Wt,t.stackOrderReverse=function(t){return Wt(t).reverse()},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-path")):i(r.d3=r.d3||{},r.d3)},{"d3-path":29}],33:[function(t,e,n){var r,i;r=this,i=function(e,M){"use strict";function T(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function N(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function O(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function n(t){var r=t.dateTime,i=t.date,o=t.time,e=t.periods,n=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,c=P(e),l=j(e),f=P(n),h=j(n),d=P(a),p=j(a),v=P(u),y=j(u),g=P(s),m=j(s),_={a:function(t){return a[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Z,e:Z,f:nt,H:J,I:Q,j:tt,L:et,m:rt,M:it,p:function(t){return e[+(12<=t.getHours())]},Q:Ct,s:At,S:ot,u:at,U:ut,V:st,w:ct,W:lt,x:null,X:null,y:ft,Y:ht,Z:dt,"%":jt},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:pt,e:pt,f:_t,H:vt,I:yt,j:gt,L:mt,m:bt,M:xt,p:function(t){return e[+(12<=t.getUTCHours())]},Q:Ct,s:At,S:wt,u:kt,U:St,V:Mt,w:Tt,W:Nt,x:null,X:null,y:Ot,Y:Et,Z:Pt,"%":jt},x={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return S(t,r,e,n)},d:F,e:F,f:V,H:$,I:$,j:B,L:q,m:W,M:H,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},Q:G,s:K,S:Y,u:A,U:D,V:R,w:C,W:z,x:function(t,e,n){return S(t,i,e,n)},X:function(t,e,n){return S(t,o,e,n)},y:L,Y:I,Z:U,"%":X};function w(s,c){return function(t){var e,n,r,i=[],o=-1,a=0,u=s.length;for(t instanceof Date||(t=new Date(+t));++o<u;)37===s.charCodeAt(o)&&(i.push(s.slice(a,o)),null!=(n=E[e=s.charAt(++o)])?e=s.charAt(++o):n="e"===e?" ":"0",(r=c[e])&&(e=r(t,n)),i.push(e),a=o+1);return i.push(s.slice(a,o)),i.join("")}}function k(i,o){return function(t){var e,n,r=O(1900);if(S(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(e=4<(n=(e=N(O(r.y))).getUTCDay())||0===n?M.utcMonday.ceil(e):M.utcMonday(e),e=M.utcDay.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),r.d=e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=o(O(r.y))).getDay())||0===n?M.timeMonday.ceil(e):M.timeMonday(e),e=M.timeDay.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),r.d=e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?N(O(r.y)).getUTCDay():o(O(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,N(r)):o(r)}}function S(t,e,n,r){for(var i,o,a=0,u=e.length,s=n.length;a<u;){if(s<=r)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in E?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=w(i,_),_.X=w(o,_),_.c=w(r,_),b.x=w(i,b),b.X=w(o,b),b.c=w(r,b),{format:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",T);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t,N);return e.toString=function(){return t},e}}}var r,E={"-":"",_:" ",0:"0"},i=/^\s*\d+/,o=/^%/,a=/[\\^$*+?|[\]().{}]/g;function u(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function s(t){return t.replace(a,"\\$&")}function P(t){return new RegExp("^(?:"+t.map(s).join("|")+")","i")}function j(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function C(t,e,n){var r=i.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function A(t,e,n){var r=i.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function D(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function R(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function z(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function I(t,e,n){var r=i.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function L(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),n+r[0].length):-1}function U(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function W(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function F(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function B(t,e,n){var r=i.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function H(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Y(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function q(t,e,n){var r=i.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function V(t,e,n){var r=i.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function X(t,e,n){var r=o.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function G(t,e,n){var r=i.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function K(t,e,n){var r=i.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Z(t,e){return u(t.getDate(),e,2)}function J(t,e){return u(t.getHours(),e,2)}function Q(t,e){return u(t.getHours()%12||12,e,2)}function tt(t,e){return u(1+M.timeDay.count(M.timeYear(t),t),e,3)}function et(t,e){return u(t.getMilliseconds(),e,3)}function nt(t,e){return et(t,e)+"000"}function rt(t,e){return u(t.getMonth()+1,e,2)}function it(t,e){return u(t.getMinutes(),e,2)}function ot(t,e){return u(t.getSeconds(),e,2)}function at(t){var e=t.getDay();return 0===e?7:e}function ut(t,e){return u(M.timeSunday.count(M.timeYear(t),t),e,2)}function st(t,e){var n=t.getDay();return t=4<=n||0===n?M.timeThursday(t):M.timeThursday.ceil(t),u(M.timeThursday.count(M.timeYear(t),t)+(4===M.timeYear(t).getDay()),e,2)}function ct(t){return t.getDay()}function lt(t,e){return u(M.timeMonday.count(M.timeYear(t),t),e,2)}function ft(t,e){return u(t.getFullYear()%100,e,2)}function ht(t,e){return u(t.getFullYear()%1e4,e,4)}function dt(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+u(e/60|0,"0",2)+u(e%60,"0",2)}function pt(t,e){return u(t.getUTCDate(),e,2)}function vt(t,e){return u(t.getUTCHours(),e,2)}function yt(t,e){return u(t.getUTCHours()%12||12,e,2)}function gt(t,e){return u(1+M.utcDay.count(M.utcYear(t),t),e,3)}function mt(t,e){return u(t.getUTCMilliseconds(),e,3)}function _t(t,e){return mt(t,e)+"000"}function bt(t,e){return u(t.getUTCMonth()+1,e,2)}function xt(t,e){return u(t.getUTCMinutes(),e,2)}function wt(t,e){return u(t.getUTCSeconds(),e,2)}function kt(t){var e=t.getUTCDay();return 0===e?7:e}function St(t,e){return u(M.utcSunday.count(M.utcYear(t),t),e,2)}function Mt(t,e){var n=t.getUTCDay();return t=4<=n||0===n?M.utcThursday(t):M.utcThursday.ceil(t),u(M.utcThursday.count(M.utcYear(t),t)+(4===M.utcYear(t).getUTCDay()),e,2)}function Tt(t){return t.getUTCDay()}function Nt(t,e){return u(M.utcMonday.count(M.utcYear(t),t),e,2)}function Ot(t,e){return u(t.getUTCFullYear()%100,e,2)}function Et(t,e){return u(t.getUTCFullYear()%1e4,e,4)}function Pt(){return"+0000"}function jt(){return"%"}function Ct(t){return+t}function At(t){return Math.floor(+t/1e3)}function t(t){return r=n(t),e.timeFormat=r.format,e.timeParse=r.parse,e.utcFormat=r.utcFormat,e.utcParse=r.utcParse,r}t({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var c="%Y-%m-%dT%H:%M:%S.%LZ";var l=Date.prototype.toISOString?function(t){return t.toISOString()}:e.utcFormat(c);var f=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:e.utcParse(c);e.timeFormatDefaultLocale=t,e.timeFormatLocale=n,e.isoFormat=l,e.isoParse=f,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-time")):i(r.d3=r.d3||{},r.d3)},{"d3-time":34}],34:[function(t,e,n){var r;r=this,function(t){"use strict";var i=new Date,s=new Date;function c(o,a,n,r){function u(t){return o(t=new Date(+t)),t}return(u.floor=u).ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},u.round=function(t){var e=u(t),n=u.ceil(t);return t-e<n-t?e:n},u.offset=function(t,e){return a(t=new Date(+t),null==e?1:Math.floor(e)),t},u.range=function(t,e,n){var r,i=[];if(t=u.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return i;for(;i.push(r=new Date(+t)),a(t,n),o(t),r<t&&t<e;);return i},u.filter=function(n){return c(function(t){if(t<=t)for(;o(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;a(t,-1),!n(t););else for(;0<=--e;)for(;a(t,1),!n(t););})},n&&(u.count=function(t,e){return i.setTime(+t),s.setTime(+e),o(i),o(s),Math.floor(n(i,s))},u.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?u.filter(r?function(t){return r(t)%e==0}:function(t){return u.count(0,t)%e==0}):u:null}),u}var e=c(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});e.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?c(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):e:null};var n=e.range,r=c(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),o=r.range,a=c(function(t){t.setTime(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),u=a.range,l=c(function(t){var e=6e4*t.getTimezoneOffset()%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),f=l.range,h=c(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1}),d=h.range;function p(e){return c(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var v=p(0),y=p(1),g=p(2),m=p(3),_=p(4),b=p(5),x=p(6),w=v.range,k=y.range,S=g.range,M=m.range,T=_.range,N=b.range,O=x.range,E=c(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),P=E.range,j=c(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});j.every=function(n){return isFinite(n=Math.floor(n))&&0<n?c(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var C=j.range,A=c(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getUTCMinutes()}),D=A.range,R=c(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),z=R.range,I=c(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),L=I.range;function U(e){return c(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var W=U(0),F=U(1),B=U(2),$=U(3),H=U(4),Y=U(5),q=U(6),V=W.range,X=F.range,G=B.range,K=$.range,Z=H.range,J=Y.range,Q=q.range,tt=c(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),et=tt.range,nt=c(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});nt.every=function(n){return isFinite(n=Math.floor(n))&&0<n?c(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var rt=nt.range;t.timeInterval=c,t.timeMillisecond=e,t.timeMilliseconds=n,t.utcMillisecond=e,t.utcMilliseconds=n,t.timeSecond=r,t.timeSeconds=o,t.utcSecond=r,t.utcSeconds=o,t.timeMinute=a,t.timeMinutes=u,t.timeHour=l,t.timeHours=f,t.timeDay=h,t.timeDays=d,t.timeWeek=v,t.timeWeeks=w,t.timeSunday=v,t.timeSundays=w,t.timeMonday=y,t.timeMondays=k,t.timeTuesday=g,t.timeTuesdays=S,t.timeWednesday=m,t.timeWednesdays=M,t.timeThursday=_,t.timeThursdays=T,t.timeFriday=b,t.timeFridays=N,t.timeSaturday=x,t.timeSaturdays=O,t.timeMonth=E,t.timeMonths=P,t.timeYear=j,t.timeYears=C,t.utcMinute=A,t.utcMinutes=D,t.utcHour=R,t.utcHours=z,t.utcDay=I,t.utcDays=L,t.utcWeek=W,t.utcWeeks=V,t.utcSunday=W,t.utcSundays=V,t.utcMonday=F,t.utcMondays=X,t.utcTuesday=B,t.utcTuesdays=G,t.utcWednesday=$,t.utcWednesdays=K,t.utcThursday=H,t.utcThursdays=Z,t.utcFriday=Y,t.utcFridays=J,t.utcSaturday=q,t.utcSaturdays=Q,t.utcMonth=tt,t.utcMonths=et,t.utcYear=nt,t.utcYears=rt,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],35:[function(t,e,n){var r;r=this,function(t){"use strict";var i,o,n=0,e=0,r=0,a=1e3,u=0,s=0,c=0,l="object"==typeof performance&&performance.now?performance:Date,f="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function h(){return s||(f(d),s=l.now()+c)}function d(){s=0}function p(){this._call=this._time=this._next=null}function v(t,e,n){var r=new p;return r.restart(t,e,n),r}function y(){h(),++n;for(var t,e=i;e;)0<=(t=s-e._time)&&e._call.call(null,t),e=e._next;--n}function g(){s=(u=l.now())+c,n=e=0;try{y()}finally{n=0,function(){var t,e,n=i,r=1/0;for(;n;)n=n._call?(r>n._time&&(r=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:i=e);o=t,_(r)}(),s=0}}function m(){var t=l.now(),e=t-u;a<e&&(c-=e,u=t)}function _(t){n||(e=e&&clearTimeout(e),24<t-s?(t<1/0&&(e=setTimeout(g,t-l.now()-c)),r=r&&clearInterval(r)):(r||(u=l.now(),r=setInterval(m,a)),n=1,f(g)))}p.prototype=v.prototype={constructor:p,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?h():+n)+(null==e?0:+e),this._next||o===this||(o?o._next=this:i=this,o=this),this._call=t,this._time=n,_()},stop:function(){this._call&&(this._call=null,this._time=1/0,_())}},t.now=h,t.timer=v,t.timerFlush=y,t.timeout=function(e,n,t){var r=new p;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r},t.interval=function(n,r,i){var o=new p,a=r;return null==r?o.restart(n,r,i):(r=+r,i=null==i?h():+i,o.restart(function t(e){e+=a,o.restart(t,a+=r,i),n(e)},r,i)),o},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],36:[function(t,e,n){var r,i;r=this,i=function(t,e,d,r,i,g,n){"use strict";var u=e.dispatch("start","end","cancel","interrupt"),s=[],c=0,p=1,v=2,y=3,m=4,_=5,b=6;function x(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(o,a,u){var s,c=o.__transition;function l(t){var e,n,r,i;if(u.state!==p)return h();for(e in c)if((i=c[e]).name===u.name){if(i.state===y)return d.timeout(l);i.state===m?(i.state=b,i.timer.stop(),i.on.call("interrupt",o,o.__data__,i.index,i.group),delete c[e]):+e<a&&(i.state=b,i.timer.stop(),i.on.call("cancel",o,o.__data__,i.index,i.group),delete c[e])}if(d.timeout(function(){u.state===y&&(u.state=m,u.timer.restart(f,u.delay,u.time),f(t))}),u.state=v,u.on.call("start",o,o.__data__,u.index,u.group),u.state===v){for(u.state=y,s=new Array(r=u.tween.length),e=0,n=-1;e<r;++e)(i=u.tween[e].value.call(o,o.__data__,u.index,u.group))&&(s[++n]=i);s.length=n+1}}function f(t){for(var e=t<u.duration?u.ease.call(null,t/u.duration):(u.timer.restart(h),u.state=_,1),n=-1,r=s.length;++n<r;)s[n].call(o,e);u.state===_&&(u.on.call("end",o,o.__data__,u.index,u.group),h())}function h(){for(var t in u.state=b,u.timer.stop(),delete c[a],c)return;delete o.__transition}(c[a]=u).timer=d.timer(function(t){u.state=p,u.timer.restart(l,u.delay,u.time),u.delay<=t&&l(t-u.delay)},0,u.time)}(t,n,{name:e,index:r,group:i,on:u,tween:s,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:c})}function l(t,e){var n=w(t,e);if(n.state>c)throw new Error("too late; already scheduled");return n}function f(t,e){var n=w(t,e);if(n.state>y)throw new Error("too late; already running");return n}function w(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function o(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>v&&n.state<_,n.state=b,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function a(t,e,n){var r=t._id;return t.each(function(){var t=f(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return w(t,r).value[e]}}function h(t,e){var n;return("number"==typeof e?i.interpolateNumber:e instanceof r.color?i.interpolateRgb:(n=r.color(e))?(e=n,i.interpolateRgb):i.interpolateString)(t,e)}var k=g.selection.prototype.constructor;function S(t){return function(){this.style.removeProperty(t)}}var M=0;function T(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function N(t){return g.selection().transition(t)}function O(){return++M}var E=g.selection.prototype;T.prototype=N.prototype={constructor:T,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=g.selector(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,x(f[h],e,n,h,f,w(u,n)));return new T(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=g.selectorAll(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],l=c.length,f=0;f<l;++f)if(s=c[f]){for(var h,d=t.call(s,s.__data__,f,c),p=w(s,n),v=0,y=d.length;v<y;++v)(h=d[v])&&x(h,e,n,v,d,p);o.push(d),a.push(s)}return new T(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=g.matcher(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new T(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=e[u],l=n[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=e[u];return new T(a,this._parents,this._name,this._id)},selection:function(){return new k(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=O(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var l=w(a,e);x(a,t,n,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new T(r,this._parents,t,n)},call:E.call,nodes:E.nodes,node:E.node,size:E.size,empty:E.empty,each:E.each,on:function(t,e){var n=this._id;return arguments.length<2?w(this.node(),n).on.on(t):this.each(function(n,r,i){var o,a,u=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})}(r)?l:f;return function(){var t=u(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}}(n,t,e))},attr:function(t,e){var n=g.namespace(t),r="transform"===n?i.interpolateTransformSvg:h;return this.attrTween(t,"function"==typeof e?(n.local?function(r,i,o){var a,u,s;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttributeNS(r.space,r.local))===(e=n+"")?null:t===a&&e===u?s:(u=e,s=i(a=t,n));this.removeAttributeNS(r.space,r.local)}}:function(r,i,o){var a,u,s;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttribute(r))===(e=n+"")?null:t===a&&e===u?s:(u=e,s=i(a=t,n));this.removeAttribute(r)}})(n,r,a(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===i?o:o=n(i=t,r)}}:function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttribute(e);return t===a?null:t===i?o:o=n(i=t,r)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=g.namespace(t);return this.tween(n,(r.local?function(e,n){var r,i;function t(){var t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&function(e,n){return function(t){this.setAttributeNS(e.space,e.local,n(t))}}(e,t)),r}return t._value=n,t}:function(e,n){var r,i;function t(){var t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&function(e,n){return function(t){this.setAttribute(e,n(t))}}(e,t)),r}return t._value=n,t})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?i.interpolateTransformCss:h;return null==e?this.styleTween(t,function(n,r){var i,o,a;return function(){var t=g.style(this,n),e=(this.style.removeProperty(n),g.style(this,n));return t===e?null:t===i&&e===o?a:a=r(i=t,o=e)}}(t,r)).on("end.style."+t,S(t)):"function"==typeof e?this.styleTween(t,function(r,i,o){var a,u,s;return function(){var t=g.style(this,r),e=o(this),n=e+"";return null==e&&(this.style.removeProperty(r),n=e=g.style(this,r)),t===n?null:t===a&&n===u?s:(u=n,s=i(a=t,e))}}(t,r,a(this,"style."+t,e))).each(function(r,i){var o,a,u,s,c="style."+i,l="end."+c;return function(){var t=f(this,r),e=t.on,n=null==t.value[c]?s=s||S(i):void 0;e===o&&u===n||(a=(o=e).copy()).on(l,u=n),t.on=a}}(this._id,t)):this.styleTween(t,function(e,n,r){var i,o,a=r+"";return function(){var t=g.style(this,e);return t===a?null:t===i?o:o=n(i=t,r)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(e,n,r){var i,o;function t(){var t=n.apply(this,arguments);return t!==o&&(i=(o=t)&&function(e,n,r){return function(t){this.style.setProperty(e,n(t),r)}}(e,t,r)),i}return t._value=n,t}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(a(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=w(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(i,o){var a,u;return function(){var t=f(this,i),e=t.tween;if(e!==a)for(var n=0,r=(u=a=e).length;n<r;++n)if(u[n].name===o){(u=u.slice()).splice(n,1);break}t.tween=u}}:function(o,a,u){var s,c;if("function"!=typeof u)throw new Error;return function(){var t=f(this,o),e=t.tween;if(e!==s){c=(s=e).slice();for(var n={name:a,value:u},r=0,i=c.length;r<i;++r)if(c[r].name===a){c[r]=n;break}r===i&&c.push(n)}t.tween=c}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){l(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){l(this,t).delay=e}})(e,t)):w(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){f(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){f(this,t).duration=e}})(e,t)):w(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){f(this,t).ease=e}}(e,t)):w(this.node(),e).ease},end:function(){var i,o,a=this,u=a._id,s=a.size();return new Promise(function(t,e){var n={value:e},r={value:function(){0==--s&&t()}};a.each(function(){var t=f(this,u),e=t.on;e!==i&&((o=(i=e).copy())._.cancel.push(n),o._.interrupt.push(n),o._.end.push(r)),t.on=o})})}};var P={time:null,delay:0,duration:250,ease:n.easeCubicInOut};function j(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return P.time=d.now(),P;return n}g.selection.prototype.interrupt=function(t){return this.each(function(){o(this,t)})},g.selection.prototype.transition=function(t){var e,n;t=t instanceof T?(e=t._id,t._name):(e=O(),(n=P).time=d.now(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&x(a,t,e,c,u,n||j(a,e));return new T(r,this._parents,t,e)};var C=[null];t.transition=N,t.active=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>p&&n.name===e)return new T([[t]],C,e,+r);return null},t.interrupt=o,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-dispatch"),t("d3-timer"),t("d3-color"),t("d3-interpolate"),t("d3-selection"),t("d3-ease")):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3,r.d3)},{"d3-color":22,"d3-dispatch":23,"d3-ease":25,"d3-interpolate":28,"d3-selection":31,"d3-timer":35}],37:[function(t,Ht,e){!function(o,i,t,f){"use strict";var a,u=["","webkit","Moz","MS","ms","o"],e=i.createElement("div"),n="function",s=Math.round,h=Math.abs,d=Date.now;function c(t,e,n){return setTimeout(m(t,n),e)}function r(t,e,n){return!!Array.isArray(t)&&(l(t,n[e],n),!0)}function l(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==f)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function p(r,t,e){var i="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),e=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",n=o.console&&(o.console.warn||o.console.log);return n&&n.call(o.console,i,e),r.apply(this,arguments)}}a="function"!=typeof Object.assign?function(t){if(t===f||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==f&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var v=p(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===f)&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),y=p(function(t,e){return v(t,e,!0)},"merge","Use `assign`.");function g(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&a(r,n)}function m(t,e){return function(){return t.apply(e,arguments)}}function _(t,e){return typeof t==n?t.apply(e&&e[0]||f,e):t}function b(t,e){return t===f?e:t}function x(e,t,n){l(M(t),function(t){e.addEventListener(t,n,!1)})}function w(e,t,n){l(M(t),function(t){e.removeEventListener(t,n,!1)})}function k(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function S(t,e){return-1<t.indexOf(e)}function M(t){return t.trim().split(/\s+/g)}function T(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function N(t){return Array.prototype.slice.call(t,0)}function O(t,n,e){for(var r=[],i=[],o=0;o<t.length;){var a=n?t[o][n]:t[o];T(i,a)<0&&r.push(t[o]),i[o]=a,o++}return e&&(r=n?r.sort(function(t,e){return t[n]>e[n]}):r.sort()),r}function E(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<u.length;){if((r=(n=u[o])?n+i:e)in t)return r;o++}return f}var P=1;function j(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var C="ontouchstart"in o,A=E(o,"PointerEvent")!==f,D=C&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),R="touch",z=25,I=1,L=4,U=8,W=1,F=2,B=4,$=8,H=16,Y=F|B,q=$|H,V=Y|q,X=["x","y"],G=["clientX","clientY"];function K(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){_(e.options.enable,[e])&&n.handler(t)},this.init()}function Z(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&I&&r-i==0,a=e&(L|U)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=J(e));1<i&&!n.firstMultiple?n.firstMultiple=J(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,s=e.center=Q(r);e.timeStamp=d(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=rt(u,s),e.distance=nt(u,s),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==I&&o.eventType!==L||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=et(e.deltaX,e.deltaY);var c=tt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=h(c.x)>h(c.y)?c.x:c.y,e.scale=a?function(t,e){return nt(e[0],e[1],G)/nt(t[0],t[1],G)}(a.pointers,r):1,e.rotation=a?function(t,e){return rt(e[1],e[0],G)+rt(t[1],t[0],G)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=U&&(z<u||a.velocity===f)){var s=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,l=tt(u,s,c);r=l.x,i=l.y,n=h(l.x)>h(l.y)?l.x:l.y,o=et(s,c),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var l=t.element;k(e.srcEvent.target,l)&&(l=e.srcEvent.target);e.target=l}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function J(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:s(t.pointers[n].clientX),clientY:s(t.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:e,center:Q(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Q(t){var e=t.length;if(1===e)return{x:s(t[0].clientX),y:s(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:s(n/e),y:s(r/e)}}function tt(t,e,n){return{x:e/t||0,y:n/t||0}}function et(t,e){return t===e?W:h(t)>=h(e)?t<0?F:B:e<0?$:H}function nt(t,e,n){var r=e[(n=n||X)[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function rt(t,e,n){var r=e[(n=n||X)[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}K.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(j(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(j(this.element),this.evWin,this.domHandler)}};var it={mousedown:I,mousemove:2,mouseup:L},ot="mousedown",at="mousemove mouseup";function ut(){this.evEl=ot,this.evWin=at,this.pressed=!1,K.apply(this,arguments)}g(ut,K,{handler:function(t){var e=it[t.type];e&I&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=L),this.pressed&&(e&L&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var st={pointerdown:I,pointermove:2,pointerup:L,pointercancel:U,pointerout:U},ct={2:R,3:"pen",4:"mouse",5:"kinect"},lt="pointerdown",ft="pointermove pointerup pointercancel";function ht(){this.evEl=lt,this.evWin=ft,K.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(lt="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),g(ht,K,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=st[r],o=ct[t.pointerType]||t.pointerType,a=o==R,u=T(e,t.pointerId,"pointerId");i&I&&(0===t.button||a)?u<0&&(e.push(t),u=e.length-1):i&(L|U)&&(n=!0),u<0||(e[u]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(u,1))}});var dt={touchstart:I,touchmove:2,touchend:L,touchcancel:U};function pt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,K.apply(this,arguments)}g(pt,K,{handler:function(t){var e=dt[t.type];if(e===I&&(this.started=!0),this.started){var n=function(t,e){var n=N(t.touches),r=N(t.changedTouches);e&(L|U)&&(n=O(n.concat(r),"identifier",!0));return[n,r]}.call(this,t,e);e&(L|U)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:R,srcEvent:t})}}});var vt={touchstart:I,touchmove:2,touchend:L,touchcancel:U},yt="touchstart touchmove touchend touchcancel";function gt(){this.evTarget=yt,this.targetIds={},K.apply(this,arguments)}g(gt,K,{handler:function(t){var e=vt[t.type],n=function(t,e){var n=N(t.touches),r=this.targetIds;if(e&(2|I)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=N(t.changedTouches),u=[],s=this.target;if(o=n.filter(function(t){return k(t.target,s)}),e===I)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;i=0;for(;i<a.length;)r[a[i].identifier]&&u.push(a[i]),e&(L|U)&&delete r[a[i].identifier],i++;return u.length?[O(o.concat(u),"identifier",!0),u]:void 0}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:R,srcEvent:t})}});var mt=2500;function _t(){K.apply(this,arguments);var t=m(this.handler,this);this.touch=new gt(this.manager,t),this.mouse=new ut(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function bt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var t=r.indexOf(n);-1<t&&r.splice(t,1)},mt)}}g(_t,K,{handler:function(t,e,n){var r=n.pointerType==R,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(t,e){t&I?(this.primaryTouch=e.changedPointers[0].identifier,bt.call(this,e)):t&(L|U)&&bt.call(this,e)}).call(this,e,n);else if(i&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var xt=E(e.style,"touchAction"),wt=xt!==f,kt="manipulation",St="none",Mt="pan-x",Tt="pan-y",Nt=function(){if(!wt)return!1;var e={},n=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){e[t]=!n||o.CSS.supports("touch-action",t)}),e}();function Ot(t,e){this.manager=t,this.set(e)}Ot.prototype={set:function(t){"compute"==t&&(t=this.compute()),wt&&this.manager.element.style&&Nt[t]&&(this.manager.element.style[xt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return l(this.manager.recognizers,function(t){_(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(S(t,St))return St;var e=S(t,Mt),n=S(t,Tt);if(e&&n)return St;if(e||n)return e?Mt:Tt;if(S(t,kt))return kt;return"auto"}(e.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=S(r,St)&&!Nt.none,o=S(r,Tt)&&!Nt[Tt],a=S(r,Mt)&&!Nt[Mt];if(i){var u=1===t.pointers.length,s=t.distance<2,c=t.deltaTime<250;if(u&&s&&c)return}if(!a||!o)return i||o&&n&Y||a&&n&q?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Et=1;function Pt(t){this.options=a({},this.defaults,t||{}),this.id=P++,this.manager=null,this.options.enable=b(this.options.enable,!0),this.state=Et,this.simultaneous={},this.requireFail=[]}function jt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Ct(t){return t==H?"down":t==$?"up":t==F?"left":t==B?"right":""}function At(t,e){var n=e.manager;return n?n.get(t):t}function Dt(){Pt.apply(this,arguments)}function Rt(){Dt.apply(this,arguments),this.pX=null,this.pY=null}function zt(){Dt.apply(this,arguments)}function It(){Pt.apply(this,arguments),this._timer=null,this._input=null}function Lt(){Dt.apply(this,arguments)}function Ut(){Dt.apply(this,arguments)}function Wt(){Pt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ft(t,e){return(e=e||{}).recognizers=b(e.recognizers,Ft.defaults.preset),new Bt(t,e)}Pt.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(r(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=At(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return r(t,"dropRecognizeWith",this)||(t=At(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(r(t,"requireFailure",this))return this;var e=this.requireFail;return-1===T(e,t=At(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(r(t,"dropRequireFailure",this))return this;t=At(t,this);var e=T(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){var n=this,t=this.state;function r(t){n.manager.emit(t,e)}t<8&&r(n.options.event+jt(t)),r(n.options.event),e.additionalEvent&&r(e.additionalEvent),8<=t&&r(n.options.event+jt(t))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Et)))return!1;t++}return!0},recognize:function(t){var e=a({},t);if(!_(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=Et),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},g(Dt,Pt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(n&U||!i)?16|e:r||i?n&L?8|e:2&e?4|e:2:32}}),g(Rt,Dt,{defaults:{event:"pan",threshold:10,pointers:1,direction:V},getTouchAction:function(){var t=this.options.direction,e=[];return t&Y&&e.push(Tt),t&q&&e.push(Mt),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(r=e.direction&Y?(i=0===o?W:o<0?F:B,n=o!=this.pX,Math.abs(t.deltaX)):(i=0===a?W:a<0?$:H,n=a!=this.pY,Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Dt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Ct(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),g(zt,Dt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),g(It,Pt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(L|U)&&!i)this.reset();else if(t.eventType&I)this.reset(),this._timer=c(function(){this.state=8,this.tryEmit()},e.time,this);else if(t.eventType&L)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&L?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),g(Lt,Dt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),g(Ut,Dt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Y|q,pointers:1},getTouchAction:function(){return Rt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Y|q)?e=t.overallVelocity:n&Y?e=t.overallVelocityX:n&q&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&t.eventType&L},emit:function(t){var e=Ct(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),g(Wt,Pt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[kt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&I&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=L)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||nt(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=c(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=c(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ft.VERSION="2.0.7",Ft.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Lt,{enable:!1}],[zt,{enable:!1},["rotate"]],[Ut,{direction:Y}],[Rt,{direction:Y},["swipe"]],[Wt],[Wt,{event:"doubletap",taps:2},["tap"]],[It]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Bt(t,e){this.options=a({},Ft.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){var e=t.options.inputClass;return new(e||(A?ht:D?gt:C?_t:ut))(t,Z)}(this),this.touchAction=new Ot(this,this.options.touchAction),$t(this,!0),l(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function $t(n,r){var i,o=n.element;o.style&&(l(n.options.cssProps,function(t,e){i=E(o.style,e),r?(n.oldCssProps[i]=o.style[i],o.style[i]=t):o.style[i]=n.oldCssProps[i]||""}),r||(n.oldCssProps={}))}Bt.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Pt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(r(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){if(r(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=T(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==f&&e!==f){var n=this.handlers;return l(M(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==f){var n=this.handlers;return l(M(t),function(t){e?n[t]&&n[t].splice(T(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),(n.gesture=e).target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&$t(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(Ft,{INPUT_START:I,INPUT_MOVE:2,INPUT_END:L,INPUT_CANCEL:U,STATE_POSSIBLE:Et,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:W,DIRECTION_LEFT:F,DIRECTION_RIGHT:B,DIRECTION_UP:$,DIRECTION_DOWN:H,DIRECTION_HORIZONTAL:Y,DIRECTION_VERTICAL:q,DIRECTION_ALL:V,Manager:Bt,Input:K,TouchAction:Ot,TouchInput:gt,MouseInput:ut,PointerEventInput:ht,TouchMouseInput:_t,SingleTouchInput:pt,Recognizer:Pt,AttrRecognizer:Dt,Tap:Wt,Pan:Rt,Swipe:Ut,Pinch:zt,Rotate:Lt,Press:It,on:x,off:w,each:l,merge:y,extend:v,assign:a,inherit:g,bindFn:m,prefixed:E}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=Ft,void 0!==Ht&&Ht.exports?Ht.exports=Ft:o.Hammer=Ft}(window,document)},{}],38:[function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var C=r(t("@babel/runtime/helpers/typeof")),A=r(t("@babel/runtime/helpers/objectSpread")),a=r(t("@babel/runtime/helpers/classCallCheck")),i=r(t("@babel/runtime/helpers/createClass")),s=r(t("@babel/runtime/helpers/possibleConstructorReturn")),c=r(t("@babel/runtime/helpers/getPrototypeOf")),l=r(t("@babel/runtime/helpers/assertThisInitialized")),f=r(t("@babel/runtime/helpers/inherits")),o=r(t("@babel/runtime/helpers/toConsumableArray")),h=r(t("@babel/runtime/helpers/slicedToArray")),u={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var n;console&&console[t]&&(n=console)[t].apply(n,o(e))}},d=new(function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a(this,n),this.init(t,e)}return i(n,[{key:"init",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};this.prefix=n.prefix||"i18next:",this.logger=t||u,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,r){return r&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(t){return new n(this.logger,A({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),n}()),p=function(){function t(){a(this,t),this.observers={}}return i(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach(function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)}),this}},{key:"off",value:function(e,n){var r=this;this.observers[e]&&this.observers[e].forEach(function(){if(n){var t=r.observers[e].indexOf(n);-1<t&&r.observers[e].splice(t,1)}else delete r.observers[e]})}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach(function(t){t.apply(void 0,n)});this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(t){t.apply(t,[e].concat(n))})}}]),t}();function v(){var n,r,t=new Promise(function(t,e){n=t,r=e});return t.resolve=n,t.reject=r,t}function y(t){return null==t?"":""+t}function g(t,e,n){function r(t){return t&&-1<t.indexOf("###")?t.replace(/###/g,"."):t}function i(){return!t||"string"==typeof t}for(var o="string"!=typeof e?[].concat(e):e.split(".");1<o.length;){if(i())return{};var a=r(o.shift());!t[a]&&n&&(t[a]=new n),t=t[a]}return i()?{}:{obj:t,k:r(o.shift())}}function m(t,e,n){var r=g(t,e,Object);r.obj[r.k]=n}function _(t,e){var n=g(t,e),r=n.obj,i=n.k;if(r)return r[i]}function b(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function w(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return x[t]}):t}var k=function(){function r(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return a(this,r),e=s(this,c(r).call(this)),p.call(l(e)),e.data=t||{},e.options=n,void 0===e.options.keySeparator&&(e.options.keySeparator="."),e}return f(r,p),i(r,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);-1<e&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n,r){var i=3<arguments.length&&void 0!==r?r:{},o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=[t,e];return n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(o?n.split(o):n)),-1<t.indexOf(".")&&(a=t.split(".")),_(this.data,a)}},{key:"addResource",value:function(t,e,n,r,i){var o=4<arguments.length&&void 0!==i?i:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var u=[t,e];n&&(u=u.concat(a?n.split(a):n)),-1<t.indexOf(".")&&(r=e,e=(u=t.split("."))[1]),this.addNamespaces(e),m(this.data,u,r),o.silent||this.emit("added",t,e,n,r)}},{key:"addResources",value:function(t,e,n,r){var i=3<arguments.length&&void 0!==r?r:{silent:!1};for(var o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(t,e,o,n[o],{silent:!0});i.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,n,r,i,o){var a=5<arguments.length&&void 0!==o?o:{silent:!1},u=[t,e];-1<t.indexOf(".")&&(r=n,n=e,e=(u=t.split("."))[1]),this.addNamespaces(e);var s=_(this.data,u)||{};r?function t(e,n,r){for(var i in n)i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof n[i]||n[i]instanceof String?r&&(e[i]=n[i]):t(e[i],n[i],r):e[i]=n[i];return e}(s,n,i):s=A({},s,n),m(this.data,u,s),a.silent||this.emit("added",t,e,n)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e=e||this.options.defaultNS,"v1"===this.options.compatibilityAPI?A({},{},this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),r}(),S={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,i){var o=this;return t.forEach(function(t){o.processors[t]&&(e=o.processors[t].process(e,n,r,i))}),e}},M=function(){function r(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return a(this,r),e=s(this,c(r).call(this)),p.call(l(e)),function(t,e,n){t.forEach(function(t){e[t]&&(n[t]=e[t])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat"],t,l(e)),e.options=n,void 0===e.options.keySeparator&&(e.options.keySeparator="."),e.logger=d.create("translator"),e}return f(r,p),i(r,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{interpolation:{}},r=this.resolve(t,n);return r&&void 0!==r.res}},{key:"extractFromKey",value:function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,i=e.ns||this.options.defaultNS;if(n&&-1<t.indexOf(n)){var o=t.split(n);(n!==r||n===r&&-1<this.options.ns.indexOf(o[0]))&&(i=o.shift()),t=o.join(r)}return"string"==typeof i&&(i=[i]),{key:t,namespaces:i}}},{key:"translate",value:function(t,n){var r=this;if("object"!==C(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n=n||{},null==t)return"";Array.isArray(t)||(t=[String(t)]);var e=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,i=this.extractFromKey(t[t.length-1],n),o=i.key,a=i.namespaces,u=a[a.length-1],s=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(s&&"cimode"===s.toLowerCase()){if(c){var l=n.nsSeparator||this.options.nsSeparator;return u+l+o}return o}var f=this.resolve(t,n),h=f&&f.res,d=f&&f.usedKey||o,p=f&&f.exactUsedKey||o,v=Object.prototype.toString.apply(h),y=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject;if(g&&h&&("string"!=typeof h&&"boolean"!=typeof h&&"number"!=typeof h)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(v)<0&&("string"!=typeof y||"[object Array]"!==v)){if(!n.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,h,n):"key '".concat(o," (").concat(this.language,")' returned an object instead of string.");if(e){var m="[object Array]"===v,_=m?[]:{},b=m?p:d;for(var x in h)if(Object.prototype.hasOwnProperty.call(h,x)){var w="".concat(b).concat(e).concat(x);_[x]=this.translate(w,A({},n,{joinArrays:!1,ns:a})),_[x]===w&&(_[x]=h[x])}h=_}}else if(g&&"string"==typeof y&&"[object Array]"===v)h=(h=h.join(y))&&this.extendTranslation(h,t,n);else{var k=!1,S=!1;if(!this.isValidLookup(h)&&void 0!==n.defaultValue){if(k=!0,void 0!==n.count){var M=this.pluralResolver.getSuffix(s,n.count);h=n["defaultValue".concat(M)]}h=h||n.defaultValue}this.isValidLookup(h)||(S=!0,h=o);var T=n.defaultValue&&n.defaultValue!==h&&this.options.updateMissing;if(S||k||T){this.logger.log(T?"updateKey":"missingKey",s,u,o,T?n.defaultValue:h);var N=[],O=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&O&&O[0])for(var E=0;E<O.length;E++)N.push(O[E]);else"all"===this.options.saveMissingTo?N=this.languageUtils.toResolveHierarchy(n.lng||this.language):N.push(n.lng||this.language);var P=function(t,e){r.options.missingKeyHandler?r.options.missingKeyHandler(t,u,e,T?n.defaultValue:h,T,n):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(t,u,e,T?n.defaultValue:h,T,n),r.emit("missingKey",t,u,e,h)};if(this.options.saveMissing){var j=void 0!==n.count&&"string"!=typeof n.count;this.options.saveMissingPlurals&&j?N.forEach(function(e){r.pluralResolver.getPluralFormsOfKey(e,o).forEach(function(t){return P([e],t)})}):P(N,o)}}h=this.extendTranslation(h,t,n,f),S&&h===o&&this.options.appendNamespaceToMissingKey&&(h="".concat(u,":").concat(o)),S&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(h))}return h}},{key:"extendTranslation",value:function(t,e,n,r){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(A({},n,{interpolation:A({},this.options.interpolation,n.interpolation)}));var o=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(o=A({},this.options.interpolation.defaultVariables,o)),t=this.interpolator.interpolate(t,o,n.lng||this.language,n),!1!==n.nest&&(t=this.interpolator.nest(t,function(){return i.translate.apply(i,arguments)},n)),n.interpolation&&this.interpolator.reset()}var a=n.postProcess||this.options.postProcess,u="string"==typeof a?[a]:a;return null!=t&&u&&u.length&&!1!==n.applyPostProcessor&&(t=S.handle(u,t,e,n,this)),t}},{key:"resolve",value:function(t,e){var c,i,l,f,h,d=this,p=1<arguments.length&&void 0!==e?e:{};return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!d.isValidLookup(c)){var e=d.extractFromKey(t,p),a=e.key;i=a;var n=e.namespaces;d.options.fallbackNS&&(n=n.concat(d.options.fallbackNS));var u=void 0!==p.count&&"string"!=typeof p.count,s=void 0!==p.context&&"string"==typeof p.context&&""!==p.context,r=p.lngs?p.lngs:d.languageUtils.toResolveHierarchy(p.lng||d.language,p.fallbackLng);n.forEach(function(o){d.isValidLookup(c)||(h=o,r.forEach(function(t){if(!d.isValidLookup(c)){f=t;var e,n,r=a,i=[r];if(d.i18nFormat&&d.i18nFormat.addLookupKeys)d.i18nFormat.addLookupKeys(i,a,t,o,p);else u&&(e=d.pluralResolver.getSuffix(t,p.count)),u&&s&&i.push(r+e),s&&i.push(r+="".concat(d.options.contextSeparator).concat(p.context)),u&&i.push(r+=e);for(;n=i.pop();)d.isValidLookup(c)||(l=n,c=d.getResource(t,o,n,p))}}))})}}),{res:c,usedKey:i,exactUsedKey:l,usedLng:f,usedNS:h}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n,r){var i=3<arguments.length&&void 0!==r?r:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,i):this.resourceStore.getResource(t,e,n,i)}}]),r}();function T(t){return t.charAt(0).toUpperCase()+t.slice(1)}var N=function(){function e(t){a(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=d.create("languageUtils")}return i(e,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&-1<t.indexOf("-")){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map(function(t){return t.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),-1<e.indexOf(n[1].toLowerCase())&&(n[1]=T(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),-1<e.indexOf(n[1].toLowerCase())&&(n[1]=T(n[1].toLowerCase())),-1<e.indexOf(n[2].toLowerCase())&&(n[2]=T(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return"languageOnly"!==this.options.load&&!this.options.nonExplicitWhitelist||(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||-1<this.whitelist.indexOf(t)}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return(n=(n=(n=n||t[this.getScriptPartFromCode(e)])||t[this.formatLanguageCode(e)])||t.default)||[]}},{key:"toResolveHierarchy",value:function(t,e){function n(t){t&&(r.isWhitelisted(t)?o.push(t):r.logger.warn("rejecting non-whitelisted language code: ".concat(t)))}var r=this,i=this.getFallbackCodes(e||this.options.fallbackLng||[],t),o=[];return"string"==typeof t&&-1<t.indexOf("-")?("languageOnly"!==this.options.load&&n(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&n(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&n(this.getLanguagePartFromCode(t))):"string"==typeof t&&n(this.formatLanguageCode(t)),i.forEach(function(t){o.indexOf(t)<0&&n(r.formatLanguageCode(t))}),o}}]),e}(),O=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}],E={1:function(t){return Number(1<t)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:3<=t%100&&t%100<=10?3:11<=t%100?4:5)},6:function(t){return Number(1==t?0:2<=t&&t<=4?1:2)},7:function(t){return Number(1==t?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(2<=t)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:2<t&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:2<=t%10&&(t%100<10||20<=t%100)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||1<t%100&&t%100<11?1:10<t%100&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||0<t%100&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1===t?0:2===t?1:(t<0||10<t)&&t%10==0?2:3)}};var P=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a(this,n),this.languageUtils=t,this.options=e,this.logger=d.create("pluralResolver"),this.rules=function(){var n={};return O.forEach(function(e){e.lngs.forEach(function(t){n[t]={numbers:e.nr,plurals:E[e.fc]}})}),n}()}return i(n,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=this.getRule(t);return e&&1<e.numbers.length}},{key:"getPluralFormsOfKey",value:function(n,r){var i=this,o=[],t=this.getRule(n);return t&&t.numbers.forEach(function(t){var e=i.getSuffix(n,t);o.push("".concat(r).concat(e))}),o}},{key:"getSuffix",value:function(t,e){var n=this,r=this.getRule(t);if(r){var i=r.noAbs?r.plurals(e):r.plurals(Math.abs(e)),o=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):a():"v2"===this.options.compatibilityJSON?a():this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: ".concat(t)),""}}]),n}(),j=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.logger=d.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(t){return t},this.init(t)}return i(e,[{key:"init",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};e.interpolation||(e.interpolation={escapeValue:!0});var n=e.interpolation;this.escape=void 0!==n.escape?n.escape:w,this.escapeValue=void 0===n.escapeValue||n.escapeValue,this.useRawValueToEscape=void 0!==n.useRawValueToEscape&&n.useRawValueToEscape,this.prefix=n.prefix?b(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?b(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?b(n.nestingPrefix):n.nestingPrefixEscaped||b("$t("),this.nestingSuffix=n.nestingSuffix?b(n.nestingSuffix):n.nestingSuffixEscaped||b(")"),this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,e,i,n){var r,o,a,u=this,s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=A({},s,e);function l(t){return t.replace(/\$/g,"$$$$")}function f(t){if(t.indexOf(u.formatSeparator)<0)return _(c,t);var e=t.split(u.formatSeparator),n=e.shift().trim(),r=e.join(u.formatSeparator).trim();return u.format(_(c,n),r,i)}this.resetRegExp();var h=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler;for(a=0;r=this.regexpUnescape.exec(t);){if(void 0===(o=f(r[1].trim())))if("function"==typeof h){var d=h(t,r,n);o="string"==typeof d?d:""}else this.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(t)),o="";else"string"==typeof o||this.useRawValueToEscape||(o=y(o));if(t=t.replace(r[0],l(o)),this.regexpUnescape.lastIndex=0,++a>=this.maxReplaces)break}for(a=0;r=this.regexp.exec(t);){if(void 0===(o=f(r[1].trim())))if("function"==typeof h){var p=h(t,r,n);o="string"==typeof p?p:""}else this.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(t)),o="";else"string"==typeof o||this.useRawValueToEscape||(o=y(o));if(o=this.escapeValue?l(this.escape(o)):l(o),t=t.replace(r[0],o),this.regexp.lastIndex=0,++a>=this.maxReplaces)break}return t}},{key:"nest",value:function(t,e,n){var r,i,o=A({},2<arguments.length&&void 0!==n?n:{});function a(e,t){if(e.indexOf(",")<0)return e;var n=e.split(",");e=n.shift();var r=n.join(",");r=(r=this.interpolate(r,o)).replace(/'/g,'"');try{o=JSON.parse(r),t&&(o=A({},t,o))}catch(t){this.logger.error("failed parsing options string in nesting for key ".concat(e),t)}return e}for(o.applyPostProcessor=!1;r=this.nestingRegexp.exec(t);){if((i=e(a.call(this,r[1].trim(),o),o))&&r[0]===t&&"string"!=typeof i)return i;"string"!=typeof i&&(i=y(i)),i||(this.logger.warn("missed to resolve ".concat(r[1]," for nesting ").concat(t)),i=""),t=t.replace(r[0],i),this.regexp.lastIndex=0}return t}}]),e}();var D=function(){function o(t,e,n){var r,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return a(this,o),r=s(this,c(o).call(this)),p.call(l(r)),r.backend=t,r.store=e,r.languageUtils=n.languageUtils,r.options=i,r.logger=d.create("backendConnector"),r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(n,i.backend,i),r}return f(o,p),i(o,[{key:"queueLoad",value:function(t,e,i,n){var o=this,a=[],u=[],s=[],c=[];return t.forEach(function(n){var r=!0;e.forEach(function(t){var e="".concat(n,"|").concat(t);!i.reload&&o.store.hasResourceBundle(n,t)?o.state[e]=2:o.state[e]<0||(1===o.state[e]?u.indexOf(e)<0&&u.push(e):(o.state[e]=1,r=!1,u.indexOf(e)<0&&u.push(e),a.indexOf(e)<0&&a.push(e),c.indexOf(t)<0&&c.push(t)))}),r||s.push(n)}),(a.length||u.length)&&this.queue.push({pending:u,loaded:{},errors:[],callback:n}),{toLoad:a,pending:u,toLoadLanguages:s,toLoadNamespaces:c}}},{key:"loaded",value:function(e,n,t){var r=e.split("|"),i=h(r,2),o=i[0],a=i[1];n&&this.emit("failedLoading",o,a,n),t&&this.store.addResourceBundle(o,a,t),this.state[e]=n?-1:2;var u={};this.queue.forEach(function(t){!function(t,e,n,r){var i=g(t,e,Object),o=i.obj,a=i.k;o[a]=o[a]||[],r&&(o[a]=o[a].concat(n)),r||o[a].push(n)}(t.loaded,[o],a),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(t.pending,e),n&&t.errors.push(n),0!==t.pending.length||t.done||(Object.keys(t.loaded).forEach(function(e){u[e]||(u[e]=[]),t.loaded[e].length&&t.loaded[e].forEach(function(t){u[e].indexOf(t)<0&&u[e].push(t)})}),t.done=!0,t.errors.length?t.callback(t.errors):t.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(function(t){return!t.done})}},{key:"read",value:function(n,r,i,t,e,o){var a=this,u=3<arguments.length&&void 0!==t?t:0,s=4<arguments.length&&void 0!==e?e:250,c=5<arguments.length?o:void 0;return n.length?this.backend[i](n,r,function(t,e){t&&e&&u<5?setTimeout(function(){a.read.call(a,n,r,i,u+1,2*s,c)},s):c(t,e)}):c(null,{})}},{key:"prepareLoading",value:function(t,e,n,r){var i=this,o=2<arguments.length&&void 0!==n?n:{},a=3<arguments.length?r:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var u=this.queueLoad(t,e,o,a);if(!u.toLoad.length)return u.pending.length||a(),null;u.toLoad.forEach(function(t){i.loadOne(t)})}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(n,t){var r=this,i=1<arguments.length&&void 0!==t?t:"",e=n.split("|"),o=h(e,2),a=o[0],u=o[1];this.read(a,u,"read",null,null,function(t,e){t&&r.logger.warn("".concat(i,"loading namespace ").concat(u," for language ").concat(a," failed"),t),!t&&e&&r.logger.log("".concat(i,"loaded namespace ").concat(u," for language ").concat(a),e),r.loaded(n,t,e)})}},{key:"saveMissing",value:function(t,e,n,r,i,o){var a=5<arguments.length&&void 0!==o?o:{};this.backend&&this.backend.create&&this.backend.create(t,e,n,r,null,A({},a,{isUpdate:i})),t&&t[0]&&this.store.addResource(t[0],e,n,r)}}]),o}();function R(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t}function z(){}var I=new(function(){function u(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;if(a(this,u),t=s(this,c(u).call(this)),p.call(l(t)),t.options=R(e),t.services={},t.logger=d,t.modules={external:[]},n&&!t.isInitialized&&!e.isClone){if(!t.options.initImmediate)return t.init(e,n),s(t,l(t));setTimeout(function(){t.init(e,n)},0)}return t}return f(u,p),i(u,[{key:"init",value:function(t,e){var i=this,n=0<arguments.length&&void 0!==t?t:{},r=1<arguments.length?e:void 0;function o(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof n&&(r=n,n={}),this.options=A({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===C(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===C(t[2])||"object"===C(t[3])){var n=t[3]||t[2];Object.keys(n).forEach(function(t){e[t]=n[t]})}return e},interpolation:{escapeValue:!0,format:function(t,e,n){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}},this.options,R(n)),this.format=this.options.interpolation.format,r=r||z,!this.options.isClone){this.modules.logger?d.init(o(this.modules.logger),this.options):d.init(null,this.options);var a=new N(this.options);this.store=new k(this.options.resources,this.options);var u=this.services;u.logger=d,u.resourceStore=this.store,u.languageUtils=a,u.pluralResolver=new P(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u.interpolator=new j(this.options),u.backendConnector=new D(o(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t].concat(n))}),this.modules.languageDetector&&(u.languageDetector=o(this.modules.languageDetector),u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=o(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new M(this.services,this.options),this.translator.on("*",function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t].concat(n))}),this.modules.external.forEach(function(t){t.init&&t.init(i)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(e){i[e]=function(){var t;return(t=i.store)[e].apply(t,arguments)}});function s(){i.changeLanguage(i.options.lng,function(t,e){i.isInitialized=!0,i.logger.log("initialized",i.options),i.emit("initialized",i.options),c.resolve(e),r(t,e)})}var c=v();return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),c}},{key:"loadResources",value:function(t){var e=this,n=0<arguments.length&&void 0!==t?t:z;if(!this.options.resources||this.options.partialBundledLanguages){if(this.language&&"cimode"===this.language.toLowerCase())return n();var r=[],i=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach(function(t){r.indexOf(t)<0&&r.push(t)})};if(this.language)i(this.language);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(t){return i(t)});this.options.preload&&this.options.preload.forEach(function(t){return i(t)}),this.services.backendConnector.load(r,this.options.ns,n)}else n(null)}},{key:"reloadResources",value:function(t,e,n){var r=v();return t=t||this.languages,e=e||this.options.ns,n=n||z,this.services.backendConnector.reload(t,e,function(t){r.resolve(),n(t)}),r}},{key:"use",value:function(t){return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&S.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(t,n){var r=this,i=v();this.emit("languageChanging",t);function e(e){e&&(r.language=e,r.languages=r.services.languageUtils.toResolveHierarchy(e),r.translator.language||r.translator.changeLanguage(e),r.services.languageDetector&&r.services.languageDetector.cacheUserLanguage(e)),r.loadResources(function(t){!function(t,e){r.translator.changeLanguage(e),e&&(r.emit("languageChanged",e),r.logger.log("languageChanged",e)),i.resolve(function(){return r.t.apply(r,arguments)}),n&&n(t,function(){return r.t.apply(r,arguments)})}(t,e)})}return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(e):e(t):e(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(t,e){function a(t,e){var n=A({},e);if("object"!==C(e)){for(var r=arguments.length,i=new Array(2<r?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];n=u.options.overloadTranslationOptionHandler([t,e].concat(i))}return n.lng=n.lng||a.lng,n.lngs=n.lngs||a.lngs,n.ns=n.ns||a.ns,u.t(t,n)}var u=this;return"string"==typeof t?a.lng=t:a.lngs=t,a.ns=e,a}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"loadNamespaces",value:function(t,e){var n=this,r=v();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach(function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)}),this.loadResources(function(t){r.resolve(),e&&e(t)}),r):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=v();"string"==typeof t&&(t=[t]);var r=this.options.preload||[],i=t.filter(function(t){return r.indexOf(t)<0});return i.length?(this.options.preload=r.concat(i),this.loadResources(function(t){n.resolve(),e&&e(t)}),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){if(!(t=t||(this.languages&&0<this.languages.length?this.languages[0]:this.language)))return"rtl";return 0<=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))?"rtl":"ltr"}},{key:"createInstance",value:function(t,e){return new u(0<arguments.length&&void 0!==t?t:{},1<arguments.length?e:void 0)}},{key:"cloneInstance",value:function(t,e){var n=this,r=0<arguments.length&&void 0!==t?t:{},i=1<arguments.length&&void 0!==e?e:z,o=A({},this.options,r,{isClone:!0}),a=new u(o);return["store","services","language"].forEach(function(t){a[t]=n[t]}),a.translator=new M(a.services,a.options),a.translator.on("*",function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];a.emit.apply(a,[t].concat(n))}),a.init(o,i),a.translator.options=a.options,a}}]),u}());e.exports=I},{"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/createClass":5,"@babel/runtime/helpers/getPrototypeOf":7,"@babel/runtime/helpers/inherits":8,"@babel/runtime/helpers/objectSpread":13,"@babel/runtime/helpers/possibleConstructorReturn":14,"@babel/runtime/helpers/slicedToArray":16,"@babel/runtime/helpers/toConsumableArray":17,"@babel/runtime/helpers/typeof":18}],39:[function(t,W,F){(function(U){(function(){var ra,ia="Expected a function",oa="__lodash_hash_undefined__",aa="__lodash_placeholder__",ua=9007199254740991,sa=NaN,ca=4294967295,la=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],fa="[object Arguments]",ha="[object Array]",da="[object Boolean]",pa="[object Date]",va="[object Error]",ya="[object Function]",ga="[object GeneratorFunction]",ma="[object Map]",_a="[object Number]",ba="[object Object]",xa="[object Promise]",wa="[object RegExp]",ka="[object Set]",Sa="[object String]",Ma="[object Symbol]",Ta="[object WeakMap]",Na="[object ArrayBuffer]",Oa="[object DataView]",Ea="[object Float32Array]",Pa="[object Float64Array]",ja="[object Int8Array]",Ca="[object Int16Array]",Aa="[object Int32Array]",Da="[object Uint8Array]",Ra="[object Uint8ClampedArray]",za="[object Uint16Array]",Ia="[object Uint32Array]",La=/\b__p \+= '';/g,Ua=/\b(__p \+=) '' \+/g,Wa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fa=/&(?:amp|lt|gt|quot|#39);/g,Ba=/[&<>"']/g,$a=RegExp(Fa.source),Ha=RegExp(Ba.source),Ya=/<%-([\s\S]+?)%>/g,qa=/<%([\s\S]+?)%>/g,Va=/<%=([\s\S]+?)%>/g,Xa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ga=/^\w*$/,Ka=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Za=/[\\^$.*+?()[\]{}|]/g,Ja=RegExp(Za.source),Qa=/^\s+|\s+$/g,tu=/^\s+/,eu=/\s+$/,nu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ru=/\{\n\/\* \[wrapped with (.+)\] \*/,iu=/,? & /,ou=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,au=/\\(\\)?/g,uu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,su=/\w*$/,cu=/^[-+]0x[0-9a-f]+$/i,lu=/^0b[01]+$/i,fu=/^\[object .+?Constructor\]$/,hu=/^0o[0-7]+$/i,du=/^(?:0|[1-9]\d*)$/,pu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vu=/($^)/,yu=/['\n\r\u2028\u2029\\]/g,t="\\ud800-\\udfff",e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\ufe0e\\ufe0f",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",u="["+t+"]",s="["+a+"]",c="["+e+"]",l="\\d+",f="["+n+"]",h="["+r+"]",d="[^"+t+a+l+n+r+i+"]",p="\\ud83c[\\udffb-\\udfff]",v="[^"+t+"]",y="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",m="["+i+"]",_="(?:"+h+"|"+d+")",b="(?:"+m+"|"+d+")",x="(?:['â](?:d|ll|m|re|s|t|ve))?",w="(?:['â](?:D|LL|M|RE|S|T|VE))?",k="(?:"+c+"|"+p+")"+"?",S="["+o+"]?",M=S+k+("(?:\\u200d(?:"+[v,y,g].join("|")+")"+S+k+")*"),T="(?:"+[f,y,g].join("|")+")"+M,N="(?:"+[v+c+"?",c,y,g,u].join("|")+")",gu=RegExp("['â]","g"),mu=RegExp(c,"g"),O=RegExp(p+"(?="+p+")|"+N+M,"g"),_u=RegExp([m+"?"+h+"+"+x+"(?="+[s,m,"$"].join("|")+")",b+"+"+w+"(?="+[s,m+_,"$"].join("|")+")",m+"?"+_+"+"+x,m+"+"+w,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",l,T].join("|"),"g"),E=RegExp("[\\u200d"+t+e+o+"]"),bu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wu=-1,ku={};ku[Ea]=ku[Pa]=ku[ja]=ku[Ca]=ku[Aa]=ku[Da]=ku[Ra]=ku[za]=ku[Ia]=!0,ku[fa]=ku[ha]=ku[Na]=ku[da]=ku[Oa]=ku[pa]=ku[va]=ku[ya]=ku[ma]=ku[_a]=ku[ba]=ku[wa]=ku[ka]=ku[Sa]=ku[Ta]=!1;var Su={};Su[fa]=Su[ha]=Su[Na]=Su[Oa]=Su[da]=Su[pa]=Su[Ea]=Su[Pa]=Su[ja]=Su[Ca]=Su[Aa]=Su[ma]=Su[_a]=Su[ba]=Su[wa]=Su[ka]=Su[Sa]=Su[Ma]=Su[Da]=Su[Ra]=Su[za]=Su[Ia]=!0,Su[va]=Su[ya]=Su[Ta]=!1;var P={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mu=parseFloat,Tu=parseInt,j="object"==typeof U&&U&&U.Object===Object&&U,C="object"==typeof self&&self&&self.Object===Object&&self,Nu=j||C||Function("return this")(),A="object"==typeof F&&F&&!F.nodeType&&F,D=A&&"object"==typeof W&&W&&!W.nodeType&&W,Ou=D&&D.exports===A,R=Ou&&j.process,z=function(){try{var t=D&&D.require&&D.require("util").types;return t||R&&R.binding&&R.binding("util")}catch(t){}}(),Eu=z&&z.isArrayBuffer,Pu=z&&z.isDate,ju=z&&z.isMap,Cu=z&&z.isRegExp,Au=z&&z.isSet,Du=z&&z.isTypedArray;function Ru(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function zu(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Iu(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Lu(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Uu(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Wu(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Fu(t,e){return!!(null==t?0:t.length)&&-1<Ku(t,e,0)}function Bu(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function $u(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Hu(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Yu(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function qu(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Vu(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var I=ts("length");function Xu(t,r,e){var i;return e(t,function(t,e,n){if(r(t,e,n))return i=e,!1}),i}function Gu(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ku(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Gu(t,Ju,n)}function Zu(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Ju(t){return t!=t}function Qu(t,e){var n=null==t?0:t.length;return n?ns(t,e)/n:sa}function ts(e){return function(t){return null==t?ra:t[e]}}function L(e){return function(t){return null==e?ra:e[t]}}function es(t,r,i,o,e){return e(t,function(t,e,n){i=o?(o=!1,t):r(i,t,e,n)}),i}function ns(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==ra&&(n=n===ra?o:n+o)}return n}function rs(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function is(e){return function(t){return e(t)}}function os(e,t){return $u(t,function(t){return e[t]})}function as(t,e){return t.has(e)}function us(t,e){for(var n=-1,r=t.length;++n<r&&-1<Ku(e,t[n],0););return n}function ss(t,e){for(var n=t.length;n--&&-1<Ku(e,t[n],0););return n}var cs=L({"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"}),ls=L({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function fs(t){return"\\"+P[t]}function hs(t){return E.test(t)}function ds(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function ps(e,n){return function(t){return e(n(t))}}function vs(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==aa||(t[n]=aa,o[i++]=n)}return o}function ys(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function gs(t){return hs(t)?function(t){var e=O.lastIndex=0;for(;O.test(t);)++e;return e}(t):I(t)}function ms(t){return hs(t)?function(t){return t.match(O)||[]}(t):function(t){return t.split("")}(t)}var _s=L({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var bs=function t(e){var n,M=(e=null==e?Nu:bs.defaults(Nu.Object(),e,bs.pick(Nu,xu))).Array,r=e.Date,i=e.Error,y=e.Function,o=e.Math,v=e.Object,g=e.RegExp,l=e.String,m=e.TypeError,a=M.prototype,u=y.prototype,f=v.prototype,s=e["__core-js_shared__"],c=u.toString,b=f.hasOwnProperty,h=0,d=(n=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",p=f.toString,_=c.call(v),x=Nu._,w=g("^"+c.call(b).replace(Za,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=Ou?e.Buffer:ra,S=e.Symbol,T=e.Uint8Array,N=k?k.allocUnsafe:ra,O=ps(v.getPrototypeOf,v),E=v.create,P=f.propertyIsEnumerable,j=a.splice,C=S?S.isConcatSpreadable:ra,A=S?S.iterator:ra,D=S?S.toStringTag:ra,R=function(){try{var t=Fn(v,"defineProperty");return t({},"",{}),t}catch(t){}}(),z=e.clearTimeout!==Nu.clearTimeout&&e.clearTimeout,I=r&&r.now!==Nu.Date.now&&r.now,L=e.setTimeout!==Nu.setTimeout&&e.setTimeout,U=o.ceil,W=o.floor,F=v.getOwnPropertySymbols,B=k?k.isBuffer:ra,$=e.isFinite,H=a.join,Y=ps(v.keys,v),q=o.max,V=o.min,X=r.now,G=e.parseInt,K=o.random,Z=a.reverse,J=Fn(e,"DataView"),Q=Fn(e,"Map"),tt=Fn(e,"Promise"),et=Fn(e,"Set"),nt=Fn(e,"WeakMap"),rt=Fn(v,"create"),it=nt&&new nt,ot={},at=vr(J),ut=vr(Q),st=vr(tt),ct=vr(et),lt=vr(nt),ft=S?S.prototype:ra,ht=ft?ft.valueOf:ra,dt=ft?ft.toString:ra;function pt(t){if(Ci(t)&&!xi(t)&&!(t instanceof _t)){if(t instanceof mt)return t;if(b.call(t,"__wrapped__"))return yr(t)}return new mt(t)}var vt=function(t){if(!ji(t))return{};if(E)return E(t);yt.prototype=t;var e=new yt;return yt.prototype=ra,e};function yt(){}function gt(){}function mt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=ra}function _t(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ca,this.__views__=[]}function bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function xt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new wt;++e<n;)this.add(t[e])}function St(t){var e=this.__data__=new xt(t);this.size=e.size}function Mt(t,e){var n=xi(t),r=!n&&bi(t),i=!n&&!r&&Mi(t),o=!n&&!r&&!i&&Wi(t),a=n||r||i||o,u=a?rs(t.length,l):[],s=u.length;for(var c in t)!e&&!b.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Xn(c,s))||u.push(c);return u}function Tt(t){var e=t.length;return e?t[ke(0,e-1)]:ra}function Nt(t,e){return lr(on(t),zt(e,0,t.length))}function Ot(t){return lr(on(t))}function Et(t,e,n){(n===ra||gi(t[e],n))&&(n!==ra||e in t)||Dt(t,e,n)}function Pt(t,e,n){var r=t[e];b.call(t,e)&&gi(r,n)&&(n!==ra||e in t)||Dt(t,e,n)}function jt(t,e){for(var n=t.length;n--;)if(gi(t[n][0],e))return n;return-1}function Ct(t,r,i,o){return Ft(t,function(t,e,n){r(o,t,i(t),n)}),o}function At(t,e){return t&&an(e,so(e),t)}function Dt(t,e,n){"__proto__"==e&&R?R(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Rt(t,e){for(var n=-1,r=e.length,i=M(r),o=null==t;++n<r;)i[n]=o?ra:ro(t,e[n]);return i}function zt(t,e,n){return t==t&&(n!==ra&&(t=t<=n?t:n),e!==ra&&(t=e<=t?t:e)),t}function It(n,r,i,t,e,o){var a,u=1&r,s=2&r,c=4&r;if(i&&(a=e?i(n,t,e,o):i(n)),a!==ra)return a;if(!ji(n))return n;var l=xi(n);if(l){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&b.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(n),!u)return on(n,a)}else{var f=Hn(n),h=f==ya||f==ga;if(Mi(n))return Je(n,u);if(f==ba||f==fa||h&&!e){if(a=s||h?{}:qn(n),!u)return s?function(t,e){return an(t,$n(t),e)}(n,function(t,e){return t&&an(e,co(e),t)}(a,n)):function(t,e){return an(t,Bn(t),e)}(n,At(a,n))}else{if(!Su[f])return e?n:{};a=function(t,e,n){var r=t.constructor;switch(e){case Na:return Qe(t);case da:case pa:return new r(+t);case Oa:return function(t,e){var n=e?Qe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case Ea:case Pa:case ja:case Ca:case Aa:case Da:case Ra:case za:case Ia:return tn(t,n);case ma:return new r;case _a:case Sa:return new r(t);case wa:return function(t){var e=new t.constructor(t.source,su.exec(t));return e.lastIndex=t.lastIndex,e}(t);case ka:return new r;case Ma:return function(t){return ht?v(ht.call(t)):{}}(t)}}(n,f,u)}}var d=(o=o||new St).get(n);if(d)return d;o.set(n,a),Ii(n)?n.forEach(function(t){a.add(It(t,r,i,t,n,o))}):Ai(n)&&n.forEach(function(t,e){a.set(e,It(t,r,i,e,n,o))});var p=l?ra:(c?s?Dn:An:s?co:so)(n);return Iu(p||n,function(t,e){p&&(t=n[e=t]),Pt(a,e,It(t,r,i,e,n,o))}),a}function Lt(t,e,n){var r=n.length;if(null==t)return!r;for(t=v(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===ra&&!(i in t)||!o(a))return!1}return!0}function Ut(t,e,n){if("function"!=typeof t)throw new m(ia);return ar(function(){t.apply(ra,n)},e)}function Wt(t,e,n,r){var i=-1,o=Fu,a=!0,u=t.length,s=[],c=e.length;if(!u)return s;n&&(e=$u(e,is(n))),r?(o=Bu,a=!1):200<=e.length&&(o=as,a=!1,e=new kt(e));t:for(;++i<u;){var l=t[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var h=c;h--;)if(e[h]===f)continue t;s.push(l)}else o(e,f,r)||s.push(l)}return s}pt.templateSettings={escape:Ya,evaluate:qa,interpolate:Va,variable:"",imports:{_:pt}},(pt.prototype=gt.prototype).constructor=pt,(mt.prototype=vt(gt.prototype)).constructor=mt,(_t.prototype=vt(gt.prototype)).constructor=_t,bt.prototype.clear=function(){this.__data__=rt?rt(null):{},this.size=0},bt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bt.prototype.get=function(t){var e=this.__data__;if(rt){var n=e[t];return n===oa?ra:n}return b.call(e,t)?e[t]:ra},bt.prototype.has=function(t){var e=this.__data__;return rt?e[t]!==ra:b.call(e,t)},bt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rt&&e===ra?oa:e,this},xt.prototype.clear=function(){this.__data__=[],this.size=0},xt.prototype.delete=function(t){var e=this.__data__,n=jt(e,t);return!(n<0)&&(n==e.length-1?e.pop():j.call(e,n,1),--this.size,!0)},xt.prototype.get=function(t){var e=this.__data__,n=jt(e,t);return n<0?ra:e[n][1]},xt.prototype.has=function(t){return-1<jt(this.__data__,t)},xt.prototype.set=function(t,e){var n=this.__data__,r=jt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},wt.prototype.clear=function(){this.size=0,this.__data__={hash:new bt,map:new(Q||xt),string:new bt}},wt.prototype.delete=function(t){var e=Un(this,t).delete(t);return this.size-=e?1:0,e},wt.prototype.get=function(t){return Un(this,t).get(t)},wt.prototype.has=function(t){return Un(this,t).has(t)},wt.prototype.set=function(t,e){var n=Un(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},kt.prototype.add=kt.prototype.push=function(t){return this.__data__.set(t,oa),this},kt.prototype.has=function(t){return this.__data__.has(t)},St.prototype.clear=function(){this.__data__=new xt,this.size=0},St.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},St.prototype.get=function(t){return this.__data__.get(t)},St.prototype.has=function(t){return this.__data__.has(t)},St.prototype.set=function(t,e){var n=this.__data__;if(n instanceof xt){var r=n.__data__;if(!Q||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new wt(r)}return n.set(t,e),this.size=n.size,this};var Ft=cn(Gt),Bt=cn(Kt,!0);function $t(t,r){var i=!0;return Ft(t,function(t,e,n){return i=!!r(t,e,n)}),i}function Ht(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(u===ra?a==a&&!Ui(a):n(a,u)))var u=a,s=o}return s}function Yt(t,r){var i=[];return Ft(t,function(t,e,n){r(t,e,n)&&i.push(t)}),i}function qt(t,e,n,r,i){var o=-1,a=t.length;for(n=n||Vn,i=i||[];++o<a;){var u=t[o];0<e&&n(u)?1<e?qt(u,e-1,n,r,i):Hu(i,u):r||(i[i.length]=u)}return i}var Vt=ln(),Xt=ln(!0);function Gt(t,e){return t&&Vt(t,e,so)}function Kt(t,e){return t&&Xt(t,e,so)}function Zt(e,t){return Wu(t,function(t){return Oi(e[t])})}function Jt(t,e){for(var n=0,r=(e=Xe(e,t)).length;null!=t&&n<r;)t=t[pr(e[n++])];return n&&n==r?t:ra}function Qt(t,e,n){var r=e(t);return xi(t)?r:Hu(r,n(t))}function te(t){return null==t?t===ra?"[object Undefined]":"[object Null]":D&&D in v(t)?function(t){var e=b.call(t,D),n=t[D];try{t[D]=ra;var r=!0}catch(t){}var i=p.call(t);r&&(e?t[D]=n:delete t[D]);return i}(t):function(t){return p.call(t)}(t)}function ee(t,e){return e<t}function ne(t,e){return null!=t&&b.call(t,e)}function re(t,e){return null!=t&&e in v(t)}function ie(t,e,n){for(var r=n?Bu:Fu,i=t[0].length,o=t.length,a=o,u=M(o),s=1/0,c=[];a--;){var l=t[a];a&&e&&(l=$u(l,is(e))),s=V(l.length,s),u[a]=!n&&(e||120<=i&&120<=l.length)?new kt(a&&l):ra}l=t[0];var f=-1,h=u[0];t:for(;++f<i&&c.length<s;){var d=l[f],p=e?e(d):d;if(d=n||0!==d?d:0,!(h?as(h,p):r(c,p,n))){for(a=o;--a;){var v=u[a];if(!(v?as(v,p):r(t[a],p,n)))continue t}h&&h.push(p),c.push(d)}}return c}function oe(t,e,n){var r=null==(t=rr(t,e=Xe(e,t)))?t:t[pr(Nr(e))];return null==r?ra:Ru(r,t,n)}function ae(t){return Ci(t)&&te(t)==fa}function ue(t,e,n,r,i){return t===e||(null==t||null==e||!Ci(t)&&!Ci(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=xi(t),u=xi(e),s=a?ha:Hn(t),c=u?ha:Hn(e),l=(s=s==fa?ba:s)==ba,f=(c=c==fa?ba:c)==ba,h=s==c;if(h&&Mi(t)){if(!Mi(e))return!1;l=!(a=!0)}if(h&&!l)return o=o||new St,a||Wi(t)?jn(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case Oa:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Na:return!(t.byteLength!=e.byteLength||!o(new T(t),new T(e)));case da:case pa:case _a:return gi(+t,+e);case va:return t.name==e.name&&t.message==e.message;case wa:case Sa:return t==e+"";case ma:var u=ds;case ka:var s=1&r;if(u=u||ys,t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var l=jn(u(t),u(e),r,i,o,a);return a.delete(t),l;case Ma:if(ht)return ht.call(t)==ht.call(e)}return!1}(t,e,s,n,r,i,o);if(!(1&n)){var d=l&&b.call(t,"__wrapped__"),p=f&&b.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,y=p?e.value():e;return o=o||new St,i(v,y,n,r,o)}}return h&&(o=o||new St,function(t,e,n,r,i,o){var a=1&n,u=An(t),s=u.length,c=An(e).length;if(s!=c&&!a)return!1;var l=s;for(;l--;){var f=u[l];if(!(a?f in e:b.call(e,f)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var d=!0;o.set(t,e),o.set(e,t);var p=a;for(;++l<s;){f=u[l];var v=t[f],y=e[f];if(r)var g=a?r(y,v,f,e,t,o):r(v,y,f,t,e,o);if(!(g===ra?v===y||i(v,y,n,r,o):g)){d=!1;break}p=p||"constructor"==f}if(d&&!p){var m=t.constructor,_=e.constructor;m!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o))}(t,e,n,r,ue,i))}function se(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=v(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var s=(u=n[i])[0],c=t[s],l=u[1];if(a&&u[2]){if(c===ra&&!(s in t))return!1}else{var f=new St;if(r)var h=r(c,l,s,t,e,f);if(!(h===ra?ue(l,c,3,r,f):h))return!1}}return!0}function ce(t){return!(!ji(t)||function(t){return!!d&&d in t}(t))&&(Oi(t)?w:fu).test(vr(t))}function le(t){return"function"==typeof t?t:null==t?Ro:"object"==typeof t?xi(t)?ye(t[0],t[1]):ve(t):Ho(t)}function fe(t){if(!Qn(t))return Y(t);var e=[];for(var n in v(t))b.call(t,n)&&"constructor"!=n&&e.push(n);return e}function he(t){if(!ji(t))return function(t){var e=[];if(null!=t)for(var n in v(t))e.push(n);return e}(t);var e=Qn(t),n=[];for(var r in t)("constructor"!=r||!e&&b.call(t,r))&&n.push(r);return n}function de(t,e){return t<e}function pe(t,r){var i=-1,o=ki(t)?M(t.length):[];return Ft(t,function(t,e,n){o[++i]=r(t,e,n)}),o}function ve(e){var n=Wn(e);return 1==n.length&&n[0][2]?er(n[0][0],n[0][1]):function(t){return t===e||se(t,e,n)}}function ye(n,r){return Kn(n)&&tr(r)?er(pr(n),r):function(t){var e=ro(t,n);return e===ra&&e===r?io(t,n):ue(r,e,3)}}function ge(r,i,o,a,u){r!==i&&Vt(i,function(t,e){if(u=u||new St,ji(t))!function(t,e,n,r,i,o,a){var u=ir(t,n),s=ir(e,n),c=a.get(s);if(c)return Et(t,n,c);var l=o?o(u,s,n+"",t,e,a):ra,f=l===ra;if(f){var h=xi(s),d=!h&&Mi(s),p=!h&&!d&&Wi(s);l=s,h||d||p?l=xi(u)?u:Si(u)?on(u):d?Je(s,!(f=!1)):p?tn(s,!(f=!1)):[]:Ri(s)||bi(s)?bi(l=u)?l=Xi(u):ji(u)&&!Oi(u)||(l=qn(s)):f=!1}f&&(a.set(s,l),i(l,s,r,o,a),a.delete(s));Et(t,n,l)}(r,i,e,o,ge,a,u);else{var n=a?a(ir(r,e),t,e+"",r,i,u):ra;n===ra&&(n=t),Et(r,e,n)}},co)}function me(t,e){var n=t.length;if(n)return Xn(e+=e<0?n:0,n)?t[e]:ra}function _e(t,r,n){var i=-1;return r=$u(r.length?r:[Ro],is(Ln())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(pe(t,function(e,t,n){return{criteria:$u(r,function(t){return t(e)}),index:++i,value:e}}),function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;for(;++r<a;){var s=en(i[r],o[r]);if(s){if(u<=r)return s;var c=n[r];return s*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)})}function be(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=Jt(t,a);n(u,a)&&Oe(o,Xe(a,t),u)}return o}function xe(t,e,n,r){var i=r?Zu:Ku,o=-1,a=e.length,u=t;for(t===e&&(e=on(e)),n&&(u=$u(t,is(n)));++o<a;)for(var s=0,c=e[o],l=n?n(c):c;-1<(s=i(u,l,s,r));)u!==t&&j.call(u,s,1),j.call(t,s,1);return t}function we(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Xn(i)?j.call(t,i,1):We(t,i)}}return t}function ke(t,e){return t+W(K()*(e-t+1))}function Se(t,e){var n="";if(!t||e<1||ua<e)return n;for(;e%2&&(n+=t),(e=W(e/2))&&(t+=t),e;);return n}function Me(t,e){return ur(nr(t,e,Ro),t+"")}function Te(t){return Tt(mo(t))}function Ne(t,e){var n=mo(t);return lr(n,zt(e,0,n.length))}function Oe(t,e,n,r){if(!ji(t))return t;for(var i=-1,o=(e=Xe(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var s=pr(e[i]),c=n;if(i!=a){var l=u[s];(c=r?r(l,s,u):ra)===ra&&(c=ji(l)?l:Xn(e[i+1])?[]:{})}Pt(u,s,c),u=u[s]}return t}var Ee=it?function(t,e){return it.set(t,e),t}:Ro,Pe=R?function(t,e){return R(t,"toString",{configurable:!0,enumerable:!1,value:Co(e),writable:!0})}:Ro;function je(t){return lr(mo(t))}function Ce(t,e,n){var r=-1,i=t.length;e<0&&(e=i<-e?0:i+e),(n=i<n?i:n)<0&&(n+=i),i=n<e?0:n-e>>>0,e>>>=0;for(var o=M(i);++r<i;)o[r]=t[r+e];return o}function Ae(t,r){var i;return Ft(t,function(t,e,n){return!(i=r(t,e,n))}),!!i}function De(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ui(a)&&(n?a<=e:a<e)?r=1+o:i=o}return i}return Re(t,e,Ro,n)}function Re(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!=e,u=null===e,s=Ui(e),c=e===ra;i<o;){var l=W((i+o)/2),f=n(t[l]),h=f!==ra,d=null===f,p=f==f,v=Ui(f);if(a)var y=r||p;else y=c?p&&(r||h):u?p&&h&&(r||!d):s?p&&h&&!d&&(r||!v):!d&&!v&&(r?f<=e:f<e);y?i=l+1:o=l}return V(o,4294967294)}function ze(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!gi(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function Ie(t){return"number"==typeof t?t:Ui(t)?sa:+t}function Le(t){if("string"==typeof t)return t;if(xi(t))return $u(t,Le)+"";if(Ui(t))return dt?dt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ue(t,e,n){var r=-1,i=Fu,o=t.length,a=!0,u=[],s=u;if(n)a=!1,i=Bu;else if(200<=o){var c=e?null:Mn(t);if(c)return ys(c);a=!1,i=as,s=new kt}else s=e?[]:u;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=s.length;h--;)if(s[h]===f)continue t;e&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function We(t,e){return null==(t=rr(t,e=Xe(e,t)))||delete t[pr(Nr(e))]}function Fe(t,e,n,r){return Oe(t,e,n(Jt(t,e)),r)}function Be(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Ce(t,r?0:o,r?o+1:i):Ce(t,r?o+1:0,r?i:o)}function $e(t,e){var n=t;return n instanceof _t&&(n=n.value()),Yu(e,function(t,e){return e.func.apply(e.thisArg,Hu([t],e.args))},n)}function He(t,e,n){var r=t.length;if(r<2)return r?Ue(t[0]):[];for(var i=-1,o=M(r);++i<r;)for(var a=t[i],u=-1;++u<r;)u!=i&&(o[i]=Wt(o[i]||a,t[u],e,n));return Ue(qt(o,1),e,n)}function Ye(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var u=r<o?e[r]:ra;n(a,t[r],u)}return a}function qe(t){return Si(t)?t:[]}function Ve(t){return"function"==typeof t?t:Ro}function Xe(t,e){return xi(t)?t:Kn(t,e)?[t]:dr(Gi(t))}var Ge=Me;function Ke(t,e,n){var r=t.length;return n=n===ra?r:n,!e&&r<=n?t:Ce(t,e,n)}var Ze=z||function(t){return Nu.clearTimeout(t)};function Je(t,e){if(e)return t.slice();var n=t.length,r=N?N(n):new t.constructor(n);return t.copy(r),r}function Qe(t){var e=new t.constructor(t.byteLength);return new T(e).set(new T(t)),e}function tn(t,e){var n=e?Qe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function en(t,e){if(t!==e){var n=t!==ra,r=null===t,i=t==t,o=Ui(t),a=e!==ra,u=null===e,s=e==e,c=Ui(e);if(!u&&!c&&!o&&e<t||o&&a&&s&&!u&&!c||r&&a&&s||!n&&s||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!s)return-1}return 0}function nn(t,e,n,r){for(var i=-1,o=t.length,a=n.length,u=-1,s=e.length,c=q(o-a,0),l=M(s+c),f=!r;++u<s;)l[u]=e[u];for(;++i<a;)(f||i<o)&&(l[n[i]]=t[i]);for(;c--;)l[u++]=t[i++];return l}function rn(t,e,n,r){for(var i=-1,o=t.length,a=-1,u=n.length,s=-1,c=e.length,l=q(o-u,0),f=M(l+c),h=!r;++i<l;)f[i]=t[i];for(var d=i;++s<c;)f[d+s]=e[s];for(;++a<u;)(h||i<o)&&(f[d+n[a]]=t[i++]);return f}function on(t,e){var n=-1,r=t.length;for(e=e||M(r);++n<r;)e[n]=t[n];return e}function an(t,e,n,r){var i=!n;n=n||{};for(var o=-1,a=e.length;++o<a;){var u=e[o],s=r?r(n[u],t[u],u,n,t):ra;s===ra&&(s=t[u]),i?Dt(n,u,s):Pt(n,u,s)}return n}function un(i,o){return function(t,e){var n=xi(t)?zu:Ct,r=o?o():{};return n(t,i,Ln(e,2),r)}}function sn(u){return Me(function(t,e){var n=-1,r=e.length,i=1<r?e[r-1]:ra,o=2<r?e[2]:ra;for(i=3<u.length&&"function"==typeof i?(r--,i):ra,o&&Gn(e[0],e[1],o)&&(i=r<3?ra:i,r=1),t=v(t);++n<r;){var a=e[n];a&&u(t,a,n,i)}return t})}function cn(o,a){return function(t,e){if(null==t)return t;if(!ki(t))return o(t,e);for(var n=t.length,r=a?n:-1,i=v(t);(a?r--:++r<n)&&!1!==e(i[r],r,i););return t}}function ln(s){return function(t,e,n){for(var r=-1,i=v(t),o=n(t),a=o.length;a--;){var u=o[s?a:++r];if(!1===e(i[u],u,i))break}return t}}function fn(i){return function(t){var e=hs(t=Gi(t))?ms(t):ra,n=e?e[0]:t.charAt(0),r=e?Ke(e,1).join(""):t.slice(1);return n[i]()+r}}function hn(e){return function(t){return Yu(Eo(xo(t).replace(gu,"")),e,"")}}function dn(r){return function(){var t=arguments;switch(t.length){case 0:return new r;case 1:return new r(t[0]);case 2:return new r(t[0],t[1]);case 3:return new r(t[0],t[1],t[2]);case 4:return new r(t[0],t[1],t[2],t[3]);case 5:return new r(t[0],t[1],t[2],t[3],t[4]);case 6:return new r(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new r(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=vt(r.prototype),n=r.apply(e,t);return ji(n)?n:e}}function pn(a){return function(t,e,n){var r=v(t);if(!ki(t)){var i=Ln(e,3);t=so(t),e=function(t){return i(r[t],t,r)}}var o=a(t,e,n);return-1<o?r[i?t[o]:o]:ra}}function vn(s){return Cn(function(i){var o=i.length,t=o,e=mt.prototype.thru;for(s&&i.reverse();t--;){var n=i[t];if("function"!=typeof n)throw new m(ia);if(e&&!a&&"wrapper"==zn(n))var a=new mt([],!0)}for(t=a?t:o;++t<o;){var r=zn(n=i[t]),u="wrapper"==r?Rn(n):ra;a=u&&Zn(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?a[zn(u[0])].apply(a,u[3]):1==n.length&&Zn(n)?a[r]():a.thru(n)}return function(){var t=arguments,e=t[0];if(a&&1==t.length&&xi(e))return a.plant(e).value();for(var n=0,r=o?i[n].apply(this,t):e;++n<o;)r=i[n].call(this,r);return r}})}function yn(c,l,f,h,d,p,v,y,g,m){var _=128&l,b=1&l,x=2&l,w=24&l,k=512&l,S=x?ra:dn(c);return function t(){for(var e=arguments.length,n=M(e),r=e;r--;)n[r]=arguments[r];if(w)var i=In(t),o=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(n,i);if(h&&(n=nn(n,h,d,w)),p&&(n=rn(n,p,v,w)),e-=o,w&&e<m){var a=vs(n,i);return kn(c,l,yn,t.placeholder,f,n,a,y,g,m-e)}var u=b?f:this,s=x?u[c]:c;return e=n.length,y?n=function(t,e){for(var n=t.length,r=V(e.length,n),i=on(t);r--;){var o=e[r];t[r]=Xn(o,n)?i[o]:ra}return t}(n,y):k&&1<e&&n.reverse(),_&&g<e&&(n.length=g),this&&this!==Nu&&this instanceof t&&(s=S||dn(s)),s.apply(u,n)}}function gn(n,r){return function(t,e){return function(t,r,i,o){return Gt(t,function(t,e,n){r(o,i(t),e,n)}),o}(t,n,r(e),{})}}function mn(r,i){return function(t,e){var n;if(t===ra&&e===ra)return i;if(t!==ra&&(n=t),e!==ra){if(n===ra)return e;e="string"==typeof t||"string"==typeof e?(t=Le(t),Le(e)):(t=Ie(t),Ie(e)),n=r(t,e)}return n}}function _n(r){return Cn(function(t){return t=$u(t,is(Ln())),Me(function(e){var n=this;return r(t,function(t){return Ru(t,n,e)})})})}function bn(t,e){var n=(e=e===ra?" ":Le(e)).length;if(n<2)return n?Se(e,t):e;var r=Se(e,U(t/gs(e)));return hs(e)?Ke(ms(r),0,t).join(""):r.slice(0,t)}function xn(r){return function(t,e,n){return n&&"number"!=typeof n&&Gn(t,e,n)&&(e=n=ra),t=Hi(t),e===ra?(e=t,t=0):e=Hi(e),function(t,e,n,r){for(var i=-1,o=q(U((e-t)/(n||1)),0),a=M(o);o--;)a[r?o:++i]=t,t+=n;return a}(t,e,n=n===ra?t<e?1:-1:Hi(n),r)}}function wn(n){return function(t,e){return"string"==typeof t&&"string"==typeof e||(t=Vi(t),e=Vi(e)),n(t,e)}}function kn(t,e,n,r,i,o,a,u,s,c){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var f=[t,e,i,l?o:ra,l?a:ra,l?ra:o,l?ra:a,u,s,c],h=n.apply(ra,f);return Zn(t)&&or(h,f),h.placeholder=r,sr(h,t,e)}function Sn(t){var r=o[t];return function(t,e){if(t=Vi(t),(e=null==e?0:V(Yi(e),292))&&$(t)){var n=(Gi(t)+"e").split("e");return+((n=(Gi(r(n[0]+"e"+(+n[1]+e)))+"e").split("e"))[0]+"e"+(+n[1]-e))}return r(t)}}var Mn=et&&1/ys(new et([,-0]))[1]==1/0?function(t){return new et(t)}:Wo;function Tn(n){return function(t){var e=Hn(t);return e==ma?ds(t):e==ka?function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}(t):function(e,t){return $u(t,function(t){return[t,e[t]]})}(t,n(t))}}function Nn(t,e,n,r,i,o,a,u){var s=2&e;if(!s&&"function"!=typeof t)throw new m(ia);var c=r?r.length:0;if(c||(e&=-97,r=i=ra),a=a===ra?a:q(Yi(a),0),u=u===ra?u:Yi(u),c-=i?i.length:0,64&e){var l=r,f=i;r=i=ra}var h=s?ra:Rn(t),d=[t,e,n,r,i,l,f,o,a,u];if(h&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var s=t[3];t[3]=s?nn(s,u,e[4]):u,t[4]=s?vs(t[3],aa):e[4]}(u=e[5])&&(s=t[5],t[5]=s?rn(s,u,e[6]):u,t[6]=s?vs(t[5],aa):e[6]);(u=e[7])&&(t[7]=u);128&r&&(t[8]=null==t[8]?e[8]:V(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(d,h),t=d[0],e=d[1],n=d[2],r=d[3],i=d[4],!(u=d[9]=d[9]===ra?s?0:t.length:q(d[9]-c,0))&&24&e&&(e&=-25),e&&1!=e)p=8==e||16==e?function(a,u,s){var c=dn(a);return function t(){for(var e=arguments.length,n=M(e),r=e,i=In(t);r--;)n[r]=arguments[r];var o=e<3&&n[0]!==i&&n[e-1]!==i?[]:vs(n,i);return(e-=o.length)<s?kn(a,u,yn,t.placeholder,ra,n,o,ra,ra,s-e):Ru(this&&this!==Nu&&this instanceof t?c:a,this,n)}}(t,e,u):32!=e&&33!=e||i.length?yn.apply(ra,d):function(u,t,s,c){var l=1&t,f=dn(u);return function t(){for(var e=-1,n=arguments.length,r=-1,i=c.length,o=M(i+n),a=this&&this!==Nu&&this instanceof t?f:u;++r<i;)o[r]=c[r];for(;n--;)o[r++]=arguments[++e];return Ru(a,l?s:this,o)}}(t,e,n,r);else var p=function(e,t,n){var r=1&t,i=dn(e);return function t(){return(this&&this!==Nu&&this instanceof t?i:e).apply(r?n:this,arguments)}}(t,e,n);return sr((h?Ee:or)(p,d),t,e)}function On(t,e,n,r){return t===ra||gi(t,f[n])&&!b.call(r,n)?e:t}function En(t,e,n,r,i,o){return ji(t)&&ji(e)&&(o.set(e,t),ge(t,e,ra,En,o),o.delete(e)),t}function Pn(t){return Ri(t)?ra:t}function jn(t,e,n,r,i,o){var a=1&n,u=t.length,s=e.length;if(u!=s&&!(a&&u<s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,f=!0,h=2&n?new kt:ra;for(o.set(t,e),o.set(e,t);++l<u;){var d=t[l],p=e[l];if(r)var v=a?r(p,d,l,e,t,o):r(d,p,l,t,e,o);if(v!==ra){if(v)continue;f=!1;break}if(h){if(!Vu(e,function(t,e){if(!as(h,e)&&(d===t||i(d,t,n,r,o)))return h.push(e)})){f=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Cn(t){return ur(nr(t,ra,wr),t+"")}function An(t){return Qt(t,so,Bn)}function Dn(t){return Qt(t,co,$n)}var Rn=it?function(t){return it.get(t)}:Wo;function zn(t){for(var e=t.name+"",n=ot[e],r=b.call(ot,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function In(t){return(b.call(pt,"placeholder")?pt:t).placeholder}function Ln(){var t=pt.iteratee||zo;return t=t===zo?le:t,arguments.length?t(arguments[0],arguments[1]):t}function Un(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Wn(t){for(var e=so(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,tr(i)]}return e}function Fn(t,e){var n=function(t,e){return null==t?ra:t[e]}(t,e);return ce(n)?n:ra}var Bn=F?function(e){return null==e?[]:(e=v(e),Wu(F(e),function(t){return P.call(e,t)}))}:Vo,$n=F?function(t){for(var e=[];t;)Hu(e,Bn(t)),t=O(t);return e}:Vo,Hn=te;function Yn(t,e,n){for(var r=-1,i=(e=Xe(e,t)).length,o=!1;++r<i;){var a=pr(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Pi(i)&&Xn(a,i)&&(xi(t)||bi(t))}function qn(t){return"function"!=typeof t.constructor||Qn(t)?{}:vt(O(t))}function Vn(t){return xi(t)||bi(t)||!!(C&&t&&t[C])}function Xn(t,e){var n=typeof t;return!!(e=null==e?ua:e)&&("number"==n||"symbol"!=n&&du.test(t))&&-1<t&&t%1==0&&t<e}function Gn(t,e,n){if(!ji(n))return!1;var r=typeof e;return!!("number"==r?ki(n)&&Xn(e,n.length):"string"==r&&e in n)&&gi(n[e],t)}function Kn(t,e){if(xi(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ui(t))||(Ga.test(t)||!Xa.test(t)||null!=e&&t in v(e))}function Zn(t){var e=zn(t),n=pt[e];if("function"!=typeof n||!(e in _t.prototype))return!1;if(t===n)return!0;var r=Rn(n);return!!r&&t===r[0]}(J&&Hn(new J(new ArrayBuffer(1)))!=Oa||Q&&Hn(new Q)!=ma||tt&&Hn(tt.resolve())!=xa||et&&Hn(new et)!=ka||nt&&Hn(new nt)!=Ta)&&(Hn=function(t){var e=te(t),n=e==ba?t.constructor:ra,r=n?vr(n):"";if(r)switch(r){case at:return Oa;case ut:return ma;case st:return xa;case ct:return ka;case lt:return Ta}return e});var Jn=s?Oi:Xo;function Qn(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||f)}function tr(t){return t==t&&!ji(t)}function er(e,n){return function(t){return null!=t&&(t[e]===n&&(n!==ra||e in v(t)))}}function nr(o,a,u){return a=q(a===ra?o.length-1:a,0),function(){for(var t=arguments,e=-1,n=q(t.length-a,0),r=M(n);++e<n;)r[e]=t[a+e];e=-1;for(var i=M(a+1);++e<a;)i[e]=t[e];return i[a]=u(r),Ru(o,this,i)}}function rr(t,e){return e.length<2?t:Jt(t,Ce(e,0,-1))}function ir(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var or=cr(Ee),ar=L||function(t,e){return Nu.setTimeout(t,e)},ur=cr(Pe);function sr(t,e,n){var r=e+"";return ur(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(1<n?"& ":"")+e[r],e=e.join(2<n?", ":" "),t.replace(nu,"{\n/* [wrapped with "+e+"] */\n")}(r,function(n,r){return Iu(la,function(t){var e="_."+t[0];r&t[1]&&!Fu(n,e)&&n.push(e)}),n.sort()}(function(t){var e=t.match(ru);return e?e[1].split(iu):[]}(r),n)))}function cr(n){var r=0,i=0;return function(){var t=X(),e=16-(t-i);if(i=t,0<e){if(800<=++r)return arguments[0]}else r=0;return n.apply(ra,arguments)}}function lr(t,e){var n=-1,r=t.length,i=r-1;for(e=e===ra?r:e;++n<e;){var o=ke(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var fr,hr,dr=(hr=(fr=fi(function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(Ka,function(t,e,n,r){i.push(n?r.replace(au,"$1"):e||t)}),i},function(t){return 500===hr.size&&hr.clear(),t})).cache,fr);function pr(t){if("string"==typeof t||Ui(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function vr(t){if(null!=t){try{return c.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function yr(t){if(t instanceof _t)return t.clone();var e=new mt(t.__wrapped__,t.__chain__);return e.__actions__=on(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var gr=Me(function(t,e){return Si(t)?Wt(t,qt(e,1,Si,!0)):[]}),mr=Me(function(t,e){var n=Nr(e);return Si(n)&&(n=ra),Si(t)?Wt(t,qt(e,1,Si,!0),Ln(n,2)):[]}),_r=Me(function(t,e){var n=Nr(e);return Si(n)&&(n=ra),Si(t)?Wt(t,qt(e,1,Si,!0),ra,n):[]});function br(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Yi(n);return i<0&&(i=q(r+i,0)),Gu(t,Ln(e,3),i)}function xr(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==ra&&(i=Yi(n),i=n<0?q(r+i,0):V(i,r-1)),Gu(t,Ln(e,3),i,!0)}function wr(t){return(null==t?0:t.length)?qt(t,1):[]}function kr(t){return t&&t.length?t[0]:ra}var Sr=Me(function(t){var e=$u(t,qe);return e.length&&e[0]===t[0]?ie(e):[]}),Mr=Me(function(t){var e=Nr(t),n=$u(t,qe);return e===Nr(n)?e=ra:n.pop(),n.length&&n[0]===t[0]?ie(n,Ln(e,2)):[]}),Tr=Me(function(t){var e=Nr(t),n=$u(t,qe);return(e="function"==typeof e?e:ra)&&n.pop(),n.length&&n[0]===t[0]?ie(n,ra,e):[]});function Nr(t){var e=null==t?0:t.length;return e?t[e-1]:ra}var Or=Me(Er);function Er(t,e){return t&&t.length&&e&&e.length?xe(t,e):t}var Pr=Cn(function(t,e){var n=null==t?0:t.length,r=Rt(t,e);return we(t,$u(e,function(t){return Xn(t,n)?+t:t}).sort(en)),r});function jr(t){return null==t?t:Z.call(t)}var Cr=Me(function(t){return Ue(qt(t,1,Si,!0))}),Ar=Me(function(t){var e=Nr(t);return Si(e)&&(e=ra),Ue(qt(t,1,Si,!0),Ln(e,2))}),Dr=Me(function(t){var e=Nr(t);return e="function"==typeof e?e:ra,Ue(qt(t,1,Si,!0),ra,e)});function Rr(e){if(!e||!e.length)return[];var n=0;return e=Wu(e,function(t){if(Si(t))return n=q(t.length,n),!0}),rs(n,function(t){return $u(e,ts(t))})}function zr(t,e){if(!t||!t.length)return[];var n=Rr(t);return null==e?n:$u(n,function(t){return Ru(e,ra,t)})}var Ir=Me(function(t,e){return Si(t)?Wt(t,e):[]}),Lr=Me(function(t){return He(Wu(t,Si))}),Ur=Me(function(t){var e=Nr(t);return Si(e)&&(e=ra),He(Wu(t,Si),Ln(e,2))}),Wr=Me(function(t){var e=Nr(t);return e="function"==typeof e?e:ra,He(Wu(t,Si),ra,e)}),Fr=Me(Rr);var Br=Me(function(t){var e=t.length,n=1<e?t[e-1]:ra;return n="function"==typeof n?(t.pop(),n):ra,zr(t,n)});function $r(t){var e=pt(t);return e.__chain__=!0,e}function Hr(t,e){return e(t)}var Yr=Cn(function(e){function t(t){return Rt(t,e)}var n=e.length,r=n?e[0]:0,i=this.__wrapped__;return!(1<n||this.__actions__.length)&&i instanceof _t&&Xn(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:Hr,args:[t],thisArg:ra}),new mt(i,this.__chain__).thru(function(t){return n&&!t.length&&t.push(ra),t})):this.thru(t)});var qr=un(function(t,e,n){b.call(t,n)?++t[n]:Dt(t,n,1)});var Vr=pn(br),Xr=pn(xr);function Gr(t,e){return(xi(t)?Iu:Ft)(t,Ln(e,3))}function Kr(t,e){return(xi(t)?Lu:Bt)(t,Ln(e,3))}var Zr=un(function(t,e,n){b.call(t,n)?t[n].push(e):Dt(t,n,[e])});var Jr=Me(function(t,e,n){var r=-1,i="function"==typeof e,o=ki(t)?M(t.length):[];return Ft(t,function(t){o[++r]=i?Ru(e,t,n):oe(t,e,n)}),o}),Qr=un(function(t,e,n){Dt(t,n,e)});function ti(t,e){return(xi(t)?$u:pe)(t,Ln(e,3))}var ei=un(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var ni=Me(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&Gn(t,e[0],e[1])?e=[]:2<n&&Gn(e[0],e[1],e[2])&&(e=[e[0]]),_e(t,qt(e,1),[])}),ri=I||function(){return Nu.Date.now()};function ii(t,e,n){return e=n?ra:e,e=t&&null==e?t.length:e,Nn(t,128,ra,ra,ra,ra,e)}function oi(t,e){var n;if("function"!=typeof e)throw new m(ia);return t=Yi(t),function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=ra),n}}var ai=Me(function(t,e,n){var r=1;if(n.length){var i=vs(n,In(ai));r|=32}return Nn(t,r,e,n,i)}),ui=Me(function(t,e,n){var r=3;if(n.length){var i=vs(n,In(ui));r|=32}return Nn(e,r,t,n,i)});function si(r,n,t){var i,o,a,u,s,c,l=0,f=!1,h=!1,e=!0;if("function"!=typeof r)throw new m(ia);function d(t){var e=i,n=o;return i=o=ra,l=t,u=r.apply(n,e)}function p(t){var e=t-c;return c===ra||n<=e||e<0||h&&a<=t-l}function v(){var t=ri();if(p(t))return y(t);s=ar(v,function(t){var e=n-(t-c);return h?V(e,a-(t-l)):e}(t))}function y(t){return s=ra,e&&i?d(t):(i=o=ra,u)}function g(){var t=ri(),e=p(t);if(i=arguments,o=this,c=t,e){if(s===ra)return function(t){return l=t,s=ar(v,n),f?d(t):u}(c);if(h)return Ze(s),s=ar(v,n),d(c)}return s===ra&&(s=ar(v,n)),u}return n=Vi(n)||0,ji(t)&&(f=!!t.leading,a=(h="maxWait"in t)?q(Vi(t.maxWait)||0,n):a,e="trailing"in t?!!t.trailing:e),g.cancel=function(){s!==ra&&Ze(s),l=0,i=c=o=s=ra},g.flush=function(){return s===ra?u:y(ri())},g}var ci=Me(function(t,e){return Ut(t,1,e)}),li=Me(function(t,e,n){return Ut(t,Vi(e)||0,n)});function fi(i,o){if("function"!=typeof i||null!=o&&"function"!=typeof o)throw new m(ia);var a=function(){var t=arguments,e=o?o.apply(this,t):t[0],n=a.cache;if(n.has(e))return n.get(e);var r=i.apply(this,t);return a.cache=n.set(e,r)||n,r};return a.cache=new(fi.Cache||wt),a}function hi(e){if("function"!=typeof e)throw new m(ia);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}fi.Cache=wt;var di=Ge(function(r,i){var o=(i=1==i.length&&xi(i[0])?$u(i[0],is(Ln())):$u(qt(i,1),is(Ln()))).length;return Me(function(t){for(var e=-1,n=V(t.length,o);++e<n;)t[e]=i[e].call(this,t[e]);return Ru(r,this,t)})}),pi=Me(function(t,e){var n=vs(e,In(pi));return Nn(t,32,ra,e,n)}),vi=Me(function(t,e){var n=vs(e,In(vi));return Nn(t,64,ra,e,n)}),yi=Cn(function(t,e){return Nn(t,256,ra,ra,ra,e)});function gi(t,e){return t===e||t!=t&&e!=e}var mi=wn(ee),_i=wn(function(t,e){return e<=t}),bi=ae(function(){return arguments}())?ae:function(t){return Ci(t)&&b.call(t,"callee")&&!P.call(t,"callee")},xi=M.isArray,wi=Eu?is(Eu):function(t){return Ci(t)&&te(t)==Na};function ki(t){return null!=t&&Pi(t.length)&&!Oi(t)}function Si(t){return Ci(t)&&ki(t)}var Mi=B||Xo,Ti=Pu?is(Pu):function(t){return Ci(t)&&te(t)==pa};function Ni(t){if(!Ci(t))return!1;var e=te(t);return e==va||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ri(t)}function Oi(t){if(!ji(t))return!1;var e=te(t);return e==ya||e==ga||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ei(t){return"number"==typeof t&&t==Yi(t)}function Pi(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=ua}function ji(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ci(t){return null!=t&&"object"==typeof t}var Ai=ju?is(ju):function(t){return Ci(t)&&Hn(t)==ma};function Di(t){return"number"==typeof t||Ci(t)&&te(t)==_a}function Ri(t){if(!Ci(t)||te(t)!=ba)return!1;var e=O(t);if(null===e)return!0;var n=b.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==_}var zi=Cu?is(Cu):function(t){return Ci(t)&&te(t)==wa};var Ii=Au?is(Au):function(t){return Ci(t)&&Hn(t)==ka};function Li(t){return"string"==typeof t||!xi(t)&&Ci(t)&&te(t)==Sa}function Ui(t){return"symbol"==typeof t||Ci(t)&&te(t)==Ma}var Wi=Du?is(Du):function(t){return Ci(t)&&Pi(t.length)&&!!ku[te(t)]};var Fi=wn(de),Bi=wn(function(t,e){return t<=e});function $i(t){if(!t)return[];if(ki(t))return Li(t)?ms(t):on(t);if(A&&t[A])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[A]());var e=Hn(t);return(e==ma?ds:e==ka?ys:mo)(t)}function Hi(t){return t?(t=Vi(t))!==1/0&&t!==-1/0?t==t?t:0:17976931348623157e292*(t<0?-1:1):0===t?t:0}function Yi(t){var e=Hi(t),n=e%1;return e==e?n?e-n:e:0}function qi(t){return t?zt(Yi(t),0,ca):0}function Vi(t){if("number"==typeof t)return t;if(Ui(t))return sa;if(ji(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ji(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Qa,"");var n=lu.test(t);return n||hu.test(t)?Tu(t.slice(2),n?2:8):cu.test(t)?sa:+t}function Xi(t){return an(t,co(t))}function Gi(t){return null==t?"":Le(t)}var Ki=sn(function(t,e){if(Qn(e)||ki(e))an(e,so(e),t);else for(var n in e)b.call(e,n)&&Pt(t,n,e[n])}),Zi=sn(function(t,e){an(e,co(e),t)}),Ji=sn(function(t,e,n,r){an(e,co(e),t,r)}),Qi=sn(function(t,e,n,r){an(e,so(e),t,r)}),to=Cn(Rt);var eo=Me(function(t,e){t=v(t);var n=-1,r=e.length,i=2<r?e[2]:ra;for(i&&Gn(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=co(o),u=-1,s=a.length;++u<s;){var c=a[u],l=t[c];(l===ra||gi(l,f[c])&&!b.call(t,c))&&(t[c]=o[c])}return t}),no=Me(function(t){return t.push(ra,En),Ru(fo,ra,t)});function ro(t,e,n){var r=null==t?ra:Jt(t,e);return r===ra?n:r}function io(t,e){return null!=t&&Yn(t,e,re)}var oo=gn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=p.call(e)),t[e]=n},Co(Ro)),ao=gn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=p.call(e)),b.call(t,e)?t[e].push(n):t[e]=[n]},Ln),uo=Me(oe);function so(t){return ki(t)?Mt(t):fe(t)}function co(t){return ki(t)?Mt(t,!0):he(t)}var lo=sn(function(t,e,n){ge(t,e,n)}),fo=sn(function(t,e,n,r){ge(t,e,n,r)}),ho=Cn(function(e,t){var n={};if(null==e)return n;var r=!1;t=$u(t,function(t){return t=Xe(t,e),r=r||1<t.length,t}),an(e,Dn(e),n),r&&(n=It(n,7,Pn));for(var i=t.length;i--;)We(n,t[i]);return n});var po=Cn(function(t,e){return null==t?{}:function(n,t){return be(n,t,function(t,e){return io(n,e)})}(t,e)});function vo(t,n){if(null==t)return{};var e=$u(Dn(t),function(t){return[t]});return n=Ln(n),be(t,e,function(t,e){return n(t,e[0])})}var yo=Tn(so),go=Tn(co);function mo(t){return null==t?[]:os(t,so(t))}var _o=hn(function(t,e,n){return e=e.toLowerCase(),t+(n?bo(e):e)});function bo(t){return Oo(Gi(t).toLowerCase())}function xo(t){return(t=Gi(t))&&t.replace(pu,cs).replace(mu,"")}var wo=hn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),ko=hn(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),So=fn("toLowerCase");var Mo=hn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var To=hn(function(t,e,n){return t+(n?" ":"")+Oo(e)});var No=hn(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Oo=fn("toUpperCase");function Eo(t,e,n){return t=Gi(t),(e=n?ra:e)===ra?function(t){return bu.test(t)}(t)?function(t){return t.match(_u)||[]}(t):function(t){return t.match(ou)||[]}(t):t.match(e)||[]}var Po=Me(function(t,e){try{return Ru(t,ra,e)}catch(t){return Ni(t)?t:new i(t)}}),jo=Cn(function(e,t){return Iu(t,function(t){t=pr(t),Dt(e,t,ai(e[t],e))}),e});function Co(t){return function(){return t}}var Ao=vn(),Do=vn(!0);function Ro(t){return t}function zo(t){return le("function"==typeof t?t:It(t,1))}var Io=Me(function(e,n){return function(t){return oe(t,e,n)}}),Lo=Me(function(e,n){return function(t){return oe(e,t,n)}});function Uo(r,e,t){var n=so(e),i=Zt(e,n);null!=t||ji(e)&&(i.length||!n.length)||(t=e,e=r,r=this,i=Zt(e,so(e)));var o=!(ji(t)&&"chain"in t&&!t.chain),a=Oi(r);return Iu(i,function(t){var n=e[t];r[t]=n,a&&(r.prototype[t]=function(){var t=this.__chain__;if(o||t){var e=r(this.__wrapped__);return(e.__actions__=on(this.__actions__)).push({func:n,args:arguments,thisArg:r}),e.__chain__=t,e}return n.apply(r,Hu([this.value()],arguments))})}),r}function Wo(){}var Fo=_n($u),Bo=_n(Uu),$o=_n(Vu);function Ho(t){return Kn(t)?ts(pr(t)):function(e){return function(t){return Jt(t,e)}}(t)}var Yo=xn(),qo=xn(!0);function Vo(){return[]}function Xo(){return!1}var Go=mn(function(t,e){return t+e},0),Ko=Sn("ceil"),Zo=mn(function(t,e){return t/e},1),Jo=Sn("floor");var Qo,ta=mn(function(t,e){return t*e},1),ea=Sn("round"),na=mn(function(t,e){return t-e},0);return pt.after=function(t,e){if("function"!=typeof e)throw new m(ia);return t=Yi(t),function(){if(--t<1)return e.apply(this,arguments)}},pt.ary=ii,pt.assign=Ki,pt.assignIn=Zi,pt.assignInWith=Ji,pt.assignWith=Qi,pt.at=to,pt.before=oi,pt.bind=ai,pt.bindAll=jo,pt.bindKey=ui,pt.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return xi(t)?t:[t]},pt.chain=$r,pt.chunk=function(t,e,n){e=(n?Gn(t,e,n):e===ra)?1:q(Yi(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=M(U(r/e));i<r;)a[o++]=Ce(t,i,i+=e);return a},pt.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},pt.concat=function(){var t=arguments.length;if(!t)return[];for(var e=M(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Hu(xi(n)?on(n):[n],qt(e,1))},pt.cond=function(r){var i=null==r?0:r.length,e=Ln();return r=i?$u(r,function(t){if("function"!=typeof t[1])throw new m(ia);return[e(t[0]),t[1]]}):[],Me(function(t){for(var e=-1;++e<i;){var n=r[e];if(Ru(n[0],this,t))return Ru(n[1],this,t)}})},pt.conforms=function(t){return function(e){var n=so(e);return function(t){return Lt(t,e,n)}}(It(t,1))},pt.constant=Co,pt.countBy=qr,pt.create=function(t,e){var n=vt(t);return null==e?n:At(n,e)},pt.curry=function t(e,n,r){var i=Nn(e,8,ra,ra,ra,ra,ra,n=r?ra:n);return i.placeholder=t.placeholder,i},pt.curryRight=function t(e,n,r){var i=Nn(e,16,ra,ra,ra,ra,ra,n=r?ra:n);return i.placeholder=t.placeholder,i},pt.debounce=si,pt.defaults=eo,pt.defaultsDeep=no,pt.defer=ci,pt.delay=li,pt.difference=gr,pt.differenceBy=mr,pt.differenceWith=_r,pt.drop=function(t,e,n){var r=null==t?0:t.length;return r?Ce(t,(e=n||e===ra?1:Yi(e))<0?0:e,r):[]},pt.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Ce(t,0,(e=r-(e=n||e===ra?1:Yi(e)))<0?0:e):[]},pt.dropRightWhile=function(t,e){return t&&t.length?Be(t,Ln(e,3),!0,!0):[]},pt.dropWhile=function(t,e){return t&&t.length?Be(t,Ln(e,3),!0):[]},pt.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Gn(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=Yi(n))<0&&(n=i<-n?0:i+n),(r=r===ra||i<r?i:Yi(r))<0&&(r+=i),r=r<n?0:qi(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},pt.filter=function(t,e){return(xi(t)?Wu:Yt)(t,Ln(e,3))},pt.flatMap=function(t,e){return qt(ti(t,e),1)},pt.flatMapDeep=function(t,e){return qt(ti(t,e),1/0)},pt.flatMapDepth=function(t,e,n){return n=n===ra?1:Yi(n),qt(ti(t,e),n)},pt.flatten=wr,pt.flattenDeep=function(t){return(null==t?0:t.length)?qt(t,1/0):[]},pt.flattenDepth=function(t,e){return(null==t?0:t.length)?qt(t,e=e===ra?1:Yi(e)):[]},pt.flip=function(t){return Nn(t,512)},pt.flow=Ao,pt.flowRight=Do,pt.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},pt.functions=function(t){return null==t?[]:Zt(t,so(t))},pt.functionsIn=function(t){return null==t?[]:Zt(t,co(t))},pt.groupBy=Zr,pt.initial=function(t){return(null==t?0:t.length)?Ce(t,0,-1):[]},pt.intersection=Sr,pt.intersectionBy=Mr,pt.intersectionWith=Tr,pt.invert=oo,pt.invertBy=ao,pt.invokeMap=Jr,pt.iteratee=zo,pt.keyBy=Qr,pt.keys=so,pt.keysIn=co,pt.map=ti,pt.mapKeys=function(t,r){var i={};return r=Ln(r,3),Gt(t,function(t,e,n){Dt(i,r(t,e,n),t)}),i},pt.mapValues=function(t,r){var i={};return r=Ln(r,3),Gt(t,function(t,e,n){Dt(i,e,r(t,e,n))}),i},pt.matches=function(t){return ve(It(t,1))},pt.matchesProperty=function(t,e){return ye(t,It(e,1))},pt.memoize=fi,pt.merge=lo,pt.mergeWith=fo,pt.method=Io,pt.methodOf=Lo,pt.mixin=Uo,pt.negate=hi,pt.nthArg=function(e){return e=Yi(e),Me(function(t){return me(t,e)})},pt.omit=ho,pt.omitBy=function(t,e){return vo(t,hi(Ln(e)))},pt.once=function(t){return oi(2,t)},pt.orderBy=function(t,e,n,r){return null==t?[]:(xi(e)||(e=null==e?[]:[e]),xi(n=r?ra:n)||(n=null==n?[]:[n]),_e(t,e,n))},pt.over=Fo,pt.overArgs=di,pt.overEvery=Bo,pt.overSome=$o,pt.partial=pi,pt.partialRight=vi,pt.partition=ei,pt.pick=po,pt.pickBy=vo,pt.property=Ho,pt.propertyOf=function(e){return function(t){return null==e?ra:Jt(e,t)}},pt.pull=Or,pt.pullAll=Er,pt.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?xe(t,e,Ln(n,2)):t},pt.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?xe(t,e,ra,n):t},pt.pullAt=Pr,pt.range=Yo,pt.rangeRight=qo,pt.rearg=yi,pt.reject=function(t,e){return(xi(t)?Wu:Yt)(t,hi(Ln(e,3)))},pt.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Ln(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return we(t,i),n},pt.rest=function(t,e){if("function"!=typeof t)throw new m(ia);return Me(t,e=e===ra?e:Yi(e))},pt.reverse=jr,pt.sampleSize=function(t,e,n){return e=(n?Gn(t,e,n):e===ra)?1:Yi(e),(xi(t)?Nt:Ne)(t,e)},pt.set=function(t,e,n){return null==t?t:Oe(t,e,n)},pt.setWith=function(t,e,n,r){return r="function"==typeof r?r:ra,null==t?t:Oe(t,e,n,r)},pt.shuffle=function(t){return(xi(t)?Ot:je)(t)},pt.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n=n&&"number"!=typeof n&&Gn(t,e,n)?(e=0,r):(e=null==e?0:Yi(e),n===ra?r:Yi(n)),Ce(t,e,n)):[]},pt.sortBy=ni,pt.sortedUniq=function(t){return t&&t.length?ze(t):[]},pt.sortedUniqBy=function(t,e){return t&&t.length?ze(t,Ln(e,2)):[]},pt.split=function(t,e,n){return n&&"number"!=typeof n&&Gn(t,e,n)&&(e=n=ra),(n=n===ra?ca:n>>>0)?(t=Gi(t))&&("string"==typeof e||null!=e&&!zi(e))&&!(e=Le(e))&&hs(t)?Ke(ms(t),0,n):t.split(e,n):[]},pt.spread=function(r,i){if("function"!=typeof r)throw new m(ia);return i=null==i?0:q(Yi(i),0),Me(function(t){var e=t[i],n=Ke(t,0,i);return e&&Hu(n,e),Ru(r,this,n)})},pt.tail=function(t){var e=null==t?0:t.length;return e?Ce(t,1,e):[]},pt.take=function(t,e,n){return t&&t.length?Ce(t,0,(e=n||e===ra?1:Yi(e))<0?0:e):[]},pt.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Ce(t,(e=r-(e=n||e===ra?1:Yi(e)))<0?0:e,r):[]},pt.takeRightWhile=function(t,e){return t&&t.length?Be(t,Ln(e,3),!1,!0):[]},pt.takeWhile=function(t,e){return t&&t.length?Be(t,Ln(e,3)):[]},pt.tap=function(t,e){return e(t),t},pt.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new m(ia);return ji(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),si(t,e,{leading:r,maxWait:e,trailing:i})},pt.thru=Hr,pt.toArray=$i,pt.toPairs=yo,pt.toPairsIn=go,pt.toPath=function(t){return xi(t)?$u(t,pr):Ui(t)?[t]:on(dr(Gi(t)))},pt.toPlainObject=Xi,pt.transform=function(t,r,i){var e=xi(t),n=e||Mi(t)||Wi(t);if(r=Ln(r,4),null==i){var o=t&&t.constructor;i=n?e?new o:[]:ji(t)&&Oi(o)?vt(O(t)):{}}return(n?Iu:Gt)(t,function(t,e,n){return r(i,t,e,n)}),i},pt.unary=function(t){return ii(t,1)},pt.union=Cr,pt.unionBy=Ar,pt.unionWith=Dr,pt.uniq=function(t){return t&&t.length?Ue(t):[]},pt.uniqBy=function(t,e){return t&&t.length?Ue(t,Ln(e,2)):[]},pt.uniqWith=function(t,e){return e="function"==typeof e?e:ra,t&&t.length?Ue(t,ra,e):[]},pt.unset=function(t,e){return null==t||We(t,e)},pt.unzip=Rr,pt.unzipWith=zr,pt.update=function(t,e,n){return null==t?t:Fe(t,e,Ve(n))},pt.updateWith=function(t,e,n,r){return r="function"==typeof r?r:ra,null==t?t:Fe(t,e,Ve(n),r)},pt.values=mo,pt.valuesIn=function(t){return null==t?[]:os(t,co(t))},pt.without=Ir,pt.words=Eo,pt.wrap=function(t,e){return pi(Ve(e),t)},pt.xor=Lr,pt.xorBy=Ur,pt.xorWith=Wr,pt.zip=Fr,pt.zipObject=function(t,e){return Ye(t||[],e||[],Pt)},pt.zipObjectDeep=function(t,e){return Ye(t||[],e||[],Oe)},pt.zipWith=Br,pt.entries=yo,pt.entriesIn=go,pt.extend=Zi,pt.extendWith=Ji,Uo(pt,pt),pt.add=Go,pt.attempt=Po,pt.camelCase=_o,pt.capitalize=bo,pt.ceil=Ko,pt.clamp=function(t,e,n){return n===ra&&(n=e,e=ra),n!==ra&&(n=(n=Vi(n))==n?n:0),e!==ra&&(e=(e=Vi(e))==e?e:0),zt(Vi(t),e,n)},pt.clone=function(t){return It(t,4)},pt.cloneDeep=function(t){return It(t,5)},pt.cloneDeepWith=function(t,e){return It(t,5,e="function"==typeof e?e:ra)},pt.cloneWith=function(t,e){return It(t,4,e="function"==typeof e?e:ra)},pt.conformsTo=function(t,e){return null==e||Lt(t,e,so(e))},pt.deburr=xo,pt.defaultTo=function(t,e){return null==t||t!=t?e:t},pt.divide=Zo,pt.endsWith=function(t,e,n){t=Gi(t),e=Le(e);var r=t.length,i=n=n===ra?r:zt(Yi(n),0,r);return 0<=(n-=e.length)&&t.slice(n,i)==e},pt.eq=gi,pt.escape=function(t){return(t=Gi(t))&&Ha.test(t)?t.replace(Ba,ls):t},pt.escapeRegExp=function(t){return(t=Gi(t))&&Ja.test(t)?t.replace(Za,"\\$&"):t},pt.every=function(t,e,n){var r=xi(t)?Uu:$t;return n&&Gn(t,e,n)&&(e=ra),r(t,Ln(e,3))},pt.find=Vr,pt.findIndex=br,pt.findKey=function(t,e){return Xu(t,Ln(e,3),Gt)},pt.findLast=Xr,pt.findLastIndex=xr,pt.findLastKey=function(t,e){return Xu(t,Ln(e,3),Kt)},pt.floor=Jo,pt.forEach=Gr,pt.forEachRight=Kr,pt.forIn=function(t,e){return null==t?t:Vt(t,Ln(e,3),co)},pt.forInRight=function(t,e){return null==t?t:Xt(t,Ln(e,3),co)},pt.forOwn=function(t,e){return t&&Gt(t,Ln(e,3))},pt.forOwnRight=function(t,e){return t&&Kt(t,Ln(e,3))},pt.get=ro,pt.gt=mi,pt.gte=_i,pt.has=function(t,e){return null!=t&&Yn(t,e,ne)},pt.hasIn=io,pt.head=kr,pt.identity=Ro,pt.includes=function(t,e,n,r){t=ki(t)?t:mo(t),n=n&&!r?Yi(n):0;var i=t.length;return n<0&&(n=q(i+n,0)),Li(t)?n<=i&&-1<t.indexOf(e,n):!!i&&-1<Ku(t,e,n)},pt.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Yi(n);return i<0&&(i=q(r+i,0)),Ku(t,e,i)},pt.inRange=function(t,e,n){return e=Hi(e),n===ra?(n=e,e=0):n=Hi(n),function(t,e,n){return t>=V(e,n)&&t<q(e,n)}(t=Vi(t),e,n)},pt.invoke=uo,pt.isArguments=bi,pt.isArray=xi,pt.isArrayBuffer=wi,pt.isArrayLike=ki,pt.isArrayLikeObject=Si,pt.isBoolean=function(t){return!0===t||!1===t||Ci(t)&&te(t)==da},pt.isBuffer=Mi,pt.isDate=Ti,pt.isElement=function(t){return Ci(t)&&1===t.nodeType&&!Ri(t)},pt.isEmpty=function(t){if(null==t)return!0;if(ki(t)&&(xi(t)||"string"==typeof t||"function"==typeof t.splice||Mi(t)||Wi(t)||bi(t)))return!t.length;var e=Hn(t);if(e==ma||e==ka)return!t.size;if(Qn(t))return!fe(t).length;for(var n in t)if(b.call(t,n))return!1;return!0},pt.isEqual=function(t,e){return ue(t,e)},pt.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:ra)?n(t,e):ra;return r===ra?ue(t,e,ra,n):!!r},pt.isError=Ni,pt.isFinite=function(t){return"number"==typeof t&&$(t)},pt.isFunction=Oi,pt.isInteger=Ei,pt.isLength=Pi,pt.isMap=Ai,pt.isMatch=function(t,e){return t===e||se(t,e,Wn(e))},pt.isMatchWith=function(t,e,n){return n="function"==typeof n?n:ra,se(t,e,Wn(e),n)},pt.isNaN=function(t){return Di(t)&&t!=+t},pt.isNative=function(t){if(Jn(t))throw new i("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ce(t)},pt.isNil=function(t){return null==t},pt.isNull=function(t){return null===t},pt.isNumber=Di,pt.isObject=ji,pt.isObjectLike=Ci,pt.isPlainObject=Ri,pt.isRegExp=zi,pt.isSafeInteger=function(t){return Ei(t)&&-ua<=t&&t<=ua},pt.isSet=Ii,pt.isString=Li,pt.isSymbol=Ui,pt.isTypedArray=Wi,pt.isUndefined=function(t){return t===ra},pt.isWeakMap=function(t){return Ci(t)&&Hn(t)==Ta},pt.isWeakSet=function(t){return Ci(t)&&"[object WeakSet]"==te(t)},pt.join=function(t,e){return null==t?"":H.call(t,e)},pt.kebabCase=wo,pt.last=Nr,pt.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==ra&&(i=(i=Yi(n))<0?q(r+i,0):V(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Gu(t,Ju,i,!0)},pt.lowerCase=ko,pt.lowerFirst=So,pt.lt=Fi,pt.lte=Bi,pt.max=function(t){return t&&t.length?Ht(t,Ro,ee):ra},pt.maxBy=function(t,e){return t&&t.length?Ht(t,Ln(e,2),ee):ra},pt.mean=function(t){return Qu(t,Ro)},pt.meanBy=function(t,e){return Qu(t,Ln(e,2))},pt.min=function(t){return t&&t.length?Ht(t,Ro,de):ra},pt.minBy=function(t,e){return t&&t.length?Ht(t,Ln(e,2),de):ra},pt.stubArray=Vo,pt.stubFalse=Xo,pt.stubObject=function(){return{}},pt.stubString=function(){return""},pt.stubTrue=function(){return!0},pt.multiply=ta,pt.nth=function(t,e){return t&&t.length?me(t,Yi(e)):ra},pt.noConflict=function(){return Nu._===this&&(Nu._=x),this},pt.noop=Wo,pt.now=ri,pt.pad=function(t,e,n){t=Gi(t);var r=(e=Yi(e))?gs(t):0;if(!e||e<=r)return t;var i=(e-r)/2;return bn(W(i),n)+t+bn(U(i),n)},pt.padEnd=function(t,e,n){t=Gi(t);var r=(e=Yi(e))?gs(t):0;return e&&r<e?t+bn(e-r,n):t},pt.padStart=function(t,e,n){t=Gi(t);var r=(e=Yi(e))?gs(t):0;return e&&r<e?bn(e-r,n)+t:t},pt.parseInt=function(t,e,n){return e=n||null==e?0:e&&+e,G(Gi(t).replace(tu,""),e||0)},pt.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Gn(t,e,n)&&(e=n=ra),n===ra&&("boolean"==typeof e?(n=e,e=ra):"boolean"==typeof t&&(n=t,t=ra)),t===ra&&e===ra?(t=0,e=1):(t=Hi(t),e===ra?(e=t,t=0):e=Hi(e)),e<t){var r=t;t=e,e=r}if(n||t%1||e%1){var i=K();return V(t+i*(e-t+Mu("1e-"+((i+"").length-1))),e)}return ke(t,e)},pt.reduce=function(t,e,n){var r=xi(t)?Yu:es,i=arguments.length<3;return r(t,Ln(e,4),n,i,Ft)},pt.reduceRight=function(t,e,n){var r=xi(t)?qu:es,i=arguments.length<3;return r(t,Ln(e,4),n,i,Bt)},pt.repeat=function(t,e,n){return e=(n?Gn(t,e,n):e===ra)?1:Yi(e),Se(Gi(t),e)},pt.replace=function(){var t=arguments,e=Gi(t[0]);return t.length<3?e:e.replace(t[1],t[2])},pt.result=function(t,e,n){var r=-1,i=(e=Xe(e,t)).length;for(i||(i=1,t=ra);++r<i;){var o=null==t?ra:t[pr(e[r])];o===ra&&(r=i,o=n),t=Oi(o)?o.call(t):o}return t},pt.round=ea,pt.runInContext=t,pt.sample=function(t){return(xi(t)?Tt:Te)(t)},pt.size=function(t){if(null==t)return 0;if(ki(t))return Li(t)?gs(t):t.length;var e=Hn(t);return e==ma||e==ka?t.size:fe(t).length},pt.snakeCase=Mo,pt.some=function(t,e,n){var r=xi(t)?Vu:Ae;return n&&Gn(t,e,n)&&(e=ra),r(t,Ln(e,3))},pt.sortedIndex=function(t,e){return De(t,e)},pt.sortedIndexBy=function(t,e,n){return Re(t,e,Ln(n,2))},pt.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=De(t,e);if(r<n&&gi(t[r],e))return r}return-1},pt.sortedLastIndex=function(t,e){return De(t,e,!0)},pt.sortedLastIndexBy=function(t,e,n){return Re(t,e,Ln(n,2),!0)},pt.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=De(t,e,!0)-1;if(gi(t[n],e))return n}return-1},pt.startCase=To,pt.startsWith=function(t,e,n){return t=Gi(t),n=null==n?0:zt(Yi(n),0,t.length),e=Le(e),t.slice(n,n+e.length)==e},pt.subtract=na,pt.sum=function(t){return t&&t.length?ns(t,Ro):0},pt.sumBy=function(t,e){return t&&t.length?ns(t,Ln(e,2)):0},pt.template=function(a,t,e){var n=pt.templateSettings;e&&Gn(a,t,e)&&(t=ra),a=Gi(a),t=Ji({},t,n,On);var u,s,r=Ji({},t.imports,n.imports,On),i=so(r),o=os(r,i),c=0,l=t.interpolate||vu,f="__p += '",h=g((t.escape||vu).source+"|"+l.source+"|"+(l===Va?uu:vu).source+"|"+(t.evaluate||vu).source+"|$","g"),d="//# sourceURL="+(b.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++wu+"]")+"\n";a.replace(h,function(t,e,n,r,i,o){return n=n||r,f+=a.slice(c,o).replace(yu,fs),e&&(u=!0,f+="' +\n__e("+e+") +\n'"),i&&(s=!0,f+="';\n"+i+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=o+t.length,t}),f+="';\n";var p=b.call(t,"variable")&&t.variable;p||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(La,""):f).replace(Ua,"$1").replace(Wa,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Po(function(){return y(i,d+"return "+f).apply(ra,o)});if(v.source=f,Ni(v))throw v;return v},pt.times=function(t,e){if((t=Yi(t))<1||ua<t)return[];var n=ca,r=V(t,ca);e=Ln(e),t-=ca;for(var i=rs(r,e);++n<t;)e(n);return i},pt.toFinite=Hi,pt.toInteger=Yi,pt.toLength=qi,pt.toLower=function(t){return Gi(t).toLowerCase()},pt.toNumber=Vi,pt.toSafeInteger=function(t){return t?zt(Yi(t),-ua,ua):0===t?t:0},pt.toString=Gi,pt.toUpper=function(t){return Gi(t).toUpperCase()},pt.trim=function(t,e,n){if((t=Gi(t))&&(n||e===ra))return t.replace(Qa,"");if(!t||!(e=Le(e)))return t;var r=ms(t),i=ms(e);return Ke(r,us(r,i),ss(r,i)+1).join("")},pt.trimEnd=function(t,e,n){if((t=Gi(t))&&(n||e===ra))return t.replace(eu,"");if(!t||!(e=Le(e)))return t;var r=ms(t);return Ke(r,0,ss(r,ms(e))+1).join("")},pt.trimStart=function(t,e,n){if((t=Gi(t))&&(n||e===ra))return t.replace(tu,"");if(!t||!(e=Le(e)))return t;var r=ms(t);return Ke(r,us(r,ms(e))).join("")},pt.truncate=function(t,e){var n=30,r="...";if(ji(e)){var i="separator"in e?e.separator:i;n="length"in e?Yi(e.length):n,r="omission"in e?Le(e.omission):r}var o=(t=Gi(t)).length;if(hs(t)){var a=ms(t);o=a.length}if(o<=n)return t;var u=n-gs(r);if(u<1)return r;var s=a?Ke(a,0,u).join(""):t.slice(0,u);if(i===ra)return s+r;if(a&&(u+=s.length-u),zi(i)){if(t.slice(u).search(i)){var c,l=s;for(i.global||(i=g(i.source,Gi(su.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;s=s.slice(0,f===ra?u:f)}}else if(t.indexOf(Le(i),u)!=u){var h=s.lastIndexOf(i);-1<h&&(s=s.slice(0,h))}return s+r},pt.unescape=function(t){return(t=Gi(t))&&$a.test(t)?t.replace(Fa,_s):t},pt.uniqueId=function(t){var e=++h;return Gi(t)+e},pt.upperCase=No,pt.upperFirst=Oo,pt.each=Gr,pt.eachRight=Kr,pt.first=kr,Uo(pt,(Qo={},Gt(pt,function(t,e){b.call(pt.prototype,e)||(Qo[e]=t)}),Qo),{chain:!1}),pt.VERSION="4.17.15",Iu(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){pt[t].placeholder=pt}),Iu(["drop","take"],function(n,r){_t.prototype[n]=function(t){t=t===ra?1:q(Yi(t),0);var e=this.__filtered__&&!r?new _t(this):this.clone();return e.__filtered__?e.__takeCount__=V(t,e.__takeCount__):e.__views__.push({size:V(t,ca),type:n+(e.__dir__<0?"Right":"")}),e},_t.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),Iu(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;_t.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ln(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Iu(["head","last"],function(t,e){var n="take"+(e?"Right":"");_t.prototype[t]=function(){return this[n](1).value()[0]}}),Iu(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");_t.prototype[t]=function(){return this.__filtered__?new _t(this):this[n](1)}}),_t.prototype.compact=function(){return this.filter(Ro)},_t.prototype.find=function(t){return this.filter(t).head()},_t.prototype.findLast=function(t){return this.reverse().find(t)},_t.prototype.invokeMap=Me(function(e,n){return"function"==typeof e?new _t(this):this.map(function(t){return oe(t,e,n)})}),_t.prototype.reject=function(t){return this.filter(hi(Ln(t)))},_t.prototype.slice=function(t,e){t=Yi(t);var n=this;return n.__filtered__&&(0<t||e<0)?new _t(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==ra&&(n=(e=Yi(e))<0?n.dropRight(-e):n.take(e-t)),n)},_t.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},_t.prototype.toArray=function(){return this.take(ca)},Gt(_t.prototype,function(f,t){var h=/^(?:filter|find|map|reject)|While$/.test(t),d=/^(?:head|last)$/.test(t),p=pt[d?"take"+("last"==t?"Right":""):t],v=d||/^find/.test(t);p&&(pt.prototype[t]=function(){function t(t){var e=p.apply(pt,Hu([t],n));return d&&a?e[0]:e}var e=this.__wrapped__,n=d?[1]:arguments,r=e instanceof _t,i=n[0],o=r||xi(e);o&&h&&"function"==typeof i&&1!=i.length&&(r=o=!1);var a=this.__chain__,u=!!this.__actions__.length,s=v&&!a,c=r&&!u;if(v||!o)return s&&c?f.apply(this,n):(l=this.thru(t),s?d?l.value()[0]:l.value():l);e=c?e:new _t(this);var l=f.apply(e,n);return l.__actions__.push({func:Hr,args:[t],thisArg:ra}),new mt(l,a)})}),Iu(["pop","push","shift","sort","splice","unshift"],function(t){var n=a[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);pt.prototype[t]=function(){var e=arguments;if(!i||this.__chain__)return this[r](function(t){return n.apply(xi(t)?t:[],e)});var t=this.value();return n.apply(xi(t)?t:[],e)}}),Gt(_t.prototype,function(t,e){var n=pt[e];if(n){var r=n.name+"";b.call(ot,r)||(ot[r]=[]),ot[r].push({name:e,func:n})}}),ot[yn(ra,2).name]=[{name:"wrapper",func:ra}],_t.prototype.clone=function(){var t=new _t(this.__wrapped__);return t.__actions__=on(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=on(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=on(this.__views__),t},_t.prototype.reverse=function(){if(this.__filtered__){var t=new _t(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},_t.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=xi(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=V(e,t+a);break;case"takeRight":t=q(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,f=l.length,h=0,d=V(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return $e(t,this.__actions__);var p=[];t:for(;s--&&h<d;){for(var v=-1,y=t[c+=e];++v<f;){var g=l[v],m=g.iteratee,_=g.type,b=m(y);if(2==_)y=b;else if(!b){if(1==_)continue t;break t}}p[h++]=y}return p},pt.prototype.at=Yr,pt.prototype.chain=function(){return $r(this)},pt.prototype.commit=function(){return new mt(this.value(),this.__chain__)},pt.prototype.next=function(){this.__values__===ra&&(this.__values__=$i(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?ra:this.__values__[this.__index__++]}},pt.prototype.plant=function(t){for(var e,n=this;n instanceof gt;){var r=yr(n);r.__index__=0,r.__values__=ra,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},pt.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof _t){var e=t;return this.__actions__.length&&(e=new _t(this)),(e=e.reverse()).__actions__.push({func:Hr,args:[jr],thisArg:ra}),new mt(e,this.__chain__)}return this.thru(jr)},pt.prototype.toJSON=pt.prototype.valueOf=pt.prototype.value=function(){return $e(this.__wrapped__,this.__actions__)},pt.prototype.first=pt.prototype.head,A&&(pt.prototype[A]=function(){return this}),pt}();D?((D.exports=bs)._=bs,A._=bs):Nu._=bs}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],40:[function(t,n,e){!function(t,e){"use strict";"object"==typeof n&&n.exports?n.exports=e():t.log=e()}(this,function(){"use strict";var i=function(){},s="undefined",c=["trace","debug","info","warn","error"];function r(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function l(t,e){for(var n=0;n<c.length;n++){var r=c[n];this[r]=n<t?i:this.methodFactory(r,t,e)}this.log=this.debug}function f(t,e,n){return function(t){return"debug"===t&&(t="log"),typeof console!==s&&(void 0!==console[t]?r(console,t):void 0!==console.log?r(console,"log"):i)}(t)||function(t,e,n){return function(){typeof console!==s&&(l.call(this,e,n),this[t].apply(this,arguments))}}.apply(this,arguments)}function n(n,t,e){var r,i=this,o="loglevel";function a(){var t;if(typeof window!==s){try{t=window.localStorage[o]}catch(t){}if(typeof t===s)try{var e=window.document.cookie,n=e.indexOf(encodeURIComponent(o)+"=");-1!==n&&(t=/^([^;]+)/.exec(e.slice(n))[1])}catch(t){}return void 0===i.levels[t]&&(t=void 0),t}}n&&(o+=":"+n),i.name=n,i.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},i.methodFactory=e||f,i.getLevel=function(){return r},i.setLevel=function(t,e){if("string"==typeof t&&void 0!==i.levels[t.toUpperCase()]&&(t=i.levels[t.toUpperCase()]),!("number"==typeof t&&0<=t&&t<=i.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(r=t,!1!==e&&function(t){var e=(c[t]||"silent").toUpperCase();if(typeof window!==s){try{return window.localStorage[o]=e}catch(t){}try{window.document.cookie=encodeURIComponent(o)+"="+e+";"}catch(t){}}}(t),l.call(i,t,n),typeof console===s&&t<i.levels.SILENT)return"No console available for logging"},i.setDefaultLevel=function(t){a()||i.setLevel(t,!1)},i.enableAll=function(t){i.setLevel(i.levels.TRACE,t)},i.disableAll=function(t){i.setLevel(i.levels.SILENT,t)};var u=a();null==u&&(u=null==t?"WARN":t),i.setLevel(u,!1)}var o=new n,a={};o.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=a[t];return e=e||(a[t]=new n(t,o.getLevel(),o.methodFactory))};var t=typeof window!==s?window.log:void 0;return o.noConflict=function(){return typeof window!==s&&window.log===o&&(window.log=t),o},o.getLoggers=function(){return a},o})},{}],41:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./src/index");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})})},{"./src/index":53}],42:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DataModel=void 0;var f=t("sd-utils"),a=function(t){if(t&&t.__esModule)return t;var e=u();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}}n.default=t,e&&e.set(t,n);return n}(t("./domain")),r=t("./validation-result");function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.nodes=[],this.edges=[],this.texts=[],this.payoffNames=[],this.defaultCriterion1Weight=1,this.weightLowerBound=0,this.weightUpperBound=1/0,this.expressionScope={},this.code="",this.$codeError=null,this.$codeDirty=!1,this.$version=1,this.validationResults=[],this.maxStackSize=20,this.undoStack=[],this.redoStack=[],this.undoRedoStateChangedCallback=null,this.nodeAddedCallback=null,this.nodeRemovedCallback=null,this.textAddedCallback=null,this.textRemovedCallback=null,this.callbacksDisabled=!1,t&&this.load(t)}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"getJsonReplacer",value:function(t,e,n,r){var i=0<arguments.length&&void 0!==t&&t,o=1<arguments.length&&void 0!==e&&e,a=2<arguments.length?n:void 0,u=!(3<arguments.length&&void 0!==r)||r;return function(t,e){if(!(u&&f.Utils.startsWith(t,"$")||"parentNode"==t||i&&"location"==t||o&&"computed"==t))return a?a(t,e):e}}},{key:"serialize",value:function(t,e,n,r,i){var o=!(0<arguments.length&&void 0!==t)||t,a=1<arguments.length&&void 0!==e&&e,u=2<arguments.length&&void 0!==n&&n,s=3<arguments.length?r:void 0,c=!(4<arguments.length&&void 0!==i)||i,l={code:this.code,expressionScope:this.expressionScope,trees:this.getRoots(),texts:this.texts,payoffNames:this.payoffNames.slice(),defaultCriterion1Weight:this.defaultCriterion1Weight,weightLowerBound:this.weightLowerBound,weightUpperBound:this.weightUpperBound};return o?f.Utils.stringify(l,this.getJsonReplacer(a,u,s,c),[]):l}},{key:"load",value:function(t){var r=this,e=this.callbacksDisabled;this.callbacksDisabled=!0,this.clear(),t.trees.forEach(function(t){r.createNodeFromData(t)}),t.texts&&t.texts.forEach(function(t){var e=new a.Point(t.location.x,t.location.y),n=new a.Text(e,t.value);r.texts.push(n)}),this.clearExpressionScope(),this.code=t.code||"",t.expressionScope&&f.Utils.extend(this.expressionScope,t.expressionScope),void 0!==t.payoffNames&&null!==t.payoffNames&&(this.payoffNames=t.payoffNames),void 0!==t.defaultCriterion1Weight&&null!==t.defaultCriterion1Weight&&(this.defaultCriterion1Weight=t.defaultCriterion1Weight),void 0!==t.weightLowerBound&&null!==t.weightLowerBound&&(this.weightLowerBound=t.weightLowerBound),void 0!==t.weightUpperBound&&null!==t.weightUpperBound&&(this.weightUpperBound=t.weightUpperBound),this.callbacksDisabled=e}},{key:"getDTO",value:function(t,e,n){var r=0<arguments.length&&void 0!==t&&t,i=1<arguments.length&&void 0!==e&&e,o=2<arguments.length&&void 0!==n&&n;return{serializedData:this.serialize(!0,r,i,null,o),$codeError:this.$codeError,$codeDirty:this.$codeDirty,validationResults:this.validationResults.slice()}}},{key:"loadFromDTO",value:function(t,e){var n=this;this.load(JSON.parse(t.serializedData,e)),this.$codeError=t.$codeError,this.$codeDirty=t.$codeDirty,this.validationResults.length=0,t.validationResults.forEach(function(t){n.validationResults.push(r.ValidationResult.createFromDTO(t))})}},{key:"updateFrom",value:function(t){if(this.$version>t.$version)f.log.warn("DataModel.updateFrom: version of current model greater than update");else{var n={};t.nodes.forEach(function(t){n[t.id]=t}),this.nodes.forEach(function(t,e){n[t.id]&&t.loadComputedValues(n[t.id].computed)}),t.edges.forEach(function(t){n[t.id]=t}),this.edges.forEach(function(t,e){n[t.id]&&t.loadComputedValues(n[t.id].computed)}),this.expressionScope=t.expressionScope,this.$codeError=t.$codeError,this.$codeDirty=t.$codeDirty,this.validationResults=t.validationResults}}},{key:"getGlobalVariableNames",value:function(t){var n=!(0<arguments.length&&void 0!==t)||t,r=[];return f.Utils.forOwn(this.expressionScope,function(t,e){n&&f.Utils.isFunction(t)||r.push(e)}),r}},{key:"createNodeFromData",value:function(t,e){var n,r,i=this;r=t.location?new a.Point(t.location.x,t.location.y):new a.Point(0,0),a.DecisionNode.$TYPE==t.type?n=new a.DecisionNode(r):a.ChanceNode.$TYPE==t.type?n=new a.ChanceNode(r):a.TerminalNode.$TYPE==t.type&&(n=new a.TerminalNode(r)),t.id&&(n.id=t.id),t.$fieldStatus&&(n.$fieldStatus=t.$fieldStatus),n.name=t.name,t.code&&(n.code=t.code),t.expressionScope&&(n.expressionScope=t.expressionScope),t.computed&&n.loadComputedValues(t.computed),n.folded=!!t.folded;var o=this.addNode(n,e);return t.childEdges.forEach(function(t){var e=i.createNodeFromData(t.childNode,n);f.Utils.isArray(t.payoff)?e.payoff=t.payoff:e.payoff=[t.payoff,0],e.probability=t.probability,e.name=t.name,t.computed&&e.loadComputedValues(t.computed),t.id&&(e.id=t.id),t.$fieldStatus&&(e.$fieldStatus=t.$fieldStatus)}),o}},{key:"addNode",value:function(t,e){if(this.nodes.push(t),e){var n=this._addChild(e,t);return this._fireNodeAddedCallback(t),n}return this._fireNodeAddedCallback(t),t}},{key:"injectNode",value:function(t,e){var n=e.parentNode,r=e.childNode;this.nodes.push(t),t.$parent=n,e.childNode=t,this._addChild(t,r),this._fireNodeAddedCallback(t)}},{key:"_addChild",value:function(t,e){var n=new a.Edge(t,e);return this._setEdgeInitialProbability(n),this.edges.push(n),t.childEdges.push(n),e.$parent=t,n}},{key:"_setEdgeInitialProbability",value:function(t){t.parentNode instanceof a.ChanceNode?t.probability="#":t.probability=void 0}},{key:"removeNode",value:function(n,t){var e=1<arguments.length&&void 0!==t?t:0,r=this;n.childEdges.forEach(function(t){return r.removeNode(t.childNode,e+1)}),r._removeNode(n);var i=n.$parent;if(i){var o=f.Utils.find(i.childEdges,function(t,e){return t.childNode===n});0==e?r.removeEdge(o):r._removeEdge(o)}this._fireNodeRemovedCallback(n)}},{key:"removeNodes",value:function(t){var e=this;this.findSubtreeRoots(t).forEach(function(t){return e.removeNode(t,0)},this)}},{key:"convertNode",value:function(t,e){var n,r=this;!t.childEdges.length&&t.$parent?n=this.createNodeByType(e,t.location):t instanceof a.DecisionNode&&e==a.ChanceNode.$TYPE?n=this.createNodeByType(e,t.location):e==a.DecisionNode.$TYPE&&(n=this.createNodeByType(e,t.location)),n&&(n.name=t.name,this.replaceNode(n,t),n.childEdges.forEach(function(t){return r._setEdgeInitialProbability(t)}),this._fireNodeAddedCallback(n))}},{key:"createNodeByType",value:function(t,e){return t==a.DecisionNode.$TYPE?new a.DecisionNode(e):t==a.ChanceNode.$TYPE?new a.ChanceNode(e):t==a.TerminalNode.$TYPE?new a.TerminalNode(e):void 0}},{key:"replaceNode",value:function(e,n){var t=n.$parent;(e.$parent=t)&&(f.Utils.find(e.$parent.childEdges,function(t){return t.childNode===n}).childNode=e);e.childEdges=n.childEdges,e.childEdges.forEach(function(t){return t.parentNode=e});var r=this.nodes.indexOf(n);~r&&(this.nodes[r]=e)}},{key:"getRoots",value:function(){return this.nodes.filter(function(t){return!t.$parent})}},{key:"findSubtreeRoots",value:function(e){return e.filter(function(t){return!t.$parent||-1===e.indexOf(t.$parent)})}},{key:"cloneSubtree",value:function(t,r){var i=this,o=this.cloneNode(t);return t.childEdges.forEach(function(t){var e=i.cloneSubtree(t.childNode,r);e.$parent=o;var n=f.Utils.clone(t);n.id=f.Utils.guid(),n.parentNode=o,n.childNode=e,n.payoff=f.Utils.cloneDeep(t.payoff),n.computed={},r&&(n.computed=f.Utils.cloneDeep(t.computed),e.computed=f.Utils.cloneDeep(t.childNode.computed)),o.childEdges.push(n)}),r&&(o.computed=f.Utils.cloneDeep(t.computed)),o}},{key:"attachSubtree",value:function(t,e){var n=this,r=n.addNode(t,e);return t.expressionScope=null,n.getAllDescendantEdges(t).forEach(function(t){n.edges.push(t),n.nodes.push(t.childNode),t.childNode.expressionScope=null}),r}},{key:"cloneNodes",value:function(t){}},{key:"cloneNode",value:function(t){var e=f.Utils.clone(t);return e.id=f.Utils.guid(),e.location=f.Utils.clone(t.location),e.computed=f.Utils.clone(t.computed),e.$parent=null,e.childEdges=[],e}},{key:"findNodeById",value:function(e){return f.Utils.find(this.nodes,function(t){return t.id==e})}},{key:"findEdgeById",value:function(e){return f.Utils.find(this.edges,function(t){return t.id==e})}},{key:"findById",value:function(t){var e=this.findNodeById(t);return e||this.findEdgeById(t)}},{key:"_removeNode",value:function(t){var e=this.nodes.indexOf(t);-1<e&&this.nodes.splice(e,1)}},{key:"removeEdge",value:function(t){var e=t.parentNode.childEdges.indexOf(t);-1<e&&t.parentNode.childEdges.splice(e,1),this._removeEdge(t)}},{key:"_removeEdge",value:function(t){var e=this.edges.indexOf(t);-1<e&&this.edges.splice(e,1)}},{key:"_removeNodes",value:function(e){this.nodes=this.nodes.filter(function(t){return-1===e.indexOf(t)})}},{key:"_removeEdges",value:function(e){this.edges=this.edges.filter(function(t){return-1===e.indexOf(t)})}},{key:"getAllDescendantEdges",value:function(t){var e=this,n=[];return t.childEdges.forEach(function(t){n.push(t),t.childNode&&n.push.apply(n,i(e.getAllDescendantEdges(t.childNode)))}),n}},{key:"getAllDescendantNodes",value:function(t){var e=this,n=[];return t.childEdges.forEach(function(t){t.childNode&&(n.push(t.childNode),n.push.apply(n,i(e.getAllDescendantNodes(t.childNode))))}),n}},{key:"getAllNodesInSubtree",value:function(t){var e=this.getAllDescendantNodes(t);return e.unshift(t),e}},{key:"isUndoAvailable",value:function(){return!!this.undoStack.length}},{key:"isRedoAvailable",value:function(){return!!this.redoStack.length}},{key:"createStateSnapshot",value:function(t){return{revertConf:t,nodes:f.Utils.cloneDeep(this.nodes),edges:f.Utils.cloneDeep(this.edges),texts:f.Utils.cloneDeep(this.texts),payoffNames:f.Utils.cloneDeep(this.payoffNames),defaultCriterion1Weight:f.Utils.cloneDeep(this.defaultCriterion1Weight),weightLowerBound:f.Utils.cloneDeep(this.weightLowerBound),weightUpperBound:f.Utils.cloneDeep(this.weightUpperBound),expressionScope:f.Utils.cloneDeep(this.expressionScope),code:this.code,$codeError:this.$codeError}}},{key:"saveStateFromSnapshot",value:function(t){return this.redoStack.length=0,this._pushToStack(this.undoStack,t),this._fireUndoRedoCallback(),this}},{key:"saveState",value:function(t){return this.saveStateFromSnapshot(this.createStateSnapshot(t)),this}},{key:"undo",value:function(){var t=this,e=this.undoStack.pop();if(e)return this._pushToStack(this.redoStack,{revertConf:e.revertConf,nodes:t.nodes,edges:t.edges,texts:t.texts,payoffNames:t.payoffNames,defaultCriterion1Weight:t.defaultCriterion1Weight,weightLowerBound:t.weightLowerBound,weightUpperBound:t.weightUpperBound,expressionScope:t.expressionScope,code:t.code,$codeError:t.$codeError}),this._setNewState(e),this._fireUndoRedoCallback(),this}},{key:"redo",value:function(){var t=this,e=this.redoStack.pop();if(e)return this._pushToStack(this.undoStack,{revertConf:e.revertConf,nodes:t.nodes,edges:t.edges,texts:t.texts,payoffNames:t.payoffNames,defaultCriterion1Weight:t.defaultCriterion1Weight,weightLowerBound:t.weightLowerBound,weightUpperBound:t.weightUpperBound,expressionScope:t.expressionScope,code:t.code,$codeError:t.$codeError}),this._setNewState(e,!0),this._fireUndoRedoCallback(),this}},{key:"clear",value:function(){this.nodes.length=0,this.edges.length=0,this.undoStack.length=0,this.redoStack.length=0,this.texts.length=0,this.clearExpressionScope(),this.code="",this.$codeError=null,this.$codeDirty=!1,this.payoffNames=[],this.defaultCriterion1Weight=1,this.weightLowerBound=0,this.weightUpperBound=1/0}},{key:"clearComputedValues",value:function(){this.nodes.forEach(function(t){return t.clearComputedValues()}),this.edges.forEach(function(t){return t.clearComputedValues()})}},{key:"addText",value:function(t){this.texts.push(t),this._fireTextAddedCallback(t)}},{key:"removeTexts",value:function(t){var e=this;t.forEach(function(t){return e.removeText(t)})}},{key:"removeText",value:function(t){var e=this.texts.indexOf(t);-1<e&&(this.texts.splice(e,1),this._fireTextRemovedCallback(t))}},{key:"clearExpressionScope",value:function(){var n=this;f.Utils.forOwn(this.expressionScope,function(t,e){delete n.expressionScope[e]})}},{key:"reversePayoffs",value:function(){this.payoffNames.reverse(),this.edges.forEach(function(t){return t.payoff.reverse()})}},{key:"_setNewState",value:function(t,e){var r=f.Utils.getObjectByIdMap(t.nodes),i=f.Utils.getObjectByIdMap(t.edges);this.nodes=t.nodes,this.edges=t.edges,this.texts=t.texts,this.payoffNames=t.payoffNames,this.defaultCriterion1Weight=t.defaultCriterion1Weight,this.weightLowerBound=t.weightLowerBound,this.weightUpperBound=t.weightUpperBound,this.expressionScope=t.expressionScope,this.code=t.code,this.$codeError=t.$codeError,this.nodes.forEach(function(t){for(var e=0;e<t.childEdges.length;e++){var n=i[t.childEdges[e].id];(t.childEdges[e]=n).parentNode=t,n.childNode=r[n.childNode.id]}}),t.revertConf&&(!e&&t.revertConf.onUndo&&t.revertConf.onUndo(t.revertConf.data),e&&t.revertConf.onRedo&&t.revertConf.onRedo(t.revertConf.data)),this.revertConf=t.revertConf}},{key:"_pushToStack",value:function(t,e){t.length>=this.maxStackSize&&t.shift(),t.push(e)}},{key:"_fireUndoRedoCallback",value:function(){!this.callbacksDisabled&&this.undoRedoStateChangedCallback&&this.undoRedoStateChangedCallback()}},{key:"_fireNodeAddedCallback",value:function(t){!this.callbacksDisabled&&this.nodeAddedCallback&&this.nodeAddedCallback(t)}},{key:"_fireNodeRemovedCallback",value:function(t){!this.callbacksDisabled&&this.nodeRemovedCallback&&this.nodeRemovedCallback(t)}},{key:"_fireTextAddedCallback",value:function(t){!this.callbacksDisabled&&this.textAddedCallback&&this.textAddedCallback(t)}},{key:"_fireTextRemovedCallback",value:function(t){!this.callbacksDisabled&&this.textRemovedCallback&&this.textRemovedCallback(t)}}]),e}();n.DataModel=s},{"./domain":44,"./validation-result":54,"sd-utils":55}],43:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Edge=void 0;var r=t("./object-with-computed-values");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=function(){function a(t,e,n,r,i){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u(this,s(a).call(this))).name="",o.probability=void 0,o.payoff=[0,0],o.$DISPLAY_VALUE_NAMES=["probability","payoff","optimal"],o.parentNode=t,o.childNode=e,void 0!==n&&(o.name=n),void 0!==i&&(o.probability=i),void 0!==r&&(o.payoff=r),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(a,r.ObjectWithComputedValues),function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(a,[{key:"setName",value:function(t){return this.name=t,this}},{key:"setProbability",value:function(t){return this.probability=t,this}},{key:"setPayoff",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:0;return this.payoff[n]=t,this}},{key:"computedBaseProbability",value:function(t){return this.computedValue(null,"probability",t)}},{key:"computedBasePayoff",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:0;return this.computedValue(null,"payoff["+n+"]",t)}},{key:"displayProbability",value:function(t){return this.displayValue("probability",t)}},{key:"displayPayoff",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:0;return this.displayValue("payoff["+n+"]",t)}}]),a}();n.Edge=a},{"./object-with-computed-values":49}],44:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./node/node");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var i=t("./node/decision-node");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("./node/chance-node");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var a=t("./node/terminal-node");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}})});var u=t("./edge");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})});var s=t("./point");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})});var c=t("./text");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return c[t]}})})},{"./edge":43,"./node/chance-node":45,"./node/decision-node":46,"./node/node":47,"./node/terminal-node":48,"./point":51,"./text":52}],45:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ChanceNode=void 0;var r=t("./node");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,a(e).call(this,e.$TYPE,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,r.Node),e}();(n.ChanceNode=s).$TYPE="chance"},{"./node":47}],46:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DecisionNode=void 0;var r=t("./node");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,a(e).call(this,e.$TYPE,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,r.Node),e}();(n.DecisionNode=s).$TYPE="decision"},{"./node":47}],47:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Node=void 0;var i=t("../point"),o=t("../object-with-computed-values");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(){function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=u(this,s(r).call(this))).childEdges=[],n.name="",n.code="",n.$codeDirty=!1,n.$codeError=null,n.expressionScope=null,n.folded=!1,n.$DISPLAY_VALUE_NAMES=["childrenPayoff","aggregatedPayoff","probabilityToEnter","optimal"],(n.location=e)||(n.location=new i.Point(0,0)),n.type=t,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,o.ObjectWithComputedValues),function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(r,[{key:"setName",value:function(t){return this.name=t,this}},{key:"moveTo",value:function(t,e,n){if(n){var r=t-this.location.x,i=e-this.location.y;this.childEdges.forEach(function(t){return t.childNode.move(r,i,!0)})}return this.location.moveTo(t,e),this}},{key:"move",value:function(e,n,t){return t&&this.childEdges.forEach(function(t){return t.childNode.move(e,n,!0)}),this.location.move(e,n),this}}]),r}();n.Node=l},{"../object-with-computed-values":49,"../point":51}],48:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TerminalNode=void 0;var r=t("./node");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,a(e).call(this,e.$TYPE,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,r.Node),e}();(n.TerminalNode=s).$TYPE="terminal"},{"./node":47}],49:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectWithComputedValues=void 0;var i=t("sd-utils"),r=t("./object-with-id-and-editable-fields");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=function(){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return s(n,(e=n=s(this,(t=c(a)).call.apply(t,[this].concat(i))),n.computed={},e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(a,r.ObjectWithIdAndEditableFields),function(t,e,n){e&&u(t.prototype,e),n&&u(t,n)}(a,[{key:"computedValue",value:function(t,e,n){var r="computed.";return t&&(r+=t+"."),r+=e,void 0===n?i.Utils.get(this,r,null):(i.Utils.set(this,r,n),n)}},{key:"clearComputedValues",value:function(t){var e=this;null!=t?i.Utils.isArray(t)?t.forEach(function(t){e.computed[t]={}}):this.computed[t]={}:this.computed={}}},{key:"clearDisplayValues",value:function(){this.computed.$displayValues={}}},{key:"displayValue",value:function(t,e){return this.computedValue(null,"$displayValues."+t,e)}},{key:"loadComputedValues",value:function(t){this.computed=i.Utils.cloneDeep(t)}}]),a}();n.ObjectWithComputedValues=a},{"./object-with-id-and-editable-fields":50,"sd-utils":55}],50:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectWithIdAndEditableFields=void 0;var r=t("sd-utils");function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=r.Utils.guid(),this.$fieldStatus={},this.$ObjectWithIdAndEditableFields=!0}return function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}(t,[{key:"getFieldStatus",value:function(t){return r.Utils.get(this.$fieldStatus,t,null)||r.Utils.set(this.$fieldStatus,t,{valid:{syntax:!0,value:!0}}),r.Utils.get(this.$fieldStatus,t)}},{key:"setSyntaxValidity",value:function(t,e){this.getFieldStatus(t).valid.syntax=e}},{key:"setValueValidity",value:function(t,e){this.getFieldStatus(t).valid.value=e}},{key:"isFieldValid",value:function(t,e,n){var r=!(1<arguments.length&&void 0!==e)||e,i=!(2<arguments.length&&void 0!==n)||n,o=this.getFieldStatus(t);return r&&i?o.valid.syntax&&o.valid.value:r?o.valid.syntax:o.valid.value}}]),t}();n.ObjectWithIdAndEditableFields=o},{"sd-utils":55}],51:[function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.Point=void 0;var i=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),t instanceof n?(e=t.y,t=t.x):Array.isArray(t)&&(e=t[1],t=t[0]),this.x=t,this.y=e}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(n,[{key:"moveTo",value:function(t,e){return Array.isArray(t)&&(e=t[1],t=t[0]),this.x=t,this.y=e,this}},{key:"move",value:function(t,e){return Array.isArray(t)&&(e=t[1],t=t[0]),this.x+=t,this.y+=e,this}}]),n}();n.Point=i},{}],52:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Text=void 0;var i=t("./point"),o=(t("sd-utils"),t("./object-with-id-and-editable-fields"));function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(){function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=u(this,s(r).call(this))).value="",(n.location=t)||(n.location=new i.Point(0,0)),e&&(n.value=e),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,o.ObjectWithIdAndEditableFields),function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(r,[{key:"moveTo",value:function(t,e){return this.location.moveTo(t,e),this}},{key:"move",value:function(t,e){return this.location.move(t,e),this}}]),r}();n.Text=l},{"./object-with-id-and-editable-fields":50,"./point":51,"sd-utils":55}],53:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={domain:!0};n.domain=void 0;var i=function(t){if(t&&t.__esModule)return t;var e=u();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}}n.default=t,e&&e.set(t,n);return n}(t("./domain"));n.domain=i;var o=t("./data-model");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}}))});var a=t("./validation-result");function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}}))})},{"./data-model":42,"./domain":44,"./validation-result":54}],54:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ValidationResult=void 0;var o=t("sd-utils");function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.errors={},this.warnings={},this.objectIdToError={}}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(n,[{key:"addError",value:function(t,e){o.Utils.isString(t)&&(t={name:t});var n=t.name,r=this.errors[n];r||(r=[],this.errors[n]=r);var i=this.objectIdToError[e.id];i||(i=[],this.objectIdToError[e.id]=i),r.push(e),i.push(t)}},{key:"addWarning",value:function(t,e){var n=this.warnings[t];n||(n=[],this.warnings[t]=n),n.push(e)}},{key:"isValid",value:function(){return 0===Object.getOwnPropertyNames(this.errors).length}}],[{key:"createFromDTO",value:function(t){var e=new n;return e.errors=t.errors,e.warnings=t.warnings,e.objectIdToError=t.objectIdToError,e}}]),n}();n.ValidationResult=i},{"sd-utils":55}],55:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={log:!0};Object.defineProperty(n,"log",{enumerable:!0,get:function(){return o.default}});var i,o=(i=t("loglevel"))&&i.__esModule?i:{default:i},a=t("./src/utils");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}}))})},{"./src/utils":56,loglevel:40}],56:[function(n,t,c){(function(t){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Utils=void 0;var u=function(t){if(t&&t.__esModule)return t;var e=a();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}}n.default=t,e&&e.set(t,n);return n}(n("lodash"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a)}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(a,null,[{key:"deepExtend",value:function(t,e){!t&&1<arguments.length&&Array.isArray(e)&&(t=[]),t=t||{};for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)if(r.hasOwnProperty(i)){var o=Array.isArray(t[i]),a=this.isObject(t[i]),u=this.isObject(r[i]);a&&!o&&u?this.deepExtend(t[i],r[i]):t[i]=r[i]}}return t}},{key:"extend",value:function(t,e){var n;for(n in t=t||{},e)t[n]=e[n];return t}},{key:"mergeDeep",value:function(e,n){var r=o({},e);return a.isObjectNotArray(e)&&a.isObjectNotArray(n)&&Object.keys(n).forEach(function(t){a.isObjectNotArray(n[t])&&t in e?r[t]=a.mergeDeep(e[t],n[t]):o(r,i({},t,n[t]))}),r}},{key:"getVariablesAsList",value:function(t){var n=[];return u.forOwn(t,function(t,e){a.isFunction(t)||n.push({key:e,value:t})}),n}},{key:"cross",value:function(t,e){var n,r,i=[],o=t.length,a=e.length;for(n=-1;++n<o;)for(r=-1;++r<a;)i.push({x:t[n],i:n,y:e[r],j:r});return i}},{key:"isObjectNotArray",value:function(t){return t&&"object"===s(t)&&!Array.isArray(t)&&null!==t}},{key:"isArray",value:function(t){return Array.isArray(t)}},{key:"isObject",value:function(t){return null!==t&&"object"===s(t)}},{key:"isNumber",value:function(t){return!isNaN(t)&&"number"==typeof t}},{key:"isNumeric",value:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},{key:"isInt",value:function(t){return a.isNumber(t)&&t%1==0}},{key:"isFunction",value:function(t){return"function"==typeof t}},{key:"isDate",value:function(t){return"[object Date]"===Object.prototype.toString.call(t)}},{key:"isString",value:function(t){return"string"==typeof t||t instanceof String}},{key:"guid",value:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},{key:"capitalizeFirstLetter",value:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},{key:"getObjectByIdMap",value:function(t,n,e){var r=2<arguments.length&&void 0!==e?e:"id",i={};return t&&t.forEach(function(t){var e=t;n&&(e=n(t)),i[t[r]]=e}),i}},{key:"waitForFinalEvent",value:function(t,e,n){var r=2<arguments.length&&void 0!==n?n:50;return a.timers[e=e||"Don't call this twice without a uniqueId"]&&clearTimeout(a.timers[e]),a.timers[e]=setTimeout(t,r),function(){return clearTimeout(a.timers[e])}}},{key:"detectIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(0<e)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(0<t.indexOf("Trident/")){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}return!1}},{key:"detectEdge",value:function(){var t=window.navigator.userAgent,e=t.indexOf("Edge/");return 0<e&&parseInt(t.substring(e+5,t.indexOf(".",e)),10)}},{key:"stripNumberToPrec",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:12;return parseFloat(parseFloat(t).toPrecision(n))}},{key:"getGlobalObject",value:function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{}}},{key:"isWorker",value:function(){var t=a.getGlobalObject();return!t.document&&!!t.postMessage}},{key:"stringify",value:function(t,r,e){var i=2<arguments.length&&void 0!==e?e:["$"],o=[];return JSON.stringify(t,function(e,n){if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(!i||!i.some(function(t){return u.startsWith(e,t)})){if("object"===s(n)&&null!==n){if(-1!==o.indexOf(n))return;o.push(n)}if(r){if(!a.isArray(r))return r(e,n);r.forEach(function(t){n=t(e,n)})}return n}},2)}},{key:"compareVersionNumbers",value:function(t,e){var n=t.split("."),r=e.split(".");function i(t){for(var e=0;e<t.length;++e)if(!a.isPositiveInteger(t[e]))return!1;return!0}if(!i(n)||!i(r))return NaN;for(var o=0;o<n.length;++o){if(r.length===o)return 1;if(n[o]!==r[o])return n[o]>r[o]?1:-1}return n.length!=r.length?-1:0}},{key:"isPositiveInteger",value:function(t){return/^\d+$/.test(t)}},{key:"isValidVersionString",value:function(t){return!!a.isString(t)&&a.versionRegexp.test(t)}},{key:"makeIterator",value:function(t){var e=0;return{next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0}}}}},{key:"isUnique",value:function(t,e){return t.length===new Set(t.map(e)).size}},{key:"getErrorDTO",value:function(t){return t?{name:t.constructor.name,message:t.message,data:t.data}:t}},{key:"cartesianProductOf",value:function(t){return a.reduce(t,function(t,n){return a.flatten(a.map(t,function(e){return a.map(n,function(t){return e.concat([t])})}),!0)},[[]])}},{key:"indexesOf",value:function(t,r){return t.reduce(function(t,e,n){return e===r?t.concat(n):t},[])}},{key:"startsWith",value:function(){return u.startsWith.apply(u,arguments)}},{key:"isBoolean",value:function(){return u.isBoolean.apply(u,arguments)}},{key:"find",value:function(){return u.find.apply(u,arguments)}},{key:"findIndex",value:function(){return u.findIndex.apply(u,arguments)}},{key:"fill",value:function(){return u.fill.apply(u,arguments)}},{key:"assign",value:function(){return u.assign.apply(u,arguments)}},{key:"cloneDeep",value:function(){return u.cloneDeep.apply(u,arguments)}},{key:"clone",value:function(){return u.clone.apply(u,arguments)}},{key:"cloneDeepWith",value:function(){return u.cloneDeepWith.apply(u,arguments)}},{key:"cloneWith",value:function(){return u.cloneWith.apply(u,arguments)}},{key:"mergeWith",value:function(){return u.mergeWith.apply(u,arguments)}},{key:"forOwn",value:function(){return u.forOwn.apply(u,arguments)}},{key:"get",value:function(){return u.get.apply(u,arguments)}},{key:"set",value:function(){return u.set.apply(u,arguments)}},{key:"reduce",value:function(){return u.reduce.apply(u,arguments)}},{key:"flatten",value:function(){return u.flatten.apply(u,arguments)}},{key:"map",value:function(){return u.map.apply(u,arguments)}},{key:"maxBy",value:function(){return u.maxBy.apply(u,arguments)}},{key:"minBy",value:function(){return u.minBy.apply(u,arguments)}},{key:"debounce",value:function(){return u.debounce.apply(u,arguments)}},{key:"template",value:function(){return u.template.apply(u,arguments)}},{key:"round",value:function(){return u.round.apply(u,arguments)}},{key:"sortBy",value:function(){return u.sortBy.apply(u,arguments)}}]),a}();(c.Utils=e).SQRT_2=1.41421356237,e.timers={},e.versionRegexp=/^([0-9]+)\.([0-9]+)\.([0-9]+)$/}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{lodash:39}],57:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AppUtils=void 0;var c=function(t){if(t&&t.__esModule)return t;var e=a();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}}n.default=t,e&&e.set(t,n);return n}(t("./d3")),l=t("./templates"),r=t("./i18n/i18n"),o=t("sd-utils");function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i)}return function(t,e,n){e&&u(t.prototype,e),n&&u(t,n)}(i,null,[{key:"placeTextWithEllipsis",value:function(t,e,n){var r=t.node();r.textContent=e;if(r.getComputedTextLength()>n+0){for(var i=e.length-3;0<i;i-=1)if(r.getSubStringLength(0,i)+9<=n+0)return r.textContent=e.substring(0,i)+"...",!0;return r.textContent="...",!0}return!1}},{key:"placeTextWithEllipsisAndTooltip",value:function(t,e,n,r){i.placeTextWithEllipsis(t,e,n)&&r&&(t.on("mouseover",function(t){r.transition().duration(200).style("opacity",.9),r.html(e).style("left",c.event.pageX+5+"px").style("top",c.event.pageY-28+"px")}),t.on("mouseout",function(t){r.transition().duration(500).style("opacity",0)}))}},{key:"getFontSize",value:function(t){return window.getComputedStyle(t,null).getPropertyValue("font-size")}},{key:"getTranslation",value:function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttributeNS(null,"transform",t);var n=e.transform.baseVal.consolidate().matrix;return[n.e,n.f]}},{key:"closestPoint",value:function(t,r){for(var e,n,i,o,a=t.getTotalLength(),u=8,s=1/0,c=0;c<=a;c+=u)(o=y(i=t.getPointAtLength(c)))<s&&(e=i,n=c,s=o);for(u/=2;.5<u;){var l,f,h,d,p,v;0<=(h=n-u)&&(p=y(l=t.getPointAtLength(h)))<s?(e=l,n=h,s=p):(d=n+u)<=a&&(v=y(f=t.getPointAtLength(d)))<s?(e=f,n=d,s=v):u/=2}return(e=[e.x,e.y]).distance=Math.sqrt(s),e;function y(t){var e=t.x-r[0],n=t.y-r[1];return e*e+n*n}}},{key:"growl",value:function(t,e,n,r){var i=1<arguments.length&&void 0!==e?e:"info",o=2<arguments.length&&void 0!==n?n:"right",a=3<arguments.length&&void 0!==r?r:2e3,u=l.Templates.get("growl",{message:t,type:i}),s=c.select("body").selectOrAppend("div.sd-growl-list."+o).append("div").html(u);setTimeout(function(){s.remove()},a)}},{key:"createElement",value:function(t,e,n){var r=document.createElement(t);return e&&i.deepExtend(r,e),n&&n.appendChild(r),r}},{key:"removeElement",value:function(t){t.parentNode.removeChild(t)}},{key:"replaceUrls",value:function(t){if(!t)return t;return t.replace(/((ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?)/,'<a href="$1" target="_blank">$1</a>')}},{key:"escapeHtml",value:function(t){var e=document.createTextNode(t),n=document.createElement("div");return n.appendChild(e),n.innerHTML}},{key:"dispatchHtmlEvent",value:function(t,e){if("createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent(e,!1,!0),t.dispatchEvent(n)}else t.fireEvent("on"+e)}},{key:"dispatchEvent",value:function(e,n){var r;try{r=new CustomEvent(e,{detail:n})}catch(t){(r=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!1,n)}document.dispatchEvent(r)}},{key:"getValidationMessage",value:function(t){o.Utils.isString(t)&&(t={name:t});var e="validation."+t.name;return r.i18n.t(e,t.data)}},{key:"hide",value:function(t){t.classed("sd-hidden",!0)}},{key:"show",value:function(t,e){var n=!(1<arguments.length&&void 0!==e)||e;t.classed("sd-hidden",!n)}},{key:"isHidden",value:function(t,e){return!t||(1<arguments.length&&void 0!==e&&!e?null===t.offsetParent:"none"===window.getComputedStyle(t).display)}},{key:"getJSON",value:function(t,e){var n=new XMLHttpRequest;n.open("get",t,!0),n.responseType="json",n.onload=function(){var t=n.status;200==t?e(n.response,null):e(null,t)},n.send()}}]),i}();(n.AppUtils=i).sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},i.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},i.availableHeight=function(t,e,n){return Math.max(0,i.sanitizeHeight(t,e)-n.top-n.bottom)},i.availableWidth=function(t,e,n){return Math.max(0,i.sanitizeWidth(t,e)-n.left-n.right)}},{"./d3":64,"./i18n/i18n":68,"./templates":76,"sd-utils":55}],58:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ContextMenu=void 0;var a=function(t){if(t&&t.__esModule)return t;var e=u();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}}n.default=t,e&&e.set(t,n);return n}(t("../d3"));function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var o=this;return"function"==typeof e?o.openCallback=e:(e=e||{},o.openCallback=e.onOpen,o.closeCallback=e.onClose),a.selectAll(".d3-context-menu").data([1]).enter().append("div").attr("class","d3-context-menu"),a.select("body").on("click.d3-context-menu",function(){a.select(".d3-context-menu").style("display","none"),o.closeCallback&&o.closeCallback()}),function(n,r){var i=this;a.selectAll(".d3-context-menu").html(""),a.selectAll(".d3-context-menu").on("contextmenu",function(t){a.select(".d3-context-menu").style("display","none"),a.event.preventDefault(),a.event.stopPropagation()}).append("ul").selectAll("li").data("function"==typeof t?t(n):t).enter().append("li").attr("class",function(t){var e="";return t.divider&&(e+=" is-divider"),t.disabled&&(e+=" is-disabled"),t.action||(e+=" is-header"),e}).html(function(t){return t.divider?"<hr>":(t.title||console.error("No title attribute set. Check the spelling of your options."),"string"==typeof t.title?t.title:t.title(n))}).on("click",function(t,e){t.disabled||t.action&&(t.action(i,n,r),a.select(".d3-context-menu").style("display","none"),o.closeCallback&&o.closeCallback())}),o.openCallback&&!1===o.openCallback(n,r)||(a.select(".d3-context-menu").style("left",a.event.pageX-2+"px").style("top",a.event.pageY-2+"px").style("display","block"),a.event.preventDefault(),a.event.stopPropagation())}}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(n,null,[{key:"hide",value:function(){a.select(".d3-context-menu").style("display","none")}}]),n}();n.ContextMenu=i},{"../d3":64}],59:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.EdgeContextMenu=void 0;var i=t("./context-menu"),o=t("../i18n/i18n");function a(t){return(a="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(){function e(r){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return(t=u(this,s(e).call(this,function(t){var e=[];return e.push({title:o.i18n.t("contextMenu.edge.injectDecisionNode"),action:function(t,e,n){r.injectDecisionNode(e)}}),e.push({title:o.i18n.t("contextMenu.edge.injectChanceNode"),action:function(t,e,n){r.injectChanceNode(e)}}),e}))).treeDesigner=r,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,i.ContextMenu),e}();n.EdgeContextMenu=l},{"../i18n/i18n":68,"./context-menu":58}],60:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.MainContextMenu=void 0;var i=t("./context-menu"),a=t("sd-model"),u=function(t){if(t&&t.__esModule)return t;var e=c();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}}n.default=t,e&&e.set(t,n);return n}(t("../d3")),s=t("../i18n/i18n");function c(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return c=function(){return t},t}function o(t){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(){function e(i){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=null;return(t=l(this,f(e).call(this,function(t){var e=[];return e.push({title:s.i18n.t("contextMenu.main.addDecisionNode"),action:function(t,e,n){var r=new a.domain.DecisionNode(o);i.addNode(r)}}),e.push({title:s.i18n.t("contextMenu.main.addChanceNode"),action:function(t,e,n){var r=new a.domain.ChanceNode(o);i.addNode(r)}}),e.push({divider:!0}),e.push({title:s.i18n.t("contextMenu.main.addText"),action:function(t,e,n){var r=new a.domain.Text(o);i.addText(r)}}),e.push({divider:!0}),e.push({title:s.i18n.t("contextMenu.main.paste"),action:function(t,e,n){i.pasteToNewLocation(o)},disabled:!i.copiedNodes||!i.copiedNodes.length}),e.push({divider:!0}),e.push({title:s.i18n.t("contextMenu.main.selectAllNodes"),action:function(t,e,n){i.selectAllNodes()}}),e},{onOpen:function(){i.clearSelection(),o=new a.domain.Point(u.mouse(i.svg.node())).move(i.getMainGroupTranslation(!0))}}))).treeDesigner=i,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,i.ContextMenu),e}();n.MainContextMenu=d},{"../d3":64,"../i18n/i18n":68,"./context-menu":58,"sd-model":41}],61:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.NodeContextMenu=void 0;var i=t("./context-menu"),l=t("sd-model"),f=t("../i18n/i18n");function o(t){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(){function c(u,s){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);return(t=h(this,d(c).call(this,function(t){var e={title:f.i18n.t("contextMenu.node.copy"),action:function(t,e,n){u.selectNode(e,!u.isNodeSelected(e)),u.copySelectedNodes()}},n={title:f.i18n.t("contextMenu.node.cut"),action:function(t,e,n){u.selectNode(e,!u.isNodeSelected(e)),u.cutSelectedNodes()}},r={title:f.i18n.t("contextMenu.node.paste"),action:function(t,e,n){u.pasteToNode(e)},disabled:t.folded||!u.copiedNodes||!u.copiedNodes.length},i={title:f.i18n.t("contextMenu.node.delete"),action:function(t,e,n){u.selectNode(e,!u.isNodeSelected(e)),u.removeSelectedNodes()}},o=[];if(t.type==l.domain.TerminalNode.$TYPE)return o=[e,n,i],c.addNodeConversionOptions(t,o,u),o;if(t.folded||(o.push({title:f.i18n.t("contextMenu.node.addDecisionNode"),action:function(t,e,n){u.addDecisionNode(e)}}),o.push({title:f.i18n.t("contextMenu.node.addChanceNode"),action:function(t,e,n){u.addChanceNode(e)}}),o.push({title:f.i18n.t("contextMenu.node.addTerminalNode"),action:function(t,e,n){u.addTerminalNode(e)}}),o.push({divider:!0})),o.push(e),o.push(n),o.push(r),o.push(i),c.addNodeConversionOptions(t,o,u),o.push({divider:!0}),o.push({title:f.i18n.t("contextMenu.node.selectSubtree"),action:function(t,e,n){u.selectSubTree(e,!0)}}),t.folded?o.push({title:f.i18n.t("contextMenu.node.unfold"),action:function(t,e,n){u.foldSubtree(e,!1)}}):o.push({title:f.i18n.t("contextMenu.node.fold"),action:function(t,e,n){u.foldSubtree(e)}}),s){var a=s(t);a.length&&(o.push({divider:!0}),a.forEach(function(r){o.push({title:f.i18n.t("contextMenu.node."+r.name),action:function(t,e,n){u.performOperation(e,r)},disabled:!r.canPerform(t)})}))}return o}))).treeDesigner=u,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(c,i.ContextMenu),function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(c,null,[{key:"addNodeConversionOptions",value:function(t,e,n){var r=c.getNodeConversionOptions(t,n);r.length&&(e.push({divider:!0}),r.forEach(function(t){return e.push(t)}))}},{key:"getNodeConversionOptions",value:function(e,n){var r=[];if(e.folded)return[];var t=[l.domain.DecisionNode.$TYPE,l.domain.ChanceNode.$TYPE,l.domain.TerminalNode.$TYPE];return!e.childEdges.length&&e.$parent?t.filter(function(t){return t!==e.type}).forEach(function(t){r.push(c.getNodeConversionOption(t,n))}):e instanceof l.domain.DecisionNode?r.push(c.getNodeConversionOption(l.domain.ChanceNode.$TYPE,n)):r.push(c.getNodeConversionOption(l.domain.DecisionNode.$TYPE,n)),r}},{key:"getNodeConversionOption",value:function(r,i){return{title:f.i18n.t("contextMenu.node.convert."+r),action:function(t,e,n){i.convertNode(e,r)}}}}]),c}();n.NodeContextMenu=s},{"../i18n/i18n":68,"./context-menu":58,"sd-model":41}],62:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.TextContextMenu=void 0;var i=t("./context-menu"),o=t("../i18n/i18n");function a(t){return(a="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(){function e(r){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return(t=u(this,s(e).call(this,function(t){var e={title:o.i18n.t("contextMenu.text.delete"),action:function(t,e,n){r.selectText(e,!0,!0),r.removeSelectedTexts()}},n=[];return n.push(e),n}))).treeDesigner=r,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,i.ContextMenu),e}();n.TextContextMenu=l},{"../i18n/i18n":68,"./context-menu":58}],63:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.D3Extensions=void 0;var r=function(t){if(t&&t.__esModule)return t;var e=a();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}}n.default=t,e&&e.set(t,n);return n}(t("./d3"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i)}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(i,null,[{key:"extend",value:function(){r.selection.prototype.enter.prototype.insertSelector=r.selection.prototype.insertSelector=function(t,e){return i.insertSelector(this,t,e)},r.selection.prototype.enter.prototype.appendSelector=r.selection.prototype.appendSelector=function(t){return i.appendSelector(this,t)},r.selection.prototype.enter.prototype.selectOrAppend=r.selection.prototype.selectOrAppend=function(t){return i.selectOrAppend(this,t)},r.selection.prototype.enter.prototype.selectOrInsert=r.selection.prototype.selectOrInsert=function(t,e){return i.selectOrInsert(this,t,e)}}},{key:"insertOrAppendSelector",value:function(t,e,n,r){for(var i=e.split(/([\.\#])/),o=t[n](i.shift(),r);1<i.length;){var a=i.shift(),u=i.shift();"."===a?o=o.classed(u,!0):"#"===a&&(o=o.attr("id",u))}return o}},{key:"insertSelector",value:function(t,e,n){return i.insertOrAppendSelector(t,e,"insert",n)}},{key:"appendSelector",value:function(t,e){return i.insertOrAppendSelector(t,e,"append")}},{key:"selectOrAppend",value:function(t,e,n){var r=t.select(e);return r.empty()?n?t.append(n):i.appendSelector(t,e):r}},{key:"selectOrInsert",value:function(t,e,n){var r=t.select(e);return r.empty()?i.insertSelector(t,e,n):r}}]),i}();n.D3Extensions=i},{"./d3":64}],64:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("d3-dispatch");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var i=t("d3-scale");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("d3-selection");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var a=t("d3-shape");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}})});var u=t("d3-drag");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})});var s=t("d3-brush");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})});var c=t("d3-array");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return c[t]}})});var l=t("d3-hierarchy");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return l[t]}})});var f=t("d3-time-format");Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return f[t]}})})},{"d3-array":19,"d3-brush":20,"d3-dispatch":23,"d3-drag":24,"d3-hierarchy":27,"d3-scale":30,"d3-selection":31,"d3-shape":32,"d3-time-format":33}],65:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Entscheidungsknoten hinzufÃ¼gen",addChanceNode:"Zufall Knoten hinzufÃ¼gen",addText:"Text hinzufÃ¼gen ",paste:"EinfÃ¼gen",selectAllNodes:"Alle Knoten auswÃ¤hlen"},node:{copy:"Kopieren",cut:"Ausschneiden",paste:"EinfÃ¼gen",delete:"LÃ¶schen",addDecisionNode:"Entscheidungsknoten hinzufÃ¼gen",addChanceNode:"Zufall Knoten hinzufÃ¼gen",addTerminalNode:"Endknotten hinzufÃ¼gen",convert:{decision:"Als Entscheidungsknoten",chance:"Als Zufall Knoten",terminal:"Als Endknoten"},selectSubtree:"Teilbaum wÃ¤hlen",fold:"Teilbaum falten",unfold:"Teilbaum entfalten",flipSubtree:"Teilbaum umdrehen"},edge:{injectDecisionNode:"Entscheidungsknoten Injizieren",injectChanceNode:"Zufall Knoten Injizieren"},text:{delete:"LÃ¶schen"}},validation:{incompletePath:"Pfad, der nicht mit dem Endknoten endet",probabilityDoNotSumUpTo1:"Die Summe der Wahrscheinlichkeiten ist nicht gleich 1",invalidProbability:"UngÃ¼ltige Wahrscheinlichkeit im Zweig #{{number}}",invalidPayoff:"UngÃ¼ltige Auszahlung in Zweig #{{number}}"},growl:{brushDisabled:"AuswahlbÃ¼rste deaktiviert",brushEnabled:"AuswahlbÃ¼rste aktiviert"},tooltip:{node:{payoff:{default:"Auszahlung {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Aggregierte Auszahlung {{number}}",named:"Aggregierte {{name}}"},probabilityToEnter:"Wahrscheinlichkeit"},edge:{payoff:{default:"Auszahlung {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Wahrscheinlichkeit: {{value}}"}}}},{}],66:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Add Decision Node",addChanceNode:"Add Chance Node",addText:"Add Text",paste:"Paste",selectAllNodes:"Select all nodes"},node:{copy:"Copy",cut:"Cut",paste:"Paste",delete:"Delete",addDecisionNode:"Add Decision Node",addChanceNode:"Add Chance Node",addTerminalNode:"Add Terminal Node",convert:{decision:"As Decision Node",chance:"As Chance Node",terminal:"As Terminal Node"},selectSubtree:"Select subtree",fold:"Fold subtree",unfold:"Unfold subtree",flipSubtree:"Flip subtree"},edge:{injectDecisionNode:"Inject Decision Node",injectChanceNode:"Inject Chance Node"},text:{delete:"Delete"}},validation:{incompletePath:"Path not ending with terminal node",probabilityDoNotSumUpTo1:"Probabilities do not sum up to 1",invalidProbability:"Invalid probability in edge #{{number}}",invalidPayoff:"Invalid payoff in edge #{{number}}"},growl:{brushDisabled:"Selection brush disabled",brushEnabled:"Selection brush enabled"},tooltip:{node:{payoff:{default:"Payoff {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Aggregated Payoff {{number}}",named:"Aggregated {{name}}"},probabilityToEnter:"Probability to enter"},edge:{payoff:{default:"Payoff {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Probability: {{value}}"}}}},{}],67:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Ajouter noud de dÃ©cision",addChanceNode:"Ajouter noud alÃ©atoire",addText:"Ajouter du texte",paste:"Coller",selectAllNodes:"SÃ©lectionner tous les nouds"},node:{copy:"Copie",cut:"Couper",paste:"Coller",delete:"Effacer",addDecisionNode:"Ajouter noud de dÃ©cision",addChanceNode:"Ajouter noud alÃ©atoire",addTerminalNode:"Ajouter un noeud terminal",convert:{decision:"Comme noud de dÃ©cision",chance:"Comme noud alÃ©atoire",terminal:"Comme un noeud terminal"},selectSubtree:"SÃ©lectionner une sous-arborescence",fold:"Plier sous-arbre",unfold:"DÃ©plier arbre sous-arbre",flipSubtree:"Basculer sous-arbre"},edge:{injectDecisionNode:"Injecter un noeud de dÃ©cision",injectChanceNode:"Injecter un noeud de chance"},text:{delete:"Effacer"}},validation:{incompletePath:"Parcours non terminÃ© par noeud terminal",probabilityDoNotSumUpTo1:"La somme des probabilitÃ©s n'est pas 1 ou plus",invalidProbability:"ProbabilitÃ© invalide - le bord #{{number}}",invalidPayoff:"Avantage invalide - le bord #{{number}}"},growl:{brushDisabled:"Brosse de sÃ©lection dÃ©sactivÃ©e",brushEnabled:"Brosse de sÃ©lection activÃ©e"},tooltip:{node:{payoff:{default:"Avantage {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Avantage agrÃ©gÃ© {{number}}",named:"AgrÃ©gÃ©  {{name}}"},probabilityToEnter:"ProbabilitÃ© d'entrÃ©e"},edge:{payoff:{default:"Avantage {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"ProbabilitÃ©: {{value}}"}}}},{}],68:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.i18n=void 0;var r,i=(r=t("i18next"))&&r.__esModule?r:{default:r},o=f(t("./en.json")),a=f(t("./pl.json")),u=f(t("./it.json")),s=f(t("./de.json")),c=f(t("./fr.json"));function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function f(t){if(t&&t.__esModule)return t;var e=l();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}}return n.default=t,e&&e.set(t,n),n}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var d=function(){function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n)}return function(t,e,n){e&&h(t.prototype,e),n&&h(t,n)}(n,null,[{key:"init",value:function(t){n.language=t;var e={en:{translation:o},pl:{translation:a},it:{translation:u},de:{translation:s},fr:{translation:c}};n.$instance=i.default.createInstance({lng:t,fallbackLng:"en",resources:e},function(t,e){})}},{key:"t",value:function(t,e){return n.$instance.t(t,e)}}]),n}();n.i18n=d},{"./de.json":65,"./en.json":66,"./fr.json":67,"./it.json":69,"./pl.json":70,i18next:38}],69:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Aggiungi un nodo di decisione",addChanceNode:"Aggiungi un nodo opportunitÃ ",addText:"Aggiungi testo",paste:"Incolla",selectAllNodes:"Seleziona tutti i nodi"},node:{copy:"Copia",cut:"Taglia",paste:"Incolla",delete:"Cancella",addDecisionNode:"Aggiungi un nodo di decisione",addChanceNode:"Aggiungi un nodo opportunitÃ ",addTerminalNode:"Aggiungi un nodo terminale",convert:{decision:"Come Decision Node",chance:"Come Chance Node",terminal:"Come Terminal Node"},selectSubtree:"Seleziona Sotto-albero",fold:"Piega sotto-albero",unfold:"Dispiegarsi sotto-albero",flipSubtree:"Ribalta sotto-albero"},edge:{injectDecisionNode:"Inietta nodo di decisione",injectChanceNode:"Inietta nodo opportunitÃ "},text:{delete:"Cancella"}},validation:{incompletePath:"Percorso senza nodo terminale",probabilityDoNotSumUpTo1:"La somma delle probabilitÃ  Ã¨ diversa da 1",invalidProbability:"ProbabilitÃ  non valida - bordo #{{number}}",invalidPayoff:"Saldo non valido - bordo #{{number}}"},growl:{brushDisabled:"Selezione pennello disabilitata",brushEnabled:"Selezione pennello abilitata"},tooltip:{node:{payoff:{default:"Saldo {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Saldo aggregato {{number}}",named:"Aggregato {{name}}"},probabilityToEnter:"ProbabilitÃ  da inserire"},edge:{payoff:{default:"Saldo {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"ProbabilitÃ : {{value}}"}}}},{}],70:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Dodaj WÄzeÅ Decyzyjny",addChanceNode:"Dodaj WÄzeÅ Losowy",addText:"Dodaj Tekst",paste:"Wklej",selectAllNodes:"Zaznacz wszystkie wÄzÅy"},node:{copy:"Kopiuj",cut:"Wytnij",paste:"Wklej",delete:"UsuÅ",addDecisionNode:"Dodaj WÄzeÅ Decyzyjny",addChanceNode:"Dodaj WÄzeÅ Losowy",addTerminalNode:"Dodaj WÄzeÅ KoÅcowy",convert:{decision:"Jako WÄzeÅ Decyzyjny",chance:"Jako WÄzeÅ Losowy",terminal:"Jako WÄzeÅ KoÅcowy"},selectSubtree:"Zaznacz poddrzewo",fold:"ZwiÅ poddrzewo",unfold:"RozwiÅ poddrzewo",flipSubtree:"PrzewrÃ³Ä poddrzewo"},edge:{injectDecisionNode:"Wstrzyknij WÄzeÅ Decyzyjny",injectChanceNode:"Wstrzyknij WÄzeÅ Losowy"},text:{delete:"UsuÅ"}},validation:{incompletePath:"Ostatnim wÄzÅem w ÅcieÅ¼ce powinien byÄ WÄzeÅ KoÅcowy",probabilityDoNotSumUpTo1:"PrawdopodobieÅstwa nie sumujÄ sie do 1",invalidProbability:"Niepoprawne prawdopodobieÅstwo na krawÄdzi #{{number}}",invalidPayoff:"Niepoprawna wypÅata na krawÄdzi #{{number}}"},growl:{brushDisabled:"Zaznaczanie wyÅÄczone",brushEnabled:"Zaznaczanie wÅÄczone"},tooltip:{node:{payoff:{default:"WypÅata {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Zagregowana wypÅata {{number}}",named:"Zagregowana {{name}}"},probabilityToEnter:"PrawdopodobieÅstwo wejÅcia"},edge:{payoff:{default:"WypÅata {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"PrawdopodobieÅstwo: {{value}}"}}}},{}],71:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={d3:!0};Object.defineProperty(n,"d3",{enumerable:!0,get:function(){return l.default}});var i=t("./d3-extensions");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}}))});var o=t("./tree-designer");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}}))});var a=t("./app-utils");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}}))});var u=t("./templates");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}}))});var s=t("./tooltip");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}}))});var c,l=(c=t("./d3"))&&c.__esModule?c:{default:c};i.D3Extensions.extend()},{"./app-utils":57,"./d3":64,"./d3-extensions":63,"./templates":76,"./tooltip":79,"./tree-designer":80}],72:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Layout=void 0;var l=t("sd-utils"),f=t("sd-model"),h=function(t){if(t&&t.__esModule)return t;var e=u();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}}n.default=t,e&&e.set(t,n);return n}(t("./d3")),r=a(t("./symbols/circle")),i=a(t("./symbols/triangle")),o=t("./app-utils");function a(t){return t&&t.__esModule?t:{default:t}}function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function s(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.nodeTypeToSymbol={decision:h.symbolSquare,chance:r.default,terminal:i.default},this.onAutoLayoutChanged=[],this.nodeTypeOrder={decision:0,chance:0,terminal:1},this.treeMargin=50,this.targetSymbolSize={},this.nodeSeparation=function(t,e){return t.parent===e.parent?1:1.2},this.nodeSymbolSize={},this.treeDesigner=t,this.data=e,this.config=n}return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(s,[{key:"update",value:function(t){if(t&&t.$parent&&t.$parent.childEdges.sort(function(t,e){return t.childNode.location.y-e.childNode.location.y}),!this.isManualLayout())return this.autoLayout(this.config.type,!0);t?this.moveNodeToEmptyPlace(t):this.treeDesigner.redraw(!0)}},{key:"isManualLayout",value:function(){return this.config.type===s.MANUAL_LAYOUT_NAME}},{key:"getNewChildLocation",value:function(t){if(!t)return new f.domain.Point(this.getNodeMinX(),this.getNodeMinY());var e=t.location.x+this.config.gridWidth,n=t.location.y;return t.childEdges.length&&(n=t.childEdges[t.childEdges.length-1].childNode.location.y+1),new f.domain.Point(e,n)}},{key:"getInjectedNodeLocation",value:function(t){var e=t.$linePoints[2];return new f.domain.Point(e[0],e[1])}},{key:"moveNodeToEmptyPlace",value:function(t,e){var n=!(1<arguments.length&&void 0!==e)||e,a=this;function r(i,o){return l.Utils.find(a.nodesSortedByX,function(t){if(i==t)return!1;var e=a.config.nodeSize/3,n=t.location.x,r=t.location.y;return o.x-e<=n&&o.x+e>=n&&o.y-e<=r&&o.y+e>=r})}t.location.x=Math.max(this.getNodeMinX(t),t.location.x),t.location.y=Math.max(this.getNodeMinY(t),t.location.y),this.nodesSortedByX=this.data.nodes.slice(),this.nodesSortedByX.sort(function(t,e){return t.location.x-e.location.x});for(var i,o=this.config.nodeSize/2,u=this.config.nodeSize+10,s=!1,c=new f.domain.Point(t.location);i=r(t,c);){s=!0,t.$parent&&i.$parent&&t.$parent===i.$parent?c.move(0,75):c.move(o,u)}s&&(t.moveTo(c.x,c.y,!0),n&&this.treeDesigner.redraw(!0))}},{key:"disableAutoLayout",value:function(){this.config.type=s.MANUAL_LAYOUT_NAME,this._fireOnAutoLayoutChangedCallbacks()}},{key:"drawNodeSymbol",value:function(t,o){var a=this,u=this.config.nodeSize;this.nodeSymbol=h.symbol().type(function(t){return a.nodeTypeToSymbol[t.type]}).size(function(t){return a.nodeSymbolSize[t.id]?l.Utils.get(a.targetSymbolSize,t.type+"['"+a.config.nodeSize+"']",64):64}),t.each(function(t){var e=h.select(this);e.attr("d")||e.attr("d",a.nodeSymbol);var n=l.Utils.get(a.targetSymbolSize,t.type+"['"+a.config.nodeSize+"']");if(!n){var r=e.node().getBBox(),i=Math.min(u/r.width,u/r.height);n=i*i*(a.nodeSymbolSize[t.id]||64),l.Utils.set(a.targetSymbolSize,t.type+"['"+a.config.nodeSize+"']",n)}o?e=e.transition():a.nodeSymbolSize[t.id]=n,e.attr("d",a.nodeSymbol),o&&(a.nodeSymbolSize[t.id]=n)})}},{key:"nodeLabelPosition",value:function(t){return t.attr("x",0).attr("y",-this.config.nodeSize/2-7)}},{key:"nodePayoffPosition",value:function(t){return s.setHangingPosition(t).attr("x",0).attr("y",this.config.nodeSize/2+7).attr("text-anchor","middle")}},{key:"nodeAggregatedPayoffPosition",value:function(t){var e=this.config.nodeSize/2+7,r=this;return t.attr("x",e).attr("y",function(t){var e=parseInt(o.AppUtils.getFontSize(this)),n=t.displayValue("aggregatedPayoff");return 1<(l.Utils.isArray(n)?n.filter(function(t){return void 0!==t}).length:1)?-this.getBBox().height/2+e/2:-Math.max(2,1.8*r.config.nodeSize/e)}),t.selectAll("tspan").attr("x",e),t}},{key:"nodeProbabilityToEnterPosition",value:function(t){var r=this;return s.setHangingPosition(t).attr("x",this.config.nodeSize/2+7).attr("y",function(t){var e=parseInt(o.AppUtils.getFontSize(this)),n=t.displayValue("aggregatedPayoff");return 1<(l.Utils.isArray(n)?n.filter(function(t){return void 0!==t}).length:1)?.6*e:Math.max(2,1.8*r.config.nodeSize/e)})}},{key:"nodeIndicatorPosition",value:function(t){return t.attr("x",this.config.nodeSize/2+8).attr("y",-this.config.nodeSize/2).attr("dominant-baseline","central").attr("text-anchor","middle")}},{key:"nodeUnfoldButtonPosition",value:function(t){return t.attr("x",this.config.nodeSize/2+5).attr("y",0).attr("dominant-baseline","central")}},{key:"edgeLineD",value:function(t){var e=h.line().x(function(t){return t[0]}).y(function(t){return t[1]}),n=t.parentNode,r=t.childNode,i=r.location.x-n.location.x,o=(r.location.y,n.location.y,0<=i?1:-1),a=Math.min(i/2,this.config.nodeSize/2+10),u=Math.min(this.config.edgeSlantWidthMax,Math.max(i/2-a,0)),s=[n.location.x+this.config.nodeSize/2+1,n.location.y],c=[Math.max(n.location.x+a,s[0]),n.location.y],l=[n.location.x+a+u,r.location.y],f=[r.location.x-o*Math.max(0,Math.min(this.config.nodeSize/2+8,i/2)),r.location.y];return t.$linePoints=[s,c,l,f],e(t.$linePoints)}},{key:"edgePayoffPosition",value:function(t){return s.setHangingPosition(t).attr("x",function(t){return t.$linePoints[2][0]+2}).attr("y",function(t){return t.$linePoints[2][1]+7}),t.selectAll("tspan").attr("x",function(t){return h.select(this.parentNode).datum().$linePoints[2][0]+2}),t}},{key:"edgeLabelPosition",value:function(t){return t.attr("transform",function(t){return"translate("+(t.$linePoints[2][0]+2)+","+(t.$linePoints[2][1]-7)+")"})}},{key:"edgeProbabilityPosition",value:function(t){return s.setHangingPosition(t).attr("x",function(t){var e=this.getComputedTextLength(),n=t.$linePoints[2][0]+2+this.previousSibling.childNodes[0].getComputedTextLength()+7+e;return Math.max(n,t.$linePoints[3][0]-8)}).attr("y",function(t){return t.$linePoints[2][1]+7})}},{key:"getMinMarginBetweenNodes",value:function(){return this.config.nodeSize+30}},{key:"getTextMinX",value:function(t){var e=0;if(t){var n=this.treeDesigner.getTextD3Selection(t).select("text").node().getBBox();n.x<0&&(e-=n.x)}return e}},{key:"getTextMinY",value:function(t){var e=0;if(t){var n=this.treeDesigner.getTextD3Selection(t).select("text").node().getBBox();n.y<0&&(e-=n.y)}return e}},{key:"getTextMaxX",value:function(t){return Number.MAX_SAFE_INTEGER}},{key:"getNodeMinX",value:function(t){return t&&t.$parent?t.$parent.location.x+this.getMinMarginBetweenNodes():this.config.nodeSize/2}},{key:"getNodeMinY",value:function(t){return this.config.nodeSize/2}},{key:"getNodeMaxX",value:function(t){return t&&t.childEdges.length?h.min(t.childEdges,function(t){return t.childNode.$hidden?9999999:t.childNode.location.x})-this.getMinMarginBetweenNodes():Number.MAX_SAFE_INTEGER}},{key:"setGridWidth",value:function(e,t){var n=this;this.config.gridWidth!==e&&(t||this.data.saveState({data:{gridWidth:n.config.gridWidth},onUndo:function(t){n.setGridWidth(t.gridWidth,!0)},onRedo:function(t){n.setGridWidth(e,!0)}}),this.config.gridWidth=e,this.update())}},{key:"setGridHeight",value:function(e,t){var n=this;this.config.gridHeight!==e&&(t||this.data.saveState({data:{gridHeight:n.config.gridHeight},onUndo:function(t){n.setGridHeight(t.gridHeight,!0)},onRedo:function(t){n.setGridHeight(e,!0)}}),this.config.gridHeight=e,this.update())}},{key:"setNodeSize",value:function(e,t){var n=this;this.config.nodeSize!==e&&(t||this.data.saveState({data:{nodeSize:n.config.nodeSize},onUndo:function(t){n.setNodeSize(t.nodeSize,!0)},onRedo:function(t){n.setNodeSize(e,!0)}}),this.config.nodeSize=e,this.update(),this.isManualLayout()&&(this.fitNodesInPlottingRegion(n.data.getRoots()),this.treeDesigner.redraw(!0)))}},{key:"setEdgeSlantWidthMax",value:function(e,t){var n=this;this.config.edgeSlantWidthMax!==e&&(t||this.data.saveState({data:{edgeSlantWidthMax:n.config.edgeSlantWidthMax},onUndo:function(t){n.setEdgeSlantWidthMax(t.edgeSlantWidthMax,!0)},onRedo:function(t){n.setEdgeSlantWidthMax(e,!0)}}),this.config.edgeSlantWidthMax=e,this.treeDesigner.redraw(!0))}},{key:"autoLayout",value:function(u,t){var s=this;if(t||this.data.saveState({data:{newLayout:u,currentLayout:s.config.type},onUndo:function(t){s.config.type=t.currentLayout,s._fireOnAutoLayoutChangedCallbacks()},onRedo:function(t){s.autoLayout(t.newLayout,!0)}}),this.config.type=u,this.data.nodes.length){var c=s.getNodeMinY();return this.data.getRoots().forEach(function(t){var e,n=h.hierarchy(t,function(t){return t.childEdges.filter(function(t){return!t.$hidden}).map(function(t){return t.childNode})});n.sort(function(t,e){return t.data.location.y-e.data.location.y}),(e="cluster"===u?h.cluster():h.tree()).nodeSize([s.config.gridHeight,s.config.gridWidth]),e.separation(s.nodeSeparation),e(n);var r=999999999;n.each(function(t){r=Math.min(r,t.x)});var i=n.x-r+c,o=s.getNodeMinX(),a=0;n.each(function(t){t.data.location.x=t.y+o,t.data.location.y=t.x+i,a=Math.max(a,t.data.location.y)}),c=a+s.config.nodeSize+s.treeMargin}),this.treeDesigner.redraw(!0),this._fireOnAutoLayoutChangedCallbacks(),this}this._fireOnAutoLayoutChangedCallbacks()}},{key:"fitNodesInPlottingRegion",value:function(t){var e=h.min(t,function(t){return t.location.y})-this.getNodeMinY(),n=h.min(t,function(t){return t.location.x})-this.getNodeMinX();(e<0||n<0)&&t.forEach(function(t){return t.move(-n,-e)})}},{key:"moveNodes",value:function(t,r,i,e){var o=this,a=o.config.limitNodePositioning;a&&(r<0?t.sort(function(t,e){return t.location.x-e.location.x}):t.sort(function(t,e){return e.location.x-t.location.x}));var n=h.min(t,function(t){return t.location.y});n+i<o.getNodeMinY()&&(i=o.getNodeMinY()-n),t.forEach(function(t){if(a){s.backupNodeLocation(t);var e=o.getNodeMinX(t),n=o.getNodeMaxX(t);t.location.x=Math.min(Math.max(t.location.x+r,e),n),t.location.y+=i}else t.location.x+=r,t.location.y+=i});var u=e&&o.config.limitNodePositioning&&e.location.x===e.$location.x;t.forEach(function(t){u&&(t.location.x=t.$location.x),o.treeDesigner.updateNodePosition(t)})}},{key:"moveTexts",value:function(t,i,o){var a=this,u=a.config.limitTextPositioning;u&&(i<0?t.sort(function(t,e){return t.location.x-e.location.x}):t.sort(function(t,e){return e.location.x-t.location.x})),t.forEach(function(t){if(u){var e=a.getTextMinX(t),n=a.getTextMaxX(t),r=a.getTextMinY(t);t.location.x=Math.min(Math.max(t.location.x+i,e),n),t.location.y=Math.max(t.location.y+o,r)}else t.location.move(i,o);a.treeDesigner.updateTextPosition(t)})}},{key:"_fireOnAutoLayoutChangedCallbacks",value:function(){var e=this;this.onAutoLayoutChanged.forEach(function(t){return t(e.config.type)})}}],[{key:"backupNodeLocation",value:function(t){t.$location=new f.domain.Point(t.location)}},{key:"setHangingPosition",value:function(t){return o.AppUtils.isHidden(t.node())||t.each(function(){this.getBBox().height;h.select(this).attr("dy","0.75em")}),t}}]),s}();(n.Layout=s).MANUAL_LAYOUT_NAME="manual"},{"./app-utils":57,"./d3":64,"./symbols/circle":74,"./symbols/triangle":75,"sd-model":41,"sd-utils":55}],73:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NodeDragHandler=void 0;var i=t("./app-utils"),o=function(t){if(t&&t.__esModule)return t;var e=u();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}}n.default=t,e&&e.set(t,n);return n}(t("./d3")),a=t("./context-menu/context-menu");function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.stateSnapshot=null,this.treeDesigner=t,this.data=e;var n=this;this.drag=o.drag().subject(function(t){if(null==t)return{x:event.x,y:event.y};var e=o.select(this);return{x:e.attr("x")+i.AppUtils.getTranslation(e.attr("transform"))[0],y:e.attr("y")+i.AppUtils.getTranslation(e.attr("transform"))[1]}}).on("start",function(t){n.dragStarted.call(this,t,n)}).on("drag",function(t){n.onDrag.call(this,t,n)}).on("end",function(t){n.dragEnded.call(this,t,n)})}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(r,[{key:"dragStarted",value:function(t,e){if(e.ignoreDrag)return e.ignoreDrag=!1,void(e.ignoredDrag=!0);e.ignoredDrag=!1,e.stateSnapshot=e.data.createStateSnapshot(),a.ContextMenu.hide();var n=o.select(this);n.classed("selected")||e.treeDesigner.clearSelection(),e.treeDesigner.selectNode(t),n.classed("selected dragging",!0),e.selectedNodes=e.treeDesigner.getSelectedNodes(!0),e.prevDragEvent=o.event,e.dragEventCount=0}},{key:"onDrag",value:function(t,e){if(!(e.ignoredDrag||(2===e.dragEventCount&&e.stateSnapshot&&(e.data.saveStateFromSnapshot(e.stateSnapshot),e.stateSnapshot=null),e.dragEventCount++,5<e.selectedNodes.length&&e.dragEventCount%2!=1))){var n=o.event.x-e.prevDragEvent.x,r=o.event.y-e.prevDragEvent.y;e.treeDesigner.layout.moveNodes(e.selectedNodes,n,r,t),e.prevDragEvent=o.event,e.treeDesigner.redrawEdges(),e.treeDesigner.updatePlottingRegionSize()}}},{key:"dragEnded",value:function(t,e){o.select(this).classed("dragging",!1);e.ignoredDrag||e.treeDesigner.layout.update(t)}},{key:"cancelDrag",value:function(){this.ignoreDrag=!0}}]),r}();n.NodeDragHandler=r},{"./app-utils":57,"./context-menu/context-menu":58,"./d3":64}],74:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=Math.PI,r={draw:function(t,e){var n=Math.sqrt(e/i),r=.552284749831*n;t.moveTo(-n,0),t.bezierCurveTo(-n,-r,-r,-n,0,-n),t.bezierCurveTo(r,-n,n,-r,n,0),t.bezierCurveTo(n,r,r,n,0,n),t.bezierCurveTo(-r,n,-n,r,-n,0)}};n.default=r},{}],75:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;Math.sqrt(3);var r={draw:function(t,e){var n=Math.sqrt(e/Math.PI);t.moveTo(-n,0),t.lineTo(.9*n,-n),t.lineTo(.9*n,n),t.closePath()}};n.default=r},{}],76:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Templates=void 0;var i=t("sd-utils"),o=t("./i18n/i18n");function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r)}return function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(r,null,[{key:"get",value:function(t,e){var n=i.Utils.template(r[t],{imports:{i18n:o.i18n,Templates:r,include:function(t,e){return r.get(t,e)}}});return e?e.variables=e:e={variables:{}},n(e)}},{key:"styleRule",value:function(t,e){var n=t+"{";return e.forEach(function(t){return n+=r.styleProp(t[0],t[1])}),n+="} "}},{key:"styleProp",value:function(t,e){return t+": <%= "+e+" %>; "}},{key:"nodeSelector",value:function(t,e){var n=r.treeDesignerSelector+" .node";return t&&(n+="."+t+"-node"),e&&(n+="."+e),n}},{key:"edgeSelector",value:function(t){var e=r.treeDesignerSelector+" .edge";return t&&(e+="."+t),e}}]),r}();(n.Templates=r).growl=t("./templates/growl_message.html"),r.treeDesignerSelector="svg.sd-tree-designer",r.treeDesignerStyles=r.styleRule(r.treeDesignerSelector,[["font-size","fontSize"],["font-family","fontFamily"],["font-weight","fontWeight"],["font-style","fontStyle"]])+r.styleRule(r.nodeSelector()+" path",[["fill","node.fill"],["stroke-width","node.strokeWidth"]])+r.styleRule(r.nodeSelector("decision","optimal")+" path, "+r.nodeSelector("chance","optimal")+" path,"+r.nodeSelector("terminal","optimal")+" path",[["stroke","node.optimal.stroke"],["stroke-width","node.optimal.strokeWidth"]])+r.styleRule(r.nodeSelector()+" .label",[["font-size","node.label.fontSize"],["fill","node.label.color"]])+r.styleRule(r.nodeSelector()+" .payoff",[["font-size","node.payoff.fontSize"],["fill","node.payoff.color"]])+r.styleRule(r.nodeSelector()+" .payoff.negative",[["fill","node.payoff.negativeColor"]])+r.styleRule(r.nodeSelector("decision")+" path",[["fill","node.decision.fill"],["stroke","node.decision.stroke"]])+r.styleRule(r.nodeSelector("decision","selected")+" path",[["fill","node.decision.selected.fill"]])+r.styleRule(r.nodeSelector("chance")+" path",[["fill","node.chance.fill"],["stroke","node.chance.stroke"]])+r.styleRule(r.nodeSelector("chance","selected")+" path",[["fill","node.chance.selected.fill"]])+r.styleRule(r.nodeSelector("terminal")+" path",[["fill","node.terminal.fill"],["stroke","node.terminal.stroke"]])+r.styleRule(r.nodeSelector("terminal","selected")+" path",[["fill","node.terminal.selected.fill"]])+r.styleRule(r.nodeSelector("terminal")+" .aggregated-payoff",[["font-size","node.terminal.payoff.fontSize"],["fill","node.terminal.payoff.color"]])+r.styleRule(r.nodeSelector("terminal")+" .aggregated-payoff.negative",[["fill","node.terminal.payoff.negativeColor"]])+r.styleRule(r.treeDesignerSelector+" .node .probability-to-enter, "+r.treeDesignerSelector+" .edge .probability",[["font-size","probability.fontSize"],["fill","probability.color"]])+r.styleRule(r.edgeSelector()+" path",[["stroke","edge.stroke"],["stroke-width","edge.strokeWidth"]])+r.styleRule(r.treeDesignerSelector+" marker#arrow path",[["fill","edge.stroke"]])+r.styleRule(r.edgeSelector("optimal")+" path",[["stroke","edge.optimal.stroke"],["stroke-width","edge.optimal.strokeWidth"]])+r.styleRule(r.treeDesignerSelector+" marker#arrow-optimal path",[["fill","edge.optimal.stroke"]])+r.styleRule(r.edgeSelector("selected")+" path",[["stroke","edge.selected.stroke"],["stroke-width","edge.selected.strokeWidth"]])+r.styleRule(r.treeDesignerSelector+" marker#arrow-selected path",[["fill","edge.selected.stroke"]])+r.styleRule(r.edgeSelector()+" .label",[["font-size","edge.label.fontSize"],["fill","edge.label.color"]])+r.styleRule(r.edgeSelector()+" .payoff",[["font-size","edge.payoff.fontSize"],["fill","edge.payoff.color"]])+r.styleRule(r.edgeSelector()+" .payoff.negative",[["fill","edge.payoff.negativeColor"]])+r.styleRule(r.treeDesignerSelector+" .sd-title-container text.sd-title",[["font-size","title.fontSize"],["font-weight","title.fontWeight"],["font-style","title.fontStyle"],["fill","title.color"]])+r.styleRule(r.treeDesignerSelector+" .sd-title-container text.sd-description",[["font-size","description.fontSize"],["font-weight","description.fontWeight"],["font-style","description.fontStyle"],["fill","description.color"]])},{"./i18n/i18n":68,"./templates/growl_message.html":77,"sd-utils":55}],77:[function(t,e,n){e.exports='module.exports = "<div class=\\"sd-growl-message <%=type%>\\">\\n    <div class=\\"sd-growl-message-text\\">\\n        <%= message %>\\n    </div>\\n</div>\\n";\n'},{}],78:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TextDragHandler=void 0;var i=t("./app-utils"),o=function(t){if(t&&t.__esModule)return t;var e=u();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}}n.default=t,e&&e.set(t,n);return n}(t("./d3")),a=t("./context-menu/context-menu");function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.treeDesigner=t,this.data=e;var n=this;this.drag=o.drag().subject(function(t){if(null==t)return{x:event.x,y:event.y};var e=o.select(this);return{x:e.attr("x")+i.AppUtils.getTranslation(e.attr("transform"))[0],y:e.attr("y")+i.AppUtils.getTranslation(e.attr("transform"))[1]}}).on("start",function(t){n.dragStarted.call(this,t,n)}).on("drag",function(t){n.onDrag.call(this,t,n)}).on("end",function(t){n.dragEnded.call(this,t,n)})}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(r,[{key:"dragStarted",value:function(t,e){a.ContextMenu.hide();var n=o.select(this);n.classed("selected")||e.treeDesigner.clearSelection(),e.treeDesigner.selectText(t),n.classed("selected dragging",!0),e.selectedNodes=e.treeDesigner.getSelectedNodes(),e.prevDragEvent=o.event,e.dragEventCount=0}},{key:"onDrag",value:function(t,e){2==e.dragEventCount&&e.data.saveState(),e.dragEventCount++;var n=o.event.x-e.prevDragEvent.x,r=o.event.y-e.prevDragEvent.y;e.treeDesigner.layout.moveTexts([t],n,r),e.prevDragEvent=o.event,e.treeDesigner.updatePlottingRegionSize()}},{key:"dragEnded",value:function(t,e){o.select(this).classed("dragging",!1)}}]),r}();n.TextDragHandler=r},{"./app-utils":57,"./context-menu/context-menu":58,"./d3":64}],79:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Tooltip=void 0;var a=function(t){if(t&&t.__esModule)return t;var e=s();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}}n.default=t,e&&e.set(t,n);return n}(t("./d3")),u=t("sd-utils");function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function l(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l)}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(l,null,[{key:"getContainer",value:function(){return a.select("body").selectOrAppend("div.sd-tooltip")}},{key:"show",value:function(t,e,n,r,i){var o=1<arguments.length&&void 0!==e?e:5,a=2<arguments.length&&void 0!==n?n:28,u=3<arguments.length?r:void 0,s=4<arguments.length&&void 0!==i?i:null,c=l.getContainer().style("opacity",0);c.transition().duration(200).style("opacity",.98),c.html(t),l.updatePosition(o,a,u),s&&setTimeout(function(){l.hide()},s)}},{key:"updatePosition",value:function(t,e,n){var r=0<arguments.length&&void 0!==t?t:5,i=1<arguments.length&&void 0!==e?e:28,o=2<arguments.length?n:void 0;o=o||a.event,l.getContainer().style("left",o.pageX+r+"px").style("top",o.pageY-i+"px")}},{key:"hide",value:function(t){var e=0<arguments.length&&void 0!==t?t:500,n=l.getContainer();e&&(n=n.transition().duration(e)),n.style("opacity",0)}},{key:"attach",value:function(t,r,i,o){t.on("mouseover",function(t,e){var n=null;null!=(n=u.Utils.isFunction(r)?r(t,e):r)&&""!==n?l.show(n,i,o):l.hide(0)}).on("mousemove",function(t){l.updatePosition(i,o)}).on("mouseout",function(t){l.hide()})}}]),l}();n.Tooltip=i},{"./d3":64,"sd-utils":55}],80:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TreeDesigner=n.TreeDesignerConfig=void 0;var k=r(t("./d3")),S=t("sd-utils"),c=t("./app-utils"),i=t("sd-model"),o=t("./context-menu/context-menu"),a=t("./context-menu/main-context-menu"),u=t("./context-menu/node-context-menu"),s=t("./layout"),l=t("./node-drag-handler"),M=t("./tooltip"),f=t("./templates"),h=t("./text-drag-handler"),d=t("./context-menu/text-context-menu"),p=t("./context-menu/edge-context-menu"),T=r(t("hammerjs")),N=t("./i18n/i18n");function v(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return v=function(){return t},t}function r(t){if(t&&t.__esModule)return t;var e=v();if(e&&e.has(t))return e.get(t);var n={};if(null!=t){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}}return n.default=t,e&&e.set(t,n),n}function y(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t){m(this,_),this.width=void 0,this.height=void 0,this.margin={left:25,right:25,top:25,bottom:25},this.scale=1,this.lng="en",this.layout={type:"tree",nodeSize:40,limitNodePositioning:!0,limitTextPositioning:!0,gridHeight:75,gridWidth:150,edgeSlantWidthMax:20},this.fontFamily="sans-serif",this.fontSize="12px",this.fontWeight="normal",this.fontStyle="normal",this.node={strokeWidth:"1px",optimal:{stroke:"#006f00",strokeWidth:"1.5px"},label:{fontSize:"1em",color:"black"},payoff:{fontSize:"1em",color:"black",negativeColor:"#b60000"},decision:{fill:"#ff7777",stroke:"#660000",selected:{fill:"#aa3333"}},chance:{fill:"#ffff44",stroke:"#666600",selected:{fill:"#aaaa00"}},terminal:{fill:"#44ff44",stroke:"black",selected:{fill:"#00aa00"},payoff:{fontSize:"1em",color:"black",negativeColor:"#b60000"}}},this.edge={stroke:"#424242",strokeWidth:"1.5",optimal:{stroke:"#006f00",strokeWidth:"2.4"},selected:{stroke:"#045ad1",strokeWidth:"3.5"},label:{fontSize:"1em",color:"back"},payoff:{fontSize:"1em",color:"black",negativeColor:"#b60000"}},this.probability={fontSize:"1em",color:"#0000d7"},this.title={fontSize:"16px",fontWeight:"bold",fontStyle:"normal",color:"#000000",margin:{top:15,bottom:10}},this.description={show:!0,fontSize:"12px",fontWeight:"bold",fontStyle:"normal",color:"#000000",margin:{top:5,bottom:10}},this.readOnly=!1,this.disableAnimations=!1,this.forceFullEdgeRedraw=!1,this.hideLabels=!1,this.hidePayoffs=!1,this.hideProbabilities=!1,this.raw=!1,this.payoffNumberFormatter=function(t,e){return t},this.probabilityNumberFormatter=function(t){return t},this.onNodeSelected=function(t){},this.onEdgeSelected=function(t){},this.onTextSelected=function(t){},this.onSelectionCleared=function(){},this.operationsForObject=function(t){return[]},this.payoffNames=[null,null],this.maxPayoffsToDisplay=1,t&&S.Utils.deepExtend(this,t)}n.TreeDesignerConfig=_;var b=function(){function r(t,e,n){m(this,r),this.setConfig(n),this.data=e,this.initContainer(t),this.init()}return function(t,e,n){e&&g(t.prototype,e),n&&g(t,n)}(r,[{key:"setConfig",value:function(t){return this.config=new _(t),this.layout&&(this.layout.config=this.config.layout),this.updateCustomStyles(),this}},{key:"init",value:function(){this.initSvg(),this.initLayout(),this.initI18n(),this.initBrush(),this.initEdgeMarkers(),this.updateCustomStyles(),this.config.readOnly||(this.initMainContextMenu(),this.initNodeContextMenu(),this.initEdgeContextMenu(),this.initNodeDragHandler(),this.initTextDragHandler(),this.initTextContextMenu()),this.redraw()}},{key:"initI18n",value:function(){N.i18n.init(this.config.lng)}},{key:"updateCustomStyles",value:function(){return k.select("head").selectOrAppend("style#sd-tree-designer-style").html(f.Templates.get("treeDesignerStyles",this.config)),this}},{key:"initLayout",value:function(){this.layout=new s.Layout(this,this.data,this.config.layout)}},{key:"initNodeDragHandler",value:function(){this.nodeDragHandler=new l.NodeDragHandler(this,this.data)}},{key:"initTextDragHandler",value:function(){this.textDragHandler=new h.TextDragHandler(this,this.data)}},{key:"redraw",value:function(t){var e=0<arguments.length&&void 0!==t&&t,n=this;return e=!n.config.disableAnimations&&e,this.redrawDiagramTitle(),this.redrawDiagramDescription(),this.updateScale(e),this.updateMargin(e),e&&(n.transitionPrev=n.transition,n.transition=!0),this.redrawNodes(),this.redrawEdges(),this.redrawFloatingTexts(),this.updateValidationMessages(),e&&(n.transition=n.transitionPrev),setTimeout(function(){n.updatePlottingRegionSize()},10),this}},{key:"computeAvailableSpace",value:function(){this.availableHeight=c.AppUtils.sanitizeHeight(this.config.height,this.container,this.config.margin),this.availableWidth=c.AppUtils.sanitizeWidth(this.config.width,this.container,this.config.margin)}},{key:"initSvg",value:function(){var t=this;this.computeAvailableSpace(),this.svg=this.container.selectOrAppend("svg.sd-tree-designer"),this.svg.attr("width",this.availableWidth).attr("height",this.availableHeight),this.wrapperGroup=this.svg.selectOrAppend("g.sd-wrapper-group"),this.mainGroup=this.wrapperGroup.selectOrAppend("g.main-group"),this.updateScale(),this.updateMargin(),this.config.width||k.select(window).on("resize.tree-designer",function(){t.updatePlottingRegionSize(),t.redrawDiagramTitle()});var e=new T.Manager(this.svg.node(),{touchAction:"auto"});e.add(new T.Press({pointerType:"touch"})),e.add(new T.Pinch({pointerType:"touch"})),e.on("pinchstart",function(){t.disableBrush()}),e.on("pinch",function(){S.Utils.waitForFinalEvent(function(){return t.enableBrush()},"pinchend",5e3)})}},{key:"updateMargin",value:function(t){var e=this,n=this.config.margin,r=this.mainGroup;t&&(r=r.transition()),this.topMargin=n.top,(this.diagramTitle||this.diagramDescription)&&(this.topMargin=parseInt(this.diagramTitle?this.config.title.margin.top:0)+this.getTitleGroupHeight()+Math.max(this.topMargin,parseInt(this.config.title.margin.bottom))),r.attr("transform","translate("+n.left+","+this.topMargin+")").on("end",function(){return e.updatePlottingRegionSize()})}},{key:"setMargin",value:function(e,t){var n=this;t||this.data.saveState({data:{margin:S.Utils.clone(n.config.margin)},onUndo:function(t){n.setMargin(t.margin,!0)},onRedo:function(t){n.setMargin(e,!0)}}),S.Utils.deepExtend(this.config.margin,e),this.redrawDiagramTitle(),this.updateMargin(!0)}},{key:"updateScale",value:function(t){var e=this,n=this.config.scale,r=this.wrapperGroup;t&&(r=r.transition()),r.attr("transform","scale("+n+")").on("end",function(){return e.updatePlottingRegionSize()})}},{key:"setScale",value:function(e,t){var n=this;t||this.data.saveState({data:{scale:S.Utils.clone(n.config.scale)},onUndo:function(t){n.setScale(t.scale,!0)},onRedo:function(t){n.setScale(e,!0)}}),this.config.scale=e,this.updateScale(!0)}},{key:"initContainer",value:function(t){if(S.Utils.isString(t)){var e=t.trim();S.Utils.startsWith(e,"#")||S.Utils.startsWith(e,".")||(e="#"+e),this.container=k.select(e)}else t._parents?this.container=t:this.container=k.select(t)}},{key:"updatePlottingRegionSize",value:function(){var t=!1;this.computeAvailableSpace();var e=this.config.margin,n=this.svg.attr("width"),r=this.svg.attr("height"),i=this.mainGroup.node().getBBox(),o=i.width+i.x+e.left+e.right;o*=this.config.scale,this.container.classed("with-overflow-x",o>=this.availableWidth),n!=(o=Math.max(o,this.availableWidth))&&(t=!0,this.svg.attr("width",o));var a=i.height+i.y+this.topMargin+e.bottom;a*=this.config.scale,this.container.classed("with-overflow-y",a>=this.availableHeight),r!=(a=Math.max(a,this.availableHeight))&&(t=!0,this.svg.attr("height",a)),t&&this.updateBrushExtent()}},{key:"redrawNodes",value:function(){var i=this,t=this.mainGroup.selectOrAppend("g.nodes").selectAll(".node").data(this.data.nodes.filter(function(t){return!t.$hidden}),function(t,e){return t.id});t.exit().remove();var e=t.enter().append("g").attr("id",function(t){return"node-"+t.id}).attr("class",function(t){return t.type+"-node node"}).attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"});e.append("path");var n=e.append("text").attr("class","label"),r=e.append("text").attr("class","payoff computed"),o=e.append("text").attr("class","error-indicator").text("!!"),a=e.append("text").attr("class","aggregated-payoff"),u=e.append("text").attr("class","probability-to-enter"),s=e.merge(t);s.classed("optimal",function(t){return i.isOptimal(t)});var c=s;this.transition&&(c=s.transition()).on("end",function(){return i.updatePlottingRegionSize()}),c.attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"});var l=s.select("path");this.layout.drawNodeSymbol(l,this.transition),this.layout.nodeLabelPosition(n),s.select("text.label").classed("sd-hidden",this.config.hideLabels);var f=c.select("text.label");f.each(this.updateTextLines),this.layout.nodeLabelPosition(f).attr("text-anchor","middle");var h=s.select("text.payoff"),d=h.selectAll("tspan").data(function(t){var e=t.displayValue("childrenPayoff");return S.Utils.isArray(e)?e.filter(function(t){return void 0!==t}):[e]});d.exit().remove();var p=d.enter().append("tspan").merge(d);p.attr("dy",function(t,e){return 0<e?"1.1em":void 0}).attr("x","0").classed("negative",function(t){return null!==t&&t<0}).classed("sd-hidden",this.config.hidePayoffs||this.config.raw).text(function(t,e){var n=t;return null!==n?isNaN(n)?n:i.config.payoffNumberFormatter(n,e):""}),this.attachPayoffTooltip(p);var v=h;this.transition&&(v=h.transition()),this.layout.nodePayoffPosition(r),this.layout.nodePayoffPosition(v);var y=s.select("text.aggregated-payoff"),g=y.selectAll("tspan").data(function(t){var e=t.displayValue("aggregatedPayoff");return S.Utils.isArray(e)?e.filter(function(t){return void 0!==t}):[e]});g.exit().remove();var m=g.enter().append("tspan").merge(g).attr("dy",function(t,e){return 0<e?"0.95em":void 0}).classed("negative",function(t){return null!==t&&t<0}).classed("sd-hidden",this.config.hidePayoffs||this.config.raw).text(function(t,e){return null!==t?isNaN(t)?t:i.config.payoffNumberFormatter(t,e):""});this.attachPayoffTooltip(m,"aggregatedPayoff");var _=y;this.transition&&(_=y.transition()),this.layout.nodeAggregatedPayoffPosition(a),this.layout.nodeAggregatedPayoffPosition(_);var b=s.select("text.probability-to-enter").text(function(t){var e=t.displayValue("probabilityToEnter");return null!==e?isNaN(e)?e:i.config.probabilityNumberFormatter(e):""}).classed("sd-hidden",this.config.hideProbabilities||this.config.raw);M.Tooltip.attach(b,N.i18n.t("tooltip.node.probabilityToEnter"));var x=b;this.transition&&(x=b.transition()),this.layout.nodeProbabilityToEnterPosition(u),this.layout.nodeProbabilityToEnterPosition(x);var w=s.select("text.error-indicator");w.classed("sd-hidden",this.config.raw),this.layout.nodeIndicatorPosition(o),this.layout.nodeIndicatorPosition(w),this.nodeDragHandler&&s.call(this.nodeDragHandler.drag),s.on("contextmenu",this.nodeContextMenu),s.on("dblclick",this.nodeContextMenu),s.each(function(t,e){var n=new T.Manager(this);if(n.add(new T.Press({pointerType:"touch"})),n.on("press",function(t){"touch"==t.pointerType&&i.nodeDragHandler.cancelDrag()}),t.folded){var r=k.select(this).selectOrAppend("text.sd-unfold-button").text("[+]").on("click dbclick mousedown",function(){return i.foldSubtree(t,!1)});i.layout.nodeUnfoldButtonPosition(r),M.Tooltip.attach(r,N.i18n.t("contextMenu.node.unfold"))}else k.select(this).select(".sd-unfold-button").remove()})}},{key:"attachPayoffTooltip",value:function(t,e,n){var r=1<arguments.length&&void 0!==e?e:"payoff",i=2<arguments.length&&void 0!==n?n:"node",o=this;M.Tooltip.attach(t,function(t,e){return o.config.payoffNames.length>e&&null!==o.config.payoffNames[e]?N.i18n.t("tooltip."+i+"."+r+".named",{value:t.payoff,number:e+1,name:o.config.payoffNames[e]}):N.i18n.t("tooltip."+i+"."+r+".default",{value:t.payoff,number:o.config.maxPayoffsToDisplay<2?"":e+1})})}},{key:"updateTextLines",value:function(t){var e=t.name?t.name.split("\n"):[];e.reverse();var n=k.select(this).selectAll("tspan").data(e);n.enter().append("tspan").merge(n).text(function(t){return t}).attr("dy",function(t,e){return 0<e?"-1.1em":void 0}).attr("x","0"),n.exit().remove()}},{key:"isOptimal",value:function(t){return t.displayValue("optimal")}},{key:"redrawEdges",value:function(){var i=this,o=this,t=this.mainGroup.selectOrAppend("g.edges");o.config.forceFullEdgeRedraw&&t.selectAll("*").remove();var e=t.selectAll(".edge").data(this.data.edges.filter(function(t){return!t.$hidden}),function(t,e){return t.id});e.exit().remove();var n=e.enter().append("g").attr("id",function(t){return"edge-"+t.id}).attr("class","edge");n.append("path");var r=n.appendSelector("g.label-group");r.append("text").attr("class","label");var a=n.append("text").attr("class","payoff"),u=n.append("text").attr("class","probability"),s=n.merge(e);s.classed("optimal",function(t){return o.isOptimal(t)});var c=s;this.transition&&(c=s.transition()),c.select("path").attr("d",function(t){return i.layout.edgeLineD(t)}).attr("fill","none").attr("marker-end",function(t){return"url(#arrow"+(k.select(this.parentNode).classed("selected")?"-selected":o.isOptimal(t)?"-optimal":"")+")"}),s.on("click",function(t){o.selectEdge(t,!0)}),this.layout.edgeLabelPosition(r),c.select("text.label").each(this.updateTextLines),s.select("g.label-group").classed("sd-hidden",this.config.hideLabels);var l=c.select("g.label-group");this.layout.edgeLabelPosition(l);var f=s.select("text.payoff"),h=f.selectAll("tspan").data(function(e){var t=e.displayValue("payoff");return S.Utils.isArray(t)?t.slice(0,Math.min(t.length,o.config.maxPayoffsToDisplay)).map(function(t){return e}):[e]});h.exit().remove();var d=h.enter().append("tspan").merge(h);d.attr("dy",function(t,e){return 0<e?"1.1em":void 0}).classed("negative",function(t,e){var n=t.displayPayoff(void 0,e);return null!==n&&n<0}).classed("sd-hidden",this.config.hidePayoffs).text(function(t,e){if(i.config.raw)return t.payoff[e];var n=t.displayValue("payoff"),r=(S.Utils.isArray(n)?n:[n])[e];if(null!==r){if(!isNaN(r))return o.config.payoffNumberFormatter(r,e);if(S.Utils.isString(r))return r}return null===t.payoff[e]||isNaN(t.payoff[e])?t.payoff[e]:o.config.payoffNumberFormatter(t.payoff[e],e)}),M.Tooltip.attach(d,function(t,e){return o.config.payoffNames.length>e&&null!==o.config.payoffNames[e]?N.i18n.t("tooltip.edge.payoff.named",{value:t.payoff[e],number:e+1,name:o.config.payoffNames[e]}):N.i18n.t("tooltip.edge.payoff.default",{value:t.payoff[e],number:o.config.maxPayoffsToDisplay<2?"":e+1})});var p=f;this.transition&&(p=f.transition()),this.layout.edgePayoffPosition(a),this.layout.edgePayoffPosition(p),M.Tooltip.attach(s.select("text.probability"),function(t){return N.i18n.t("tooltip.edge.probability",{value:void 0===t.probability?t.displayProbability():t.probability})}),s.select("text.probability").classed("sd-hidden",this.config.hideProbabilities);var v=s.select("text.probability");v.attr("text-anchor","end").text(function(t){if(i.config.raw)return t.probability;var e=t.displayProbability();if(null!==e){if(!isNaN(e))return o.config.probabilityNumberFormatter(e);if(S.Utils.isString(e))return e}return null===t.probability||isNaN(t.probability)?t.probability:o.config.probabilityNumberFormatter(t.probability)});var y=v;this.transition&&(y=v.transition()),this.layout.edgeProbabilityPosition(u),this.layout.edgeProbabilityPosition(y),t.selectAll(".edge.optimal").raise(),s.on("contextmenu",this.edgeContextMenu),s.on("dblclick",this.edgeContextMenu),s.each(function(t,e){new T.Manager(this).add(new T.Press({pointerType:T.POINTER_TOUCH}))})}},{key:"redrawFloatingTexts",value:function(){var t=this.mainGroup.selectOrAppend("g.floating-texts").selectAll(".floating-text").data(this.data.texts,function(t,e){return t.id});t.exit().remove();var e=t.enter().appendSelector("g.floating-text").attr("id",function(t){return"text-"+t.id});e.append("rect").attr("x",-5).attr("y",-16).attr("fill-opacity",0),e.append("text");var n=e.merge(t),r=n;this.transition&&(r=n.transition()),r.attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"});var i=n.select("text").selectAll("tspan").data(function(t){return t.value?t.value.split("\n"):[]});i.enter().append("tspan").merge(i).html(function(t){return c.AppUtils.replaceUrls(c.AppUtils.escapeHtml(t))}).attr("dy",function(t,e){return 0<e?"1.1em":void 0}).attr("x","0"),i.exit().remove(),n.classed("sd-empty",function(t){return!t.value||!t.value.trim()}),n.select("rect").attr("width",40).attr("height",20),n.each(function(t){if(t.value){var e=k.select(this).select("text").node().getBBox();k.select(this).select("rect").attr("y",e.y-5).attr("width",Math.max(e.width+10,40)).attr("height",Math.max(e.height+10,20))}}),this.textDragHandler&&n.call(this.textDragHandler.drag),n.on("contextmenu",this.textContextMenu),n.on("dblclick",this.textContextMenu),n.each(function(t,e){new T.Manager(this).add(new T.Press({pointerType:"touch"}))})}},{key:"updateValidationMessages",value:function(){var o=this;this.mainGroup.selectAll(".node").classed("error",!1),this.data.validationResults.forEach(function(i){i.isValid()||Object.getOwnPropertyNames(i.objectIdToError).forEach(function(t){var e=i.objectIdToError[t],n=o.getNodeD3SelectionById(t);n.classed("error",!0);var r="";e.forEach(function(t){r&&(r+="<br/>"),r+=c.AppUtils.getValidationMessage(t)}),M.Tooltip.attach(n.select(".error-indicator"),r)})})}},{key:"initEdgeMarkers",value:function(){this.svg.append("svg:defs");this.initArrowMarker("arrow"),this.initArrowMarker("arrow-optimal"),this.initArrowMarker("arrow-selected")}},{key:"initArrowMarker",value:function(t){this.svg.select("defs").append("marker").attr("id",t).attr("viewBox","0 -5 10 10").attr("refX",5).attr("refY",0).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("class","arrowHead")}},{key:"updateBrushExtent",value:function(){this.brush.extent([[0,0],[this.svg.attr("width"),this.svg.attr("height")]]),this.brushContainer.call(this.brush)}},{key:"initBrush",value:function(){var s=this,e=s.brushContainer=this.brushContainer=this.wrapperGroup.selectOrInsert("g.brush",":first-child").attr("class","brush"),n=this.brush=k.brush().on("start",function(){if(!k.event.selection)return;s.hoveredEdge?s.selectEdge(s.hoveredEdge.datum(),!0):s.clearSelection();o.ContextMenu.hide()}).on("brush",function(){var o=k.event.selection;if(!o)return;s.mainGroup.selectAll(".node").classed("selected",function(t){var e=s.getMainGroupTranslation(),n=t.location.x+e[0],r=t.location.y+e[1],i=.25*s.config.layout.nodeSize;return o[0][0]<=n+i&&n-i<=o[1][0]&&o[0][1]<=r+i&&r-i<=o[1][1]})}).on("end",function(){if(!k.event.selection)return;n.move(e,null);var t=s.getSelectedNodes();t&&1===t.length&&s.selectNode(t[0])});this.updateBrushExtent(),e.select(".overlay").on("mousemove.edgeSelection",function(){var o=k.mouse(this),a=s.getMainGroupTranslation(),u=[null,999999999];s.mainGroup.selectAll(".edge").each(function(t){var e=k.select(this);e.classed("sd-hover",!1);var n=e.select("path").node(),r=n.getBBox();if(r.x+a[0]<=o[0]&&r.x+r.width+a[0]>=o[0]&&r.y+a[1]-10<=o[1]&&r.y+r.height+a[1]+10>=o[1]){var i=c.AppUtils.closestPoint(n,[o[0]-a[0],o[1]-a[1]]);i.distance<10&&i.distance<u[1]&&(u=[e,i.distance])}}),s.hoveredEdge=null,u[0]&&(u[0].classed("sd-hover",!0),s.hoveredEdge=u[0])})}},{key:"disableBrush",value:function(){this.brushDisabled||c.AppUtils.growl(N.i18n.t("growl.brushDisabled"),"info","left"),this.brushDisabled=!0,this.brushContainer.remove()}},{key:"enableBrush",value:function(){this.brushDisabled&&(c.AppUtils.growl(N.i18n.t("growl.brushEnabled"),"info","left"),this.initBrush(),this.brushDisabled=!1)}},{key:"getMainGroupTranslation",value:function(t){var e=c.AppUtils.getTranslation(this.mainGroup.attr("transform"));return t&&(e[0]=-e[0],e[1]=-e[1]),e}},{key:"initNodeContextMenu",value:function(){this.nodeContextMenu=new u.NodeContextMenu(this,this.config.operationsForObject)}},{key:"initEdgeContextMenu",value:function(){this.edgeContextMenu=new p.EdgeContextMenu(this)}},{key:"initTextContextMenu",value:function(){this.textContextMenu=new d.TextContextMenu(this)}},{key:"initMainContextMenu",value:function(){this.mainContextMenu=new a.MainContextMenu(this),this.svg.on("contextmenu",this.mainContextMenu),this.svg.on("dblclick",this.mainContextMenu)}},{key:"addText",value:function(t){this.data.saveState(),this.data.addText(t),this.redraw(),this.selectText(t)}},{key:"addNode",value:function(t,e,n){return this.data.saveState(),this.data.addNode(t,e),this.redraw(!0),this.layout.update(t),t}},{key:"addDecisionNode",value:function(t){var e=new i.domain.DecisionNode(this.layout.getNewChildLocation(t));this.addNode(e,t)}},{key:"addChanceNode",value:function(t){var e=new i.domain.ChanceNode(this.layout.getNewChildLocation(t));this.addNode(e,t)}},{key:"addTerminalNode",value:function(t){var e=new i.domain.TerminalNode(this.layout.getNewChildLocation(t));this.addNode(e,t)}},{key:"injectNode",value:function(t,e){return this.data.saveState(),this.data.injectNode(t,e),this.redraw(),this.layout.update(t),t}},{key:"injectDecisionNode",value:function(t){var e=new i.domain.DecisionNode(this.layout.getInjectedNodeLocation(t));this.injectNode(e,t)}},{key:"injectChanceNode",value:function(t){var e=new i.domain.ChanceNode(this.layout.getInjectedNodeLocation(t));this.injectNode(e,t)}},{key:"removeNode",value:function(t){this.data.saveState(),this.data.removeNode(t),this.layout.isManualLayout()?this.redraw():this.layout.update()}},{key:"removeSelectedNodes",value:function(){var t=this.getSelectedNodes();t.length&&(this.data.saveState(),this.data.removeNodes(t),this.clearSelection(),this.redraw(),this.layout.update())}},{key:"removeSelectedTexts",value:function(){var t=this.getSelectedTexts();t.length&&(this.data.saveState(),this.data.removeTexts(t),this.clearSelection(),this.redraw())}},{key:"copyNode",value:function(t,e){var n=this.data.cloneSubtree(t);e?(this.copiedNodes||(this.copiedNodes=[]),this.copiedNodes.push(n)):this.copiedNodes=[n]}},{key:"cutNode",value:function(t){this.copyNode(t),this.removeNode(t)}},{key:"cutSelectedNodes",value:function(){var t=this.getSelectedNodes(),e=this.data.findSubtreeRoots(t);this.copyNodes(e),this.removeSelectedNodes()}},{key:"copySelectedNodes",value:function(){var t=this.getSelectedNodes(),e=this.data.findSubtreeRoots(t);this.copyNodes(e)}},{key:"copyNodes",value:function(t){var e=this;this.copiedNodes=t.map(function(t){return e.data.cloneSubtree(t)})}},{key:"pasteToNode",value:function(r){var i=this;if(this.copiedNodes&&this.copiedNodes.length){this.data.saveState();var o=this;o.clearSelection();var a=this.copiedNodes;o.copyNodes(this.copiedNodes),a.forEach(function(t){var e=i.data.attachSubtree(t,r).childNode;e.folded&&o.foldSubtree(e,e.folded,!1);var n=o.layout.getNewChildLocation(r);e.moveTo(n.x,n.y,!0),o.layout.moveNodeToEmptyPlace(e,!1),o.layout.fitNodesInPlottingRegion(i.data.getAllDescendantNodes(e)),o.selectSubTree(e,!1,1<a.length)}),r.folded&&o.foldSubtree(r,r.folded,!1),setTimeout(function(){o.redraw(),o.layout.update()},10)}}},{key:"pasteToNewLocation",value:function(n){var r=this;this.data.saveState();var i=this;i.clearSelection();var o=this.copiedNodes;i.copyNodes(this.copiedNodes),o.forEach(function(t){var e=r.data.attachSubtree(t);e.folded&&i.foldSubtree(e,e.folded,!1),e.moveTo(n.x,n.y,!0),i.layout.moveNodeToEmptyPlace(e,!1),i.layout.fitNodesInPlottingRegion(r.data.getAllDescendantNodes(e)),i.selectSubTree(e,!1,1<o.length)}),setTimeout(function(){i.redraw(),i.layout.update()},10)}},{key:"convertNode",value:function(t,e){var n=this;this.data.saveState(),this.data.convertNode(t,e),setTimeout(function(){n.redraw(!0)},10)}},{key:"performOperation",value:function(t,e){var n=this;this.data.saveState(),e.perform(t),setTimeout(function(){n.redraw(),n.layout.update()},10)}},{key:"foldSubtree",value:function(t,e,n){var r=!(1<arguments.length&&void 0!==e)||e,i=!(2<arguments.length&&void 0!==n)||n,o=this;t.folded=r,this.data.getAllDescendantNodes(t).forEach(function(t){t.$hidden=r,t.folded=!1}),this.data.getAllDescendantEdges(t).forEach(function(t){return t.$hidden=r}),i&&setTimeout(function(){o.redraw(),o.layout.update()},10)}},{key:"updateVisibility",value:function(t){var e=this,n=0<arguments.length&&void 0!==t?t:null;n?n.folded?this.foldSubtree(n,!0,!1):n.childEdges.forEach(function(t){return e.updateVisibility(t.childNode)}):this.data.getRoots().forEach(function(t){return e.updateVisibility(t)})}},{key:"moveNodeTo",value:function(t,e){}},{key:"updateNodePosition",value:function(t){this.getNodeD3Selection(t).raise().attr("transform","translate("+t.location.x+" "+t.location.y+")")}},{key:"updateTextPosition",value:function(t){this.getTextD3Selection(t).raise().attr("transform","translate("+t.location.x+" "+t.location.y+")")}},{key:"getNodeD3Selection",value:function(t){return this.getNodeD3SelectionById(t.id)}},{key:"getNodeD3SelectionById",value:function(t){return this.mainGroup.select("#node-"+t)}},{key:"getTextD3Selection",value:function(t){return this.getTextD3SelectionById(t.id)}},{key:"getTextD3SelectionById",value:function(t){return this.mainGroup.select("#text-"+t)}},{key:"getSelectedNodes",value:function(t){var n=this,e=0<arguments.length&&void 0!==t&&t,r=this.mainGroup.selectAll(".node.selected").data();if(e)return r;var i=[];return i.push.apply(i,y(r)),r.forEach(function(t){if(t.folded){var e=n.data.getAllDescendantNodes(t);e&&i.push.apply(i,y(e))}}),i}},{key:"getSelectedTexts",value:function(){return this.mainGroup.selectAll(".floating-text.selected").data()}},{key:"clearSelection",value:function(){var e=this;this.mainGroup.selectAll(".edge.selected").select("path").attr("marker-end",function(t){return"url(#arrow"+(e.isOptimal(t)?"-optimal":"")+")"}),this.mainGroup.selectAll(".selected").classed("selected",!1),this.config.onSelectionCleared()}},{key:"selectEdge",value:function(t,e){e&&this.clearSelection(),this.config.onEdgeSelected(t),this.mainGroup.select("#edge-"+t.id).classed("selected",!0).select("path").attr("marker-end",function(t){return"url(#arrow-selected)"})}},{key:"isNodeSelected",value:function(t){return this.getNodeD3Selection(t).classed("selected")}},{key:"selectNode",value:function(t,e,n){e&&this.clearSelection(),n||this.config.onNodeSelected(t),this.getNodeD3SelectionById(t.id).classed("selected",!0)}},{key:"selectText",value:function(t,e,n){e&&this.clearSelection(),n||this.config.onTextSelected(t),this.getTextD3SelectionById(t.id).classed("selected",!0)}},{key:"selectSubTree",value:function(t,e,n){var r=this;e&&this.clearSelection(),this.selectNode(t,!1,n),t.childEdges.forEach(function(t){return r.selectSubTree(t.childNode,!1,!0)})}},{key:"selectAllNodes",value:function(){this.mainGroup.selectAll(".node").classed("selected",!0)}},{key:"autoLayout",value:function(t,e){this.layout.autoLayout(t,e)}},{key:"updateDiagramTitle",value:function(t){t=t||"",this.diagramTitle=t,this.redrawDiagramTitle(),this.redrawDiagramDescription(),this.updateMargin(!0)}},{key:"redrawDiagramTitle",value:function(){var t=this.svg.attr("width");this.svg.attr("height");this.titleContainer=this.svg.selectOrAppend("g.sd-title-container");var e=this.titleContainer.selectOrAppend("text.sd-title");e.text(this.diagramTitle),s.Layout.setHangingPosition(e);var n=parseInt(this.config.title.margin.top);this.titleContainer.attr("transform","translate("+t/2+","+n+")")}},{key:"redrawDiagramDescription",value:function(){this.svg.attr("width"),this.svg.attr("height");this.titleContainer=this.svg.selectOrAppend("g.sd-title-container");var t=this.titleContainer.selectOrAppend("text.sd-description");if(this.config.description.show){var e=this.diagramDescription?this.diagramDescription.split("\n"):[],n=t.selectAll("tspan").data(e);n.enter().append("tspan").merge(n).html(function(t){return c.AppUtils.replaceUrls(c.AppUtils.escapeHtml(t))}).attr("dy",function(t,e){return 0<e?"1.1em":void 0}).attr("x","0"),n.exit().remove(),s.Layout.setHangingPosition(t);var r=this.titleContainer.selectOrAppend("text.sd-title"),i=0;this.diagramTitle&&(i+=r.node().getBBox().height,i+=Math.max(parseInt(this.config.description.margin.top),0)),t.attr("transform","translate(0,"+i+")")}else t.remove()}},{key:"updateDiagramDescription",value:function(t){t=t||"",this.diagramDescription=t,this.redrawDiagramTitle(),this.redrawDiagramDescription(),this.updateMargin(!0)}},{key:"getTitleGroupHeight",value:function(t){if(!this.titleContainer)return 0;var e=this.titleContainer.node().getBBox().height;return t&&(e+=parseInt(this.config.title.margin.bottom),e+=parseInt(this.config.title.margin.top)),e}}]),r}();n.TreeDesigner=b},{"./app-utils":57,"./context-menu/context-menu":58,"./context-menu/edge-context-menu":59,"./context-menu/main-context-menu":60,"./context-menu/node-context-menu":61,"./context-menu/text-context-menu":62,"./d3":64,"./i18n/i18n":68,"./layout":72,"./node-drag-handler":73,"./templates":76,"./text-drag-handler":78,"./tooltip":79,hammerjs:37,"sd-model":41,"sd-utils":55}],81:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./src/index");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})})},{"./src/index":71}]},{},[81])(81)});
//# sourceMappingURL=sd-tree-designer.min.js.map
