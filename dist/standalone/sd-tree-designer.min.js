!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;((e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SilverDecisions||(e.SilverDecisions={})).TreeDesigner=t()}}(function(){return function o(a,u,s){function c(e,t){if(!u[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var i=u[e]={exports:{}};a[e][0].call(i.exports,function(t){return c(a[e][1][t]||t)},i,i.exports,o,a,u,s)}return u[e].exports}for(var l="function"==typeof require&&require,t=0;t<s.length;t++)c(s[t]);return c}({1:[function(t,e,n){var r;r=this,function(t){"use strict";function u(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function e(o){var n;return 1===o.length&&(n=o,o=function(t,e){return u(n(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=i+1}return n}}}var n=e(u),v=n.right,r=n.left;function l(t,e){return[t,e]}function c(t){return null===t?NaN:+t}function i(t,e){var n,r,i=t.length,o=0,a=-1,u=0,s=0;if(null==e)for(;++a<i;)isNaN(n=c(t[a]))||(s+=(r=n-u)*(n-(u+=r/++o)));else for(;++a<i;)isNaN(n=c(e(t[a],a,t)))||(s+=(r=n-u)*(n-(u+=r/++o)));if(1<o)return s/(o-1)}function o(t,e){var n=i(t,e);return n?Math.sqrt(n):n}function a(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n<=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(n<r&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n<=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(n<r&&(r=n),i<n&&(i=n));return[r,i]}var s=Array.prototype,f=s.slice,h=s.map;function y(t){return function(){return t}}function g(t){return t}function m(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}var d=Math.sqrt(50),p=Math.sqrt(10),_=Math.sqrt(2);function b(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return 0<=i?(d<=o?10:p<=o?5:_<=o?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(d<=o?10:p<=o?5:_<=o?2:1)}function x(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return d<=o?i*=10:p<=o?i*=5:_<=o&&(i*=2),e<t?-i:i}function w(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function S(t,e,n){if(null==n&&(n=c),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(1<=e)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function k(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=n;++o<i;)null!=(n=t[o])&&n<r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n<r&&(r=n);return r}function M(t){if(!(i=t.length))return[];for(var e=-1,n=k(t,O),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function O(t){return t.length}t.bisect=v,t.bisectRight=v,t.bisectLeft=r,t.ascending=u,t.bisector=e,t.cross=function(t,e,n){var r,i,o,a,u=t.length,s=e.length,c=new Array(u*s);for(null==n&&(n=l),r=o=0;r<u;++r)for(a=t[r],i=0;i<s;++i,++o)c[o]=n(a,e[i]);return c},t.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},t.deviation=o,t.extent=a,t.histogram=function(){var h=g,d=a,p=w;function e(t){var e,n,r=t.length,i=new Array(r);for(e=0;e<r;++e)i[e]=h(t[e],e,t);var o=d(i),a=o[0],u=o[1],s=p(i,a,u);Array.isArray(s)||(s=x(a,u,s),s=m(Math.ceil(a/s)*s,u,s));for(var c=s.length;s[0]<=a;)s.shift(),--c;for(;s[c-1]>u;)s.pop(),--c;var l,f=new Array(c+1);for(e=0;e<=c;++e)(l=f[e]=[]).x0=0<e?s[e-1]:a,l.x1=e<c?s[e]:u;for(e=0;e<r;++e)a<=(n=i[e])&&n<=u&&f[v(s,n,0,c)].push(t[e]);return f}return e.value=function(t){return arguments.length?(h="function"==typeof t?t:y(t),e):h},e.domain=function(t){return arguments.length?(d="function"==typeof t?t:y([t[0],t[1]]),e):d},e.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Array.isArray(t)?y(f.call(t)):y(t),e):p},e},t.thresholdFreedmanDiaconis=function(t,e,n){return t=h.call(t,c).sort(u),Math.ceil((n-e)/(2*(S(t,.75)-S(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*o(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=w,t.max=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=n;++o<i;)null!=(n=t[o])&&r<n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r<n&&(r=n);return r},t.mean=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=c(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=c(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},t.median=function(t,e){var n,r=t.length,i=-1,o=[];if(null==e)for(;++i<r;)isNaN(n=c(t[i]))||o.push(n);else for(;++i<r;)isNaN(n=c(e(t[i],i,t)))||o.push(n);return S(o.sort(u),.5)},t.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);0<=--i;)for(e=(r=t[i]).length;0<=--e;)n[--a]=r[e];return n},t.min=k,t.pairs=function(t,e){null==e&&(e=l);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o},t.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},t.quantile=S,t.range=m,t.scan=function(t,e){if(n=t.length){var n,r,i=0,o=0,a=t[o];for(null==e&&(e=u);++i<n;)(e(r=t[i],a)<0||0!==e(a,a))&&(a=r,o=i);return 0===e(a,a)?o:void 0}},t.shuffle=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},t.sum=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},t.ticks=function(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)==(e=+e)&&0<n)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=b(t,e,n))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o},t.tickIncrement=b,t.tickStep=x,t.transpose=M,t.variance=i,t.zip=function(){return M(arguments)},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],2:[function(t,e,n){var r,i;r=this,i=function(t,F,s,B,c,$){"use strict";function l(t){return function(){return t}}function f(t,e,n){this.target=t,this.type=e,this.selection=n}function W(){F.event.stopImmediatePropagation()}function H(){F.event.preventDefault(),F.event.stopImmediatePropagation()}var Y={name:"drag"},V={name:"space"},q={name:"handle"},X={name:"center"},G={name:"x",handles:["e","w"].map(h),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},K={name:"y",handles:["n","s"].map(h),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},e={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(h),input:function(t){return t},output:function(t){return t}},Z={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},J={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Q={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},tt={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},et={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function h(t){return{type:t}}function d(){return!F.event.button}function p(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function nt(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function rt(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function n(R){var z,e=p,L=d,n=s.dispatch(i,"start","brush","end"),r=6;function i(t){var e=t.property("__brush",u).selectAll(".overlay").data([h("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Z.overlay).merge(e).each(function(){var t=nt(this).extent;F.select(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([h("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Z.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data(R.handles,function(t){return t.type});n.exit().remove(),n.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Z[t.type]}),t.each(U).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}function U(){var t=F.select(this),e=nt(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-r/2:e[0][0]-r/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-r/2:e[0][1]-r/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+r:r}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+r:r})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function I(t,e){return t.__brush.emitter||new o(t,e)}function o(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function a(){if(F.event.touches){if(F.event.changedTouches.length<F.event.touches.length)return H()}else if(z)return;if(L.apply(this,arguments)){var e,n,r,i,o,a,u,s,c,l,f,h,d,p=this,v=F.event.target.__data__.type,y="selection"===(F.event.metaKey?v="overlay":v)?Y:F.event.altKey?X:q,g=R===K?null:tt[v],m=R===G?null:et[v],_=nt(p),t=_.extent,b=_.selection,x=t[0][0],w=t[0][1],S=t[1][0],k=t[1][1],M=g&&m&&F.event.shiftKey,O=F.mouse(p),T=O,N=I(p,arguments).beforestart();"overlay"===v?_.selection=b=[[e=R===K?x:O[0],r=R===G?w:O[1]],[o=R===K?S:e,u=R===G?k:r]]:(e=b[0][0],r=b[0][1],o=b[1][0],u=b[1][1]),n=e,i=r,a=o,s=u;var E=F.select(p).attr("pointer-events","none"),P=E.selectAll(".overlay").attr("cursor",Z[v]);if(F.event.touches)E.on("touchmove.brush",C,!0).on("touchend.brush touchcancel.brush",D,!0);else{var j=F.select(F.event.view).on("keydown.brush",function(){switch(F.event.keyCode){case 16:M=g&&m;break;case 18:y===q&&(g&&(o=a-c*g,e=n+c*g),m&&(u=s-l*m,r=i+l*m),y=X,A());break;case 32:y!==q&&y!==X||(g<0?o=a-c:0<g&&(e=n-c),m<0?u=s-l:0<m&&(r=i-l),y=V,P.attr("cursor",Z.selection),A());break;default:return}H()},!0).on("keyup.brush",function(){switch(F.event.keyCode){case 16:M&&(h=d=M=!1,A());break;case 18:y===X&&(g<0?o=a:0<g&&(e=n),m<0?u=s:0<m&&(r=i),y=q,A());break;case 32:y===V&&(y=F.event.altKey?(g&&(o=a-c*g,e=n+c*g),m&&(u=s-l*m,r=i+l*m),X):(g<0?o=a:0<g&&(e=n),m<0?u=s:0<m&&(r=i),q),P.attr("cursor",Z[v]),A());break;default:return}H()},!0).on("mousemove.brush",C,!0).on("mouseup.brush",D,!0);B.dragDisable(F.event.view)}W(),$.interrupt(p),U.call(p),N.start()}function C(){var t=F.mouse(p);!M||h||d||(Math.abs(t[0]-T[0])>Math.abs(t[1]-T[1])?d=!0:h=!0),T=t,f=!0,H(),A()}function A(){var t;switch(c=T[0]-O[0],l=T[1]-O[1],y){case V:case Y:g&&(c=Math.max(x-e,Math.min(S-o,c)),n=e+c,a=o+c),m&&(l=Math.max(w-r,Math.min(k-u,l)),i=r+l,s=u+l);break;case q:g<0?(c=Math.max(x-e,Math.min(S-e,c)),n=e+c,a=o):0<g&&(c=Math.max(x-o,Math.min(S-o,c)),n=e,a=o+c),m<0?(l=Math.max(w-r,Math.min(k-r,l)),i=r+l,s=u):0<m&&(l=Math.max(w-u,Math.min(k-u,l)),i=r,s=u+l);break;case X:g&&(n=Math.max(x,Math.min(S,e-c*g)),a=Math.max(x,Math.min(S,o+c*g))),m&&(i=Math.max(w,Math.min(k,r-l*m)),s=Math.max(w,Math.min(k,u+l*m)))}a<n&&(g*=-1,t=e,e=o,o=t,t=n,n=a,a=t,v in J&&P.attr("cursor",Z[v=J[v]])),s<i&&(m*=-1,t=r,r=u,u=t,t=i,i=s,s=t,v in Q&&P.attr("cursor",Z[v=Q[v]])),_.selection&&(b=_.selection),h&&(n=b[0][0],a=b[1][0]),d&&(i=b[0][1],s=b[1][1]),b[0][0]===n&&b[0][1]===i&&b[1][0]===a&&b[1][1]===s||(_.selection=[[n,i],[a,s]],U.call(p),N.brush())}function D(){if(W(),F.event.touches){if(F.event.touches.length)return;z&&clearTimeout(z),z=setTimeout(function(){z=null},500),E.on("touchmove.brush touchend.brush touchcancel.brush",null)}else B.dragEnable(F.event.view,f),j.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);E.attr("pointer-events","all"),P.attr("cursor",Z.overlay),_.selection&&(b=_.selection),rt(b)&&(_.selection=null,U.call(p)),N.end()}}function u(){var t=this.__brush||{selection:null};return t.extent=e.apply(this,arguments),t.dim=R,t}return i.move=function(t,u){t.selection?t.on("start.brush",function(){I(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){I(this,arguments).end()}).tween("brush",function(){var e=this,n=e.__brush,r=I(e,arguments),t=n.selection,i=R.input("function"==typeof u?u.apply(this,arguments):u,n.extent),o=c.interpolate(t,i);function a(t){n.selection=1===t&&rt(i)?null:o(t),U.call(e),r.brush()}return t&&i?a:a(1)}):t.each(function(){var t=this,e=arguments,n=t.__brush,r=R.input("function"==typeof u?u.apply(t,e):u,n.extent),i=I(t,e).beforestart();$.interrupt(t),n.selection=null==r||rt(r)?null:r,U.call(t),i.start().brush().end()})},o.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){F.customEvent(new f(i,t,R.output(this.state.selection)),n.apply,n,[t,this.that,this.args])}},i.extent=function(t){return arguments.length?(e="function"==typeof t?t:l([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),i):e},i.filter=function(t){return arguments.length?(L="function"==typeof t?t:l(!!t),i):L},i.handleSize=function(t){return arguments.length?(r=+t,i):r},i.on=function(){var t=n.on.apply(n,arguments);return t===n?i:t},i}t.brush=function(){return n(e)},t.brushX=function(){return n(G)},t.brushY=function(){return n(K)},t.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-selection"),t("d3-dispatch"),t("d3-drag"),t("d3-interpolate"),t("d3-transition")):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3)},{"d3-dispatch":5,"d3-drag":6,"d3-interpolate":10,"d3-selection":13,"d3-transition":18}],3:[function(t,e,n){var r;r=this,function(t){"use strict";var n="$";function u(){}function y(t,e){var n=new u;if(t instanceof u)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function r(){return{}}function i(t,e,n){t[e]=n}function o(){return y()}function s(t,e,n){t.set(e,n)}function a(){}u.prototype=y.prototype={constructor:u,has:function(t){return n+t in this},get:function(t){return this[n+t]},set:function(t,e){return this[n+t]=e,this},remove:function(t){var e=n+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===n&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===n&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===n&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===n&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===n&&++t;return t},empty:function(){for(var t in this)if(t[0]===n)return!1;return!0},each:function(t){for(var e in this)e[0]===n&&t(this[e],e.slice(1),this)}};var e=y.prototype;function c(t,e){var n=new a;if(t instanceof a)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}a.prototype=c.prototype={constructor:a,has:e.has,add:function(t){return this[n+(t+="")]=t,this},remove:e.remove,clear:e.clear,values:e.keys,size:e.size,empty:e.empty,each:e.each},t.nest=function(){var h,d,e,p=[],a=[];function v(t,n,r,i){if(n>=p.length)return null!=h&&t.sort(h),null!=d?d(t):t;for(var e,o,a,u=-1,s=t.length,c=p[n++],l=y(),f=r();++u<s;)(a=l.get(e=c(o=t[u])+""))?a.push(o):l.set(e,[o]);return l.each(function(t,e){i(f,e,v(t,n,r,i))}),f}return e={object:function(t){return v(t,0,r,i)},map:function(t){return v(t,0,o,s)},entries:function(t){return function n(t,r){if(++r>p.length)return t;var i,o=a[r-1];return null!=d&&r>=p.length?i=t.entries():(i=[],t.each(function(t,e){i.push({key:e,values:n(t,r)})})),null!=o?i.sort(function(t,e){return o(t.key,e.key)}):i}(v(t,0,o,s),0)},key:function(t){return p.push(t),e},sortKeys:function(t){return a[p.length-1]=t,e},sortValues:function(t){return h=t,e},rollup:function(t){return d=t,e}}},t.set=c,t.map=y,t.keys=function(t){var e=[];for(var n in t)e.push(n);return e},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],4:[function(t,e,n){var r;r=this,function(t){"use strict";function e(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function n(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function c(){}var r=1/.7,i="\\s*([+-]?\\d+)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3})$/,s=/^#([0-9a-f]{6})$/,l=new RegExp("^rgb\\("+[i,i,i]+"\\)$"),f=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),h=new RegExp("^rgba\\("+[i,i,i,o]+"\\)$"),d=new RegExp("^rgba\\("+[a,a,a,o]+"\\)$"),p=new RegExp("^hsl\\("+[o,a,a]+"\\)$"),v=new RegExp("^hsla\\("+[o,a,a,o]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function g(t){var e;return t=(t+"").trim().toLowerCase(),(e=u.exec(t))?new w((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=s.exec(t))?m(parseInt(e[1],16)):(e=l.exec(t))?new w(e[1],e[2],e[3],1):(e=f.exec(t))?new w(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=h.exec(t))?_(e[1],e[2],e[3],e[4]):(e=d.exec(t))?_(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=p.exec(t))?k(e[1],e[2]/100,e[3]/100,1):(e=v.exec(t))?k(e[1],e[2]/100,e[3]/100,e[4]):y.hasOwnProperty(t)?m(y[t]):"transparent"===t?new w(NaN,NaN,NaN,0):null}function m(t){return new w(t>>16&255,t>>8&255,255&t,1)}function _(t,e,n,r){return r<=0&&(t=e=n=NaN),new w(t,e,n,r)}function b(t){return t instanceof c||(t=g(t)),t?new w((t=t.rgb()).r,t.g,t.b,t.opacity):new w}function x(t,e,n,r){return 1===arguments.length?b(t):new w(t,e,n,null==r?1:r)}function w(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function S(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function k(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new O(t,e,n,r)}function M(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof O)return new O(t.h,t.s,t.l,t.opacity);if(t instanceof c||(t=g(t)),!t)return new O;if(t instanceof O)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=0<s&&s<1?0:a,new O(a,u,s,t.opacity)}(t):new O(t,e,n,null==r?1:r)}function O(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function T(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}e(c,g,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),e(w,x,n(c,{brighter:function(t){return t=null==t?r:Math.pow(r,t),new w(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new w(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+S(this.r)+S(this.g)+S(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),e(O,M,n(c,{brighter:function(t){return t=null==t?r:Math.pow(r,t),new O(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new O(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new w(T(240<=t?t-240:t+120,i,r),T(t,i,r),T(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var N=Math.PI/180,E=180/Math.PI,P=.96422,j=1,C=.82521,A=4/29,D=6/29,R=3*D*D,z=D*D*D;function L(t){if(t instanceof I)return new I(t.l,t.a,t.b,t.opacity);if(t instanceof V){if(isNaN(t.h))return new I(t.l,0,0,t.opacity);var e=t.h*N;return new I(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof w||(t=b(t));var n,r,i=W(t.r),o=W(t.g),a=W(t.b),u=F((.2225045*i+.7168786*o+.0606169*a)/j);return i===o&&o===a?n=r=u:(n=F((.4360747*i+.3850649*o+.1430804*a)/P),r=F((.0139322*i+.0971045*o+.7141733*a)/C)),new I(116*u-16,500*(n-u),200*(u-r),t.opacity)}function U(t,e,n,r){return 1===arguments.length?L(t):new I(t,e,n,null==r?1:r)}function I(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function F(t){return z<t?Math.pow(t,1/3):t/R+A}function B(t){return D<t?t*t*t:R*(t-A)}function $(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function W(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function H(t){if(t instanceof V)return new V(t.h,t.c,t.l,t.opacity);if(t instanceof I||(t=L(t)),0===t.a&&0===t.b)return new V(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*E;return new V(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Y(t,e,n,r){return 1===arguments.length?H(t):new V(t,e,n,null==r?1:r)}function V(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}e(I,U,n(c,{brighter:function(t){return new I(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new I(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new w($(3.1338561*(e=P*B(e))-1.6168667*(t=j*B(t))-.4906146*(n=C*B(n))),$(-.9787684*e+1.9161415*t+.033454*n),$(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),e(V,Y,n(c,{brighter:function(t){return new V(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new V(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return L(this).rgb()}}));var q=1.78277,X=-.29227,G=-.90649,K=1.97294,Z=K*G,J=K*q,Q=q*X- -.14861*G;function tt(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof et)return new et(t.h,t.s,t.l,t.opacity);t instanceof w||(t=b(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Q*r+Z*e-J*n)/(Q+Z-J),o=r-i,a=(K*(n-i)-X*o)/G,u=Math.sqrt(a*a+o*o)/(K*i*(1-i)),s=u?Math.atan2(a,o)*E-120:NaN;return new et(s<0?s+360:s,u,i,t.opacity)}(t):new et(t,e,n,null==r?1:r)}function et(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}e(et,tt,n(c,{brighter:function(t){return t=null==t?r:Math.pow(r,t),new et(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new et(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*N,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new w(255*(e+n*(-.14861*r+q*i)),255*(e+n*(X*r+G*i)),255*(e+n*(K*r)),this.opacity)}})),t.color=g,t.rgb=x,t.hsl=M,t.lab=U,t.hcl=Y,t.lch=function(t,e,n,r){return 1===arguments.length?H(t):new V(n,e,t,null==r?1:r)},t.gray=function(t,e){return new I(t,0,0,null==e?1:e)},t.cubehelix=tt,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],5:[function(t,e,n){var r;r=this,function(t){"use strict";var o={value:function(){}};function e(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function s(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function c(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=o,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}i.prototype=e.prototype={constructor:i,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<u;)if(n=(t=o[a]).type)i[n]=c(i[n],t.name,e);else if(null==e)for(n in i)i[n]=c(i[n],t.name,null);return this}for(;++a<u;)if((n=(t=o[a]).type)&&(n=s(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},t.dispatch=e,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],6:[function(t,e,n){var r,i;r=this,i=function(t,x,w){"use strict";function S(){x.event.stopImmediatePropagation()}function k(){x.event.preventDefault(),x.event.stopImmediatePropagation()}function M(t){var e=t.document.documentElement,n=x.select(t).on("dragstart.drag",k,!0);"onselectstart"in e?n.on("selectstart.drag",k,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function O(t,e){var n=t.document.documentElement,r=x.select(t).on("dragstart.drag",null);e&&(r.on("click.drag",k,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function T(t){return function(){return t}}function N(t,e,n,r,i,o,a,u,s,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=u,this.dy=s,this._=c}function E(){return!x.event.button}function P(){return this.parentNode}function j(t){return null==t?{x:x.event.x,y:x.event.y}:t}function C(){return"ontouchstart"in this}N.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t},t.drag=function(){var n,r,i,o,a=E,u=P,e=j,s=C,p={},v=w.dispatch("start","drag","end"),y=0,c=0;function g(t){t.on("mousedown.drag",l).filter(s).on("touchstart.drag",d).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function l(){if(!o&&a.apply(this,arguments)){var t=b("mouse",u.apply(this,arguments),x.mouse,this,arguments);t&&(x.select(x.event.view).on("mousemove.drag",f,!0).on("mouseup.drag",h,!0),M(x.event.view),S(),i=!1,n=x.event.clientX,r=x.event.clientY,t("start"))}}function f(){if(k(),!i){var t=x.event.clientX-n,e=x.event.clientY-r;i=c<t*t+e*e}p.mouse("drag")}function h(){x.select(x.event.view).on("mousemove.drag mouseup.drag",null),O(x.event.view,i),k(),p.mouse("end")}function d(){if(a.apply(this,arguments)){var t,e,n=x.event.changedTouches,r=u.apply(this,arguments),i=n.length;for(t=0;t<i;++t)(e=b(n[t].identifier,r,x.touch,this,arguments))&&(S(),e("start"))}}function m(){var t,e,n=x.event.changedTouches,r=n.length;for(t=0;t<r;++t)(e=p[n[t].identifier])&&(k(),e("drag"))}function _(){var t,e,n=x.event.changedTouches,r=n.length;for(o&&clearTimeout(o),o=setTimeout(function(){o=null},500),t=0;t<r;++t)(e=p[n[t].identifier])&&(S(),e("end"))}function b(i,o,a,u,s){var c,l,f,h=a(o,i),d=v.copy();if(x.customEvent(new N(g,"beforestart",c,i,y,h[0],h[1],0,0,d),function(){return null!=(x.event.subject=c=e.apply(u,s))&&(l=c.x-h[0]||0,f=c.y-h[1]||0,!0)}))return function t(e){var n,r=h;switch(e){case"start":p[i]=t,n=y++;break;case"end":delete p[i],--y;case"drag":h=a(o,i),n=y}x.customEvent(new N(g,e,c,i,n,h[0]+l,h[1]+f,h[0]-r[0],h[1]-r[1],d),d.apply,d,[e,u,s])}}return g.filter=function(t){return arguments.length?(a="function"==typeof t?t:T(!!t),g):a},g.container=function(t){return arguments.length?(u="function"==typeof t?t:T(t),g):u},g.subject=function(t){return arguments.length?(e="function"==typeof t?t:T(t),g):e},g.touchable=function(t){return arguments.length?(s="function"==typeof t?t:T(!!t),g):s},g.on=function(){var t=v.on.apply(v,arguments);return t===v?g:t},g.clickDistance=function(t){return arguments.length?(c=(t=+t)*t,g):Math.sqrt(c)},g},t.dragDisable=M,t.dragEnable=O,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-selection"),t("d3-dispatch")):i(r.d3=r.d3||{},r.d3,r.d3)},{"d3-dispatch":5,"d3-selection":13}],7:[function(t,e,n){var r;r=this,function(t){"use strict";function e(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function n(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var r=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),i=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),o=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),a=Math.PI,u=a/2;function s(t){return(1-Math.cos(a*t))/2}function c(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function l(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var f=4/11,h=6/11,d=8/11,p=.75,v=9/11,y=10/11,g=.9375,m=21/22,_=63/64,b=1/f/f;function x(t){return(t=+t)<f?b*t*t:t<d?b*(t-=h)*t+p:t<y?b*(t-=v)*t+g:b*(t-=m)*t+_}var w=1.70158,S=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(w),k=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(w),M=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(w),O=2*Math.PI,T=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=O);function t(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/r)}return t.amplitude=function(t){return e(t,r*O)},t.period=function(t){return e(n,t)},t}(1,.3),N=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=O);function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/r)}return t.amplitude=function(t){return e(t,r*O)},t.period=function(t){return e(n,t)},t}(1,.3),E=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=O);function t(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/r):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/r))/2}return t.amplitude=function(t){return e(t,r*O)},t.period=function(t){return e(n,t)},t}(1,.3);t.easeLinear=function(t){return+t},t.easeQuad=e,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=e,t.easeCubic=n,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=n,t.easePoly=o,t.easePolyIn=r,t.easePolyOut=i,t.easePolyInOut=o,t.easeSin=s,t.easeSinIn=function(t){return 1-Math.cos(t*u)},t.easeSinOut=function(t){return Math.sin(t*u)},t.easeSinInOut=s,t.easeExp=c,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=c,t.easeCircle=l,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=l,t.easeBounce=x,t.easeBounceIn=function(t){return 1-x(1-t)},t.easeBounceOut=x,t.easeBounceInOut=function(t){return((t*=2)<=1?1-x(1-t):x(t-1)+1)/2},t.easeBack=M,t.easeBackIn=S,t.easeBackOut=k,t.easeBackInOut=M,t.easeElastic=N,t.easeElasticIn=T,t.easeElasticOut=N,t.easeElasticInOut=E,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],8:[function(t,e,n){var r;r=this,function(e){"use strict";function u(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[1<r.length?r[0]+r.slice(2):r,+t.slice(n+1)]}function c(t){return(t=u(Math.abs(t)))?t[1]:NaN}var M,n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function O(t){return new r(t)}function r(t){if(!(e=n.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function i(t,e){var n=u(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}O.prototype=r.prototype,r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var o={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return i(100*t,e)},r:i,s:function(t,e){var n=u(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(M=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:a<o?r+new Array(o-a+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+u(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function l(t){return t}var a,T=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function s(t){var e,u,s,w=t.grouping&&t.thousands?(u=t.grouping,s=t.thousands,function(t,e){for(var n=t.length,r=[],i=0,o=u[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=u[i=(i+1)%u.length];return r.reverse().join(s)}):l,r=t.currency,S=t.decimal,k=t.numerals?(e=t.numerals,function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}):l,i=t.percent||"%";function a(t){var c=(t=O(t)).fill,l=t.align,f=t.sign,e=t.symbol,h=t.zero,d=t.width,p=t.comma,v=t.precision,y=t.trim,g=t.type;"n"===g?(p=!0,g="g"):o[g]||(null==v&&(v=12),y=!0,g="g"),(h||"0"===c&&"="===l)&&(h=!0,c="0",l="=");var m="$"===e?r[0]:"#"===e&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",_="$"===e?r[1]:/[%p]/.test(g)?i:"",b=o[g],x=/[defgprs%]/.test(g);function n(t){var e,n,r,i=m,o=_;if("c"===g)o=b(t)+o,t="";else{var a=(t=+t)<0;if(t=b(Math.abs(t),v),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(0<i){if(!+t[r])break t;i=0}}return 0<i?t.slice(0,i)+t.slice(e+1):t}(t)),a&&0==+t&&(a=!1),i=(a?"("===f?f:"-":"-"===f||"("===f?"":f)+i,o=("s"===g?T[8+M/3]:"")+o+(a&&"("===f?")":""),x)for(e=-1,n=t.length;++e<n;)if((r=t.charCodeAt(e))<48||57<r){o=(46===r?S+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}p&&!h&&(t=w(t,1/0));var u=i.length+t.length+o.length,s=u<d?new Array(d-u+1).join(c):"";switch(p&&h&&(t=w(s+t,s.length?d-o.length:1/0),s=""),l){case"<":t=i+t+o+s;break;case"=":t=i+s+t+o;break;case"^":t=s.slice(0,u=s.length>>1)+i+t+o+s.slice(u);break;default:t=s+i+t+o}return k(t)}return v=null==v?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),n.toString=function(){return t+""},n}return{format:a,formatPrefix:function(t,e){var n=a(((t=O(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(c(e)/3))),i=Math.pow(10,-r),o=T[8+r/3];return function(t){return n(i*t)+o}}}}function t(t){return a=s(t),e.format=a.format,e.formatPrefix=a.formatPrefix,a}t({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),e.formatDefaultLocale=t,e.formatLocale=s,e.formatSpecifier=O,e.precisionFixed=function(t){return Math.max(0,-c(Math.abs(t)))},e.precisionPrefix=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(c(e)/3)))-c(Math.abs(t)))},e.precisionRound=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,c(e)-c(t))+1},Object.defineProperty(e,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],9:[function(t,e,n){var r;r=this,function(t){"use strict";function n(t,e){return t.parent===e.parent?1:2}function f(t,e){return t+e.x}function h(t,e){return Math.max(t,e.y)}function e(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;0<=--r;)e+=n[r].value;else e=1;t.value=e}function r(t,e){var n,r,i,o,a,u=new p(t),s=+t.value&&(u.value=t.value),c=[u];for(null==e&&(e=l);n=c.pop();)if(s&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;0<=o;--o)c.push(r=n.children[o]=new p(i[o])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(d)}function l(t){return t.children}function i(t){t.data=t.data.data}function d(t){for(var e=0;t.height=e,(t=t.parent)&&t.height<++e;);}function p(t){this.data=t,this.depth=this.height=0,this.parent=null}p.prototype=r.prototype={constructor:p,count:function(){return this.eachAfter(e)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;0<=n;--n)i.push(e[n]);return this},sum:function(i){return this.eachAfter(function(t){for(var e=+i(t.data)||0,n=t.children,r=n&&n.length;0<=--r;)e+=n[r].value;t.value=e})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n},copy:function(){return r(this).eachBefore(i)}};var a=Array.prototype.slice;function v(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(a.call(t))).length,o=[];r<i;)e=t[r],n&&s(n,e)?++r:(n=y(o=u(o,e)),r=0);return n}function u(t,e){var n,r;if(c(e,t))return[e];for(n=0;n<t.length;++n)if(o(e,t[n])&&c(g(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(o(g(t[n],t[r]),e)&&o(g(t[n],e),t[r])&&o(g(t[r],e),t[n])&&c(m(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function o(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function s(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return 0<n&&r*r+i*i<n*n}function c(t,e){for(var n=0;n<e.length;++n)if(!s(t,e[n]))return!1;return!0}function y(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return g(t[0],t[1]);case 3:return m(t[0],t[1],t[2])}var e}function g(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,u=e.r,s=o-n,c=a-r,l=u-i,f=Math.sqrt(s*s+c*c);return{x:(n+o+s/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+u)/2}}function m(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,u=e.y,s=e.r,c=n.x,l=n.y,f=n.r,h=r-a,d=r-c,p=i-u,v=i-l,y=s-o,g=f-o,m=r*r+i*i-o*o,_=m-a*a-u*u+s*s,b=m-c*c-l*l+f*f,x=d*p-h*v,w=(p*b-v*_)/(2*x)-r,S=(v*y-p*g)/x,k=(d*_-h*b)/(2*x)-i,M=(h*g-d*y)/x,O=S*S+M*M-1,T=2*(o+w*S+k*M),N=w*w+k*k-o*o,E=-(O?(T+Math.sqrt(T*T-4*O*N))/(2*O):N/T);return{x:r+w+S*E,y:i+k+M*E,r:E}}function _(t,e,n){var r,i,o,a,u=t.x-e.x,s=t.y-e.y,c=u*u+s*s;n.y=c?(i=e.r+n.r,i*=i,a=t.r+n.r,(a*=a)<i?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=t.x-r*u-o*s,t.y-r*s+o*u):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*u-o*s,e.y+r*s+o*u)):(n.x=e.x+n.r,e.y)}function b(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return 0<n&&r*r+i*i<n*n}function x(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function w(t){this._=t,this.next=null,this.previous=null}function S(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,u,s,c,l,f;if((e=t[0]).x=0,e.y=0,!(1<i))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(2<i))return e.r+n.r;_(n,e,r=t[2]),e=new w(e),n=new w(n),r=new w(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(u=3;u<i;++u){_(e._,n._,r=t[u]),r=new w(r),s=n.next,c=e.previous,l=n._.r,f=e._.r;do{if(l<=f){if(b(s._,r._)){n=s,(e.next=n).previous=e,--u;continue t}l+=s._.r,s=s.next}else{if(b(c._,r._)){((e=c).next=n).previous=e,--u;continue t}f+=c._.r,c=c.previous}}while(s!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=x(e);(r=r.next)!==n;)(a=x(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=v(e),u=0;u<i;++u)(e=t[u]).x-=r.x,e.y-=r.y;return r.r}function k(t){if("function"!=typeof t)throw new Error;return t}function M(){return 0}function O(t){return function(){return t}}function T(t){return Math.sqrt(t.value)}function N(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function E(a,u){return function(t){if(e=t.children){var e,n,r,i=e.length,o=a(t)*u||0;if(o)for(n=0;n<i;++n)e[n].r+=o;if(r=S(e),o)for(n=0;n<i;++n)e[n].r-=o;t.r=r+o}}}function P(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function j(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function C(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,c=t.value&&(r-e)/t.value;++u<s;)(o=a[u]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}var A={depth:-1},D={};function R(t){return t.id}function z(t){return t.parentId}function L(t,e){return t.parent===e.parent?1:2}function U(t){var e=t.children;return e?e[0]:t.t}function I(t){var e=t.children;return e?e[e.length-1]:t.t}function F(t,e){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function B(t,e,n,r,i){for(var o,a=t.children,u=-1,s=a.length,c=t.value&&(i-n)/t.value;++u<s;)(o=a[u]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}F.prototype=Object.create(p.prototype);var $=(1+Math.sqrt(5))/2;function W(t,e,n,r,i,o){for(var a,u,s,c,l,f,h,d,p,v,y,g=[],m=e.children,_=0,b=0,x=m.length,w=e.value;_<x;){for(s=i-n,c=o-r;!(l=m[b++].value)&&b<x;);for(f=h=l,y=l*l*(v=Math.max(c/s,s/c)/(w*t)),p=Math.max(h/y,y/f);b<x;++b){if(l+=u=m[b].value,u<f&&(f=u),h<u&&(h=u),y=l*l*v,p<(d=Math.max(h/y,y/f))){l-=u;break}p=d}g.push(a={value:l,dice:s<c,children:m.slice(_,b)}),a.dice?C(a,n,r,i,w?r+=c*l/w:o):B(a,n,r,w?n+=s*l/w:i,o),w-=l,_=b}return g}var H=function e(o){function t(t,e,n,r,i){W(o,t,e,n,r,i)}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}($);var Y=function e(d){function t(t,e,n,r,i){if((o=t._squarify)&&o.ratio===d)for(var o,a,u,s,c,l=-1,f=o.length,h=t.value;++l<f;){for(u=(a=o[l]).children,s=a.value=0,c=u.length;s<c;++s)a.value+=u[s].value;a.dice?C(a,e,n,r,n+=(i-n)*a.value/h):B(a,e,n,e+=(r-e)*a.value/h,i),h-=a.value}else t._squarify=o=W(d,t,e,n,r,i),o.ratio=d}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}($);t.cluster=function(){var u=n,s=1,c=1,l=!1;function e(e){var r,i=0;e.eachAfter(function(t){var e,n=t.children;n?(t.x=(e=n).reduce(f,0)/e.length,t.y=1+n.reduce(h,0)):(t.x=r?i+=u(t,r):0,t.y=0,r=t)});var t=function(t){for(var e;e=t.children;)t=e[0];return t}(e),n=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(e),o=t.x-u(t,n)/2,a=n.x+u(n,t)/2;return e.eachAfter(l?function(t){t.x=(t.x-e.x)*s,t.y=(e.y-t.y)*c}:function(t){t.x=(t.x-o)/(a-o)*s,t.y=(1-(e.y?t.y/e.y:1))*c})}return e.separation=function(t){return arguments.length?(u=t,e):u},e.size=function(t){return arguments.length?(l=!1,s=+t[0],c=+t[1],e):l?null:[s,c]},e.nodeSize=function(t){return arguments.length?(l=!0,s=+t[0],c=+t[1],e):l?[s,c]:null},e},t.hierarchy=r,t.pack=function(){var n=null,e=1,r=1,i=M;function o(t){return t.x=e/2,t.y=r/2,n?t.eachBefore(N(n)).eachAfter(E(i,.5)).eachBefore(P(1)):t.eachBefore(N(T)).eachAfter(E(M,1)).eachAfter(E(i,t.r/Math.min(e,r))).eachBefore(P(Math.min(e,r)/(2*t.r))),t}return o.radius=function(t){return arguments.length?(n=null==(e=t)?null:k(e),o):n;var e},o.size=function(t){return arguments.length?(e=+t[0],r=+t[1],o):[e,r]},o.padding=function(t){return arguments.length?(i="function"==typeof t?t:O(+t),o):i},o},t.packSiblings=function(t){return S(t),t},t.packEnclose=v,t.partition=function(){var n=1,r=1,u=0,i=!1;function e(t){var o,a,e=t.height+1;return t.x0=t.y0=u,t.x1=n,t.y1=r/e,t.eachBefore((o=r,a=e,function(t){t.children&&C(t,t.x0,o*(t.depth+1)/a,t.x1,o*(t.depth+2)/a);var e=t.x0,n=t.y0,r=t.x1-u,i=t.y1-u;r<e&&(e=r=(e+r)/2),i<n&&(n=i=(n+i)/2),t.x0=e,t.y0=n,t.x1=r,t.y1=i})),i&&t.eachBefore(j),t}return e.round=function(t){return arguments.length?(i=!!t,e):i},e.size=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.padding=function(t){return arguments.length?(u=+t,e):u},e},t.stratify=function(){var f=R,h=z;function e(t){var e,n,r,i,o,a,u,s=t.length,c=new Array(s),l={};for(n=0;n<s;++n)e=t[n],o=c[n]=new p(e),null!=(a=f(e,n,t))&&(a+="")&&(l[u="$"+(o.id=a)]=u in l?D:o);for(n=0;n<s;++n)if(o=c[n],null!=(a=h(t[n],n,t))&&(a+="")){if(!(i=l["$"+a]))throw new Error("missing: "+a);if(i===D)throw new Error("ambiguous: "+a);i.children?i.children.push(o):i.children=[o],o.parent=i}else{if(r)throw new Error("multiple roots");r=o}if(!r)throw new Error("no root");if(r.parent=A,r.eachBefore(function(t){t.depth=t.parent.depth+1,--s}).eachBefore(d),r.parent=null,0<s)throw new Error("cycle");return r}return e.id=function(t){return arguments.length?(f=k(t),e):f},e.parentId=function(t){return arguments.length?(h=k(t),e):h},e},t.tree=function(){var _=L,c=1,l=1,f=null;function e(t){var e=function(t){for(var e,n,r,i,o,a=new F(t,0),u=[a];e=u.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;0<=i;--i)u.push(n=e.children[i]=new F(r[i],i)),n.parent=e;return(a.parent=new F(null,0)).children=[a],a}(t);if(e.eachAfter(h),e.parent.m=-e.z,e.eachBefore(d),f)t.eachBefore(p);else{var n=t,r=t,i=t;t.eachBefore(function(t){t.x<n.x&&(n=t),t.x>r.x&&(r=t),t.depth>i.depth&&(i=t)});var o=n===r?1:_(n,r)/2,a=o-n.x,u=c/(r.x+o+a),s=l/(i.depth||1);t.eachBefore(function(t){t.x=(t.x+a)*u,t.y=t.depth*s})}return t}function h(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;0<=--o;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+_(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+_(t._,r._));t.parent.A=function(t,e,n){if(e){for(var r,i=t,o=t,a=e,u=i.parent.children[0],s=i.m,c=o.m,l=a.m,f=u.m;a=I(a),i=U(i),a&&i;)u=U(u),(o=I(o)).a=t,0<(r=a.z+l-i.z-s+_(a._,i._))&&(g=t,m=n,h=(y=a).a.parent===g.parent?y.a:m,v=(p=r)/((d=t).i-h.i),d.c-=v,d.s+=p,h.c+=v,d.z+=p,d.m+=p,s+=r,c+=r),l+=a.m,s+=i.m,f+=u.m,c+=o.m;a&&!I(o)&&(o.t=a,o.m+=l-c),i&&!U(u)&&(u.t=i,u.m+=s-f,n=t)}var h,d,p,v,y,g,m;return n}(t,r,t.parent.A||n[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function p(t){t.x*=c,t.y=t.depth*l}return e.separation=function(t){return arguments.length?(_=t,e):_},e.size=function(t){return arguments.length?(f=!1,c=+t[0],l=+t[1],e):f?null:[c,l]},e.nodeSize=function(t){return arguments.length?(f=!0,c=+t[0],l=+t[1],e):f?[c,l]:null},e},t.treemap=function(){var a=H,e=!1,n=1,r=1,u=[0],s=M,c=M,l=M,f=M,h=M;function i(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(o),u=[0],e&&t.eachBefore(j),t}function o(t){var e=u[t.depth],n=t.x0+e,r=t.y0+e,i=t.x1-e,o=t.y1-e;i<n&&(n=i=(n+i)/2),o<r&&(r=o=(r+o)/2),t.x0=n,t.y0=r,t.x1=i,t.y1=o,t.children&&(e=u[t.depth+1]=s(t)/2,n+=h(t)-e,r+=c(t)-e,(i-=l(t)-e)<n&&(n=i=(n+i)/2),(o-=f(t)-e)<r&&(r=o=(r+o)/2),a(t,n,r,i,o))}return i.round=function(t){return arguments.length?(e=!!t,i):e},i.size=function(t){return arguments.length?(n=+t[0],r=+t[1],i):[n,r]},i.tile=function(t){return arguments.length?(a=k(t),i):a},i.padding=function(t){return arguments.length?i.paddingInner(t).paddingOuter(t):i.paddingInner()},i.paddingInner=function(t){return arguments.length?(s="function"==typeof t?t:O(+t),i):s},i.paddingOuter=function(t){return arguments.length?i.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):i.paddingTop()},i.paddingTop=function(t){return arguments.length?(c="function"==typeof t?t:O(+t),i):c},i.paddingRight=function(t){return arguments.length?(l="function"==typeof t?t:O(+t),i):l},i.paddingBottom=function(t){return arguments.length?(f="function"==typeof t?t:O(+t),i):f},i.paddingLeft=function(t){return arguments.length?(h="function"==typeof t?t:O(+t),i):h},i},t.treemapBinary=function(t,e,n,r,i){var o,a,m=t.children,u=m.length,_=new Array(u+1);for(_[0]=a=o=0;o<u;++o)_[o+1]=a+=m[o].value;!function t(e,n,r,i,o,a,u){if(n-1<=e){var s=m[e];return s.x0=i,s.y0=o,s.x1=a,void(s.y1=u)}for(var c=_[e],l=r/2+c,f=e+1,h=n-1;f<h;){var d=f+h>>>1;_[d]<l?f=d+1:h=d}l-_[f-1]<_[f]-l&&e+1<f&&--f;var p=_[f]-c,v=r-p;if(u-o<a-i){var y=(i*v+a*p)/r;t(e,f,p,i,o,y,u),t(f,n,v,y,o,a,u)}else{var g=(o*v+u*p)/r;t(e,f,p,i,o,a,g),t(f,n,v,i,g,a,u)}}(0,u,t.value,e,n,r,i)},t.treemapDice=C,t.treemapSlice=B,t.treemapSliceDice=function(t,e,n,r,i){(1&t.depth?B:C)(t,e,n,r,i)},t.treemapSquarify=H,t.treemapResquarify=Y,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],10:[function(t,e,n){var r,i;r=this,i=function(t,s){"use strict";function c(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function e(a){var u=a.length-1;return function(t){var e=t<=0?t=0:1<=t?u-(t=1):Math.floor(t*u),n=a[e],r=a[e+1],i=0<e?a[e-1]:2*n-r,o=e<u-1?a[e+2]:2*r-n;return c((t-e/u)*u,i,n,r,o)}}function n(a){var u=a.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*u),n=a[(e+u-1)%u],r=a[e%u],i=a[(e+1)%u],o=a[(e+2)%u];return c((t-e/u)*u,n,r,i,o)}}function a(t){return function(){return t}}function r(e,n){return function(t){return e+t*n}}function i(t,e){var n=e-t;return n?r(t,180<n||n<-180?n-360*Math.round(n/360):n):a(isNaN(t)?e:t)}function o(o){return 1==(o=+o)?l:function(t,e){return e-t?(n=t,r=e,i=o,n=Math.pow(n,i),r=Math.pow(r,i)-n,i=1/i,function(t){return Math.pow(n+t*r,i)}):a(isNaN(t)?e:t);var n,r,i}}function l(t,e){var n=e-t;return n?r(t,n):a(isNaN(t)?e:t)}var u=function t(e){var a=o(e);function n(e,t){var n=a((e=s.rgb(e)).r,(t=s.rgb(t)).r),r=a(e.g,t.g),i=a(e.b,t.b),o=l(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);function f(u){return function(t){var e,n,r=t.length,i=new Array(r),o=new Array(r),a=new Array(r);for(e=0;e<r;++e)n=s.rgb(t[e]),i[e]=n.r||0,o[e]=n.g||0,a[e]=n.b||0;return i=u(i),o=u(o),a=u(a),n.opacity=1,function(t){return n.r=i(t),n.g=o(t),n.b=a(t),n+""}}}var h=f(e),d=f(n);function p(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=x(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function v(e,n){var r=new Date;return n-=e=+e,function(t){return r.setTime(e+n*t),r}}function g(e,n){return n-=e=+e,function(t){return e+n*t}}function y(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=x(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var m=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_=new RegExp(m.source,"g");function b(t,r){var e,n,i,o,a,u=m.lastIndex=_.lastIndex=0,s=-1,c=[],l=[];for(t+="",r+="";(e=m.exec(t))&&(n=_.exec(r));)(i=n.index)>u&&(i=r.slice(u,i),c[s]?c[s]+=i:c[++s]=i),(e=e[0])===(n=n[0])?c[s]?c[s]+=n:c[++s]=n:(c[++s]=null,l.push({i:s,x:g(e,n)})),u=_.lastIndex;return u<r.length&&(i=r.slice(u),c[s]?c[s]+=i:c[++s]=i),c.length<2?l[0]?(a=l[0].x,function(t){return a(t)+""}):(o=r,function(){return o}):(r=l.length,function(t){for(var e,n=0;n<r;++n)c[(e=l[n]).i]=e.x(t);return c.join("")})}function x(t,e){var n,r=typeof e;return null==e||"boolean"===r?a(e):("number"===r?g:"string"===r?(n=s.color(e))?(e=n,u):b:e instanceof s.color?u:e instanceof Date?v:Array.isArray(e)?p:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?y:g)(t,e)}var w,S,k,M,O=180/Math.PI,T={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function N(t,e,n,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*O,skewX:Math.atan(s)*O,scaleX:a,scaleY:u}}function E(h,d,p,v){function y(t){return t.length?t.pop()+" ":""}return function(t,e){var n,r,i,o,a,u,s,c,l=[],f=[];return t=h(t),e=h(e),function(t,e,n,r,i,o){if(t!==n||e!==r){var a=i.push("translate(",null,d,null,p);o.push({i:a-4,x:g(t,n)},{i:a-2,x:g(e,r)})}else(n||r)&&i.push("translate("+n+d+r+p)}(t.translateX,t.translateY,e.translateX,e.translateY,l,f),n=t.rotate,r=e.rotate,i=l,o=f,n!==r?(180<n-r?r+=360:180<r-n&&(n+=360),o.push({i:i.push(y(i)+"rotate(",null,v)-2,x:g(n,r)})):r&&i.push(y(i)+"rotate("+r+v),a=t.skewX,u=e.skewX,s=l,c=f,a!==u?c.push({i:s.push(y(s)+"skewX(",null,v)-2,x:g(a,u)}):u&&s.push(y(s)+"skewX("+u+v),function(t,e,n,r,i,o){if(t!==n||e!==r){var a=i.push(y(i)+"scale(",null,",",null,")");o.push({i:a-4,x:g(t,n)},{i:a-2,x:g(e,r)})}else 1===n&&1===r||i.push(y(i)+"scale("+n+","+r+")")}(t.scaleX,t.scaleY,e.scaleX,e.scaleY,l,f),t=e=null,function(t){for(var e,n=-1,r=f.length;++n<r;)l[(e=f[n]).i]=e.x(t);return l.join("")}}}var P=E(function(t){return"none"===t?T:(w||(w=document.createElement("DIV"),S=document.documentElement,k=document.defaultView),w.style.transform=t,t=k.getComputedStyle(S.appendChild(w),null).getPropertyValue("transform"),S.removeChild(w),N(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),j=E(function(t){return null==t?T:(M||(M=document.createElementNS("http://www.w3.org/2000/svg","g")),M.setAttribute("transform",t),(t=M.transform.baseVal.consolidate())?N((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):T)},", ",")",")"),C=Math.SQRT2;function A(t){return((t=Math.exp(t))+1/t)/2}function D(a){return function(e,t){var n=a((e=s.hsl(e)).h,(t=s.hsl(t)).h),r=l(e.s,t.s),i=l(e.l,t.l),o=l(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(t),e.opacity=o(t),e+""}}}var R=D(i),z=D(l);function L(a){return function(e,t){var n=a((e=s.hcl(e)).h,(t=s.hcl(t)).h),r=l(e.c,t.c),i=l(e.l,t.l),o=l(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=i(t),e.opacity=o(t),e+""}}}var U=L(i),I=L(l);function F(u){return function t(a){function e(e,t){var n=u((e=s.cubehelix(e)).h,(t=s.cubehelix(t)).h),r=l(e.s,t.s),i=l(e.l,t.l),o=l(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}var B=F(i),$=F(l);t.interpolate=x,t.interpolateArray=p,t.interpolateBasis=e,t.interpolateBasisClosed=n,t.interpolateDate=v,t.interpolateDiscrete=function(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}},t.interpolateHue=function(t,e){var n=i(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},t.interpolateNumber=g,t.interpolateObject=y,t.interpolateRound=function(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}},t.interpolateString=b,t.interpolateTransformCss=P,t.interpolateTransformSvg=j,t.interpolateZoom=function(t,e){var n,a,u=t[0],s=t[1],c=t[2],r=e[0],i=e[1],o=e[2],l=r-u,f=i-s,h=l*l+f*f;if(h<1e-12)a=Math.log(o/c)/C,n=function(t){return[u+t*l,s+t*f,c*Math.exp(C*t*a)]};else{var d=Math.sqrt(h),p=(o*o-c*c+4*h)/(2*c*2*d),v=(o*o-c*c-4*h)/(2*o*2*d),y=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(v*v+1)-v);a=(g-y)/C,n=function(t){var e,n,r=t*a,i=A(y),o=c/(2*d)*(i*(n=C*r+y,((n=Math.exp(2*n))-1)/(n+1))-(e=y,((e=Math.exp(e))-1/e)/2));return[u+o*l,s+o*f,c*i/A(C*r+y)]}}return n.duration=1e3*a,n},t.interpolateRgb=u,t.interpolateRgbBasis=h,t.interpolateRgbBasisClosed=d,t.interpolateHsl=R,t.interpolateHslLong=z,t.interpolateLab=function(e,t){var n=l((e=s.lab(e)).l,(t=s.lab(t)).l),r=l(e.a,t.a),i=l(e.b,t.b),o=l(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}},t.interpolateHcl=U,t.interpolateHclLong=I,t.interpolateCubehelix=B,t.interpolateCubehelixLong=$,t.piecewise=function(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}},t.quantize=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-color")):i(r.d3=r.d3||{},r.d3)},{"d3-color":4}],11:[function(t,e,n){var r;r=this,function(t){"use strict";var x=Math.PI,h=2*x,w=1e-6,d=h-w;function e(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function n(){return new e}e.prototype=n.prototype={constructor:e,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,u=n-t,s=r-e,c=o-t,l=a-e,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(w<f)if(Math.abs(l*u-s*c)>w&&i){var h=n-o,d=r-a,p=u*u+s*s,v=h*h+d*d,y=Math.sqrt(p),g=Math.sqrt(f),m=i*Math.tan((x-Math.acos((p+f-v)/(2*y*g)))/2),_=m/g,b=m/y;Math.abs(_-1)>w&&(this._+="L"+(t+_*c)+","+(e+_*l)),this._+="A"+i+","+i+",0,0,"+ +(c*d<l*h)+","+(this._x1=t+b*u)+","+(this._y1=e+b*s)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e;var a=(n=+n)*Math.cos(r),u=n*Math.sin(r),s=t+a,c=e+u,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>w||Math.abs(this._y1-c)>w)&&(this._+="L"+s+","+c),n&&(f<0&&(f=f%h+h),d<f?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-u)+"A"+n+","+n+",0,1,"+l+","+(this._x1=s)+","+(this._y1=c):w<f&&(this._+="A"+n+","+n+",0,"+ +(x<=f)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.path=n,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],12:[function(t,e,n){var r,i;r=this,i=function(t,s,k,M,c,e,n){"use strict";var r=Array.prototype,O=r.map,f=r.slice,l={name:"implicit"};function p(r){var o=s.map(),a=[],i=l;function u(t){var e=t+"",n=o.get(e);if(!n){if(i!==l)return i;o.set(e,n=a.push(t))}return r[(n-1)%r.length]}return r=null==r?[]:f.call(r),u.domain=function(t){if(!arguments.length)return a.slice();a=[],o=s.map();for(var e,n,r=-1,i=t.length;++r<i;)o.has(n=(e=t[r])+"")||o.set(n,a.push(e));return u},u.range=function(t){return arguments.length?(r=f.call(t),u):r.slice()},u.unknown=function(t){return arguments.length?(i=t,u):i},u.copy=function(){return p().domain(a).range(r).unknown(i)},u}function i(){var o,a,t=p().unknown(void 0),u=t.domain,s=t.range,c=[0,1],l=!1,f=0,h=0,d=.5;function e(){var t=u().length,e=c[1]<c[0],n=c[e-0],r=c[1-e];o=(r-n)/Math.max(1,t-f+2*h),l&&(o=Math.floor(o)),n+=(r-n-o*(t-f))*d,a=o*(1-f),l&&(n=Math.round(n),a=Math.round(a));var i=k.range(t).map(function(t){return n+o*t});return s(e?i.reverse():i)}return delete t.unknown,t.domain=function(t){return arguments.length?(u(t),e()):u()},t.range=function(t){return arguments.length?(c=[+t[0],+t[1]],e()):c.slice()},t.rangeRound=function(t){return c=[+t[0],+t[1]],l=!0,e()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(t){return arguments.length?(l=!!t,e()):l},t.padding=function(t){return arguments.length?(f=h=Math.max(0,Math.min(1,t)),e()):f},t.paddingInner=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f},t.paddingOuter=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},t.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},t.copy=function(){return i().domain(u()).range(c).round(l).paddingInner(f).paddingOuter(h).align(d)},e()}function o(t){return function(){return t}}function h(t){return+t}var d=[0,1];function T(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:o(n)}function v(t,e,n,r){var i=t[0],o=t[1],a=e[0],u=e[1];return a=o<i?(i=n(o,i),r(u,a)):(i=n(i,o),r(a,u)),function(t){return a(i(t))}}function y(n,t,e,r){var i=Math.min(n.length,t.length)-1,o=new Array(i),a=new Array(i),u=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<i;)o[u]=e(n[u],n[u+1]),a[u]=r(t[u],t[u+1]);return function(t){var e=k.bisect(n,t,1,i)-1;return a[e](o[e](t))}}function N(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function E(e,n){var r,o,a,u=d,s=d,c=M.interpolate,l=!1;function i(){return r=2<Math.min(u.length,s.length)?y:v,o=a=null,t}function t(t){return(o||(o=r(u,s,l?(i=e,function(e,n){var r=i(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:r(t)}}):e,c)))(+t);var i}return t.invert=function(t){return(a||(a=r(s,u,T,l?(i=n,function(e,n){var r=i(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:r(t)}}):n)))(+t);var i},t.domain=function(t){return arguments.length?(u=O.call(t,h),i()):u.slice()},t.range=function(t){return arguments.length?(s=f.call(t),i()):s.slice()},t.rangeRound=function(t){return s=f.call(t),c=M.interpolateRound,i()},t.clamp=function(t){return arguments.length?(l=!!t,i()):l},t.interpolate=function(t){return arguments.length?(c=t,i()):c},i()}function g(u){var s=u.domain;return u.ticks=function(t){var e=s();return k.ticks(e[0],e[e.length-1],null==t?10:t)},u.tickFormat=function(t,e){return function(t,e,n){var r,i=t[0],o=t[t.length-1],a=k.tickStep(i,o,null==e?10:e);switch((n=c.formatSpecifier(null==n?",f":n)).type){case"s":var u=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=c.precisionPrefix(a,u))||(n.precision=r),c.formatPrefix(n,u);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=c.precisionRound(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=c.precisionFixed(a))||(n.precision=r-2*("%"===n.type))}return c.format(n)}(s(),t,e)},u.nice=function(t){null==t&&(t=10);var e,n=s(),r=0,i=n.length-1,o=n[r],a=n[i];return a<o&&(e=o,o=a,a=e,e=r,r=i,i=e),0<(e=k.tickIncrement(o,a,t))?(o=Math.floor(o/e)*e,a=Math.ceil(a/e)*e,e=k.tickIncrement(o,a,t)):e<0&&(o=Math.ceil(o*e)/e,a=Math.floor(a*e)/e,e=k.tickIncrement(o,a,t)),0<e?(n[r]=Math.floor(o/e)*e,n[i]=Math.ceil(a/e)*e,s(n)):e<0&&(n[r]=Math.ceil(o*e)/e,n[i]=Math.floor(a*e)/e,s(n)),u},u}function P(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function a(e,n){return(n=Math.log(n/e))?function(t){return Math.log(t/e)/n}:o(n)}function u(e,n){return e<0?function(t){return-Math.pow(-n,t)*Math.pow(-e,1-t)}:function(t){return Math.pow(n,t)*Math.pow(e,1-t)}}function m(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _(e){return 10===e?m:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function b(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function x(e){return function(t){return-e(-t)}}function w(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function S(){var r=1,t=E(function(e,n){return(n=w(n,r)-(e=w(e,r)))?function(t){return(w(t,r)-e)/n}:o(n)},function(e,n){return n=w(n,r)-(e=w(e,r)),function(t){return w(e+n*t,1/r)}}),e=t.domain;return t.exponent=function(t){return arguments.length?(r=+t,e(e())):r},t.copy=function(){return N(t,S().exponent(r))},g(t)}var j=1e3,C=60*j,A=60*C,D=24*A,R=7*D,z=30*D,L=365*D;function U(t){return new Date(t)}function I(t){return t instanceof Date?+t:+new Date(+t)}function F(a,e,n,r,i,o,u,s,c){var l=E(T,M.interpolateNumber),f=l.invert,h=l.domain,d=c(".%L"),p=c(":%S"),v=c("%I:%M"),y=c("%I %p"),g=c("%a %d"),m=c("%b %d"),_=c("%B"),b=c("%Y"),x=[[u,1,j],[u,5,5*j],[u,15,15*j],[u,30,30*j],[o,1,C],[o,5,5*C],[o,15,15*C],[o,30,30*C],[i,1,A],[i,3,3*A],[i,6,6*A],[i,12,12*A],[r,1,D],[r,2,2*D],[n,1,R],[e,1,z],[e,3,3*z],[a,1,L]];function w(t){return(u(t)<t?d:o(t)<t?p:i(t)<t?v:r(t)<t?y:e(t)<t?n(t)<t?g:m:a(t)<t?_:b)(t)}function S(t,e,n,r){if(null==t&&(t=10),"number"==typeof t){var i=Math.abs(n-e)/t,o=k.bisector(function(t){return t[2]}).right(x,i);t=o===x.length?(r=k.tickStep(e/L,n/L,t),a):o?(r=(o=x[i/x[o-1][2]<x[o][2]/i?o-1:o])[1],o[0]):(r=Math.max(k.tickStep(e,n,t),1),s)}return null==r?t:t.every(r)}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?h(O.call(t,I)):h().map(U)},l.ticks=function(t,e){var n,r=h(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=S(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},l.tickFormat=function(t,e){return null==e?w:c(e)},l.nice=function(t,e){var n=h();return(t=S(t,n[0],n[n.length-1],e))?h(P(n,t)):l},l.copy=function(){return N(l,F(a,e,n,r,i,o,u,s,c))},l}t.scaleBand=i,t.scalePoint=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(i().paddingInner(1))},t.scaleIdentity=function t(){var e=[0,1];function n(t){return+t}return(n.invert=n).domain=n.range=function(t){return arguments.length?(e=O.call(t,h),n):e.slice()},n.copy=function(){return t().domain(e)},g(n)},t.scaleLinear=function t(){var e=E(T,M.interpolateNumber);return e.copy=function(){return N(e,t())},g(e)},t.scaleLog=function t(){var e=E(a,u).domain([1,10]),h=e.domain,d=10,p=b(10),v=_(10);function n(){return p=b(d),v=_(d),h()[0]<0&&(p=x(p),v=x(v)),e}return e.base=function(t){return arguments.length?(d=+t,n()):d},e.domain=function(t){return arguments.length?(h(t),n()):h()},e.ticks=function(t){var e,n=h(),r=n[0],i=n[n.length-1];(e=i<r)&&(s=r,r=i,i=s);var o,a,u,s=p(r),c=p(i),l=null==t?10:+t,f=[];if(!(d%1)&&c-s<l){if(s=Math.round(s)-1,c=Math.round(c)+1,0<r){for(;s<c;++s)for(a=1,o=v(s);a<d;++a)if(!((u=o*a)<r)){if(i<u)break;f.push(u)}}else for(;s<c;++s)for(a=d-1,o=v(s);1<=a;--a)if(!((u=o*a)<r)){if(i<u)break;f.push(u)}}else f=k.ticks(s,c,Math.min(c-s,l)).map(v);return e?f.reverse():f},e.tickFormat=function(t,n){if(null==n&&(n=10===d?".0e":","),"function"!=typeof n&&(n=c.format(n)),t===1/0)return n;null==t&&(t=10);var r=Math.max(1,d*t/e.ticks().length);return function(t){var e=t/v(Math.round(p(t)));return e*d<d-.5&&(e*=d),e<=r?n(t):""}},e.nice=function(){return h(P(h(),{floor:function(t){return v(Math.floor(p(t)))},ceil:function(t){return v(Math.ceil(p(t)))}}))},e.copy=function(){return N(e,t().base(d))},e},t.scaleOrdinal=p,t.scaleImplicit=l,t.scalePow=S,t.scaleSqrt=function(){return S().exponent(.5)},t.scaleQuantile=function t(){var i=[],n=[],r=[];function o(){var t=0,e=Math.max(1,n.length);for(r=new Array(e-1);++t<e;)r[t-1]=k.quantile(i,t/e);return a}function a(t){if(!isNaN(t=+t))return n[k.bisect(r,t)]}return a.invertExtent=function(t){var e=n.indexOf(t);return e<0?[NaN,NaN]:[0<e?r[e-1]:i[0],e<r.length?r[e]:i[i.length-1]]},a.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var e,n=0,r=t.length;n<r;++n)null==(e=t[n])||isNaN(e=+e)||i.push(e);return i.sort(k.ascending),o()},a.range=function(t){return arguments.length?(n=f.call(t),o()):n.slice()},a.quantiles=function(){return r.slice()},a.copy=function(){return t().domain(i).range(n)},a},t.scaleQuantize=function t(){var n=0,r=1,i=1,o=[.5],a=[0,1];function e(t){if(t<=t)return a[k.bisect(o,t,0,i)]}function u(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*n)/(i+1);return e}return e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],u()):[n,r]},e.range=function(t){return arguments.length?(i=(a=f.call(t)).length-1,u()):a.slice()},e.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:i<=e?[o[i-1],r]:[o[e-1],o[e]]},e.copy=function(){return t().domain([n,r]).range(a)},g(e)},t.scaleThreshold=function t(){var n=[.5],r=[0,1],e=1;function i(t){if(t<=t)return r[k.bisect(n,t,0,e)]}return i.domain=function(t){return arguments.length?(n=f.call(t),e=Math.min(n.length,r.length-1),i):n.slice()},i.range=function(t){return arguments.length?(r=f.call(t),e=Math.min(n.length,r.length-1),i):r.slice()},i.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},i.copy=function(){return t().domain(n).range(r)},i},t.scaleTime=function(){return F(e.timeYear,e.timeMonth,e.timeWeek,e.timeDay,e.timeHour,e.timeMinute,e.timeSecond,e.timeMillisecond,n.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return F(e.utcYear,e.utcMonth,e.utcWeek,e.utcDay,e.utcHour,e.utcMinute,e.utcSecond,e.utcMillisecond,n.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.scaleSequential=function t(n){var r=0,e=1,i=1,o=!1;function a(t){var e=(t-r)*i;return n(o?Math.max(0,Math.min(1,e)):e)}return a.domain=function(t){return arguments.length?(r=+t[0],e=+t[1],i=r===e?0:1/(e-r),a):[r,e]},a.clamp=function(t){return arguments.length?(o=!!t,a):o},a.interpolator=function(t){return arguments.length?(n=t,a):n},a.copy=function(){return t(n).domain([r,e]).clamp(o)},g(a)},t.scaleDiverging=function t(n){var e=0,r=.5,i=1,o=1,a=1,u=!1;function s(t){var e=.5+((t=+t)-r)*(t<r?o:a);return n(u?Math.max(0,Math.min(1,e)):e)}return s.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],i=+t[2],o=e===r?0:.5/(r-e),a=r===i?0:.5/(i-r),s):[e,r,i]},s.clamp=function(t){return arguments.length?(u=!!t,s):u},s.interpolator=function(t){return arguments.length?(n=t,s):n},s.copy=function(){return t(n).domain([e,r,i]).clamp(u)},g(s)},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-collection"),t("d3-array"),t("d3-interpolate"),t("d3-format"),t("d3-time"),t("d3-time-format")):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3,r.d3)},{"d3-array":1,"d3-collection":3,"d3-format":8,"d3-interpolate":10,"d3-time":16,"d3-time-format":15}],13:[function(t,e,n){var r;r=this,function(o){"use strict";var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function a(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.hasOwnProperty(e)?{space:i[e],local:t}:t}function u(t){var e=a(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===r&&t.documentElement.namespaceURI===r?t.createElement(n):t.createElementNS(e,n)}})(e)}function e(){}function f(t){return null==t?e:function(){return this.querySelector(t)}}function n(){return[]}function l(t){return null==t?n:function(){return this.querySelectorAll(t)}}var t=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var s=document.documentElement;if(!s.matches){var c=s.webkitMatchesSelector||s.msMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector;t=function(t){return function(){return c.call(this,t)}}}}var h=t;function d(t){return new Array(t.length)}function p(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}p.prototype={constructor:p,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var v="$";function w(t,e,n,r,i,o){for(var a,u=0,s=e.length,c=o.length;u<c;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new p(t,o[u]);for(;u<s;++u)(a=e[u])&&(i[u]=a)}function S(t,e,n,r,i,o,a){var u,s,c,l={},f=e.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(s=e[u])&&(d[u]=c=v+a.call(s,s.__data__,u,e),c in l?i[u]=s:l[c]=s);for(u=0;u<h;++u)(s=l[c=v+a.call(t,o[u],u,o)])?((r[u]=s).__data__=o[u],l[c]=null):n[u]=new p(t,o[u]);for(u=0;u<f;++u)(s=e[u])&&l[d[u]]===s&&(i[u]=s)}function y(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function g(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function m(t,e){return t.style.getPropertyValue(e)||g(t).getComputedStyle(t,null).getPropertyValue(e)}function _(t){return t.trim().split(/^|\s+/)}function b(t){return t.classList||new x(t)}function x(t){this._node=t,this._names=_(t.getAttribute("class")||"")}function k(t,e){for(var n=b(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function M(t,e){for(var n=b(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function O(){this.textContent=""}function T(){this.innerHTML=""}function N(){this.nextSibling&&this.parentNode.appendChild(this)}function E(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function P(){return null}function j(){var t=this.parentNode;t&&t.removeChild(this)}function C(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function A(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}x.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var D={};(o.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(D={mouseenter:"mouseover",mouseleave:"mouseout"}));function R(n,t,e){return n=z(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function z(n,r,i){return function(t){var e=o.event;o.event=t;try{n.call(this,this.__data__,r,i)}finally{o.event=e}}}function L(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function U(s,c,l){var f=D.hasOwnProperty(s.type)?R:z;return function(t,e,n){var r,i=this.__on,o=f(c,e,n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===s.type&&r.name===s.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=l),void(r.value=c);this.addEventListener(s.type,o,l),r={type:s.type,name:s.name,value:c,listener:o,capture:l},i?i.push(r):this.__on=[r]}}function I(t,e,n){var r=g(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var F=[null];function B(t,e){this._groups=t,this._parents=e}function $(){return new B([[document.documentElement]],F)}function W(t){return"string"==typeof t?new B([[document.querySelector(t)]],[document.documentElement]):new B([[t]],F)}B.prototype=$.prototype={constructor:B,select:function(t){"function"!=typeof t&&(t=f(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new B(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=l(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new B(r,i)},filter:function(t){"function"!=typeof t&&(t=h(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new B(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var n,r=e?S:w,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,u=new Array(a),s=new Array(a),c=new Array(a),l=0;l<a;++l){var f=i[l],h=o[l],d=h.length,p=t.call(f,f&&f.__data__,l,i),v=p.length,y=s[l]=new Array(v),g=u[l]=new Array(v);r(f,h,y,g,c[l]=new Array(d),p,e);for(var m,_,b=0,x=0;b<v;++b)if(m=y[b]){for(x<=b&&(x=b+1);!(_=g[x])&&++x<v;);m._next=_||null}}return(u=new B(u,i))._enter=s,u._exit=c,u},enter:function(){return new B(this._enter||this._groups.map(d),this._parents)},exit:function(){return new B(this._exit||this._groups.map(d),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=e[u],l=n[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=e[u];return new B(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n||(n=y);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(t)}return new B(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=a(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):m(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=_(t+"");if(arguments.length<2){for(var r=b(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?k:M)(this,t)}}:e?function(t){return function(){k(this,t)}}:function(t){return function(){M(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?O:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?T:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(N)},lower:function(){return this.each(E)},append:function(t){var e="function"==typeof t?t:u(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:u(t),r=null==e?P:"function"==typeof e?e:f(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(j)},clone:function(t){return this.select(t?A:C)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(u=e?U:L,null==n&&(n=!1),r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return I(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return I(this,t,e)}})(t,e))}};var H=0;function Y(){return new V}function V(){this._="@"+(++H).toString(36)}function q(){for(var t,e=o.event;t=e.sourceEvent;)e=t;return e}function X(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}V.prototype=Y.prototype={constructor:V,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},o.create=function(t){return W(u(t).call(document.documentElement))},o.creator=u,o.local=Y,o.matcher=h,o.mouse=function(t){var e=q();return e.changedTouches&&(e=e.changedTouches[0]),X(t,e)},o.namespace=a,o.namespaces=i,o.clientPoint=X,o.select=W,o.selectAll=function(t){return"string"==typeof t?new B([document.querySelectorAll(t)],[document.documentElement]):new B([null==t?[]:t],F)},o.selection=$,o.selector=f,o.selectorAll=l,o.style=m,o.touch=function(t,e,n){arguments.length<3&&(n=e,e=q().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return X(t,r);return null},o.touches=function(t,e){null==e&&(e=q().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=X(t,e[n]);return i},o.window=g,o.customEvent=function(t,e,n,r){var i=o.event;t.sourceEvent=o.event,o.event=t;try{return e.apply(n,r)}finally{o.event=i}},Object.defineProperty(o,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],14:[function(t,e,n){var r,i;r=this,i=function(t,nt){"use strict";function b(t){return function(){return t}}var rt=Math.abs,it=Math.atan2,ot=Math.cos,C=Math.max,at=Math.min,ut=Math.sin,st=Math.sqrt,ct=1e-12,lt=Math.PI,ft=lt/2,ht=2*lt;function dt(t){return 1<=t?ft:t<=-1?-ft:Math.asin(t)}function n(t){return t.innerRadius}function r(t){return t.outerRadius}function i(t){return t.startAngle}function o(t){return t.endAngle}function a(t){return t&&t.padAngle}function pt(t,e,n,r,i,o,a){var u=t-n,s=e-r,c=(a?o:-o)/st(u*u+s*s),l=c*s,f=-c*u,h=t+l,d=e+f,p=n+l,v=r+f,y=(h+p)/2,g=(d+v)/2,m=p-h,_=v-d,b=m*m+_*_,x=i-o,w=h*v-p*d,S=(_<0?-1:1)*st(C(0,x*x*b-w*w)),k=(w*_-m*S)/b,M=(-w*m-_*S)/b,O=(w*_+m*S)/b,T=(-w*m+_*S)/b,N=k-y,E=M-g,P=O-y,j=T-g;return P*P+j*j<N*N+E*E&&(k=O,M=T),{cx:k,cy:M,x01:-l,y01:-f,x11:k*(i/x-1),y11:M*(i/x-1)}}function e(t){this._context=t}function m(t){return new e(t)}function _(t){return t[0]}function x(t){return t[1]}function u(){var a=_,u=x,s=b(!0),c=null,l=m,f=null;function e(t){var e,n,r,i=t.length,o=!1;for(null==c&&(f=l(r=nt.path())),e=0;e<=i;++e)!(e<i&&s(n=t[e],e,t))===o&&((o=!o)?f.lineStart():f.lineEnd()),o&&f.point(+a(n,e,t),+u(n,e,t));if(r)return f=null,r+""||null}return e.x=function(t){return arguments.length?(a="function"==typeof t?t:b(+t),e):a},e.y=function(t){return arguments.length?(u="function"==typeof t?t:b(+t),e):u},e.defined=function(t){return arguments.length?(s="function"==typeof t?t:b(!!t),e):s},e.curve=function(t){return arguments.length?(l=t,null!=c&&(f=l(c)),e):l},e.context=function(t){return arguments.length?(null==t?c=f=null:f=l(c=t),e):c},e}function s(){var l=_,f=null,h=b(0),d=x,p=b(!0),v=null,y=m,g=null;function e(t){var e,n,r,i,o,a=t.length,u=!1,s=new Array(a),c=new Array(a);for(null==v&&(g=y(o=nt.path())),e=0;e<=a;++e){if(!(e<a&&p(i=t[e],e,t))===u)if(u=!u)n=e,g.areaStart(),g.lineStart();else{for(g.lineEnd(),g.lineStart(),r=e-1;n<=r;--r)g.point(s[r],c[r]);g.lineEnd(),g.areaEnd()}u&&(s[e]=+l(i,e,t),c[e]=+h(i,e,t),g.point(f?+f(i,e,t):s[e],d?+d(i,e,t):c[e]))}if(o)return g=null,o+""||null}function t(){return u().defined(p).curve(y).context(v)}return e.x=function(t){return arguments.length?(l="function"==typeof t?t:b(+t),f=null,e):l},e.x0=function(t){return arguments.length?(l="function"==typeof t?t:b(+t),e):l},e.x1=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:b(+t),e):f},e.y=function(t){return arguments.length?(h="function"==typeof t?t:b(+t),d=null,e):h},e.y0=function(t){return arguments.length?(h="function"==typeof t?t:b(+t),e):h},e.y1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:b(+t),e):d},e.lineX0=e.lineY0=function(){return t().x(l).y(h)},e.lineY1=function(){return t().x(l).y(d)},e.lineX1=function(){return t().x(f).y(h)},e.defined=function(t){return arguments.length?(p="function"==typeof t?t:b(!!t),e):p},e.curve=function(t){return arguments.length?(y=t,null!=v&&(g=y(v)),e):y},e.context=function(t){return arguments.length?(null==t?v=g=null:g=y(v=t),e):v},e}function c(t,e){return e<t?-1:t<e?1:t<=e?0:NaN}function l(t){return t}e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var f=d(m);function h(t){this._curve=t}function d(e){function t(t){return new h(e(t))}return t._curve=e,t}function p(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(d(t)):e()._curve},t}function v(){return p(u().curve(f))}function y(){var t=s().curve(f),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return p(n())},delete t.lineX0,t.lineEndAngle=function(){return p(r())},delete t.lineX1,t.lineInnerRadius=function(){return p(i())},delete t.lineY0,t.lineOuterRadius=function(){return p(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(d(t)):e()._curve},t}function g(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}h.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var w=Array.prototype.slice;function S(t){return t.source}function k(t){return t.target}function M(i){var o=S,a=k,u=_,s=x,c=null;function e(){var t,e=w.call(arguments),n=o.apply(this,e),r=a.apply(this,e);if(c||(c=t=nt.path()),i(c,+u.apply(this,(e[0]=n,e)),+s.apply(this,e),+u.apply(this,(e[0]=r,e)),+s.apply(this,e)),t)return c=null,t+""||null}return e.source=function(t){return arguments.length?(o=t,e):o},e.target=function(t){return arguments.length?(a=t,e):a},e.x=function(t){return arguments.length?(u="function"==typeof t?t:b(+t),e):u},e.y=function(t){return arguments.length?(s="function"==typeof t?t:b(+t),e):s},e.context=function(t){return arguments.length?(c=null==t?null:t,e):c},e}function O(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function T(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function N(t,e,n,r,i){var o=g(e,n),a=g(e,n=(n+i)/2),u=g(r,n),s=g(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],u[0],u[1],s[0],s[1])}var E={draw:function(t,e){var n=Math.sqrt(e/lt);t.moveTo(n,0),t.arc(0,0,n,0,ht)}},P={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},j=Math.sqrt(1/3),A=2*j,D={draw:function(t,e){var n=Math.sqrt(e/A),r=n*j;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},R=Math.sin(lt/10)/Math.sin(7*lt/10),z=Math.sin(ht/10)*R,L=-Math.cos(ht/10)*R,U={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=z*n,i=L*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=ht*o/5,u=Math.cos(a),s=Math.sin(a);t.lineTo(s*n,-u*n),t.lineTo(u*r-s*i,s*r+u*i)}t.closePath()}},I={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},F=Math.sqrt(3),B={draw:function(t,e){var n=-Math.sqrt(e/(3*F));t.moveTo(0,2*n),t.lineTo(-F*n,-n),t.lineTo(F*n,-n),t.closePath()}},$=-.5,W=Math.sqrt(3)/2,H=1/Math.sqrt(12),Y=3*(H/2+1),V={draw:function(t,e){var n=Math.sqrt(e/Y),r=n/2,i=n*H,o=r,a=n*H+n,u=-o,s=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(u,s),t.lineTo($*r-W*i,W*r+$*i),t.lineTo($*o-W*a,W*o+$*a),t.lineTo($*u-W*s,W*u+$*s),t.lineTo($*r+W*i,$*i-W*r),t.lineTo($*o+W*a,$*a-W*o),t.lineTo($*u+W*s,$*s-W*u),t.closePath()}},q=[E,P,D,I,U,B,V];function X(){}function G(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function K(t){this._context=t}function Z(t){this._context=t}function J(t){this._context=t}function Q(t,e){this._basis=new K(t),this._beta=e}K.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:G(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:G(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Z.prototype={areaStart:X,areaEnd:X,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:G(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},J.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:G(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Q.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(0<n)for(var r,i=t[0],o=e[0],a=t[n]-i,u=e[n]-o,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*a),this._beta*e[s]+(1-this._beta)*(o+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var tt=function e(n){function t(t){return 1===n?new K(t):new Q(t,n)}return t.beta=function(t){return e(+t)},t}(.85);function et(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function vt(t,e){this._context=t,this._k=(1-e)/6}vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:et(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:et(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var yt=function e(n){function t(t){return new vt(t,n)}return t.tension=function(t){return e(+t)},t}(0);function gt(t,e){this._context=t,this._k=(1-e)/6}gt.prototype={areaStart:X,areaEnd:X,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:et(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var mt=function e(n){function t(t){return new gt(t,n)}return t.tension=function(t){return e(+t)},t}(0);function _t(t,e){this._context=t,this._k=(1-e)/6}_t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:et(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var bt=function e(n){function t(t){return new _t(t,n)}return t.tension=function(t){return e(+t)},t}(0);function xt(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>ct){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>ct){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function wt(t,e){this._context=t,this._alpha=e}wt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:xt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var St=function e(n){function t(t){return n?new wt(t,n):new vt(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function kt(t,e){this._context=t,this._alpha=e}kt.prototype={areaStart:X,areaEnd:X,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:xt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Mt=function e(n){function t(t){return n?new kt(t,n):new gt(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Ot(t,e){this._context=t,this._alpha=e}Ot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Tt=function e(n){function t(t){return n?new Ot(t,n):new _t(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Nt(t){this._context=t}function Et(t){return t<0?-1:1}function Pt(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(Et(o)+Et(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function jt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ct(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function At(t){this._context=t}function Dt(t){this._context=new Rt(t)}function Rt(t){this._context=t}function zt(t){this._context=t}function Lt(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(o[i[0]=0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;0<=e;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Ut(t,e){this._context=t,this._t=e}function It(t,e){if(1<(i=t.length))for(var n,r,i,o=1,a=t[e[0]],u=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Ft(t){for(var e=t.length,n=new Array(e);0<=--e;)n[e]=e;return n}function Bt(t,e){return t[e]}function $t(t){var n=t.map(Wt);return Ft(t).sort(function(t,e){return n[t]-n[e]})}function Wt(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}Nt.prototype={areaStart:X,areaEnd:X,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},At.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ct(this,this._t0,jt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ct(this,jt(this,n=Pt(this,t,e)),n);break;default:Ct(this,this._t0,n=Pt(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Dt.prototype=Object.create(At.prototype)).point=function(t,e){At.prototype.point.call(this,e,t)},Rt.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},zt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Lt(t),i=Lt(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},t.arc=function(){var X=n,G=r,K=b(0),Z=null,J=i,Q=o,tt=a,et=null;function e(){var t,e,n,r,i,o,a,u,s,c,l,f,h=+X.apply(this,arguments),d=+G.apply(this,arguments),p=J.apply(this,arguments)-ft,v=Q.apply(this,arguments)-ft,y=rt(v-p),g=p<v;if(et||(et=t=nt.path()),d<h&&(e=d,d=h,h=e),ct<d)if(ht-ct<y)et.moveTo(d*ot(p),d*ut(p)),et.arc(0,0,d,p,v,!g),ct<h&&(et.moveTo(h*ot(v),h*ut(v)),et.arc(0,0,h,v,p,g));else{var m,_,b=p,x=v,w=p,S=v,k=y,M=y,O=tt.apply(this,arguments)/2,T=ct<O&&(Z?+Z.apply(this,arguments):st(h*h+d*d)),N=at(rt(d-h)/2,+K.apply(this,arguments)),E=N,P=N;if(ct<T){var j=dt(T/h*ut(O)),C=dt(T/d*ut(O));(k-=2*j)>ct?(w+=j*=g?1:-1,S-=j):(k=0,w=S=(p+v)/2),(M-=2*C)>ct?(b+=C*=g?1:-1,x-=C):(M=0,b=x=(p+v)/2)}var A=d*ot(b),D=d*ut(b),R=h*ot(S),z=h*ut(S);if(ct<N){var L=d*ot(x),U=d*ut(x),I=h*ot(w),F=h*ut(w);if(y<lt){var B=ct<k?[(r=A)+(f=((c=R-(o=L))*((i=D)-(a=U))-(l=z-a)*(r-o))/(l*(u=I-r)-c*(s=F-i)))*u,i+f*s]:[R,z],$=A-B[0],W=D-B[1],H=L-B[0],Y=U-B[1],V=1/ut((1<(n=($*H+W*Y)/(st($*$+W*W)*st(H*H+Y*Y)))?0:n<-1?lt:Math.acos(n))/2),q=st(B[0]*B[0]+B[1]*B[1]);E=at(N,(h-q)/(V-1)),P=at(N,(d-q)/(V+1))}}ct<M?ct<P?(m=pt(I,F,A,D,d,P,g),_=pt(L,U,R,z,d,P,g),et.moveTo(m.cx+m.x01,m.cy+m.y01),P<N?et.arc(m.cx,m.cy,P,it(m.y01,m.x01),it(_.y01,_.x01),!g):(et.arc(m.cx,m.cy,P,it(m.y01,m.x01),it(m.y11,m.x11),!g),et.arc(0,0,d,it(m.cy+m.y11,m.cx+m.x11),it(_.cy+_.y11,_.cx+_.x11),!g),et.arc(_.cx,_.cy,P,it(_.y11,_.x11),it(_.y01,_.x01),!g))):(et.moveTo(A,D),et.arc(0,0,d,b,x,!g)):et.moveTo(A,D),ct<h&&ct<k?ct<E?(m=pt(R,z,L,U,h,-E,g),_=pt(A,D,I,F,h,-E,g),et.lineTo(m.cx+m.x01,m.cy+m.y01),E<N?et.arc(m.cx,m.cy,E,it(m.y01,m.x01),it(_.y01,_.x01),!g):(et.arc(m.cx,m.cy,E,it(m.y01,m.x01),it(m.y11,m.x11),!g),et.arc(0,0,h,it(m.cy+m.y11,m.cx+m.x11),it(_.cy+_.y11,_.cx+_.x11),g),et.arc(_.cx,_.cy,E,it(_.y11,_.x11),it(_.y01,_.x01),!g))):et.arc(0,0,h,S,w,g):et.lineTo(R,z)}else et.moveTo(0,0);if(et.closePath(),t)return et=null,t+""||null}return e.centroid=function(){var t=(+X.apply(this,arguments)+ +G.apply(this,arguments))/2,e=(+J.apply(this,arguments)+ +Q.apply(this,arguments))/2-lt/2;return[ot(e)*t,ut(e)*t]},e.innerRadius=function(t){return arguments.length?(X="function"==typeof t?t:b(+t),e):X},e.outerRadius=function(t){return arguments.length?(G="function"==typeof t?t:b(+t),e):G},e.cornerRadius=function(t){return arguments.length?(K="function"==typeof t?t:b(+t),e):K},e.padRadius=function(t){return arguments.length?(Z=null==t?null:"function"==typeof t?t:b(+t),e):Z},e.startAngle=function(t){return arguments.length?(J="function"==typeof t?t:b(+t),e):J},e.endAngle=function(t){return arguments.length?(Q="function"==typeof t?t:b(+t),e):Q},e.padAngle=function(t){return arguments.length?(tt="function"==typeof t?t:b(+t),e):tt},e.context=function(t){return arguments.length?(et=null==t?null:t,e):et},e},t.area=s,t.line=u,t.pie=function(){var p=l,v=c,y=null,g=b(0),m=b(ht),_=b(0);function e(n){var t,e,r,i,o,a=n.length,u=0,s=new Array(a),c=new Array(a),l=+g.apply(this,arguments),f=Math.min(ht,Math.max(-ht,m.apply(this,arguments)-l)),h=Math.min(Math.abs(f)/a,_.apply(this,arguments)),d=h*(f<0?-1:1);for(t=0;t<a;++t)0<(o=c[s[t]=t]=+p(n[t],t,n))&&(u+=o);for(null!=v?s.sort(function(t,e){return v(c[t],c[e])}):null!=y&&s.sort(function(t,e){return y(n[t],n[e])}),t=0,r=u?(f-a*d)/u:0;t<a;++t,l=i)e=s[t],i=l+(0<(o=c[e])?o*r:0)+d,c[e]={data:n[e],index:t,value:o,startAngle:l,endAngle:i,padAngle:h};return c}return e.value=function(t){return arguments.length?(p="function"==typeof t?t:b(+t),e):p},e.sortValues=function(t){return arguments.length?(v=t,y=null,e):v},e.sort=function(t){return arguments.length?(y=t,v=null,e):y},e.startAngle=function(t){return arguments.length?(g="function"==typeof t?t:b(+t),e):g},e.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:b(+t),e):m},e.padAngle=function(t){return arguments.length?(_="function"==typeof t?t:b(+t),e):_},e},t.areaRadial=y,t.radialArea=y,t.lineRadial=v,t.radialLine=v,t.pointRadial=g,t.linkHorizontal=function(){return M(O)},t.linkVertical=function(){return M(T)},t.linkRadial=function(){var t=M(N);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){var e=b(E),n=b(64),r=null;function i(){var t;if(r||(r=t=nt.path()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),t)return r=null,t+""||null}return i.type=function(t){return arguments.length?(e="function"==typeof t?t:b(t),i):e},i.size=function(t){return arguments.length?(n="function"==typeof t?t:b(+t),i):n},i.context=function(t){return arguments.length?(r=null==t?null:t,i):r},i},t.symbols=q,t.symbolCircle=E,t.symbolCross=P,t.symbolDiamond=D,t.symbolSquare=I,t.symbolStar=U,t.symbolTriangle=B,t.symbolWye=V,t.curveBasisClosed=function(t){return new Z(t)},t.curveBasisOpen=function(t){return new J(t)},t.curveBasis=function(t){return new K(t)},t.curveBundle=tt,t.curveCardinalClosed=mt,t.curveCardinalOpen=bt,t.curveCardinal=yt,t.curveCatmullRomClosed=Mt,t.curveCatmullRomOpen=Tt,t.curveCatmullRom=St,t.curveLinearClosed=function(t){return new Nt(t)},t.curveLinear=m,t.curveMonotoneX=function(t){return new At(t)},t.curveMonotoneY=function(t){return new Dt(t)},t.curveNatural=function(t){return new zt(t)},t.curveStep=function(t){return new Ut(t,.5)},t.curveStepAfter=function(t){return new Ut(t,1)},t.curveStepBefore=function(t){return new Ut(t,0)},t.stack=function(){var f=b([]),h=Ft,d=It,p=Bt;function e(t){var e,n,r=f.apply(this,arguments),i=t.length,o=r.length,a=new Array(o);for(e=0;e<o;++e){for(var u,s=r[e],c=a[e]=new Array(i),l=0;l<i;++l)c[l]=u=[0,+p(t[l],s,l,t)],u.data=t[l];c.key=s}for(e=0,n=h(a);e<o;++e)a[n[e]].index=e;return d(a,n),a}return e.keys=function(t){return arguments.length?(f="function"==typeof t?t:b(w.call(t)),e):f},e.value=function(t){return arguments.length?(p="function"==typeof t?t:b(+t),e):p},e.order=function(t){return arguments.length?(h=null==t?Ft:"function"==typeof t?t:b(w.call(t)),e):h},e.offset=function(t){return arguments.length?(d=null==t?It:t,e):d},e},t.stackOffsetExpand=function(t,e){if(0<(r=t.length)){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}It(t,e)}},t.stackOffsetDiverging=function(t,e){if(1<(u=t.length))for(var n,r,i,o,a,u,s=0,c=t[e[0]].length;s<c;++s)for(o=a=0,n=0;n<u;++n)0<=(i=(r=t[e[n]][s])[1]-r[0])?(r[0]=o,r[1]=o+=i):r[0]=i<0?(r[1]=a,a+=i):o},t.stackOffsetNone=It,t.stackOffsetSilhouette=function(t,e){if(0<(n=t.length)){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,u=0;a<n;++a)u+=t[a][r][1]||0;i[r][1]+=i[r][0]=-u/2}It(t,e)}},t.stackOffsetWiggle=function(t,e){if(0<(i=t.length)&&0<(r=(n=t[e[0]]).length)){for(var n,r,i,o=0,a=1;a<r;++a){for(var u=0,s=0,c=0;u<i;++u){for(var l=t[e[u]],f=l[a][1]||0,h=(f-(l[a-1][1]||0))/2,d=0;d<u;++d){var p=t[e[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}s+=f,c+=h*f}n[a-1][1]+=n[a-1][0]=o,s&&(o-=c/s)}n[a-1][1]+=n[a-1][0]=o,It(t,e)}},t.stackOrderAscending=$t,t.stackOrderDescending=function(t){return $t(t).reverse()},t.stackOrderInsideOut=function(t){var e,n,r=t.length,i=t.map(Wt),o=Ft(t).sort(function(t,e){return i[e]-i[t]}),a=0,u=0,s=[],c=[];for(e=0;e<r;++e)n=o[e],a<u?(a+=i[n],s.push(n)):(u+=i[n],c.push(n));return c.reverse().concat(s)},t.stackOrderNone=Ft,t.stackOrderReverse=function(t){return Ft(t).reverse()},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-path")):i(r.d3=r.d3||{},r.d3)},{"d3-path":11}],15:[function(t,e,n){var r,i;r=this,i=function(e,M){"use strict";function O(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function T(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function N(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function n(t){var r=t.dateTime,i=t.date,o=t.time,e=t.periods,n=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,c=P(e),l=j(e),f=P(n),h=j(n),d=P(a),p=j(a),v=P(u),y=j(u),g=P(s),m=j(s),_={a:function(t){return a[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Z,e:Z,f:nt,H:J,I:Q,j:tt,L:et,m:rt,M:it,p:function(t){return e[+(12<=t.getHours())]},Q:Ct,s:At,S:ot,u:at,U:ut,V:st,w:ct,W:lt,x:null,X:null,y:ft,Y:ht,Z:dt,"%":jt},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:pt,e:pt,f:_t,H:vt,I:yt,j:gt,L:mt,m:bt,M:xt,p:function(t){return e[+(12<=t.getUTCHours())]},Q:Ct,s:At,S:wt,u:St,U:kt,V:Mt,w:Ot,W:Tt,x:null,X:null,y:Nt,Y:Et,Z:Pt,"%":jt},x={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return k(t,r,e,n)},d:B,e:B,f:q,H:W,I:W,j:$,L:V,m:F,M:H,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},Q:G,s:K,S:Y,u:A,U:D,V:R,w:C,W:z,x:function(t,e,n){return k(t,i,e,n)},X:function(t,e,n){return k(t,o,e,n)},y:U,Y:L,Z:I,"%":X};function w(s,c){return function(t){var e,n,r,i=[],o=-1,a=0,u=s.length;for(t instanceof Date||(t=new Date(+t));++o<u;)37===s.charCodeAt(o)&&(i.push(s.slice(a,o)),null!=(n=E[e=s.charAt(++o)])?e=s.charAt(++o):n="e"===e?" ":"0",(r=c[e])&&(e=r(t,n)),i.push(e),a=o+1);return i.push(s.slice(a,o)),i.join("")}}function S(i,o){return function(t){var e,n,r=N(1900);if(k(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),r.d="Z"in r?(e=4<(n=(e=T(N(r.y))).getUTCDay())||0===n?M.utcMonday.ceil(e):M.utcMonday(e),e=M.utcDay.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=o(N(r.y))).getDay())||0===n?M.timeMonday.ceil(e):M.timeMonday(e),e=M.timeDay.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?T(N(r.y)).getUTCDay():o(N(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,T(r)):o(r)}}function k(t,e,n,r){for(var i,o,a=0,u=e.length,s=n.length;a<u;){if(s<=r)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in E?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=w(i,_),_.X=w(o,_),_.c=w(r,_),b.x=w(i,b),b.X=w(o,b),b.c=w(r,b),{format:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",O);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t,T);return e.toString=function(){return t},e}}}var r,E={"-":"",_:" ",0:"0"},i=/^\s*\d+/,o=/^%/,a=/[\\^$*+?|[\]().{}]/g;function u(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function s(t){return t.replace(a,"\\$&")}function P(t){return new RegExp("^(?:"+t.map(s).join("|")+")","i")}function j(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function C(t,e,n){var r=i.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function A(t,e,n){var r=i.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function D(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function R(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function z(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function L(t,e,n){var r=i.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function U(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),n+r[0].length):-1}function I(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function F(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function B(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function $(t,e,n){var r=i.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function W(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function H(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Y(t,e,n){var r=i.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function V(t,e,n){var r=i.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function q(t,e,n){var r=i.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function X(t,e,n){var r=o.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function G(t,e,n){var r=i.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function K(t,e,n){var r=i.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Z(t,e){return u(t.getDate(),e,2)}function J(t,e){return u(t.getHours(),e,2)}function Q(t,e){return u(t.getHours()%12||12,e,2)}function tt(t,e){return u(1+M.timeDay.count(M.timeYear(t),t),e,3)}function et(t,e){return u(t.getMilliseconds(),e,3)}function nt(t,e){return et(t,e)+"000"}function rt(t,e){return u(t.getMonth()+1,e,2)}function it(t,e){return u(t.getMinutes(),e,2)}function ot(t,e){return u(t.getSeconds(),e,2)}function at(t){var e=t.getDay();return 0===e?7:e}function ut(t,e){return u(M.timeSunday.count(M.timeYear(t),t),e,2)}function st(t,e){var n=t.getDay();return t=4<=n||0===n?M.timeThursday(t):M.timeThursday.ceil(t),u(M.timeThursday.count(M.timeYear(t),t)+(4===M.timeYear(t).getDay()),e,2)}function ct(t){return t.getDay()}function lt(t,e){return u(M.timeMonday.count(M.timeYear(t),t),e,2)}function ft(t,e){return u(t.getFullYear()%100,e,2)}function ht(t,e){return u(t.getFullYear()%1e4,e,4)}function dt(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+u(e/60|0,"0",2)+u(e%60,"0",2)}function pt(t,e){return u(t.getUTCDate(),e,2)}function vt(t,e){return u(t.getUTCHours(),e,2)}function yt(t,e){return u(t.getUTCHours()%12||12,e,2)}function gt(t,e){return u(1+M.utcDay.count(M.utcYear(t),t),e,3)}function mt(t,e){return u(t.getUTCMilliseconds(),e,3)}function _t(t,e){return mt(t,e)+"000"}function bt(t,e){return u(t.getUTCMonth()+1,e,2)}function xt(t,e){return u(t.getUTCMinutes(),e,2)}function wt(t,e){return u(t.getUTCSeconds(),e,2)}function St(t){var e=t.getUTCDay();return 0===e?7:e}function kt(t,e){return u(M.utcSunday.count(M.utcYear(t),t),e,2)}function Mt(t,e){var n=t.getUTCDay();return t=4<=n||0===n?M.utcThursday(t):M.utcThursday.ceil(t),u(M.utcThursday.count(M.utcYear(t),t)+(4===M.utcYear(t).getUTCDay()),e,2)}function Ot(t){return t.getUTCDay()}function Tt(t,e){return u(M.utcMonday.count(M.utcYear(t),t),e,2)}function Nt(t,e){return u(t.getUTCFullYear()%100,e,2)}function Et(t,e){return u(t.getUTCFullYear()%1e4,e,4)}function Pt(){return"+0000"}function jt(){return"%"}function Ct(t){return+t}function At(t){return Math.floor(+t/1e3)}function t(t){return r=n(t),e.timeFormat=r.format,e.timeParse=r.parse,e.utcFormat=r.utcFormat,e.utcParse=r.utcParse,r}t({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var c="%Y-%m-%dT%H:%M:%S.%LZ";var l=Date.prototype.toISOString?function(t){return t.toISOString()}:e.utcFormat(c);var f=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:e.utcParse(c);e.timeFormatDefaultLocale=t,e.timeFormatLocale=n,e.isoFormat=l,e.isoParse=f,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-time")):i(r.d3=r.d3||{},r.d3)},{"d3-time":16}],16:[function(t,e,n){var r;r=this,function(t){"use strict";var i=new Date,s=new Date;function c(o,a,n,r){function u(t){return o(t=new Date(+t)),t}return(u.floor=u).ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},u.round=function(t){var e=u(t),n=u.ceil(t);return t-e<n-t?e:n},u.offset=function(t,e){return a(t=new Date(+t),null==e?1:Math.floor(e)),t},u.range=function(t,e,n){var r,i=[];if(t=u.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return i;for(;i.push(r=new Date(+t)),a(t,n),o(t),r<t&&t<e;);return i},u.filter=function(n){return c(function(t){if(t<=t)for(;o(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;a(t,-1),!n(t););else for(;0<=--e;)for(;a(t,1),!n(t););})},n&&(u.count=function(t,e){return i.setTime(+t),s.setTime(+e),o(i),o(s),Math.floor(n(i,s))},u.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?u.filter(r?function(t){return r(t)%e==0}:function(t){return u.count(0,t)%e==0}):u:null}),u}var e=c(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});e.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?c(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):e:null};var n=e.range,r=c(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),o=r.range,a=c(function(t){t.setTime(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),u=a.range,l=c(function(t){var e=6e4*t.getTimezoneOffset()%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),f=l.range,h=c(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1}),d=h.range;function p(e){return c(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var v=p(0),y=p(1),g=p(2),m=p(3),_=p(4),b=p(5),x=p(6),w=v.range,S=y.range,k=g.range,M=m.range,O=_.range,T=b.range,N=x.range,E=c(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),P=E.range,j=c(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});j.every=function(n){return isFinite(n=Math.floor(n))&&0<n?c(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var C=j.range,A=c(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getUTCMinutes()}),D=A.range,R=c(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),z=R.range,L=c(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),U=L.range;function I(e){return c(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var F=I(0),B=I(1),$=I(2),W=I(3),H=I(4),Y=I(5),V=I(6),q=F.range,X=B.range,G=$.range,K=W.range,Z=H.range,J=Y.range,Q=V.range,tt=c(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),et=tt.range,nt=c(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});nt.every=function(n){return isFinite(n=Math.floor(n))&&0<n?c(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var rt=nt.range;t.timeInterval=c,t.timeMillisecond=e,t.timeMilliseconds=n,t.utcMillisecond=e,t.utcMilliseconds=n,t.timeSecond=r,t.timeSeconds=o,t.utcSecond=r,t.utcSeconds=o,t.timeMinute=a,t.timeMinutes=u,t.timeHour=l,t.timeHours=f,t.timeDay=h,t.timeDays=d,t.timeWeek=v,t.timeWeeks=w,t.timeSunday=v,t.timeSundays=w,t.timeMonday=y,t.timeMondays=S,t.timeTuesday=g,t.timeTuesdays=k,t.timeWednesday=m,t.timeWednesdays=M,t.timeThursday=_,t.timeThursdays=O,t.timeFriday=b,t.timeFridays=T,t.timeSaturday=x,t.timeSaturdays=N,t.timeMonth=E,t.timeMonths=P,t.timeYear=j,t.timeYears=C,t.utcMinute=A,t.utcMinutes=D,t.utcHour=R,t.utcHours=z,t.utcDay=L,t.utcDays=U,t.utcWeek=F,t.utcWeeks=q,t.utcSunday=F,t.utcSundays=q,t.utcMonday=B,t.utcMondays=X,t.utcTuesday=$,t.utcTuesdays=G,t.utcWednesday=W,t.utcWednesdays=K,t.utcThursday=H,t.utcThursdays=Z,t.utcFriday=Y,t.utcFridays=J,t.utcSaturday=V,t.utcSaturdays=Q,t.utcMonth=tt,t.utcMonths=et,t.utcYear=nt,t.utcYears=rt,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],17:[function(t,e,n){var r;r=this,function(t){"use strict";var i,o,n=0,e=0,r=0,a=1e3,u=0,s=0,c=0,l="object"==typeof performance&&performance.now?performance:Date,f="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function h(){return s||(f(d),s=l.now()+c)}function d(){s=0}function p(){this._call=this._time=this._next=null}function v(t,e,n){var r=new p;return r.restart(t,e,n),r}function y(){h(),++n;for(var t,e=i;e;)0<=(t=s-e._time)&&e._call.call(null,t),e=e._next;--n}function g(){s=(u=l.now())+c,n=e=0;try{y()}finally{n=0,function(){var t,e,n=i,r=1/0;for(;n;)n=n._call?(r>n._time&&(r=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:i=e);o=t,_(r)}(),s=0}}function m(){var t=l.now(),e=t-u;a<e&&(c-=e,u=t)}function _(t){n||(e&&(e=clearTimeout(e)),24<t-s?(t<1/0&&(e=setTimeout(g,t-l.now()-c)),r&&(r=clearInterval(r))):(r||(u=l.now(),r=setInterval(m,a)),n=1,f(g)))}p.prototype=v.prototype={constructor:p,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?h():+n)+(null==e?0:+e),this._next||o===this||(o?o._next=this:i=this,o=this),this._call=t,this._time=n,_()},stop:function(){this._call&&(this._call=null,this._time=1/0,_())}},t.now=h,t.timer=v,t.timerFlush=y,t.timeout=function(e,n,t){var r=new p;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r},t.interval=function(n,r,i){var o=new p,a=r;return null==r?o.restart(n,r,i):(r=+r,i=null==i?h():+i,o.restart(function t(e){e+=a,o.restart(t,a+=r,i),n(e)},r,i)),o},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],18:[function(t,e,n){var r,i;r=this,i=function(t,e,d,r,x,w,n){"use strict";var u=e.dispatch("start","end","interrupt"),s=[],c=0,p=1,v=2,y=3,g=4,m=5,_=6;function b(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(o,a,u){var s,c=o.__transition;function l(t){var e,n,r,i;if(u.state!==p)return h();for(e in c)if((i=c[e]).name===u.name){if(i.state===y)return d.timeout(l);i.state===g?(i.state=_,i.timer.stop(),i.on.call("interrupt",o,o.__data__,i.index,i.group),delete c[e]):+e<a&&(i.state=_,i.timer.stop(),delete c[e])}if(d.timeout(function(){u.state===y&&(u.state=g,u.timer.restart(f,u.delay,u.time),f(t))}),u.state=v,u.on.call("start",o,o.__data__,u.index,u.group),u.state===v){for(u.state=y,s=new Array(r=u.tween.length),e=0,n=-1;e<r;++e)(i=u.tween[e].value.call(o,o.__data__,u.index,u.group))&&(s[++n]=i);s.length=n+1}}function f(t){for(var e=t<u.duration?u.ease.call(null,t/u.duration):(u.timer.restart(h),u.state=m,1),n=-1,r=s.length;++n<r;)s[n].call(null,e);u.state===m&&(u.on.call("end",o,o.__data__,u.index,u.group),h())}function h(){for(var t in u.state=_,u.timer.stop(),delete c[a],c)return;delete o.__transition}(c[a]=u).timer=d.timer(function(t){u.state=p,u.timer.restart(l,u.delay,u.time),u.delay<=t&&l(t-u.delay)},0,u.time)}(t,n,{name:e,index:r,group:i,on:u,tween:s,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:c})}function l(t,e){var n=S(t,e);if(n.state>c)throw new Error("too late; already scheduled");return n}function f(t,e){var n=S(t,e);if(n.state>v)throw new Error("too late; already started");return n}function S(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function i(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>v&&n.state<m,n.state=_,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function k(t,e,n){var r=t._id;return t.each(function(){var t=f(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return S(t,r).value[e]}}function M(t,e){var n;return("number"==typeof e?x.interpolateNumber:e instanceof r.color?x.interpolateRgb:(n=r.color(e))?(e=n,x.interpolateRgb):x.interpolateString)(t,e)}var o=w.selection.prototype.constructor;var a=0;function O(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function h(t){return w.selection().transition(t)}function T(){return++a}var N=w.selection.prototype;O.prototype=h.prototype={constructor:O,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=w.selector(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,b(f[h],e,n,h,f,S(u,n)));return new O(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=w.selectorAll(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],l=c.length,f=0;f<l;++f)if(s=c[f]){for(var h,d=t.call(s,s.__data__,f,c),p=S(s,n),v=0,y=d.length;v<y;++v)(h=d[v])&&b(h,e,n,v,d,p);o.push(d),a.push(s)}return new O(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=w.matcher(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new O(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=e[u],l=n[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=e[u];return new O(a,this._parents,this._name,this._id)},selection:function(){return new o(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=T(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var l=S(a,e);b(a,t,n,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new O(r,this._parents,t,n)},call:N.call,nodes:N.nodes,node:N.node,size:N.size,empty:N.empty,each:N.each,on:function(t,e){var n,r,i,o,a,u,s=this._id;return arguments.length<2?S(this.node(),s).on.on(t):this.each((n=s,i=e,u=((r=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})?l:f,function(){var t=u(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}))},attr:function(t,e){var n=w.namespace(t),r="transform"===n?x.interpolateTransformSvg:M;return this.attrTween(t,"function"==typeof e?(n.local?function(n,r,i){var o,a,u;return function(){var t,e=i(this);if(null!=e)return(t=this.getAttributeNS(n.space,n.local))===e?null:t===o&&e===a?u:u=r(o=t,a=e);this.removeAttributeNS(n.space,n.local)}}:function(n,r,i){var o,a,u;return function(){var t,e=i(this);if(null!=e)return(t=this.getAttribute(n))===e?null:t===o&&e===a?u:u=r(o=t,a=e);this.removeAttribute(n)}})(n,r,k(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var i,o;return function(){var t=this.getAttributeNS(e.space,e.local);return t===r?null:t===i?o:o=n(i=t,r)}}:function(e,n,r){var i,o;return function(){var t=this.getAttribute(e);return t===r?null:t===i?o:o=n(i=t,r)}})(n,r,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=w.namespace(t);return this.tween(n,(r.local?function(r,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttributeNS(r.space,r.local,n(t))}}return e._value=t,e}:function(r,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttribute(r,n(t))}}return e._value=t,e})(r,e))},style:function(t,e,n){var r,i,o,a,u,s,c,l,f,h,d,p,v,y,g,m,_,b="transform"==(t+="")?x.interpolateTransformCss:M;return null==e?this.styleTween(t,(v=t,y=b,function(){var t=w.style(this,v),e=(this.style.removeProperty(v),w.style(this,v));return t===e?null:t===g&&e===m?_:_=y(g=t,m=e)})).on("end.style."+t,(p=t,function(){this.style.removeProperty(p)})):this.styleTween(t,"function"==typeof e?(c=b,l=k(this,"style."+(s=t),e),function(){var t=w.style(this,s),e=l(this);return null==e&&(this.style.removeProperty(s),e=w.style(this,s)),t===e?null:t===f&&e===h?d:d=c(f=t,h=e)}):(r=t,i=b,o=e+"",function(){var t=w.style(this,r);return t===o?null:t===a?u:u=i(a=t,o)}),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(r,t,i){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.style.setProperty(r,n(t),i)}}return e._value=t,e}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=k(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},remove:function(){return this.on("end.remove",(n=this._id,function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=S(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(i,o){var a,u;return function(){var t=f(this,i),e=t.tween;if(e!==a)for(var n=0,r=(u=a=e).length;n<r;++n)if(u[n].name===o){(u=u.slice()).splice(n,1);break}t.tween=u}}:function(o,a,u){var s,c;if("function"!=typeof u)throw new Error;return function(){var t=f(this,o),e=t.tween;if(e!==s){c=(s=e).slice();for(var n={name:a,value:u},r=0,i=c.length;r<i;++r)if(c[r].name===a){c[r]=n;break}r===i&&c.push(n)}t.tween=c}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){l(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){l(this,t).delay=e}})(e,t)):S(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){f(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){f(this,t).duration=e}})(e,t)):S(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){f(this,t).ease=e}}(e,t)):S(this.node(),e).ease}};var E={time:null,delay:0,duration:250,ease:n.easeCubicInOut};function P(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return E.time=d.now(),E;return n}w.selection.prototype.interrupt=function(t){return this.each(function(){i(this,t)})},w.selection.prototype.transition=function(t){var e,n;t=t instanceof O?(e=t._id,t._name):(e=T(),(n=E).time=d.now(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&b(a,t,e,c,u,n||P(a,e));return new O(r,this._parents,t,e)};var j=[null];t.transition=h,t.active=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>p&&n.name===e)return new O([[t]],j,e,+r);return null},t.interrupt=i,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-dispatch"),t("d3-timer"),t("d3-color"),t("d3-interpolate"),t("d3-selection"),t("d3-ease")):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3,r.d3)},{"d3-color":4,"d3-dispatch":5,"d3-ease":7,"d3-interpolate":10,"d3-selection":13,"d3-timer":17}],19:[function(t,Ht,e){!function(o,u,t,v){"use strict";var a,s=["","webkit","Moz","MS","ms","o"],e=u.createElement("div"),n="function",c=Math.round,y=Math.abs,g=Date.now;function l(t,e,n){return setTimeout(m(t,n),e)}function r(t,e,n){return!!Array.isArray(t)&&(f(t,n[e],n),!0)}function f(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==v)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function i(r,t,e){var i="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),e=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",n=o.console&&(o.console.warn||o.console.log);return n&&n.call(o.console,i,e),r.apply(this,arguments)}}a="function"!=typeof Object.assign?function(t){if(t===v||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==v&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var h=i(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===v)&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),d=i(function(t,e){return h(t,e,!0)},"merge","Use `assign`.");function p(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&a(r,n)}function m(t,e){return function(){return t.apply(e,arguments)}}function _(t,e){return typeof t==n?t.apply(e&&e[0]||v,e):t}function b(t,e){return t===v?e:t}function x(e,t,n){f(M(t),function(t){e.addEventListener(t,n,!1)})}function w(e,t,n){f(M(t),function(t){e.removeEventListener(t,n,!1)})}function S(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function k(t,e){return-1<t.indexOf(e)}function M(t){return t.trim().split(/\s+/g)}function O(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function T(t){return Array.prototype.slice.call(t,0)}function N(t,n,e){for(var r=[],i=[],o=0;o<t.length;){var a=n?t[o][n]:t[o];O(i,a)<0&&r.push(t[o]),i[o]=a,o++}return e&&(r=n?r.sort(function(t,e){return t[n]>e[n]}):r.sort()),r}function E(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<s.length;){if((r=(n=s[o])?n+i:e)in t)return r;o++}return v}var P=1;function j(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||o}var C="ontouchstart"in o,A=E(o,"PointerEvent")!==v,D=C&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),R="touch",z=25,L=1,U=4,I=8,F=1,B=2,$=4,W=8,H=16,Y=B|$,V=W|H,q=Y|V,X=["x","y"],G=["clientX","clientY"];function K(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){_(e.options.enable,[e])&&n.handler(t)},this.init()}function Z(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&L&&r-i==0,a=e&(U|I)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=J(e));1<i&&!n.firstMultiple?n.firstMultiple=J(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,s=e.center=Q(r);e.timeStamp=g(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=rt(u,s),e.distance=nt(u,s),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==L&&o.eventType!==U||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=et(e.deltaX,e.deltaY);var c=tt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=y(c.x)>y(c.y)?c.x:c.y,e.scale=a?(h=a.pointers,d=r,nt(d[0],d[1],G)/nt(h[0],h[1],G)):1,e.rotation=a?(l=a.pointers,f=r,rt(f[1],f[0],G)+rt(l[1],l[0],G)):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=I&&(z<u||a.velocity===v)){var s=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,l=tt(u,s,c);r=l.x,i=l.y,n=y(l.x)>y(l.y)?l.x:l.y,o=et(s,c),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var l,f;var h,d;var p=t.element;S(e.srcEvent.target,p)&&(p=e.srcEvent.target);e.target=p}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function J(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:c(t.pointers[n].clientX),clientY:c(t.pointers[n].clientY)},n++;return{timeStamp:g(),pointers:e,center:Q(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Q(t){var e=t.length;if(1===e)return{x:c(t[0].clientX),y:c(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:c(n/e),y:c(r/e)}}function tt(t,e,n){return{x:e/t||0,y:n/t||0}}function et(t,e){return t===e?F:y(t)>=y(e)?t<0?B:$:e<0?W:H}function nt(t,e,n){n||(n=X);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function rt(t,e,n){n||(n=X);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}K.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(j(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(j(this.element),this.evWin,this.domHandler)}};var it={mousedown:L,mousemove:2,mouseup:U},ot="mousedown",at="mousemove mouseup";function ut(){this.evEl=ot,this.evWin=at,this.pressed=!1,K.apply(this,arguments)}p(ut,K,{handler:function(t){var e=it[t.type];e&L&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=U),this.pressed&&(e&U&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var st={pointerdown:L,pointermove:2,pointerup:U,pointercancel:I,pointerout:I},ct={2:R,3:"pen",4:"mouse",5:"kinect"},lt="pointerdown",ft="pointermove pointerup pointercancel";function ht(){this.evEl=lt,this.evWin=ft,K.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(lt="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),p(ht,K,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=st[r],o=ct[t.pointerType]||t.pointerType,a=o==R,u=O(e,t.pointerId,"pointerId");i&L&&(0===t.button||a)?u<0&&(e.push(t),u=e.length-1):i&(U|I)&&(n=!0),u<0||(e[u]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(u,1))}});var dt={touchstart:L,touchmove:2,touchend:U,touchcancel:I};function pt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,K.apply(this,arguments)}p(pt,K,{handler:function(t){var e=dt[t.type];if(e===L&&(this.started=!0),this.started){var n=function(t,e){var n=T(t.touches),r=T(t.changedTouches);e&(U|I)&&(n=N(n.concat(r),"identifier",!0));return[n,r]}.call(this,t,e);e&(U|I)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:R,srcEvent:t})}}});var vt={touchstart:L,touchmove:2,touchend:U,touchcancel:I},yt="touchstart touchmove touchend touchcancel";function gt(){this.evTarget=yt,this.targetIds={},K.apply(this,arguments)}p(gt,K,{handler:function(t){var e=vt[t.type],n=function(t,e){var n=T(t.touches),r=this.targetIds;if(e&(2|L)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=T(t.changedTouches),u=[],s=this.target;if(o=n.filter(function(t){return S(t.target,s)}),e===L)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;i=0;for(;i<a.length;)r[a[i].identifier]&&u.push(a[i]),e&(U|I)&&delete r[a[i].identifier],i++;return u.length?[N(o.concat(u),"identifier",!0),u]:void 0}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:R,srcEvent:t})}});var mt=2500;function _t(){K.apply(this,arguments);var t=m(this.handler,this);this.touch=new gt(this.manager,t),this.mouse=new ut(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function bt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var t=r.indexOf(n);-1<t&&r.splice(t,1)},mt)}}p(_t,K,{handler:function(t,e,n){var r=n.pointerType==R,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(t,e){t&L?(this.primaryTouch=e.changedPointers[0].identifier,bt.call(this,e)):t&(U|I)&&bt.call(this,e)}).call(this,e,n);else if(i&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var xt=E(e.style,"touchAction"),wt=xt!==v,St="manipulation",kt="none",Mt="pan-x",Ot="pan-y",Tt=function(){if(!wt)return!1;var e={},n=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){e[t]=!n||o.CSS.supports("touch-action",t)}),e}();function Nt(t,e){this.manager=t,this.set(e)}Nt.prototype={set:function(t){"compute"==t&&(t=this.compute()),wt&&this.manager.element.style&&Tt[t]&&(this.manager.element.style[xt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return f(this.manager.recognizers,function(t){_(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(k(t,kt))return kt;var e=k(t,Mt),n=k(t,Ot);if(e&&n)return kt;if(e||n)return e?Mt:Ot;if(k(t,St))return St;return"auto"}(e.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=k(r,kt)&&!Tt.none,o=k(r,Ot)&&!Tt[Ot],a=k(r,Mt)&&!Tt[Mt];if(i){var u=1===t.pointers.length,s=t.distance<2,c=t.deltaTime<250;if(u&&s&&c)return}if(!a||!o)return i||o&&n&Y||a&&n&V?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Et=1;function Pt(t){this.options=a({},this.defaults,t||{}),this.id=P++,this.manager=null,this.options.enable=b(this.options.enable,!0),this.state=Et,this.simultaneous={},this.requireFail=[]}function jt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Ct(t){return t==H?"down":t==W?"up":t==B?"left":t==$?"right":""}function At(t,e){var n=e.manager;return n?n.get(t):t}function Dt(){Pt.apply(this,arguments)}function Rt(){Dt.apply(this,arguments),this.pX=null,this.pY=null}function zt(){Dt.apply(this,arguments)}function Lt(){Pt.apply(this,arguments),this._timer=null,this._input=null}function Ut(){Dt.apply(this,arguments)}function It(){Dt.apply(this,arguments)}function Ft(){Pt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Bt(t,e){return(e=e||{}).recognizers=b(e.recognizers,Bt.defaults.preset),new $t(t,e)}Pt.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(r(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=At(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return r(t,"dropRecognizeWith",this)||(t=At(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(r(t,"requireFailure",this))return this;var e=this.requireFail;return-1===O(e,t=At(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(r(t,"dropRequireFailure",this))return this;t=At(t,this);var e=O(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){var n=this,t=this.state;function r(t){n.manager.emit(t,e)}t<8&&r(n.options.event+jt(t)),r(n.options.event),e.additionalEvent&&r(e.additionalEvent),8<=t&&r(n.options.event+jt(t))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Et)))return!1;t++}return!0},recognize:function(t){var e=a({},t);if(!_(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=Et),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},p(Dt,Pt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(n&I||!i)?16|e:r||i?n&U?8|e:2&e?4|e:2:32}}),p(Rt,Dt,{defaults:{event:"pan",threshold:10,pointers:1,direction:q},getTouchAction:function(){var t=this.options.direction,e=[];return t&Y&&e.push(Ot),t&V&&e.push(Mt),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(r=e.direction&Y?(i=0===o?F:o<0?B:$,n=o!=this.pX,Math.abs(t.deltaX)):(i=0===a?F:a<0?W:H,n=a!=this.pY,Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Dt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Ct(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),p(zt,Dt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[kt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),p(Lt,Pt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(U|I)&&!i)this.reset();else if(t.eventType&L)this.reset(),this._timer=l(function(){this.state=8,this.tryEmit()},e.time,this);else if(t.eventType&U)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&U?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=g(),this.manager.emit(this.options.event,this._input)))}}),p(Ut,Dt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[kt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),p(It,Dt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Y|V,pointers:1},getTouchAction:function(){return Rt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Y|V)?e=t.overallVelocity:n&Y?e=t.overallVelocityX:n&V&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&y(e)>this.options.velocity&&t.eventType&U},emit:function(t){var e=Ct(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(Ft,Pt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[St]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&L&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=U)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||nt(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=l(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=l(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Bt.VERSION="2.0.7",Bt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ut,{enable:!1}],[zt,{enable:!1},["rotate"]],[It,{direction:Y}],[Rt,{direction:Y},["swipe"]],[Ft],[Ft,{event:"doubletap",taps:2},["tap"]],[Lt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function $t(t,e){var n;this.options=a({},Bt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(A?ht:D?gt:C?_t:ut))(n,Z),this.touchAction=new Nt(this,this.options.touchAction),Wt(this,!0),f(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Wt(n,r){var i,o=n.element;o.style&&(f(n.options.cssProps,function(t,e){i=E(o.style,e),o.style[i]=r?(n.oldCssProps[i]=o.style[i],t):n.oldCssProps[i]||""}),r||(n.oldCssProps={}))}$t.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Pt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(r(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){if(r(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=O(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==v&&e!==v){var n=this.handlers;return f(M(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==v){var n=this.handlers;return f(M(t),function(t){e?n[t]&&n[t].splice(O(n[t],e),1):delete n[t]}),this}},emit:function(t,e){var n,r,i;this.options.domEvents&&(n=t,r=e,(i=u.createEvent("Event")).initEvent(n,!0,!0),(i.gesture=r).target.dispatchEvent(i));var o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var a=0;a<o.length;)o[a](e),a++}},destroy:function(){this.element&&Wt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(Bt,{INPUT_START:L,INPUT_MOVE:2,INPUT_END:U,INPUT_CANCEL:I,STATE_POSSIBLE:Et,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:F,DIRECTION_LEFT:B,DIRECTION_RIGHT:$,DIRECTION_UP:W,DIRECTION_DOWN:H,DIRECTION_HORIZONTAL:Y,DIRECTION_VERTICAL:V,DIRECTION_ALL:q,Manager:$t,Input:K,TouchAction:Nt,TouchInput:gt,MouseInput:ut,PointerEventInput:ht,TouchMouseInput:_t,SingleTouchInput:pt,Recognizer:Pt,AttrRecognizer:Dt,Tap:Ft,Pan:Rt,Swipe:It,Pinch:zt,Rotate:Ut,Press:Lt,on:x,off:w,each:f,merge:d,extend:h,assign:a,inherit:p,bindFn:m,prefixed:E}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=Bt,void 0!==Ht&&Ht.exports?Ht.exports=Bt:o.Hammer=Bt}(window,document)},{}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("./utils.js")),l=r(t("./logger.js"));function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var o=function(o){function a(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this));return i.backend=t,i.store=e,i.languageUtils=n.languageUtils,i.options=r,i.logger=l.default.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(n,r.backend,r),i}return i(a,o),a.prototype.queueLoad=function(t,e,i,n){var o=this,a=[],u=[],s=[],c=[];return t.forEach(function(n){var r=!0;e.forEach(function(t){var e=n+"|"+t;!i.reload&&o.store.hasResourceBundle(n,t)?o.state[e]=2:o.state[e]<0||(1===o.state[e]?u.indexOf(e)<0&&u.push(e):(o.state[e]=1,r=!1,u.indexOf(e)<0&&u.push(e),a.indexOf(e)<0&&a.push(e),c.indexOf(t)<0&&c.push(t)))}),r||s.push(n)}),(a.length||u.length)&&this.queue.push({pending:u,loaded:{},errors:[],callback:n}),{toLoad:a,pending:u,toLoadLanguages:s,toLoadNamespaces:c}},a.prototype.loaded=function(e,n,t){var r=e.split("|"),i=s(r,2),o=i[0],a=i[1];n&&this.emit("failedLoading",o,a,n),t&&this.store.addResourceBundle(o,a,t),this.state[e]=n?-1:2;var u={};this.queue.forEach(function(t){c.pushPath(t.loaded,[o],a),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(t.pending,e),n&&t.errors.push(n),0!==t.pending.length||t.done||(Object.keys(t.loaded).forEach(function(e){u[e]||(u[e]=[]),t.loaded[e].length&&t.loaded[e].forEach(function(t){u[e].indexOf(t)<0&&u[e].push(t)})}),t.done=!0,t.errors.length?t.callback(t.errors):t.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(function(t){return!t.done})},a.prototype.read=function(n,r,i){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=this,u=4<arguments.length&&void 0!==arguments[4]?arguments[4]:250,s=arguments[5];return n.length?this.backend[i](n,r,function(t,e){t&&e&&o<5?setTimeout(function(){a.read.call(a,n,r,i,o+1,2*u,s)},u):s(t,e)}):s(null,{})},a.prototype.prepareLoading=function(t,e){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3];if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var o=this.queueLoad(t,e,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(function(t){n.loadOne(t)})},a.prototype.load=function(t,e,n){this.prepareLoading(t,e,{},n)},a.prototype.reload=function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)},a.prototype.loadOne=function(n){var r=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=n.split("|"),e=s(t,2),o=e[0],a=e[1];this.read(o,a,"read",null,null,function(t,e){t&&r.logger.warn(i+"loading namespace "+a+" for language "+o+" failed",t),!t&&e&&r.logger.log(i+"loaded namespace "+a+" for language "+o,e),r.loaded(n,t,e)})},a.prototype.saveMissing=function(t,e,n,r,i){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(t,e,n,r,null,u({},o,{isUpdate:i})),t&&t[0]&&this.store.addResource(t[0],e,n,r)},a}(r(t("./EventEmitter.js")).default);n.default=o},{"./EventEmitter.js":21,"./logger.js":30,"./utils.js":32}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observers={}}return t.prototype.on=function(t,e){var n=this;return t.split(" ").forEach(function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)}),this},t.prototype.off=function(e,n){var r=this;this.observers[e]&&this.observers[e].forEach(function(){if(n){var t=r.observers[e].indexOf(n);-1<t&&r.observers[e].splice(t,1)}else delete r.observers[e]})},t.prototype.emit=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach(function(t){t.apply(void 0,n)});this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(t){t.apply(t,[e].concat(n))})},t}();n.default=r},{}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("./utils.js")),i=t("./logger.js"),o=(r=i)&&r.__esModule?r:{default:r};var a=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.logger=o.default.create("interpolator"),this.init(t,!0)}return e.prototype.init=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=t,this.format=t.interpolation&&t.interpolation.format||function(t){return t}),t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:h.escape,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?h.regexEscape(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?h.regexEscape(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?h.regexEscape(e.nestingPrefix):e.nestingPrefixEscaped||h.regexEscape("$t("),this.nestingSuffix=e.nestingSuffix?h.regexEscape(e.nestingSuffix):e.nestingSuffixEscaped||h.regexEscape(")"),this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.resetRegExp()},e.prototype.reset=function(){this.options&&this.init(this.options)},e.prototype.resetRegExp=function(){var t=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(t,"g");var e=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(e,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},e.prototype.interpolate=function(t,i,o,e){var a=this,n=void 0,r=void 0,u=void 0;function s(t){return t.replace(/\$/g,"$$$$")}var c=function(t){if(t.indexOf(a.formatSeparator)<0)return h.getPath(i,t);var e=t.split(a.formatSeparator),n=e.shift().trim(),r=e.join(a.formatSeparator).trim();return a.format(h.getPath(i,n),r,o)};this.resetRegExp();var l=e&&e.missingInterpolationHandler||this.options.missingInterpolationHandler;for(u=0;(n=this.regexpUnescape.exec(t))&&(r=c(n[1].trim()),t=t.replace(n[0],r),this.regexpUnescape.lastIndex=0,!(++u>=this.maxReplaces)););for(u=0;n=this.regexp.exec(t);){if(void 0===(r=c(n[1].trim())))if("function"==typeof l){var f=l(t,n);r="string"==typeof f?f:""}else this.logger.warn("missed to pass in variable "+n[1]+" for interpolating "+t),r="";else"string"==typeof r||this.useRawValueToEscape||(r=h.makeString(r));if(r=this.escapeValue?s(this.escape(r)):s(r),t=t.replace(n[0],r),this.regexp.lastIndex=0,++u>=this.maxReplaces)break}return t},e.prototype.nest=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=void 0,i=void 0,o=u({},n);function a(e,t){if(e.indexOf(",")<0)return e;var n=e.split(",");e=n.shift();var r=n.join(",");r=(r=this.interpolate(r,o)).replace(/'/g,'"');try{o=JSON.parse(r),t&&(o=u({},t,o))}catch(t){this.logger.error("failed parsing options string in nesting for key "+e,t)}return e}for(o.applyPostProcessor=!1;r=this.nestingRegexp.exec(t);){if((i=e(a.call(this,r[1].trim(),o),o))&&r[0]===t&&"string"!=typeof i)return i;"string"!=typeof i&&(i=h.makeString(i)),i||(this.logger.warn("missed to resolve "+r[1]+" for nesting "+t),i=""),t=t.replace(r[0],i),this.regexp.lastIndex=0}return t},e}();n.default=a},{"./logger.js":30,"./utils.js":32}],23:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=t("./logger.js"),o=(r=i)&&r.__esModule?r:{default:r};function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}var u=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=o.default.create("languageUtils")}return e.prototype.getScriptPartFromCode=function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))},e.prototype.getLanguagePartFromCode=function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])},e.prototype.formatLanguageCode=function(t){if("string"==typeof t&&-1<t.indexOf("-")){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map(function(t){return t.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),-1<e.indexOf(n[1].toLowerCase())&&(n[1]=a(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),-1<e.indexOf(n[1].toLowerCase())&&(n[1]=a(n[1].toLowerCase())),-1<e.indexOf(n[2].toLowerCase())&&(n[2]=a(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t},e.prototype.isWhitelisted=function(t){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||-1<this.whitelist.indexOf(t)},e.prototype.getFallbackCodes=function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t.default),n||[]},e.prototype.toResolveHierarchy=function(t,e){var n=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[],o=function(t){t&&(n.isWhitelisted(t)?i.push(t):n.logger.warn("rejecting non-whitelisted language code: "+t))};return"string"==typeof t&&-1<t.indexOf("-")?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):"string"==typeof t&&o(this.formatLanguageCode(t)),r.forEach(function(t){i.indexOf(t)<0&&o(n.formatLanguageCode(t))}),i},e}();n.default=u},{"./logger.js":30}],24:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=t("./logger.js"),o=(r=i)&&r.__esModule?r:{default:r};var a=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}],u={1:function(t){return Number(1<t)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:3<=t%100&&t%100<=10?3:11<=t%100?4:5)},6:function(t){return Number(1==t?0:2<=t&&t<=4?1:2)},7:function(t){return Number(1==t?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(2<=t)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:2<t&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:2<=t%10&&(t%100<10||20<=t%100)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||1<t%100&&t%100<11?1:10<t%100&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||0<t%100&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1===t?0:2===t?1:(t<0||10<t)&&t%10==0?2:3)}};var s=function(){function r(t){var n,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.languageUtils=t,this.options=e,this.logger=o.default.create("pluralResolver"),this.rules=(n={},a.forEach(function(e){e.lngs.forEach(function(t){n[t]={numbers:e.nr,plurals:u[e.fc]}})}),n)}return r.prototype.addRule=function(t,e){this.rules[t]=e},r.prototype.getRule=function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]},r.prototype.needsPlural=function(t){var e=this.getRule(t);return e&&1<e.numbers.length},r.prototype.getPluralFormsOfKey=function(n,r){var i=this,o=[],t=this.getRule(n);return t&&t.numbers.forEach(function(t){var e=i.getSuffix(n,t);o.push(""+r+e)}),o},r.prototype.getSuffix=function(t,e){var n=this,r=this.getRule(t);if(r){var i=r.noAbs?r.plurals(e):r.plurals(Math.abs(e)),o=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_"+o.toString():a():"v2"===this.options.compatibilityJSON&&2===r.numbers.length&&1===r.numbers[0]?a():this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: "+t),""},r}();n.default=s},{"./logger.js":30}],25:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=t("./EventEmitter.js"),o=(r=i)&&r.__esModule?r:{default:r},c=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("./utils.js"));function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var u=function(r){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this));return n.data=t||{},n.options=e,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return a(i,r),i.prototype.addNamespaces=function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)},i.prototype.removeNamespaces=function(t){var e=this.options.ns.indexOf(t);-1<e&&this.options.ns.splice(e,1)},i.prototype.getResource=function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=[t,e];return n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(i?n.split(i):n)),-1<t.indexOf(".")&&(o=t.split(".")),c.getPath(this.data,o)},i.prototype.addResource=function(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[t,e];n&&(a=a.concat(o?n.split(o):n)),-1<t.indexOf(".")&&(r=e,e=(a=t.split("."))[1]),this.addNamespaces(e),c.setPath(this.data,a,r),i.silent||this.emit("added",t,e,n,r)},i.prototype.addResources=function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"==typeof n[i]&&this.addResource(t,e,i,n[i],{silent:!0});r.silent||this.emit("added",t,e,n)},i.prototype.addResourceBundle=function(t,e,n,r,i){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[t,e];-1<t.indexOf(".")&&(r=n,n=e,e=(a=t.split("."))[1]),this.addNamespaces(e);var u=c.getPath(this.data,a)||{};r?c.deepExtend(u,n,i):u=s({},u,n),c.setPath(this.data,a,u),o.silent||this.emit("added",t,e,n)},i.prototype.removeResourceBundle=function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)},i.prototype.hasResourceBundle=function(t,e){return void 0!==this.getResource(t,e)},i.prototype.getResourceBundle=function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?s({},this.getResource(t,e)):this.getResource(t,e)},i.prototype.getDataByLanguage=function(t){return this.data[t]},i.prototype.toJSON=function(){return this.data},i}(o.default);n.default=u},{"./EventEmitter.js":21,"./utils.js":32}],26:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=i(t("./logger.js")),r=i(t("./EventEmitter.js")),s=i(t("./postProcessor.js")),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(t("./utils.js"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}var c=function(r){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this));return a.copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat"],t,n),n.options=e,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=o.default.create("translator"),n}return u(i,r),i.prototype.changeLanguage=function(t){t&&(this.language=t)},i.prototype.exists=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,e);return n&&void 0!==n.res},i.prototype.extractFromKey=function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,i=e.ns||this.options.defaultNS;if(n&&-1<t.indexOf(n)){var o=t.split(n);(n!==r||n===r&&-1<this.options.ns.indexOf(o[0]))&&(i=o.shift()),t=o.join(r)}return"string"==typeof i&&(i=[i]),{key:t,namespaces:i}},i.prototype.translate=function(t,n){var r=this;if("object"!==(void 0===n?"undefined":P(n))&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==t||""===t)return"";"number"==typeof t&&(t=String(t)),"string"==typeof t&&(t=[t]);var e=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,i=this.extractFromKey(t[t.length-1],n),o=i.key,a=i.namespaces,u=a[a.length-1],s=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(s&&"cimode"===s.toLowerCase()){if(c){var l=n.nsSeparator||this.options.nsSeparator;return u+l+o}return o}var f=this.resolve(t,n),h=f&&f.res,d=f&&f.usedKey||o,p=Object.prototype.toString.apply(h),v=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject;if(y&&h&&("string"!=typeof h&&"boolean"!=typeof h&&"number"!=typeof h)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(p)<0&&(!v||"[object Array]"!==p)){if(!n.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,h,n):"key '"+o+" ("+this.language+")' returned an object instead of string.";if(e){var g="[object Array]"===p?[]:{};for(var m in h)if(Object.prototype.hasOwnProperty.call(h,m)){var _=""+d+e+m;g[m]=this.translate(_,E({},n,{joinArrays:!1,ns:a})),g[m]===_&&(g[m]=h[m])}h=g}}else if(y&&v&&"[object Array]"===p)(h=h.join(v))&&(h=this.extendTranslation(h,t,n));else{var b=!1,x=!1;if(!this.isValidLookup(h)&&void 0!==n.defaultValue){if(b=!0,void 0!==n.count){var w=this.pluralResolver.getSuffix(s,n.count);h=n["defaultValue"+w]}h||(h=n.defaultValue)}this.isValidLookup(h)||(x=!0,h=o);var S=n.defaultValue&&n.defaultValue!==h&&this.options.updateMissing;if(x||b||S){this.logger.log(S?"updateKey":"missingKey",s,u,o,S?n.defaultValue:h);var k=[],M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&M&&M[0])for(var O=0;O<M.length;O++)k.push(M[O]);else"all"===this.options.saveMissingTo?k=this.languageUtils.toResolveHierarchy(n.lng||this.language):k.push(n.lng||this.language);var T=function(t,e){r.options.missingKeyHandler?r.options.missingKeyHandler(t,u,e,S?n.defaultValue:h,S,n):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(t,u,e,S?n.defaultValue:h,S,n),r.emit("missingKey",t,u,e,h)};if(this.options.saveMissing){var N=void 0!==n.count&&"string"!=typeof n.count;this.options.saveMissingPlurals&&N?k.forEach(function(e){r.pluralResolver.getPluralFormsOfKey(e,o).forEach(function(t){return T([e],t)})}):T(k,o)}}h=this.extendTranslation(h,t,n,f),x&&h===o&&this.options.appendNamespaceToMissingKey&&(h=u+":"+o),x&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(h))}return h},i.prototype.extendTranslation=function(t,e,n,r){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(E({},n,{interpolation:E({},this.options.interpolation,n.interpolation)}));var o=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(o=E({},this.options.interpolation.defaultVariables,o)),t=this.interpolator.interpolate(t,o,n.lng||this.language,n),!1!==n.nest&&(t=this.interpolator.nest(t,function(){return i.translate.apply(i,arguments)},n)),n.interpolation&&this.interpolator.reset()}var a=n.postProcess||this.options.postProcess,u="string"==typeof a?[a]:a;return null!=t&&u&&u.length&&!1!==n.applyPostProcessor&&(t=s.default.handle(u,t,e,n,this)),t},i.prototype.resolve=function(t){var c=this,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=void 0,i=void 0,h=void 0,d=void 0;return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!c.isValidLookup(f)){var e=c.extractFromKey(t,l),a=e.key;i=a;var n=e.namespaces;c.options.fallbackNS&&(n=n.concat(c.options.fallbackNS));var u=void 0!==l.count&&"string"!=typeof l.count,s=void 0!==l.context&&"string"==typeof l.context&&""!==l.context,r=l.lngs?l.lngs:c.languageUtils.toResolveHierarchy(l.lng||c.language,l.fallbackLng);n.forEach(function(o){c.isValidLookup(f)||(d=o,r.forEach(function(t){if(!c.isValidLookup(f)){h=t;var e=a,n=[e];if(c.i18nFormat&&c.i18nFormat.addLookupKeys)c.i18nFormat.addLookupKeys(n,a,t,o,l);else{var r=void 0;u&&(r=c.pluralResolver.getSuffix(t,l.count)),u&&s&&n.push(e+r),s&&n.push(e+=""+c.options.contextSeparator+l.context),u&&n.push(e+=r)}for(var i=void 0;i=n.pop();)c.isValidLookup(f)||(f=c.getResource(t,o,i,l))}}))})}}),{res:f,usedKey:i,usedLng:h,usedNS:d}},i.prototype.isValidLookup=function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)},i.prototype.getResource=function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,r):this.resourceStore.getResource(t,e,n,r)},i}(r.default);n.default=c},{"./EventEmitter.js":21,"./logger.js":30,"./postProcessor.js":31,"./utils.js":32}],27:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.transformOptions=function(t){"string"==typeof t.ns&&(t.ns=[t.ns]);"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]);"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]);t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"]));return t},n.get=function(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};return t[1]&&(e.defaultValue=t[1]),t[2]&&(e.tDescription=t[2]),e},interpolation:{escapeValue:!0,format:function(t,e,n){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}}}},{}],28:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=i(t("./logger.js")),r=i(t("./EventEmitter.js")),l=i(t("./ResourceStore.js")),f=i(t("./Translator.js")),h=i(t("./LanguageUtils.js")),d=i(t("./PluralResolver.js")),p=i(t("./Interpolator.js")),v=i(t("./BackendConnector.js")),y=t("./defaults.js"),a=i(t("./postProcessor.js"));function i(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e))}function _(){}var o=function(i){function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var n=g(this,i.call(this));if(n.options=(0,y.transformOptions)(t),n.services={},n.logger=u.default,n.modules={external:[]},e&&!n.isInitialized&&!t.isClone){var r;if(!n.options.initImmediate)return r=n.init(t,e),g(n,r);setTimeout(function(){n.init(t,e)},0)}return n}return m(o,i),o.prototype.init=function(){var i=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];function e(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof t&&(n=t,t={}),this.options=c({},(0,y.get)(),this.options,(0,y.transformOptions)(t)),this.format=this.options.interpolation.format,n||(n=_),!this.options.isClone){this.modules.logger?u.default.init(e(this.modules.logger),this.options):u.default.init(null,this.options);var r=new h.default(this.options);this.store=new l.default(this.options.resources,this.options);var o=this.services;o.logger=u.default,o.resourceStore=this.store,o.languageUtils=r,o.pluralResolver=new d.default(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o.interpolator=new p.default(this.options),o.backendConnector=new v.default(e(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t].concat(n))}),this.modules.languageDetector&&(o.languageDetector=e(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=e(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new f.default(this.services,this.options),this.translator.on("*",function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t].concat(n))}),this.modules.external.forEach(function(t){t.init&&t.init(i)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(e){i[e]=function(){var t;return(t=i.store)[e].apply(t,arguments)}});var a=function(){i.changeLanguage(i.options.lng,function(t,e){i.isInitialized=!0,i.logger.log("initialized",i.options),i.emit("initialized",i.options),n(t,e)})};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),this},o.prototype.loadResources=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:_;if(this.options.resources)t(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return t();var n=[],r=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach(function(t){n.indexOf(t)<0&&n.push(t)})};if(this.language)r(this.language);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(t){return r(t)});this.options.preload&&this.options.preload.forEach(function(t){return r(t)}),this.services.backendConnector.load(n,this.options.ns,t)}},o.prototype.reloadResources=function(t,e,n){t||(t=this.languages),e||(e=this.options.ns),n||(n=function(){}),this.services.backendConnector.reload(t,e,n)},o.prototype.use=function(t){return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&a.default.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this},o.prototype.changeLanguage=function(t,i){var o=this,e=function(r){r&&(o.language=r,o.languages=o.services.languageUtils.toResolveHierarchy(r),o.translator.language||o.translator.changeLanguage(r),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage(r)),o.loadResources(function(t){var e,n;e=t,n=r,o.translator.changeLanguage(n),n&&(o.emit("languageChanged",n),o.logger.log("languageChanged",n)),i&&i(e,function(){return o.t.apply(o,arguments)})})};t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(e):e(t):e(this.services.languageDetector.detect())},o.prototype.getFixedT=function(t,e){var u=this,n=function t(e,n){for(var r=arguments.length,i=Array(2<r?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var a=c({},n);return"object"!==(void 0===n?"undefined":s(n))&&(a=u.options.overloadTranslationOptionHandler([e,n].concat(i))),a.lng=a.lng||t.lng,a.lngs=a.lngs||t.lngs,a.ns=a.ns||t.ns,u.t(e,a)};return"string"==typeof t?n.lng=t:n.lngs=t,n.ns=e,n},o.prototype.t=function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)},o.prototype.exists=function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)},o.prototype.setDefaultNamespace=function(t){this.options.defaultNS=t},o.prototype.loadNamespaces=function(t,e){var n=this;if(!this.options.ns)return e&&e();"string"==typeof t&&(t=[t]),t.forEach(function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)}),this.loadResources(e)},o.prototype.loadLanguages=function(t,e){"string"==typeof t&&(t=[t]);var n=this.options.preload||[],r=t.filter(function(t){return n.indexOf(t)<0});if(!r.length)return e();this.options.preload=n.concat(r),this.loadResources(e)},o.prototype.dir=function(t){if(t||(t=this.languages&&0<this.languages.length?this.languages[0]:this.language),!t)return"rtl";return 0<=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))?"rtl":"ltr"},o.prototype.createInstance=function(){return new o(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},o.prototype.cloneInstance=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_,r=c({},this.options,t,{isClone:!0}),i=new o(r);return["store","services","language"].forEach(function(t){i[t]=e[t]}),i.translator=new f.default(i.services,i.options),i.translator.on("*",function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t].concat(n))}),i.init(r,n),i.translator.options=i.options,i},o}(r.default);n.default=new o},{"./BackendConnector.js":20,"./EventEmitter.js":21,"./Interpolator.js":22,"./LanguageUtils.js":23,"./PluralResolver.js":24,"./ResourceStore.js":25,"./Translator.js":26,"./defaults.js":27,"./logger.js":30,"./postProcessor.js":31}],29:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.use=n.t=n.setDefaultNamespace=n.on=n.off=n.loadResources=n.loadNamespaces=n.loadLanguages=n.init=n.getFixedT=n.exists=n.dir=n.createInstance=n.cloneInstance=n.changeLanguage=void 0;var r,i=t("./i18next.js"),o=(r=i)&&r.__esModule?r:{default:r};n.default=o.default;n.changeLanguage=o.default.changeLanguage.bind(o.default),n.cloneInstance=o.default.cloneInstance.bind(o.default),n.createInstance=o.default.createInstance.bind(o.default),n.dir=o.default.dir.bind(o.default),n.exists=o.default.exists.bind(o.default),n.getFixedT=o.default.getFixedT.bind(o.default),n.init=o.default.init.bind(o.default),n.loadLanguages=o.default.loadLanguages.bind(o.default),n.loadNamespaces=o.default.loadNamespaces.bind(o.default),n.loadResources=o.default.loadResources.bind(o.default),n.off=o.default.off.bind(o.default),n.on=o.default.on.bind(o.default),n.setDefaultNamespace=o.default.setDefaultNamespace.bind(o.default),n.t=o.default.t.bind(o.default),n.use=o.default.use.bind(o.default)},{"./i18next.js":28}],30:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var i={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var n;console&&console[t]&&(n=console)[t].apply(n,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))}},o=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.init(t,e)}return n.prototype.init=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||i,this.options=e,this.debug=e.debug},n.prototype.setDebug=function(t){this.debug=t},n.prototype.log=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)},n.prototype.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)},n.prototype.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")},n.prototype.deprecate=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)},n.prototype.forward=function(t,e,n,r){return r&&!this.debug?null:("string"==typeof t[0]&&(t[0]=""+n+this.prefix+" "+t[0]),this.logger[e](t))},n.prototype.create=function(t){return new n(this.logger,r({prefix:this.prefix+":"+t+":"},this.options))},n}();n.default=new o},{}],31:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,i){var o=this;return t.forEach(function(t){o.processors[t]&&(e=o.processors[t].process(e,n,r,i))}),e}}},{}],32:[function(t,e,n){"use strict";function u(t,e,n){function r(t){return t&&-1<t.indexOf("###")?t.replace(/###/g,"."):t}function i(){return!t||"string"==typeof t}for(var o="string"!=typeof e?[].concat(e):e.split(".");1<o.length;){if(i())return{};var a=r(o.shift());!t[a]&&n&&(t[a]=new n),t=t[a]}return i()?{}:{obj:t,k:r(o.shift())}}Object.defineProperty(n,"__esModule",{value:!0}),n.makeString=function(t){return null==t?"":""+t},n.copy=function(t,e,n){t.forEach(function(t){e[t]&&(n[t]=e[t])})},n.setPath=function(t,e,n){var r=u(t,e,Object),i=r.obj,o=r.k;i[o]=n},n.pushPath=function(t,e,n,r){var i=u(t,e,Object),o=i.obj,a=i.k;o[a]=o[a]||[],r&&(o[a]=o[a].concat(n));r||o[a].push(n)},n.getPath=function(t,e){var n=u(t,e),r=n.obj,i=n.k;return r?r[i]:void 0},n.deepExtend=function t(e,n,r){for(var i in n)i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof n[i]||n[i]instanceof String?r&&(e[i]=n[i]):t(e[i],n[i],r):e[i]=n[i];return e},n.regexEscape=function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},n.escape=function(t){return"string"!=typeof t?t:t.replace(/[&<>"'\/]/g,function(t){return r[t]})};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"}},{}],33:[function(t,e,n){e.exports=t("./dist/commonjs/index.js").default},{"./dist/commonjs/index.js":29}],34:[function(t,F,B){(function(I){(function(){var na,ra="Expected a function",ia="__lodash_hash_undefined__",oa="__lodash_placeholder__",aa=9007199254740991,ua=NaN,sa=4294967295,ca=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],la="[object Arguments]",fa="[object Array]",ha="[object Boolean]",da="[object Date]",pa="[object Error]",va="[object Function]",ya="[object GeneratorFunction]",ga="[object Map]",ma="[object Number]",_a="[object Object]",ba="[object Promise]",xa="[object RegExp]",wa="[object Set]",Sa="[object String]",ka="[object Symbol]",Ma="[object WeakMap]",Oa="[object ArrayBuffer]",Ta="[object DataView]",Na="[object Float32Array]",Ea="[object Float64Array]",Pa="[object Int8Array]",ja="[object Int16Array]",Ca="[object Int32Array]",Aa="[object Uint8Array]",Da="[object Uint8ClampedArray]",Ra="[object Uint16Array]",za="[object Uint32Array]",La=/\b__p \+= '';/g,Ua=/\b(__p \+=) '' \+/g,Ia=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fa=/&(?:amp|lt|gt|quot|#39);/g,Ba=/[&<>"']/g,$a=RegExp(Fa.source),Wa=RegExp(Ba.source),Ha=/<%-([\s\S]+?)%>/g,Ya=/<%([\s\S]+?)%>/g,Va=/<%=([\s\S]+?)%>/g,qa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xa=/^\w*$/,Ga=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ka=/[\\^$.*+?()[\]{}|]/g,Za=RegExp(Ka.source),Ja=/^\s+|\s+$/g,Qa=/^\s+/,tu=/\s+$/,eu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,nu=/\{\n\/\* \[wrapped with (.+)\] \*/,ru=/,? & /,iu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ou=/\\(\\)?/g,au=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,uu=/\w*$/,su=/^[-+]0x[0-9a-f]+$/i,cu=/^0b[01]+$/i,lu=/^\[object .+?Constructor\]$/,fu=/^0o[0-7]+$/i,hu=/^(?:0|[1-9]\d*)$/,du=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,pu=/($^)/,vu=/['\n\r\u2028\u2029\\]/g,t="\\ud800-\\udfff",e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\ufe0e\\ufe0f",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",u="["+t+"]",s="["+a+"]",c="["+e+"]",l="\\d+",f="["+n+"]",h="["+r+"]",d="[^"+t+a+l+n+r+i+"]",p="\\ud83c[\\udffb-\\udfff]",v="[^"+t+"]",y="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",m="["+i+"]",_="(?:"+h+"|"+d+")",b="(?:"+m+"|"+d+")",x="(?:['’](?:d|ll|m|re|s|t|ve))?",w="(?:['’](?:D|LL|M|RE|S|T|VE))?",S="(?:"+c+"|"+p+")"+"?",k="["+o+"]?",M=k+S+("(?:\\u200d(?:"+[v,y,g].join("|")+")"+k+S+")*"),O="(?:"+[f,y,g].join("|")+")"+M,T="(?:"+[v+c+"?",c,y,g,u].join("|")+")",yu=RegExp("['’]","g"),gu=RegExp(c,"g"),N=RegExp(p+"(?="+p+")|"+T+M,"g"),mu=RegExp([m+"?"+h+"+"+x+"(?="+[s,m,"$"].join("|")+")",b+"+"+w+"(?="+[s,m+_,"$"].join("|")+")",m+"?"+_+"+"+x,m+"+"+w,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",l,O].join("|"),"g"),E=RegExp("[\\u200d"+t+e+o+"]"),_u=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xu=-1,wu={};wu[Na]=wu[Ea]=wu[Pa]=wu[ja]=wu[Ca]=wu[Aa]=wu[Da]=wu[Ra]=wu[za]=!0,wu[la]=wu[fa]=wu[Oa]=wu[ha]=wu[Ta]=wu[da]=wu[pa]=wu[va]=wu[ga]=wu[ma]=wu[_a]=wu[xa]=wu[wa]=wu[Sa]=wu[Ma]=!1;var Su={};Su[la]=Su[fa]=Su[Oa]=Su[Ta]=Su[ha]=Su[da]=Su[Na]=Su[Ea]=Su[Pa]=Su[ja]=Su[Ca]=Su[ga]=Su[ma]=Su[_a]=Su[xa]=Su[wa]=Su[Sa]=Su[ka]=Su[Aa]=Su[Da]=Su[Ra]=Su[za]=!0,Su[pa]=Su[va]=Su[Ma]=!1;var P={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ku=parseFloat,Mu=parseInt,j="object"==typeof I&&I&&I.Object===Object&&I,C="object"==typeof self&&self&&self.Object===Object&&self,Ou=j||C||Function("return this")(),A="object"==typeof B&&B&&!B.nodeType&&B,D=A&&"object"==typeof F&&F&&!F.nodeType&&F,Tu=D&&D.exports===A,R=Tu&&j.process,z=function(){try{var t=D&&D.require&&D.require("util").types;return t||R&&R.binding&&R.binding("util")}catch(t){}}(),Nu=z&&z.isArrayBuffer,Eu=z&&z.isDate,Pu=z&&z.isMap,ju=z&&z.isRegExp,Cu=z&&z.isSet,Au=z&&z.isTypedArray;function Du(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ru(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function zu(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Lu(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Uu(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Iu(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Fu(t,e){return!!(null==t?0:t.length)&&-1<Gu(t,e,0)}function Bu(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function $u(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Wu(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Hu(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Yu(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Vu(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var L=Qu("length");function qu(t,r,e){var i;return e(t,function(t,e,n){if(r(t,e,n))return i=e,!1}),i}function Xu(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Gu(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Xu(t,Zu,n)}function Ku(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Zu(t){return t!=t}function Ju(t,e){var n=null==t?0:t.length;return n?es(t,e)/n:ua}function Qu(e){return function(t){return null==t?na:t[e]}}function U(e){return function(t){return null==e?na:e[t]}}function ts(t,r,i,o,e){return e(t,function(t,e,n){i=o?(o=!1,t):r(i,t,e,n)}),i}function es(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==na&&(n=n===na?o:n+o)}return n}function ns(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function rs(e){return function(t){return e(t)}}function is(e,t){return $u(t,function(t){return e[t]})}function os(t,e){return t.has(e)}function as(t,e){for(var n=-1,r=t.length;++n<r&&-1<Gu(e,t[n],0););return n}function us(t,e){for(var n=t.length;n--&&-1<Gu(e,t[n],0););return n}var ss=U({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),cs=U({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ls(t){return"\\"+P[t]}function fs(t){return E.test(t)}function hs(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function ds(e,n){return function(t){return e(n(t))}}function ps(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==oa||(t[n]=oa,o[i++]=n)}return o}function vs(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function ys(t){return fs(t)?function(t){var e=N.lastIndex=0;for(;N.test(t);)++e;return e}(t):L(t)}function gs(t){return fs(t)?t.match(N)||[]:t.split("")}var ms=U({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var _s=function t(e){var n,N=(e=null==e?Ou:_s.defaults(Ou.Object(),e,_s.pick(Ou,bu))).Array,r=e.Date,i=e.Error,y=e.Function,o=e.Math,k=e.Object,g=e.RegExp,l=e.String,E=e.TypeError,a=N.prototype,u=y.prototype,f=k.prototype,s=e["__core-js_shared__"],c=u.toString,M=f.hasOwnProperty,h=0,d=(n=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",p=f.toString,v=c.call(k),m=Ou._,_=g("^"+c.call(M).replace(Ka,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=Tu?e.Buffer:na,x=e.Symbol,w=e.Uint8Array,S=b?b.allocUnsafe:na,O=ds(k.getPrototypeOf,k),T=k.create,P=f.propertyIsEnumerable,j=a.splice,C=x?x.isConcatSpreadable:na,A=x?x.iterator:na,D=x?x.toStringTag:na,R=function(){try{var t=Fn(k,"defineProperty");return t({},"",{}),t}catch(t){}}(),z=e.clearTimeout!==Ou.clearTimeout&&e.clearTimeout,L=r&&r.now!==Ou.Date.now&&r.now,U=e.setTimeout!==Ou.setTimeout&&e.setTimeout,I=o.ceil,F=o.floor,B=k.getOwnPropertySymbols,$=b?b.isBuffer:na,W=e.isFinite,H=a.join,Y=ds(k.keys,k),V=o.max,q=o.min,X=r.now,G=e.parseInt,K=o.random,Z=a.reverse,J=Fn(e,"DataView"),Q=Fn(e,"Map"),tt=Fn(e,"Promise"),et=Fn(e,"Set"),nt=Fn(e,"WeakMap"),rt=Fn(k,"create"),it=nt&&new nt,ot={},at=pr(J),ut=pr(Q),st=pr(tt),ct=pr(et),lt=pr(nt),ft=x?x.prototype:na,ht=ft?ft.valueOf:na,dt=ft?ft.toString:na;function pt(t){if(ji(t)&&!bi(t)&&!(t instanceof mt)){if(t instanceof gt)return t;if(M.call(t,"__wrapped__"))return vr(t)}return new gt(t)}var vt=function(){function n(){}return function(t){if(!Pi(t))return{};if(T)return T(t);n.prototype=t;var e=new n;return n.prototype=na,e}}();function yt(){}function gt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=na}function mt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=sa,this.__views__=[]}function _t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function xt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new xt;++e<n;)this.add(t[e])}function St(t){var e=this.__data__=new bt(t);this.size=e.size}function kt(t,e){var n=bi(t),r=!n&&_i(t),i=!n&&!r&&ki(t),o=!n&&!r&&!i&&Ii(t),a=n||r||i||o,u=a?ns(t.length,l):[],s=u.length;for(var c in t)!e&&!M.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||qn(c,s))||u.push(c);return u}function Mt(t){var e=t.length;return e?t[we(0,e-1)]:na}function Ot(t,e){return cr(rn(t),Rt(e,0,t.length))}function Tt(t){return cr(rn(t))}function Nt(t,e,n){(n===na||yi(t[e],n))&&(n!==na||e in t)||At(t,e,n)}function Et(t,e,n){var r=t[e];M.call(t,e)&&yi(r,n)&&(n!==na||e in t)||At(t,e,n)}function Pt(t,e){for(var n=t.length;n--;)if(yi(t[n][0],e))return n;return-1}function jt(t,r,i,o){return Ft(t,function(t,e,n){r(o,t,i(t),n)}),o}function Ct(t,e){return t&&on(e,uo(e),t)}function At(t,e,n){"__proto__"==e&&R?R(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Dt(t,e){for(var n=-1,r=e.length,i=N(r),o=null==t;++n<r;)i[n]=o?na:no(t,e[n]);return i}function Rt(t,e,n){return t==t&&(n!==na&&(t=t<=n?t:n),e!==na&&(t=e<=t?t:e)),t}function zt(n,r,i,t,e,o){var a,u=1&r,s=2&r,c=4&r;if(i&&(a=e?i(n,t,e,o):i(n)),a!==na)return a;if(!Pi(n))return n;var l,f,h,d,p,v,y,g,m,_=bi(n);if(_){if(g=(y=n).length,m=new y.constructor(g),g&&"string"==typeof y[0]&&M.call(y,"index")&&(m.index=y.index,m.input=y.input),a=m,!u)return rn(n,a)}else{var b=Wn(n),x=b==va||b==ya;if(ki(n))return Ze(n,u);if(b==_a||b==la||x&&!e){if(a=s||x?{}:Yn(n),!u)return s?(v=h=n,d=(p=a)&&on(v,so(v),p),on(h,$n(h),d)):(f=Ct(a,l=n),on(l,Bn(l),f))}else{if(!Su[b])return e?n:{};a=function(t,e,n){var r,i,o,a,u,s=t.constructor;switch(e){case Oa:return Je(t);case ha:case da:return new s(+t);case Ta:return a=t,u=n?Je(a.buffer):a.buffer,new a.constructor(u,a.byteOffset,a.byteLength);case Na:case Ea:case Pa:case ja:case Ca:case Aa:case Da:case Ra:case za:return Qe(t,n);case ga:return new s;case ma:case Sa:return new s(t);case xa:return(o=new(i=t).constructor(i.source,uu.exec(i))).lastIndex=i.lastIndex,o;case wa:return new s;case ka:return r=t,ht?k(ht.call(r)):{}}}(n,b,u)}}o||(o=new St);var w=o.get(n);if(w)return w;if(o.set(n,a),zi(n))return n.forEach(function(t){a.add(zt(t,r,i,t,n,o))}),a;if(Ci(n))return n.forEach(function(t,e){a.set(e,zt(t,r,i,e,n,o))}),a;var S=_?na:(c?s?An:Cn:s?so:uo)(n);return zu(S||n,function(t,e){S&&(t=n[e=t]),Et(a,e,zt(t,r,i,e,n,o))}),a}function Lt(t,e,n){var r=n.length;if(null==t)return!r;for(t=k(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===na&&!(i in t)||!o(a))return!1}return!0}function Ut(t,e,n){if("function"!=typeof t)throw new E(ra);return or(function(){t.apply(na,n)},e)}function It(t,e,n,r){var i=-1,o=Fu,a=!0,u=t.length,s=[],c=e.length;if(!u)return s;n&&(e=$u(e,rs(n))),r?(o=Bu,a=!1):200<=e.length&&(o=os,a=!1,e=new wt(e));t:for(;++i<u;){var l=t[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var h=c;h--;)if(e[h]===f)continue t;s.push(l)}else o(e,f,r)||s.push(l)}return s}pt.templateSettings={escape:Ha,evaluate:Ya,interpolate:Va,variable:"",imports:{_:pt}},(pt.prototype=yt.prototype).constructor=pt,(gt.prototype=vt(yt.prototype)).constructor=gt,(mt.prototype=vt(yt.prototype)).constructor=mt,_t.prototype.clear=function(){this.__data__=rt?rt(null):{},this.size=0},_t.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},_t.prototype.get=function(t){var e=this.__data__;if(rt){var n=e[t];return n===ia?na:n}return M.call(e,t)?e[t]:na},_t.prototype.has=function(t){var e=this.__data__;return rt?e[t]!==na:M.call(e,t)},_t.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rt&&e===na?ia:e,this},bt.prototype.clear=function(){this.__data__=[],this.size=0},bt.prototype.delete=function(t){var e=this.__data__,n=Pt(e,t);return!(n<0||(n==e.length-1?e.pop():j.call(e,n,1),--this.size,0))},bt.prototype.get=function(t){var e=this.__data__,n=Pt(e,t);return n<0?na:e[n][1]},bt.prototype.has=function(t){return-1<Pt(this.__data__,t)},bt.prototype.set=function(t,e){var n=this.__data__,r=Pt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},xt.prototype.clear=function(){this.size=0,this.__data__={hash:new _t,map:new(Q||bt),string:new _t}},xt.prototype.delete=function(t){var e=Un(this,t).delete(t);return this.size-=e?1:0,e},xt.prototype.get=function(t){return Un(this,t).get(t)},xt.prototype.has=function(t){return Un(this,t).has(t)},xt.prototype.set=function(t,e){var n=Un(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},wt.prototype.add=wt.prototype.push=function(t){return this.__data__.set(t,ia),this},wt.prototype.has=function(t){return this.__data__.has(t)},St.prototype.clear=function(){this.__data__=new bt,this.size=0},St.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},St.prototype.get=function(t){return this.__data__.get(t)},St.prototype.has=function(t){return this.__data__.has(t)},St.prototype.set=function(t,e){var n=this.__data__;if(n instanceof bt){var r=n.__data__;if(!Q||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new xt(r)}return n.set(t,e),this.size=n.size,this};var Ft=sn(Xt),Bt=sn(Gt,!0);function $t(t,r){var i=!0;return Ft(t,function(t,e,n){return i=!!r(t,e,n)}),i}function Wt(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(u===na?a==a&&!Ui(a):n(a,u)))var u=a,s=o}return s}function Ht(t,r){var i=[];return Ft(t,function(t,e,n){r(t,e,n)&&i.push(t)}),i}function Yt(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Vn),i||(i=[]);++o<a;){var u=t[o];0<e&&n(u)?1<e?Yt(u,e-1,n,r,i):Wu(i,u):r||(i[i.length]=u)}return i}var Vt=cn(),qt=cn(!0);function Xt(t,e){return t&&Vt(t,e,uo)}function Gt(t,e){return t&&qt(t,e,uo)}function Kt(e,t){return Iu(t,function(t){return Ti(e[t])})}function Zt(t,e){for(var n=0,r=(e=qe(e,t)).length;null!=t&&n<r;)t=t[dr(e[n++])];return n&&n==r?t:na}function Jt(t,e,n){var r=e(t);return bi(t)?r:Wu(r,n(t))}function Qt(t){return null==t?t===na?"[object Undefined]":"[object Null]":D&&D in k(t)?function(t){var e=M.call(t,D),n=t[D];try{t[D]=na;var r=!0}catch(t){}var i=p.call(t);return r&&(e?t[D]=n:delete t[D]),i}(t):(e=t,p.call(e));var e}function te(t,e){return e<t}function ee(t,e){return null!=t&&M.call(t,e)}function ne(t,e){return null!=t&&e in k(t)}function re(t,e,n){for(var r=n?Bu:Fu,i=t[0].length,o=t.length,a=o,u=N(o),s=1/0,c=[];a--;){var l=t[a];a&&e&&(l=$u(l,rs(e))),s=q(l.length,s),u[a]=!n&&(e||120<=i&&120<=l.length)?new wt(a&&l):na}l=t[0];var f=-1,h=u[0];t:for(;++f<i&&c.length<s;){var d=l[f],p=e?e(d):d;if(d=n||0!==d?d:0,!(h?os(h,p):r(c,p,n))){for(a=o;--a;){var v=u[a];if(!(v?os(v,p):r(t[a],p,n)))continue t}h&&h.push(p),c.push(d)}}return c}function ie(t,e,n){var r=null==(t=nr(t,e=qe(e,t)))?t:t[dr(Or(e))];return null==r?na:Du(r,t,n)}function oe(t){return ji(t)&&Qt(t)==la}function ae(t,e,n,r,i){return t===e||(null==t||null==e||!ji(t)&&!ji(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=bi(t),u=bi(e),s=a?fa:Wn(t),c=u?fa:Wn(e),l=(s=s==la?_a:s)==_a,f=(c=c==la?_a:c)==_a,h=s==c;if(h&&ki(t)){if(!ki(e))return!1;l=!(a=!0)}if(h&&!l)return o||(o=new St),a||Ii(t)?Pn(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case Ta:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Oa:return!(t.byteLength!=e.byteLength||!o(new w(t),new w(e)));case ha:case da:case ma:return yi(+t,+e);case pa:return t.name==e.name&&t.message==e.message;case xa:case Sa:return t==e+"";case ga:var u=hs;case wa:var s=1&r;if(u||(u=vs),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var l=Pn(u(t),u(e),r,i,o,a);return a.delete(t),l;case ka:if(ht)return ht.call(t)==ht.call(e)}return!1}(t,e,s,n,r,i,o);if(!(1&n)){var d=l&&M.call(t,"__wrapped__"),p=f&&M.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,y=p?e.value():e;return o||(o=new St),i(v,y,n,r,o)}}return!!h&&(o||(o=new St),function(t,e,n,r,i,o){var a=1&n,u=Cn(t),s=u.length,c=Cn(e).length;if(s!=c&&!a)return!1;for(var l=s;l--;){var f=u[l];if(!(a?f in e:M.call(e,f)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var d=!0;o.set(t,e),o.set(e,t);for(var p=a;++l<s;){f=u[l];var v=t[f],y=e[f];if(r)var g=a?r(y,v,f,e,t,o):r(v,y,f,t,e,o);if(!(g===na?v===y||i(v,y,n,r,o):g)){d=!1;break}p||(p="constructor"==f)}if(d&&!p){var m=t.constructor,_=e.constructor;m!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _)&&(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o))}(t,e,n,r,ae,i))}function ue(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=k(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var s=(u=n[i])[0],c=t[s],l=u[1];if(a&&u[2]){if(c===na&&!(s in t))return!1}else{var f=new St;if(r)var h=r(c,l,s,t,e,f);if(!(h===na?ae(l,c,3,r,f):h))return!1}}return!0}function se(t){return!(!Pi(t)||(e=t,d&&d in e))&&(Ti(t)?_:lu).test(pr(t));var e}function ce(t){return"function"==typeof t?t:null==t?Do:"object"==typeof t?bi(t)?ve(t[0],t[1]):pe(t):Wo(t)}function le(t){if(!Jn(t))return Y(t);var e=[];for(var n in k(t))M.call(t,n)&&"constructor"!=n&&e.push(n);return e}function fe(t){if(!Pi(t))return function(t){var e=[];if(null!=t)for(var n in k(t))e.push(n);return e}(t);var e=Jn(t),n=[];for(var r in t)("constructor"!=r||!e&&M.call(t,r))&&n.push(r);return n}function he(t,e){return t<e}function de(t,r){var i=-1,o=wi(t)?N(t.length):[];return Ft(t,function(t,e,n){o[++i]=r(t,e,n)}),o}function pe(e){var n=In(e);return 1==n.length&&n[0][2]?tr(n[0][0],n[0][1]):function(t){return t===e||ue(t,e,n)}}function ve(n,r){return Gn(n)&&Qn(r)?tr(dr(n),r):function(t){var e=no(t,n);return e===na&&e===r?ro(t,n):ae(r,e,3)}}function ye(r,i,o,a,u){r!==i&&Vt(i,function(t,e){if(Pi(t))u||(u=new St),function(t,e,n,r,i,o,a){var u=rr(t,n),s=rr(e,n),c=a.get(s);if(c)return Nt(t,n,c);var l=o?o(u,s,n+"",t,e,a):na,f=l===na;if(f){var h=bi(s),d=!h&&ki(s),p=!h&&!d&&Ii(s);l=s,h||d||p?l=bi(u)?u:Si(u)?rn(u):d?Ze(s,!(f=!1)):p?Qe(s,!(f=!1)):[]:Di(s)||_i(s)?_i(l=u)?l=qi(u):Pi(u)&&!Ti(u)||(l=Yn(s)):f=!1}f&&(a.set(s,l),i(l,s,r,o,a),a.delete(s)),Nt(t,n,l)}(r,i,e,o,ye,a,u);else{var n=a?a(rr(r,e),t,e+"",r,i,u):na;n===na&&(n=t),Nt(r,e,n)}},so)}function ge(t,e){var n=t.length;if(n)return qn(e+=e<0?n:0,n)?t[e]:na}function me(t,r,n){var i=-1;return r=$u(r.length?r:[Do],rs(Ln())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(de(t,function(e,t,n){return{criteria:$u(r,function(t){return t(e)}),index:++i,value:e}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;++r<a;){var s=tn(i[r],o[r]);if(s){if(u<=r)return s;var c=n[r];return s*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)})}function _e(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=Zt(t,a);n(u,a)&&Te(o,qe(a,t),u)}return o}function be(t,e,n,r){var i=r?Ku:Gu,o=-1,a=e.length,u=t;for(t===e&&(e=rn(e)),n&&(u=$u(t,rs(n)));++o<a;)for(var s=0,c=e[o],l=n?n(c):c;-1<(s=i(u,l,s,r));)u!==t&&j.call(u,s,1),j.call(t,s,1);return t}function xe(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;qn(i)?j.call(t,i,1):Ie(t,i)}}return t}function we(t,e){return t+F(K()*(e-t+1))}function Se(t,e){var n="";if(!t||e<1||aa<e)return n;for(;e%2&&(n+=t),(e=F(e/2))&&(t+=t),e;);return n}function ke(t,e){return ar(er(t,e,Do),t+"")}function Me(t){return Mt(go(t))}function Oe(t,e){var n=go(t);return cr(n,Rt(e,0,n.length))}function Te(t,e,n,r){if(!Pi(t))return t;for(var i=-1,o=(e=qe(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var s=dr(e[i]),c=n;if(i!=a){var l=u[s];(c=r?r(l,s,u):na)===na&&(c=Pi(l)?l:qn(e[i+1])?[]:{})}Et(u,s,c),u=u[s]}return t}var Ne=it?function(t,e){return it.set(t,e),t}:Do,Ee=R?function(t,e){return R(t,"toString",{configurable:!0,enumerable:!1,value:jo(e),writable:!0})}:Do;function Pe(t){return cr(go(t))}function je(t,e,n){var r=-1,i=t.length;e<0&&(e=i<-e?0:i+e),(n=i<n?i:n)<0&&(n+=i),i=n<e?0:n-e>>>0,e>>>=0;for(var o=N(i);++r<i;)o[r]=t[r+e];return o}function Ce(t,r){var i;return Ft(t,function(t,e,n){return!(i=r(t,e,n))}),!!i}function Ae(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ui(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return De(t,e,Do,n)}function De(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!=e,u=null===e,s=Ui(e),c=e===na;i<o;){var l=F((i+o)/2),f=n(t[l]),h=f!==na,d=null===f,p=f==f,v=Ui(f);if(a)var y=r||p;else y=c?p&&(r||h):u?p&&h&&(r||!d):s?p&&h&&!d&&(r||!v):!d&&!v&&(r?f<=e:f<e);y?i=l+1:o=l}return q(o,4294967294)}function Re(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!yi(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function ze(t){return"number"==typeof t?t:Ui(t)?ua:+t}function Le(t){if("string"==typeof t)return t;if(bi(t))return $u(t,Le)+"";if(Ui(t))return dt?dt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ue(t,e,n){var r=-1,i=Fu,o=t.length,a=!0,u=[],s=u;if(n)a=!1,i=Bu;else if(200<=o){var c=e?null:kn(t);if(c)return vs(c);a=!1,i=os,s=new wt}else s=e?[]:u;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=s.length;h--;)if(s[h]===f)continue t;e&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function Ie(t,e){return null==(t=nr(t,e=qe(e,t)))||delete t[dr(Or(e))]}function Fe(t,e,n,r){return Te(t,e,n(Zt(t,e)),r)}function Be(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?je(t,r?0:o,r?o+1:i):je(t,r?o+1:0,r?i:o)}function $e(t,e){var n=t;return n instanceof mt&&(n=n.value()),Hu(e,function(t,e){return e.func.apply(e.thisArg,Wu([t],e.args))},n)}function We(t,e,n){var r=t.length;if(r<2)return r?Ue(t[0]):[];for(var i=-1,o=N(r);++i<r;)for(var a=t[i],u=-1;++u<r;)u!=i&&(o[i]=It(o[i]||a,t[u],e,n));return Ue(Yt(o,1),e,n)}function He(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var u=r<o?e[r]:na;n(a,t[r],u)}return a}function Ye(t){return Si(t)?t:[]}function Ve(t){return"function"==typeof t?t:Do}function qe(t,e){return bi(t)?t:Gn(t,e)?[t]:hr(Xi(t))}var Xe=ke;function Ge(t,e,n){var r=t.length;return n=n===na?r:n,!e&&r<=n?t:je(t,e,n)}var Ke=z||function(t){return Ou.clearTimeout(t)};function Ze(t,e){if(e)return t.slice();var n=t.length,r=S?S(n):new t.constructor(n);return t.copy(r),r}function Je(t){var e=new t.constructor(t.byteLength);return new w(e).set(new w(t)),e}function Qe(t,e){var n=e?Je(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function tn(t,e){if(t!==e){var n=t!==na,r=null===t,i=t==t,o=Ui(t),a=e!==na,u=null===e,s=e==e,c=Ui(e);if(!u&&!c&&!o&&e<t||o&&a&&s&&!u&&!c||r&&a&&s||!n&&s||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!s)return-1}return 0}function en(t,e,n,r){for(var i=-1,o=t.length,a=n.length,u=-1,s=e.length,c=V(o-a,0),l=N(s+c),f=!r;++u<s;)l[u]=e[u];for(;++i<a;)(f||i<o)&&(l[n[i]]=t[i]);for(;c--;)l[u++]=t[i++];return l}function nn(t,e,n,r){for(var i=-1,o=t.length,a=-1,u=n.length,s=-1,c=e.length,l=V(o-u,0),f=N(l+c),h=!r;++i<l;)f[i]=t[i];for(var d=i;++s<c;)f[d+s]=e[s];for(;++a<u;)(h||i<o)&&(f[d+n[a]]=t[i++]);return f}function rn(t,e){var n=-1,r=t.length;for(e||(e=N(r));++n<r;)e[n]=t[n];return e}function on(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],s=r?r(n[u],t[u],u,n,t):na;s===na&&(s=t[u]),i?At(n,u,s):Et(n,u,s)}return n}function an(i,o){return function(t,e){var n=bi(t)?Ru:jt,r=o?o():{};return n(t,i,Ln(e,2),r)}}function un(u){return ke(function(t,e){var n=-1,r=e.length,i=1<r?e[r-1]:na,o=2<r?e[2]:na;for(i=3<u.length&&"function"==typeof i?(r--,i):na,o&&Xn(e[0],e[1],o)&&(i=r<3?na:i,r=1),t=k(t);++n<r;){var a=e[n];a&&u(t,a,n,i)}return t})}function sn(o,a){return function(t,e){if(null==t)return t;if(!wi(t))return o(t,e);for(var n=t.length,r=a?n:-1,i=k(t);(a?r--:++r<n)&&!1!==e(i[r],r,i););return t}}function cn(s){return function(t,e,n){for(var r=-1,i=k(t),o=n(t),a=o.length;a--;){var u=o[s?a:++r];if(!1===e(i[u],u,i))break}return t}}function ln(i){return function(t){var e=fs(t=Xi(t))?gs(t):na,n=e?e[0]:t.charAt(0),r=e?Ge(e,1).join(""):t.slice(1);return n[i]()+r}}function fn(e){return function(t){return Hu(No(bo(t).replace(yu,"")),e,"")}}function hn(r){return function(){var t=arguments;switch(t.length){case 0:return new r;case 1:return new r(t[0]);case 2:return new r(t[0],t[1]);case 3:return new r(t[0],t[1],t[2]);case 4:return new r(t[0],t[1],t[2],t[3]);case 5:return new r(t[0],t[1],t[2],t[3],t[4]);case 6:return new r(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new r(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=vt(r.prototype),n=r.apply(e,t);return Pi(n)?n:e}}function dn(a){return function(t,e,n){var r=k(t);if(!wi(t)){var i=Ln(e,3);t=uo(t),e=function(t){return i(r[t],t,r)}}var o=a(t,e,n);return-1<o?r[i?t[o]:o]:na}}function pn(s){return jn(function(i){var o=i.length,t=o,e=gt.prototype.thru;for(s&&i.reverse();t--;){var n=i[t];if("function"!=typeof n)throw new E(ra);if(e&&!a&&"wrapper"==Rn(n))var a=new gt([],!0)}for(t=a?t:o;++t<o;){var r=Rn(n=i[t]),u="wrapper"==r?Dn(n):na;a=u&&Kn(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?a[Rn(u[0])].apply(a,u[3]):1==n.length&&Kn(n)?a[r]():a.thru(n)}return function(){var t=arguments,e=t[0];if(a&&1==t.length&&bi(e))return a.plant(e).value();for(var n=0,r=o?i[n].apply(this,t):e;++n<o;)r=i[n].call(this,r);return r}})}function vn(c,l,f,h,d,p,v,y,g,m){var _=128&l,b=1&l,x=2&l,w=24&l,S=512&l,k=x?na:hn(c);return function t(){for(var e=arguments.length,n=N(e),r=e;r--;)n[r]=arguments[r];if(w)var i=zn(t),o=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(n,i);if(h&&(n=en(n,h,d,w)),p&&(n=nn(n,p,v,w)),e-=o,w&&e<m){var a=ps(n,i);return wn(c,l,vn,t.placeholder,f,n,a,y,g,m-e)}var u=b?f:this,s=x?u[c]:c;return e=n.length,y?n=function(t,e){for(var n=t.length,r=q(e.length,n),i=rn(t);r--;){var o=e[r];t[r]=qn(o,n)?i[o]:na}return t}(n,y):S&&1<e&&n.reverse(),_&&g<e&&(n.length=g),this&&this!==Ou&&this instanceof t&&(s=k||hn(s)),s.apply(u,n)}}function yn(a,u){return function(t,e){return n=t,r=a,i=u(e),o={},Xt(n,function(t,e,n){r(o,i(t),e,n)}),o;var n,r,i,o}}function gn(r,i){return function(t,e){var n;if(t===na&&e===na)return i;if(t!==na&&(n=t),e!==na){if(n===na)return e;e="string"==typeof t||"string"==typeof e?(t=Le(t),Le(e)):(t=ze(t),ze(e)),n=r(t,e)}return n}}function mn(r){return jn(function(t){return t=$u(t,rs(Ln())),ke(function(e){var n=this;return r(t,function(t){return Du(t,n,e)})})})}function _n(t,e){var n=(e=e===na?" ":Le(e)).length;if(n<2)return n?Se(e,t):e;var r=Se(e,I(t/ys(e)));return fs(e)?Ge(gs(r),0,t).join(""):r.slice(0,t)}function bn(r){return function(t,e,n){return n&&"number"!=typeof n&&Xn(t,e,n)&&(e=n=na),t=Wi(t),e===na?(e=t,t=0):e=Wi(e),function(t,e,n,r){for(var i=-1,o=V(I((e-t)/(n||1)),0),a=N(o);o--;)a[r?o:++i]=t,t+=n;return a}(t,e,n=n===na?t<e?1:-1:Wi(n),r)}}function xn(n){return function(t,e){return"string"==typeof t&&"string"==typeof e||(t=Vi(t),e=Vi(e)),n(t,e)}}function wn(t,e,n,r,i,o,a,u,s,c){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var f=[t,e,i,l?o:na,l?a:na,l?na:o,l?na:a,u,s,c],h=n.apply(na,f);return Kn(t)&&ir(h,f),h.placeholder=r,ur(h,t,e)}function Sn(t){var r=o[t];return function(t,e){if(t=Vi(t),e=null==e?0:q(Hi(e),292)){var n=(Xi(t)+"e").split("e");return+((n=(Xi(r(n[0]+"e"+(+n[1]+e)))+"e").split("e"))[0]+"e"+(+n[1]-e))}return r(t)}}var kn=et&&1/vs(new et([,-0]))[1]==1/0?function(t){return new et(t)}:Io;function Mn(a){return function(t){var e,n,r,i,o=Wn(t);return o==ga?hs(t):o==wa?(e=t,n=-1,r=Array(e.size),e.forEach(function(t){r[++n]=[t,t]}),r):$u(a(i=t),function(t){return[t,i[t]]})}}function On(t,e,n,r,i,o,a,u){var s=2&e;if(!s&&"function"!=typeof t)throw new E(ra);var c=r?r.length:0;if(c||(e&=-97,r=i=na),a=a===na?a:V(Hi(a),0),u=u===na?u:Hi(u),c-=i?i.length:0,64&e){var l=r,f=i;r=i=na}var h,d,p,v,y,g,m,_,b,x,w,S,k,M=s?na:Dn(t),O=[t,e,n,r,i,l,f,o,a,u];if(M&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(o||a){1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var s=t[3];t[3]=s?en(s,u,e[4]):u,t[4]=s?ps(t[3],oa):e[4]}(u=e[5])&&(s=t[5],t[5]=s?nn(s,u,e[6]):u,t[6]=s?ps(t[5],oa):e[6]),(u=e[7])&&(t[7]=u),128&r&&(t[8]=null==t[8]?e[8]:q(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}}(O,M),t=O[0],e=O[1],n=O[2],r=O[3],i=O[4],!(u=O[9]=O[9]===na?s?0:t.length:V(O[9]-c,0))&&24&e&&(e&=-25),e&&1!=e)T=8==e||16==e?(m=e,_=u,b=hn(g=t),function t(){for(var e=arguments.length,n=N(e),r=e,i=zn(t);r--;)n[r]=arguments[r];var o=e<3&&n[0]!==i&&n[e-1]!==i?[]:ps(n,i);return(e-=o.length)<_?wn(g,m,vn,t.placeholder,na,n,o,na,na,_-e):Du(this&&this!==Ou&&this instanceof t?b:g,this,n)}):32!=e&&33!=e||i.length?vn.apply(na,O):(d=n,p=r,v=1&e,y=hn(h=t),function t(){for(var e=-1,n=arguments.length,r=-1,i=p.length,o=N(i+n),a=this&&this!==Ou&&this instanceof t?y:h;++r<i;)o[r]=p[r];for(;n--;)o[r++]=arguments[++e];return Du(a,v?d:this,o)});else var T=(w=n,S=1&e,k=hn(x=t),function t(){return(this&&this!==Ou&&this instanceof t?k:x).apply(S?w:this,arguments)});return ur((M?Ne:ir)(T,O),t,e)}function Tn(t,e,n,r){return t===na||yi(t,f[n])&&!M.call(r,n)?e:t}function Nn(t,e,n,r,i,o){return Pi(t)&&Pi(e)&&(o.set(e,t),ye(t,e,na,Nn,o),o.delete(e)),t}function En(t){return Di(t)?na:t}function Pn(t,e,n,r,i,o){var a=1&n,u=t.length,s=e.length;if(u!=s&&!(a&&u<s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,f=!0,h=2&n?new wt:na;for(o.set(t,e),o.set(e,t);++l<u;){var d=t[l],p=e[l];if(r)var v=a?r(p,d,l,e,t,o):r(d,p,l,t,e,o);if(v!==na){if(v)continue;f=!1;break}if(h){if(!Vu(e,function(t,e){if(!os(h,e)&&(d===t||i(d,t,n,r,o)))return h.push(e)})){f=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function jn(t){return ar(er(t,na,xr),t+"")}function Cn(t){return Jt(t,uo,Bn)}function An(t){return Jt(t,so,$n)}var Dn=it?function(t){return it.get(t)}:Io;function Rn(t){for(var e=t.name+"",n=ot[e],r=M.call(ot,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function zn(t){return(M.call(pt,"placeholder")?pt:t).placeholder}function Ln(){var t=pt.iteratee||Ro;return t=t===Ro?ce:t,arguments.length?t(arguments[0],arguments[1]):t}function Un(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function In(t){for(var e=uo(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Qn(i)]}return e}function Fn(t,e){var n,r,i=(r=e,null==(n=t)?na:n[r]);return se(i)?i:na}var Bn=B?function(e){return null==e?[]:(e=k(e),Iu(B(e),function(t){return P.call(e,t)}))}:Vo,$n=B?function(t){for(var e=[];t;)Wu(e,Bn(t)),t=O(t);return e}:Vo,Wn=Qt;function Hn(t,e,n){for(var r=-1,i=(e=qe(e,t)).length,o=!1;++r<i;){var a=dr(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ei(i)&&qn(a,i)&&(bi(t)||_i(t))}function Yn(t){return"function"!=typeof t.constructor||Jn(t)?{}:vt(O(t))}function Vn(t){return bi(t)||_i(t)||!!(C&&t&&t[C])}function qn(t,e){var n=typeof t;return!!(e=null==e?aa:e)&&("number"==n||"symbol"!=n&&hu.test(t))&&-1<t&&t%1==0&&t<e}function Xn(t,e,n){if(!Pi(n))return!1;var r=typeof e;return!!("number"==r?wi(n)&&qn(e,n.length):"string"==r&&e in n)&&yi(n[e],t)}function Gn(t,e){if(bi(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ui(t))||Xa.test(t)||!qa.test(t)||null!=e&&t in k(e)}function Kn(t){var e=Rn(t),n=pt[e];if("function"!=typeof n||!(e in mt.prototype))return!1;if(t===n)return!0;var r=Dn(n);return!!r&&t===r[0]}(J&&Wn(new J(new ArrayBuffer(1)))!=Ta||Q&&Wn(new Q)!=ga||tt&&Wn(tt.resolve())!=ba||et&&Wn(new et)!=wa||nt&&Wn(new nt)!=Ma)&&(Wn=function(t){var e=Qt(t),n=e==_a?t.constructor:na,r=n?pr(n):"";if(r)switch(r){case at:return Ta;case ut:return ga;case st:return ba;case ct:return wa;case lt:return Ma}return e});var Zn=s?Ti:qo;function Jn(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||f)}function Qn(t){return t==t&&!Pi(t)}function tr(e,n){return function(t){return null!=t&&t[e]===n&&(n!==na||e in k(t))}}function er(o,a,u){return a=V(a===na?o.length-1:a,0),function(){for(var t=arguments,e=-1,n=V(t.length-a,0),r=N(n);++e<n;)r[e]=t[a+e];e=-1;for(var i=N(a+1);++e<a;)i[e]=t[e];return i[a]=u(r),Du(o,this,i)}}function nr(t,e){return e.length<2?t:Zt(t,je(e,0,-1))}function rr(t,e){if("__proto__"!=e)return t[e]}var ir=sr(Ne),or=U||function(t,e){return Ou.setTimeout(t,e)},ar=sr(Ee);function ur(t,e,n){var r,i,o,a=e+"";return ar(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(1<n?"& ":"")+e[r],e=e.join(2<n?", ":" "),t.replace(eu,"{\n/* [wrapped with "+e+"] */\n")}(a,(o=a.match(nu),r=o?o[1].split(ru):[],i=n,zu(ca,function(t){var e="_."+t[0];i&t[1]&&!Fu(r,e)&&r.push(e)}),r.sort())))}function sr(n){var r=0,i=0;return function(){var t=X(),e=16-(t-i);if(i=t,0<e){if(800<=++r)return arguments[0]}else r=0;return n.apply(na,arguments)}}function cr(t,e){var n=-1,r=t.length,i=r-1;for(e=e===na?r:e;++n<e;){var o=we(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var lr,fr,hr=(fr=(lr=li(function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(Ga,function(t,e,n,r){i.push(n?r.replace(ou,"$1"):e||t)}),i},function(t){return 500===fr.size&&fr.clear(),t})).cache,lr);function dr(t){if("string"==typeof t||Ui(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function pr(t){if(null!=t){try{return c.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function vr(t){if(t instanceof mt)return t.clone();var e=new gt(t.__wrapped__,t.__chain__);return e.__actions__=rn(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var yr=ke(function(t,e){return Si(t)?It(t,Yt(e,1,Si,!0)):[]}),gr=ke(function(t,e){var n=Or(e);return Si(n)&&(n=na),Si(t)?It(t,Yt(e,1,Si,!0),Ln(n,2)):[]}),mr=ke(function(t,e){var n=Or(e);return Si(n)&&(n=na),Si(t)?It(t,Yt(e,1,Si,!0),na,n):[]});function _r(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Hi(n);return i<0&&(i=V(r+i,0)),Xu(t,Ln(e,3),i)}function br(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==na&&(i=Hi(n),i=n<0?V(r+i,0):q(i,r-1)),Xu(t,Ln(e,3),i,!0)}function xr(t){return null!=t&&t.length?Yt(t,1):[]}function wr(t){return t&&t.length?t[0]:na}var Sr=ke(function(t){var e=$u(t,Ye);return e.length&&e[0]===t[0]?re(e):[]}),kr=ke(function(t){var e=Or(t),n=$u(t,Ye);return e===Or(n)?e=na:n.pop(),n.length&&n[0]===t[0]?re(n,Ln(e,2)):[]}),Mr=ke(function(t){var e=Or(t),n=$u(t,Ye);return(e="function"==typeof e?e:na)&&n.pop(),n.length&&n[0]===t[0]?re(n,na,e):[]});function Or(t){var e=null==t?0:t.length;return e?t[e-1]:na}var Tr=ke(Nr);function Nr(t,e){return t&&t.length&&e&&e.length?be(t,e):t}var Er=jn(function(t,e){var n=null==t?0:t.length,r=Dt(t,e);return xe(t,$u(e,function(t){return qn(t,n)?+t:t}).sort(tn)),r});function Pr(t){return null==t?t:Z.call(t)}var jr=ke(function(t){return Ue(Yt(t,1,Si,!0))}),Cr=ke(function(t){var e=Or(t);return Si(e)&&(e=na),Ue(Yt(t,1,Si,!0),Ln(e,2))}),Ar=ke(function(t){var e=Or(t);return e="function"==typeof e?e:na,Ue(Yt(t,1,Si,!0),na,e)});function Dr(e){if(!e||!e.length)return[];var n=0;return e=Iu(e,function(t){if(Si(t))return n=V(t.length,n),!0}),ns(n,function(t){return $u(e,Qu(t))})}function Rr(t,e){if(!t||!t.length)return[];var n=Dr(t);return null==e?n:$u(n,function(t){return Du(e,na,t)})}var zr=ke(function(t,e){return Si(t)?It(t,e):[]}),Lr=ke(function(t){return We(Iu(t,Si))}),Ur=ke(function(t){var e=Or(t);return Si(e)&&(e=na),We(Iu(t,Si),Ln(e,2))}),Ir=ke(function(t){var e=Or(t);return e="function"==typeof e?e:na,We(Iu(t,Si),na,e)}),Fr=ke(Dr);var Br=ke(function(t){var e=t.length,n=1<e?t[e-1]:na;return Rr(t,n="function"==typeof n?(t.pop(),n):na)});function $r(t){var e=pt(t);return e.__chain__=!0,e}function Wr(t,e){return e(t)}var Hr=jn(function(e){var n=e.length,t=n?e[0]:0,r=this.__wrapped__,i=function(t){return Dt(t,e)};return!(1<n||this.__actions__.length)&&r instanceof mt&&qn(t)?((r=r.slice(t,+t+(n?1:0))).__actions__.push({func:Wr,args:[i],thisArg:na}),new gt(r,this.__chain__).thru(function(t){return n&&!t.length&&t.push(na),t})):this.thru(i)});var Yr=an(function(t,e,n){M.call(t,n)?++t[n]:At(t,n,1)});var Vr=dn(_r),qr=dn(br);function Xr(t,e){return(bi(t)?zu:Ft)(t,Ln(e,3))}function Gr(t,e){return(bi(t)?Lu:Bt)(t,Ln(e,3))}var Kr=an(function(t,e,n){M.call(t,n)?t[n].push(e):At(t,n,[e])});var Zr=ke(function(t,e,n){var r=-1,i="function"==typeof e,o=wi(t)?N(t.length):[];return Ft(t,function(t){o[++r]=i?Du(e,t,n):ie(t,e,n)}),o}),Jr=an(function(t,e,n){At(t,n,e)});function Qr(t,e){return(bi(t)?$u:de)(t,Ln(e,3))}var ti=an(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var ei=ke(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&Xn(t,e[0],e[1])?e=[]:2<n&&Xn(e[0],e[1],e[2])&&(e=[e[0]]),me(t,Yt(e,1),[])}),ni=L||function(){return Ou.Date.now()};function ri(t,e,n){return e=n?na:e,e=t&&null==e?t.length:e,On(t,128,na,na,na,na,e)}function ii(t,e){var n;if("function"!=typeof e)throw new E(ra);return t=Hi(t),function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=na),n}}var oi=ke(function(t,e,n){var r=1;if(n.length){var i=ps(n,zn(oi));r|=32}return On(t,r,e,n,i)}),ai=ke(function(t,e,n){var r=3;if(n.length){var i=ps(n,zn(ai));r|=32}return On(e,r,t,n,i)});function ui(r,i,t){var o,a,u,s,c,l,f=0,h=!1,d=!1,e=!0;if("function"!=typeof r)throw new E(ra);function p(t){var e=o,n=a;return o=a=na,f=t,s=r.apply(n,e)}function v(t){var e=t-l;return l===na||i<=e||e<0||d&&u<=t-f}function y(){var t,e,n=ni();if(v(n))return g(n);c=or(y,(e=i-((t=n)-l),d?q(e,u-(t-f)):e))}function g(t){return c=na,e&&o?p(t):(o=a=na,s)}function n(){var t,e=ni(),n=v(e);if(o=arguments,a=this,l=e,n){if(c===na)return f=t=l,c=or(y,i),h?p(t):s;if(d)return c=or(y,i),p(l)}return c===na&&(c=or(y,i)),s}return i=Vi(i)||0,Pi(t)&&(h=!!t.leading,u=(d="maxWait"in t)?V(Vi(t.maxWait)||0,i):u,e="trailing"in t?!!t.trailing:e),n.cancel=function(){c!==na&&Ke(c),f=0,o=l=a=c=na},n.flush=function(){return c===na?s:g(ni())},n}var si=ke(function(t,e){return Ut(t,1,e)}),ci=ke(function(t,e,n){return Ut(t,Vi(e)||0,n)});function li(i,o){if("function"!=typeof i||null!=o&&"function"!=typeof o)throw new E(ra);var a=function(){var t=arguments,e=o?o.apply(this,t):t[0],n=a.cache;if(n.has(e))return n.get(e);var r=i.apply(this,t);return a.cache=n.set(e,r)||n,r};return a.cache=new(li.Cache||xt),a}function fi(e){if("function"!=typeof e)throw new E(ra);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}li.Cache=xt;var hi=Xe(function(r,i){var o=(i=1==i.length&&bi(i[0])?$u(i[0],rs(Ln())):$u(Yt(i,1),rs(Ln()))).length;return ke(function(t){for(var e=-1,n=q(t.length,o);++e<n;)t[e]=i[e].call(this,t[e]);return Du(r,this,t)})}),di=ke(function(t,e){var n=ps(e,zn(di));return On(t,32,na,e,n)}),pi=ke(function(t,e){var n=ps(e,zn(pi));return On(t,64,na,e,n)}),vi=jn(function(t,e){return On(t,256,na,na,na,e)});function yi(t,e){return t===e||t!=t&&e!=e}var gi=xn(te),mi=xn(function(t,e){return e<=t}),_i=oe(function(){return arguments}())?oe:function(t){return ji(t)&&M.call(t,"callee")&&!P.call(t,"callee")},bi=N.isArray,xi=Nu?rs(Nu):function(t){return ji(t)&&Qt(t)==Oa};function wi(t){return null!=t&&Ei(t.length)&&!Ti(t)}function Si(t){return ji(t)&&wi(t)}var ki=$||qo,Mi=Eu?rs(Eu):function(t){return ji(t)&&Qt(t)==da};function Oi(t){if(!ji(t))return!1;var e=Qt(t);return e==pa||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Di(t)}function Ti(t){if(!Pi(t))return!1;var e=Qt(t);return e==va||e==ya||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ni(t){return"number"==typeof t&&t==Hi(t)}function Ei(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=aa}function Pi(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ji(t){return null!=t&&"object"==typeof t}var Ci=Pu?rs(Pu):function(t){return ji(t)&&Wn(t)==ga};function Ai(t){return"number"==typeof t||ji(t)&&Qt(t)==ma}function Di(t){if(!ji(t)||Qt(t)!=_a)return!1;var e=O(t);if(null===e)return!0;var n=M.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==v}var Ri=ju?rs(ju):function(t){return ji(t)&&Qt(t)==xa};var zi=Cu?rs(Cu):function(t){return ji(t)&&Wn(t)==wa};function Li(t){return"string"==typeof t||!bi(t)&&ji(t)&&Qt(t)==Sa}function Ui(t){return"symbol"==typeof t||ji(t)&&Qt(t)==ka}var Ii=Au?rs(Au):function(t){return ji(t)&&Ei(t.length)&&!!wu[Qt(t)]};var Fi=xn(he),Bi=xn(function(t,e){return t<=e});function $i(t){if(!t)return[];if(wi(t))return Li(t)?gs(t):rn(t);if(A&&t[A])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[A]());var e=Wn(t);return(e==ga?hs:e==wa?vs:go)(t)}function Wi(t){return t?(t=Vi(t))!==1/0&&t!==-1/0?t==t?t:0:17976931348623157e292*(t<0?-1:1):0===t?t:0}function Hi(t){var e=Wi(t),n=e%1;return e==e?n?e-n:e:0}function Yi(t){return t?Rt(Hi(t),0,sa):0}function Vi(t){if("number"==typeof t)return t;if(Ui(t))return ua;if(Pi(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Pi(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ja,"");var n=cu.test(t);return n||fu.test(t)?Mu(t.slice(2),n?2:8):su.test(t)?ua:+t}function qi(t){return on(t,so(t))}function Xi(t){return null==t?"":Le(t)}var Gi=un(function(t,e){if(Jn(e)||wi(e))on(e,uo(e),t);else for(var n in e)M.call(e,n)&&Et(t,n,e[n])}),Ki=un(function(t,e){on(e,so(e),t)}),Zi=un(function(t,e,n,r){on(e,so(e),t,r)}),Ji=un(function(t,e,n,r){on(e,uo(e),t,r)}),Qi=jn(Dt);var to=ke(function(t,e){t=k(t);var n=-1,r=e.length,i=2<r?e[2]:na;for(i&&Xn(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=so(o),u=-1,s=a.length;++u<s;){var c=a[u],l=t[c];(l===na||yi(l,f[c])&&!M.call(t,c))&&(t[c]=o[c])}return t}),eo=ke(function(t){return t.push(na,Nn),Du(lo,na,t)});function no(t,e,n){var r=null==t?na:Zt(t,e);return r===na?n:r}function ro(t,e){return null!=t&&Hn(t,e,ne)}var io=yn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=p.call(e)),t[e]=n},jo(Do)),oo=yn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=p.call(e)),M.call(t,e)?t[e].push(n):t[e]=[n]},Ln),ao=ke(ie);function uo(t){return wi(t)?kt(t):le(t)}function so(t){return wi(t)?kt(t,!0):fe(t)}var co=un(function(t,e,n){ye(t,e,n)}),lo=un(function(t,e,n,r){ye(t,e,n,r)}),fo=jn(function(e,t){var n={};if(null==e)return n;var r=!1;t=$u(t,function(t){return t=qe(t,e),r||(r=1<t.length),t}),on(e,An(e),n),r&&(n=zt(n,7,En));for(var i=t.length;i--;)Ie(n,t[i]);return n});var ho=jn(function(t,e){return null==t?{}:_e(n=t,e,function(t,e){return ro(n,e)});var n});function po(t,n){if(null==t)return{};var e=$u(An(t),function(t){return[t]});return n=Ln(n),_e(t,e,function(t,e){return n(t,e[0])})}var vo=Mn(uo),yo=Mn(so);function go(t){return null==t?[]:is(t,uo(t))}var mo=fn(function(t,e,n){return e=e.toLowerCase(),t+(n?_o(e):e)});function _o(t){return To(Xi(t).toLowerCase())}function bo(t){return(t=Xi(t))&&t.replace(du,ss).replace(gu,"")}var xo=fn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),wo=fn(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),So=ln("toLowerCase");var ko=fn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var Mo=fn(function(t,e,n){return t+(n?" ":"")+To(e)});var Oo=fn(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),To=ln("toUpperCase");function No(t,e,n){return t=Xi(t),(e=n?na:e)===na?(r=t,_u.test(r)?t.match(mu)||[]:t.match(iu)||[]):t.match(e)||[];var r}var Eo=ke(function(t,e){try{return Du(t,na,e)}catch(t){return Oi(t)?t:new i(t)}}),Po=jn(function(e,t){return zu(t,function(t){t=dr(t),At(e,t,oi(e[t],e))}),e});function jo(t){return function(){return t}}var Co=pn(),Ao=pn(!0);function Do(t){return t}function Ro(t){return ce("function"==typeof t?t:zt(t,1))}var zo=ke(function(e,n){return function(t){return ie(t,e,n)}}),Lo=ke(function(e,n){return function(t){return ie(e,t,n)}});function Uo(r,e,t){var n=uo(e),i=Kt(e,n);null!=t||Pi(e)&&(i.length||!n.length)||(t=e,e=r,r=this,i=Kt(e,uo(e)));var o=!(Pi(t)&&"chain"in t&&!t.chain),a=Ti(r);return zu(i,function(t){var n=e[t];r[t]=n,a&&(r.prototype[t]=function(){var t=this.__chain__;if(o||t){var e=r(this.__wrapped__);return(e.__actions__=rn(this.__actions__)).push({func:n,args:arguments,thisArg:r}),e.__chain__=t,e}return n.apply(r,Wu([this.value()],arguments))})}),r}function Io(){}var Fo=mn($u),Bo=mn(Uu),$o=mn(Vu);function Wo(t){return Gn(t)?Qu(dr(t)):(e=t,function(t){return Zt(t,e)});var e}var Ho=bn(),Yo=bn(!0);function Vo(){return[]}function qo(){return!1}var Xo=gn(function(t,e){return t+e},0),Go=Sn("ceil"),Ko=gn(function(t,e){return t/e},1),Zo=Sn("floor");var Jo,Qo=gn(function(t,e){return t*e},1),ta=Sn("round"),ea=gn(function(t,e){return t-e},0);return pt.after=function(t,e){if("function"!=typeof e)throw new E(ra);return t=Hi(t),function(){if(--t<1)return e.apply(this,arguments)}},pt.ary=ri,pt.assign=Gi,pt.assignIn=Ki,pt.assignInWith=Zi,pt.assignWith=Ji,pt.at=Qi,pt.before=ii,pt.bind=oi,pt.bindAll=Po,pt.bindKey=ai,pt.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return bi(t)?t:[t]},pt.chain=$r,pt.chunk=function(t,e,n){e=(n?Xn(t,e,n):e===na)?1:V(Hi(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=N(I(r/e));i<r;)a[o++]=je(t,i,i+=e);return a},pt.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},pt.concat=function(){var t=arguments.length;if(!t)return[];for(var e=N(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Wu(bi(n)?rn(n):[n],Yt(e,1))},pt.cond=function(r){var i=null==r?0:r.length,e=Ln();return r=i?$u(r,function(t){if("function"!=typeof t[1])throw new E(ra);return[e(t[0]),t[1]]}):[],ke(function(t){for(var e=-1;++e<i;){var n=r[e];if(Du(n[0],this,t))return Du(n[1],this,t)}})},pt.conforms=function(t){return e=zt(t,1),n=uo(e),function(t){return Lt(t,e,n)};var e,n},pt.constant=jo,pt.countBy=Yr,pt.create=function(t,e){var n=vt(t);return null==e?n:Ct(n,e)},pt.curry=function t(e,n,r){var i=On(e,8,na,na,na,na,na,n=r?na:n);return i.placeholder=t.placeholder,i},pt.curryRight=function t(e,n,r){var i=On(e,16,na,na,na,na,na,n=r?na:n);return i.placeholder=t.placeholder,i},pt.debounce=ui,pt.defaults=to,pt.defaultsDeep=eo,pt.defer=si,pt.delay=ci,pt.difference=yr,pt.differenceBy=gr,pt.differenceWith=mr,pt.drop=function(t,e,n){var r=null==t?0:t.length;return r?je(t,(e=n||e===na?1:Hi(e))<0?0:e,r):[]},pt.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?je(t,0,(e=r-(e=n||e===na?1:Hi(e)))<0?0:e):[]},pt.dropRightWhile=function(t,e){return t&&t.length?Be(t,Ln(e,3),!0,!0):[]},pt.dropWhile=function(t,e){return t&&t.length?Be(t,Ln(e,3),!0):[]},pt.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Xn(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=Hi(n))<0&&(n=i<-n?0:i+n),(r=r===na||i<r?i:Hi(r))<0&&(r+=i),r=r<n?0:Yi(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},pt.filter=function(t,e){return(bi(t)?Iu:Ht)(t,Ln(e,3))},pt.flatMap=function(t,e){return Yt(Qr(t,e),1)},pt.flatMapDeep=function(t,e){return Yt(Qr(t,e),1/0)},pt.flatMapDepth=function(t,e,n){return n=n===na?1:Hi(n),Yt(Qr(t,e),n)},pt.flatten=xr,pt.flattenDeep=function(t){return null!=t&&t.length?Yt(t,1/0):[]},pt.flattenDepth=function(t,e){return null!=t&&t.length?Yt(t,e=e===na?1:Hi(e)):[]},pt.flip=function(t){return On(t,512)},pt.flow=Co,pt.flowRight=Ao,pt.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},pt.functions=function(t){return null==t?[]:Kt(t,uo(t))},pt.functionsIn=function(t){return null==t?[]:Kt(t,so(t))},pt.groupBy=Kr,pt.initial=function(t){return null!=t&&t.length?je(t,0,-1):[]},pt.intersection=Sr,pt.intersectionBy=kr,pt.intersectionWith=Mr,pt.invert=io,pt.invertBy=oo,pt.invokeMap=Zr,pt.iteratee=Ro,pt.keyBy=Jr,pt.keys=uo,pt.keysIn=so,pt.map=Qr,pt.mapKeys=function(t,r){var i={};return r=Ln(r,3),Xt(t,function(t,e,n){At(i,r(t,e,n),t)}),i},pt.mapValues=function(t,r){var i={};return r=Ln(r,3),Xt(t,function(t,e,n){At(i,e,r(t,e,n))}),i},pt.matches=function(t){return pe(zt(t,1))},pt.matchesProperty=function(t,e){return ve(t,zt(e,1))},pt.memoize=li,pt.merge=co,pt.mergeWith=lo,pt.method=zo,pt.methodOf=Lo,pt.mixin=Uo,pt.negate=fi,pt.nthArg=function(e){return e=Hi(e),ke(function(t){return ge(t,e)})},pt.omit=fo,pt.omitBy=function(t,e){return po(t,fi(Ln(e)))},pt.once=function(t){return ii(2,t)},pt.orderBy=function(t,e,n,r){return null==t?[]:(bi(e)||(e=null==e?[]:[e]),bi(n=r?na:n)||(n=null==n?[]:[n]),me(t,e,n))},pt.over=Fo,pt.overArgs=hi,pt.overEvery=Bo,pt.overSome=$o,pt.partial=di,pt.partialRight=pi,pt.partition=ti,pt.pick=ho,pt.pickBy=po,pt.property=Wo,pt.propertyOf=function(e){return function(t){return null==e?na:Zt(e,t)}},pt.pull=Tr,pt.pullAll=Nr,pt.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?be(t,e,Ln(n,2)):t},pt.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?be(t,e,na,n):t},pt.pullAt=Er,pt.range=Ho,pt.rangeRight=Yo,pt.rearg=vi,pt.reject=function(t,e){return(bi(t)?Iu:Ht)(t,fi(Ln(e,3)))},pt.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Ln(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return xe(t,i),n},pt.rest=function(t,e){if("function"!=typeof t)throw new E(ra);return ke(t,e=e===na?e:Hi(e))},pt.reverse=Pr,pt.sampleSize=function(t,e,n){return e=(n?Xn(t,e,n):e===na)?1:Hi(e),(bi(t)?Ot:Oe)(t,e)},pt.set=function(t,e,n){return null==t?t:Te(t,e,n)},pt.setWith=function(t,e,n,r){return r="function"==typeof r?r:na,null==t?t:Te(t,e,n,r)},pt.shuffle=function(t){return(bi(t)?Tt:Pe)(t)},pt.slice=function(t,e,n){var r=null==t?0:t.length;return r?je(t,e,n=n&&"number"!=typeof n&&Xn(t,e,n)?(e=0,r):(e=null==e?0:Hi(e),n===na?r:Hi(n))):[]},pt.sortBy=ei,pt.sortedUniq=function(t){return t&&t.length?Re(t):[]},pt.sortedUniqBy=function(t,e){return t&&t.length?Re(t,Ln(e,2)):[]},pt.split=function(t,e,n){return n&&"number"!=typeof n&&Xn(t,e,n)&&(e=n=na),(n=n===na?sa:n>>>0)?(t=Xi(t))&&("string"==typeof e||null!=e&&!Ri(e))&&!(e=Le(e))&&fs(t)?Ge(gs(t),0,n):t.split(e,n):[]},pt.spread=function(r,i){if("function"!=typeof r)throw new E(ra);return i=null==i?0:V(Hi(i),0),ke(function(t){var e=t[i],n=Ge(t,0,i);return e&&Wu(n,e),Du(r,this,n)})},pt.tail=function(t){var e=null==t?0:t.length;return e?je(t,1,e):[]},pt.take=function(t,e,n){return t&&t.length?je(t,0,(e=n||e===na?1:Hi(e))<0?0:e):[]},pt.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?je(t,(e=r-(e=n||e===na?1:Hi(e)))<0?0:e,r):[]},pt.takeRightWhile=function(t,e){return t&&t.length?Be(t,Ln(e,3),!1,!0):[]},pt.takeWhile=function(t,e){return t&&t.length?Be(t,Ln(e,3)):[]},pt.tap=function(t,e){return e(t),t},pt.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new E(ra);return Pi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ui(t,e,{leading:r,maxWait:e,trailing:i})},pt.thru=Wr,pt.toArray=$i,pt.toPairs=vo,pt.toPairsIn=yo,pt.toPath=function(t){return bi(t)?$u(t,dr):Ui(t)?[t]:rn(hr(Xi(t)))},pt.toPlainObject=qi,pt.transform=function(t,r,i){var e=bi(t),n=e||ki(t)||Ii(t);if(r=Ln(r,4),null==i){var o=t&&t.constructor;i=n?e?new o:[]:Pi(t)&&Ti(o)?vt(O(t)):{}}return(n?zu:Xt)(t,function(t,e,n){return r(i,t,e,n)}),i},pt.unary=function(t){return ri(t,1)},pt.union=jr,pt.unionBy=Cr,pt.unionWith=Ar,pt.uniq=function(t){return t&&t.length?Ue(t):[]},pt.uniqBy=function(t,e){return t&&t.length?Ue(t,Ln(e,2)):[]},pt.uniqWith=function(t,e){return e="function"==typeof e?e:na,t&&t.length?Ue(t,na,e):[]},pt.unset=function(t,e){return null==t||Ie(t,e)},pt.unzip=Dr,pt.unzipWith=Rr,pt.update=function(t,e,n){return null==t?t:Fe(t,e,Ve(n))},pt.updateWith=function(t,e,n,r){return r="function"==typeof r?r:na,null==t?t:Fe(t,e,Ve(n),r)},pt.values=go,pt.valuesIn=function(t){return null==t?[]:is(t,so(t))},pt.without=zr,pt.words=No,pt.wrap=function(t,e){return di(Ve(e),t)},pt.xor=Lr,pt.xorBy=Ur,pt.xorWith=Ir,pt.zip=Fr,pt.zipObject=function(t,e){return He(t||[],e||[],Et)},pt.zipObjectDeep=function(t,e){return He(t||[],e||[],Te)},pt.zipWith=Br,pt.entries=vo,pt.entriesIn=yo,pt.extend=Ki,pt.extendWith=Zi,Uo(pt,pt),pt.add=Xo,pt.attempt=Eo,pt.camelCase=mo,pt.capitalize=_o,pt.ceil=Go,pt.clamp=function(t,e,n){return n===na&&(n=e,e=na),n!==na&&(n=(n=Vi(n))==n?n:0),e!==na&&(e=(e=Vi(e))==e?e:0),Rt(Vi(t),e,n)},pt.clone=function(t){return zt(t,4)},pt.cloneDeep=function(t){return zt(t,5)},pt.cloneDeepWith=function(t,e){return zt(t,5,e="function"==typeof e?e:na)},pt.cloneWith=function(t,e){return zt(t,4,e="function"==typeof e?e:na)},pt.conformsTo=function(t,e){return null==e||Lt(t,e,uo(e))},pt.deburr=bo,pt.defaultTo=function(t,e){return null==t||t!=t?e:t},pt.divide=Ko,pt.endsWith=function(t,e,n){t=Xi(t),e=Le(e);var r=t.length,i=n=n===na?r:Rt(Hi(n),0,r);return 0<=(n-=e.length)&&t.slice(n,i)==e},pt.eq=yi,pt.escape=function(t){return(t=Xi(t))&&Wa.test(t)?t.replace(Ba,cs):t},pt.escapeRegExp=function(t){return(t=Xi(t))&&Za.test(t)?t.replace(Ka,"\\$&"):t},pt.every=function(t,e,n){var r=bi(t)?Uu:$t;return n&&Xn(t,e,n)&&(e=na),r(t,Ln(e,3))},pt.find=Vr,pt.findIndex=_r,pt.findKey=function(t,e){return qu(t,Ln(e,3),Xt)},pt.findLast=qr,pt.findLastIndex=br,pt.findLastKey=function(t,e){return qu(t,Ln(e,3),Gt)},pt.floor=Zo,pt.forEach=Xr,pt.forEachRight=Gr,pt.forIn=function(t,e){return null==t?t:Vt(t,Ln(e,3),so)},pt.forInRight=function(t,e){return null==t?t:qt(t,Ln(e,3),so)},pt.forOwn=function(t,e){return t&&Xt(t,Ln(e,3))},pt.forOwnRight=function(t,e){return t&&Gt(t,Ln(e,3))},pt.get=no,pt.gt=gi,pt.gte=mi,pt.has=function(t,e){return null!=t&&Hn(t,e,ee)},pt.hasIn=ro,pt.head=wr,pt.identity=Do,pt.includes=function(t,e,n,r){t=wi(t)?t:go(t),n=n&&!r?Hi(n):0;var i=t.length;return n<0&&(n=V(i+n,0)),Li(t)?n<=i&&-1<t.indexOf(e,n):!!i&&-1<Gu(t,e,n)},pt.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Hi(n);return i<0&&(i=V(r+i,0)),Gu(t,e,i)},pt.inRange=function(t,e,n){return e=Wi(e),n===na?(n=e,e=0):n=Wi(n),t=Vi(t),(r=t)>=q(i=e,o=n)&&r<V(i,o);var r,i,o},pt.invoke=ao,pt.isArguments=_i,pt.isArray=bi,pt.isArrayBuffer=xi,pt.isArrayLike=wi,pt.isArrayLikeObject=Si,pt.isBoolean=function(t){return!0===t||!1===t||ji(t)&&Qt(t)==ha},pt.isBuffer=ki,pt.isDate=Mi,pt.isElement=function(t){return ji(t)&&1===t.nodeType&&!Di(t)},pt.isEmpty=function(t){if(null==t)return!0;if(wi(t)&&(bi(t)||"string"==typeof t||"function"==typeof t.splice||ki(t)||Ii(t)||_i(t)))return!t.length;var e=Wn(t);if(e==ga||e==wa)return!t.size;if(Jn(t))return!le(t).length;for(var n in t)if(M.call(t,n))return!1;return!0},pt.isEqual=function(t,e){return ae(t,e)},pt.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:na)?n(t,e):na;return r===na?ae(t,e,na,n):!!r},pt.isError=Oi,pt.isFinite=function(t){return"number"==typeof t&&W(t)},pt.isFunction=Ti,pt.isInteger=Ni,pt.isLength=Ei,pt.isMap=Ci,pt.isMatch=function(t,e){return t===e||ue(t,e,In(e))},pt.isMatchWith=function(t,e,n){return n="function"==typeof n?n:na,ue(t,e,In(e),n)},pt.isNaN=function(t){return Ai(t)&&t!=+t},pt.isNative=function(t){if(Zn(t))throw new i("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return se(t)},pt.isNil=function(t){return null==t},pt.isNull=function(t){return null===t},pt.isNumber=Ai,pt.isObject=Pi,pt.isObjectLike=ji,pt.isPlainObject=Di,pt.isRegExp=Ri,pt.isSafeInteger=function(t){return Ni(t)&&-aa<=t&&t<=aa},pt.isSet=zi,pt.isString=Li,pt.isSymbol=Ui,pt.isTypedArray=Ii,pt.isUndefined=function(t){return t===na},pt.isWeakMap=function(t){return ji(t)&&Wn(t)==Ma},pt.isWeakSet=function(t){return ji(t)&&"[object WeakSet]"==Qt(t)},pt.join=function(t,e){return null==t?"":H.call(t,e)},pt.kebabCase=xo,pt.last=Or,pt.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==na&&(i=(i=Hi(n))<0?V(r+i,0):q(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Xu(t,Zu,i,!0)},pt.lowerCase=wo,pt.lowerFirst=So,pt.lt=Fi,pt.lte=Bi,pt.max=function(t){return t&&t.length?Wt(t,Do,te):na},pt.maxBy=function(t,e){return t&&t.length?Wt(t,Ln(e,2),te):na},pt.mean=function(t){return Ju(t,Do)},pt.meanBy=function(t,e){return Ju(t,Ln(e,2))},pt.min=function(t){return t&&t.length?Wt(t,Do,he):na},pt.minBy=function(t,e){return t&&t.length?Wt(t,Ln(e,2),he):na},pt.stubArray=Vo,pt.stubFalse=qo,pt.stubObject=function(){return{}},pt.stubString=function(){return""},pt.stubTrue=function(){return!0},pt.multiply=Qo,pt.nth=function(t,e){return t&&t.length?ge(t,Hi(e)):na},pt.noConflict=function(){return Ou._===this&&(Ou._=m),this},pt.noop=Io,pt.now=ni,pt.pad=function(t,e,n){t=Xi(t);var r=(e=Hi(e))?ys(t):0;if(!e||e<=r)return t;var i=(e-r)/2;return _n(F(i),n)+t+_n(I(i),n)},pt.padEnd=function(t,e,n){t=Xi(t);var r=(e=Hi(e))?ys(t):0;return e&&r<e?t+_n(e-r,n):t},pt.padStart=function(t,e,n){t=Xi(t);var r=(e=Hi(e))?ys(t):0;return e&&r<e?_n(e-r,n)+t:t},pt.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),G(Xi(t).replace(Qa,""),e||0)},pt.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Xn(t,e,n)&&(e=n=na),n===na&&("boolean"==typeof e?(n=e,e=na):"boolean"==typeof t&&(n=t,t=na)),t===na&&e===na?(t=0,e=1):(t=Wi(t),e===na?(e=t,t=0):e=Wi(e)),e<t){var r=t;t=e,e=r}if(n||t%1||e%1){var i=K();return q(t+i*(e-t+ku("1e-"+((i+"").length-1))),e)}return we(t,e)},pt.reduce=function(t,e,n){var r=bi(t)?Hu:ts,i=arguments.length<3;return r(t,Ln(e,4),n,i,Ft)},pt.reduceRight=function(t,e,n){var r=bi(t)?Yu:ts,i=arguments.length<3;return r(t,Ln(e,4),n,i,Bt)},pt.repeat=function(t,e,n){return e=(n?Xn(t,e,n):e===na)?1:Hi(e),Se(Xi(t),e)},pt.replace=function(){var t=arguments,e=Xi(t[0]);return t.length<3?e:e.replace(t[1],t[2])},pt.result=function(t,e,n){var r=-1,i=(e=qe(e,t)).length;for(i||(i=1,t=na);++r<i;){var o=null==t?na:t[dr(e[r])];o===na&&(r=i,o=n),t=Ti(o)?o.call(t):o}return t},pt.round=ta,pt.runInContext=t,pt.sample=function(t){return(bi(t)?Mt:Me)(t)},pt.size=function(t){if(null==t)return 0;if(wi(t))return Li(t)?ys(t):t.length;var e=Wn(t);return e==ga||e==wa?t.size:le(t).length},pt.snakeCase=ko,pt.some=function(t,e,n){var r=bi(t)?Vu:Ce;return n&&Xn(t,e,n)&&(e=na),r(t,Ln(e,3))},pt.sortedIndex=function(t,e){return Ae(t,e)},pt.sortedIndexBy=function(t,e,n){return De(t,e,Ln(n,2))},pt.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Ae(t,e);if(r<n&&yi(t[r],e))return r}return-1},pt.sortedLastIndex=function(t,e){return Ae(t,e,!0)},pt.sortedLastIndexBy=function(t,e,n){return De(t,e,Ln(n,2),!0)},pt.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Ae(t,e,!0)-1;if(yi(t[n],e))return n}return-1},pt.startCase=Mo,pt.startsWith=function(t,e,n){return t=Xi(t),n=null==n?0:Rt(Hi(n),0,t.length),e=Le(e),t.slice(n,n+e.length)==e},pt.subtract=ea,pt.sum=function(t){return t&&t.length?es(t,Do):0},pt.sumBy=function(t,e){return t&&t.length?es(t,Ln(e,2)):0},pt.template=function(a,t,e){var n=pt.templateSettings;e&&Xn(a,t,e)&&(t=na),a=Xi(a),t=Zi({},t,n,Tn);var u,s,r=Zi({},t.imports,n.imports,Tn),i=uo(r),o=is(r,i),c=0,l=t.interpolate||pu,f="__p += '",h=g((t.escape||pu).source+"|"+l.source+"|"+(l===Va?au:pu).source+"|"+(t.evaluate||pu).source+"|$","g"),d="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++xu+"]")+"\n";a.replace(h,function(t,e,n,r,i,o){return n||(n=r),f+=a.slice(c,o).replace(vu,ls),e&&(u=!0,f+="' +\n__e("+e+") +\n'"),i&&(s=!0,f+="';\n"+i+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=o+t.length,t}),f+="';\n";var p=t.variable;p||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(La,""):f).replace(Ua,"$1").replace(Ia,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Eo(function(){return y(i,d+"return "+f).apply(na,o)});if(v.source=f,Oi(v))throw v;return v},pt.times=function(t,e){if((t=Hi(t))<1||aa<t)return[];var n=sa,r=q(t,sa);e=Ln(e),t-=sa;for(var i=ns(r,e);++n<t;)e(n);return i},pt.toFinite=Wi,pt.toInteger=Hi,pt.toLength=Yi,pt.toLower=function(t){return Xi(t).toLowerCase()},pt.toNumber=Vi,pt.toSafeInteger=function(t){return t?Rt(Hi(t),-aa,aa):0===t?t:0},pt.toString=Xi,pt.toUpper=function(t){return Xi(t).toUpperCase()},pt.trim=function(t,e,n){if((t=Xi(t))&&(n||e===na))return t.replace(Ja,"");if(!t||!(e=Le(e)))return t;var r=gs(t),i=gs(e);return Ge(r,as(r,i),us(r,i)+1).join("")},pt.trimEnd=function(t,e,n){if((t=Xi(t))&&(n||e===na))return t.replace(tu,"");if(!t||!(e=Le(e)))return t;var r=gs(t);return Ge(r,0,us(r,gs(e))+1).join("")},pt.trimStart=function(t,e,n){if((t=Xi(t))&&(n||e===na))return t.replace(Qa,"");if(!t||!(e=Le(e)))return t;var r=gs(t);return Ge(r,as(r,gs(e))).join("")},pt.truncate=function(t,e){var n=30,r="...";if(Pi(e)){var i="separator"in e?e.separator:i;n="length"in e?Hi(e.length):n,r="omission"in e?Le(e.omission):r}var o=(t=Xi(t)).length;if(fs(t)){var a=gs(t);o=a.length}if(o<=n)return t;var u=n-ys(r);if(u<1)return r;var s=a?Ge(a,0,u).join(""):t.slice(0,u);if(i===na)return s+r;if(a&&(u+=s.length-u),Ri(i)){if(t.slice(u).search(i)){var c,l=s;for(i.global||(i=g(i.source,Xi(uu.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;s=s.slice(0,f===na?u:f)}}else if(t.indexOf(Le(i),u)!=u){var h=s.lastIndexOf(i);-1<h&&(s=s.slice(0,h))}return s+r},pt.unescape=function(t){return(t=Xi(t))&&$a.test(t)?t.replace(Fa,ms):t},pt.uniqueId=function(t){var e=++h;return Xi(t)+e},pt.upperCase=Oo,pt.upperFirst=To,pt.each=Xr,pt.eachRight=Gr,pt.first=wr,Uo(pt,(Jo={},Xt(pt,function(t,e){M.call(pt.prototype,e)||(Jo[e]=t)}),Jo),{chain:!1}),pt.VERSION="4.17.11",zu(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){pt[t].placeholder=pt}),zu(["drop","take"],function(n,r){mt.prototype[n]=function(t){t=t===na?1:V(Hi(t),0);var e=this.__filtered__&&!r?new mt(this):this.clone();return e.__filtered__?e.__takeCount__=q(t,e.__takeCount__):e.__views__.push({size:q(t,sa),type:n+(e.__dir__<0?"Right":"")}),e},mt.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),zu(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;mt.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ln(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),zu(["head","last"],function(t,e){var n="take"+(e?"Right":"");mt.prototype[t]=function(){return this[n](1).value()[0]}}),zu(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");mt.prototype[t]=function(){return this.__filtered__?new mt(this):this[n](1)}}),mt.prototype.compact=function(){return this.filter(Do)},mt.prototype.find=function(t){return this.filter(t).head()},mt.prototype.findLast=function(t){return this.reverse().find(t)},mt.prototype.invokeMap=ke(function(e,n){return"function"==typeof e?new mt(this):this.map(function(t){return ie(t,e,n)})}),mt.prototype.reject=function(t){return this.filter(fi(Ln(t)))},mt.prototype.slice=function(t,e){t=Hi(t);var n=this;return n.__filtered__&&(0<t||e<0)?new mt(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==na&&(n=(e=Hi(e))<0?n.dropRight(-e):n.take(e-t)),n)},mt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},mt.prototype.toArray=function(){return this.take(sa)},Xt(mt.prototype,function(f,t){var h=/^(?:filter|find|map|reject)|While$/.test(t),d=/^(?:head|last)$/.test(t),p=pt[d?"take"+("last"==t?"Right":""):t],v=d||/^find/.test(t);p&&(pt.prototype[t]=function(){var t=this.__wrapped__,n=d?[1]:arguments,e=t instanceof mt,r=n[0],i=e||bi(t),o=function(t){var e=p.apply(pt,Wu([t],n));return d&&a?e[0]:e};i&&h&&"function"==typeof r&&1!=r.length&&(e=i=!1);var a=this.__chain__,u=!!this.__actions__.length,s=v&&!a,c=e&&!u;if(v||!i)return s&&c?f.apply(this,n):(l=this.thru(o),s?d?l.value()[0]:l.value():l);t=c?t:new mt(this);var l=f.apply(t,n);return l.__actions__.push({func:Wr,args:[o],thisArg:na}),new gt(l,a)})}),zu(["pop","push","shift","sort","splice","unshift"],function(t){var n=a[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);pt.prototype[t]=function(){var e=arguments;if(!i||this.__chain__)return this[r](function(t){return n.apply(bi(t)?t:[],e)});var t=this.value();return n.apply(bi(t)?t:[],e)}}),Xt(mt.prototype,function(t,e){var n=pt[e];if(n){var r=n.name+"";(ot[r]||(ot[r]=[])).push({name:e,func:n})}}),ot[vn(na,2).name]=[{name:"wrapper",func:na}],mt.prototype.clone=function(){var t=new mt(this.__wrapped__);return t.__actions__=rn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=rn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=rn(this.__views__),t},mt.prototype.reverse=function(){if(this.__filtered__){var t=new mt(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},mt.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=bi(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=q(e,t+a);break;case"takeRight":t=V(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,f=l.length,h=0,d=q(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return $e(t,this.__actions__);var p=[];t:for(;s--&&h<d;){for(var v=-1,y=t[c+=e];++v<f;){var g=l[v],m=g.iteratee,_=g.type,b=m(y);if(2==_)y=b;else if(!b){if(1==_)continue t;break t}}p[h++]=y}return p},pt.prototype.at=Hr,pt.prototype.chain=function(){return $r(this)},pt.prototype.commit=function(){return new gt(this.value(),this.__chain__)},pt.prototype.next=function(){this.__values__===na&&(this.__values__=$i(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?na:this.__values__[this.__index__++]}},pt.prototype.plant=function(t){for(var e,n=this;n instanceof yt;){var r=vr(n);r.__index__=0,r.__values__=na,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},pt.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof mt){var e=t;return this.__actions__.length&&(e=new mt(this)),(e=e.reverse()).__actions__.push({func:Wr,args:[Pr],thisArg:na}),new gt(e,this.__chain__)}return this.thru(Pr)},pt.prototype.toJSON=pt.prototype.valueOf=pt.prototype.value=function(){return $e(this.__wrapped__,this.__actions__)},pt.prototype.first=pt.prototype.head,A&&(pt.prototype[A]=function(){return this}),pt}();D?((D.exports=_s)._=_s,A._=_s):Ou._=_s}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(t,n,e){!function(t,e){"use strict";"object"==typeof n&&n.exports?n.exports=e():t.log=e()}(this,function(){"use strict";var i=function(){},s="undefined",c=["trace","debug","info","warn","error"];function o(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function l(t,e){for(var n=0;n<c.length;n++){var r=c[n];this[r]=n<t?i:this.methodFactory(r,t,e)}this.log=this.debug}function f(t,e,n){return"debug"===(r=t)&&(r="log"),typeof console!==s&&(void 0!==console[r]?o(console,r):void 0!==console.log?o(console,"log"):i)||function(t,e,n){return function(){typeof console!==s&&(l.call(this,e,n),this[t].apply(this,arguments))}}.apply(this,arguments);var r}function n(n,t,e){var r,i=this,o="loglevel";function a(){var t;if(typeof window!==s){try{t=window.localStorage[o]}catch(t){}if(typeof t===s)try{var e=window.document.cookie,n=e.indexOf(encodeURIComponent(o)+"=");-1!==n&&(t=/^([^;]+)/.exec(e.slice(n))[1])}catch(t){}return void 0===i.levels[t]&&(t=void 0),t}}n&&(o+=":"+n),i.name=n,i.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},i.methodFactory=e||f,i.getLevel=function(){return r},i.setLevel=function(t,e){if("string"==typeof t&&void 0!==i.levels[t.toUpperCase()]&&(t=i.levels[t.toUpperCase()]),!("number"==typeof t&&0<=t&&t<=i.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(r=t,!1!==e&&function(t){var e=(c[t]||"silent").toUpperCase();if(typeof window!==s){try{return window.localStorage[o]=e}catch(t){}try{window.document.cookie=encodeURIComponent(o)+"="+e+";"}catch(t){}}}(t),l.call(i,t,n),typeof console===s&&t<i.levels.SILENT)return"No console available for logging"},i.setDefaultLevel=function(t){a()||i.setLevel(t,!1)},i.enableAll=function(t){i.setLevel(i.levels.TRACE,t)},i.disableAll=function(t){i.setLevel(i.levels.SILENT,t)};var u=a();null==u&&(u=null==t?"WARN":t),i.setLevel(u,!1)}var r=new n,a={};r.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=a[t];return e||(e=a[t]=new n(t,r.getLevel(),r.methodFactory)),e};var t=typeof window!==s?window.log:void 0;return r.noConflict=function(){return typeof window!==s&&window.log===r&&(window.log=t),r},r.getLoggers=function(){return a},r})},{}],36:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./src/index");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})})},{"./src/index":48}],37:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DataModel=void 0;var a=t("sd-utils"),u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}}(t("./domain")),i=t("./validation-result");function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.nodes=[],this.edges=[],this.texts=[],this.payoffNames=[],this.defaultCriterion1Weight=1,this.weightLowerBound=0,this.weightUpperBound=1/0,this.expressionScope={},this.code="",this.$codeError=null,this.$codeDirty=!1,this.$version=1,this.validationResults=[],this.maxStackSize=20,this.undoStack=[],this.redoStack=[],this.undoRedoStateChangedCallback=null,this.nodeAddedCallback=null,this.nodeRemovedCallback=null,this.textAddedCallback=null,this.textRemovedCallback=null,this.callbacksDisabled=!1,t&&this.load(t)}var t,n,r;return t=e,(n=[{key:"getJsonReplacer",value:function(){var n=0<arguments.length&&void 0!==arguments[0]&&arguments[0],r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length?arguments[2]:void 0,o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return function(t,e){if(!(o&&a.Utils.startsWith(t,"$")||"parentNode"==t||n&&"location"==t||r&&"computed"==t))return i?i(t,e):e}}},{key:"serialize",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length?arguments[3]:void 0,i=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],o={code:this.code,expressionScope:this.expressionScope,trees:this.getRoots(),texts:this.texts,payoffNames:this.payoffNames.slice(),defaultCriterion1Weight:this.defaultCriterion1Weight,weightLowerBound:this.weightLowerBound,weightUpperBound:this.weightUpperBound};return t?a.Utils.stringify(o,this.getJsonReplacer(e,n,r,i),[]):o}},{key:"load",value:function(t){var r=this,e=this.callbacksDisabled;this.callbacksDisabled=!0,this.clear(),t.trees.forEach(function(t){r.createNodeFromData(t)}),t.texts&&t.texts.forEach(function(t){var e=new u.Point(t.location.x,t.location.y),n=new u.Text(e,t.value);r.texts.push(n)}),this.clearExpressionScope(),this.code=t.code||"",t.expressionScope&&a.Utils.extend(this.expressionScope,t.expressionScope),void 0!==t.payoffNames&&null!==t.payoffNames&&(this.payoffNames=t.payoffNames),void 0!==t.defaultCriterion1Weight&&null!==t.defaultCriterion1Weight&&(this.defaultCriterion1Weight=t.defaultCriterion1Weight),void 0!==t.weightLowerBound&&null!==t.weightLowerBound&&(this.weightLowerBound=t.weightLowerBound),void 0!==t.weightUpperBound&&null!==t.weightUpperBound&&(this.weightUpperBound=t.weightUpperBound),this.callbacksDisabled=e}},{key:"getDTO",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return{serializedData:this.serialize(!0,t,e,null,n),$codeError:this.$codeError,$codeDirty:this.$codeDirty,validationResults:this.validationResults.slice()}}},{key:"loadFromDTO",value:function(t,e){var n=this;this.load(JSON.parse(t.serializedData,e)),this.$codeError=t.$codeError,this.$codeDirty=t.$codeDirty,this.validationResults.length=0,t.validationResults.forEach(function(t){n.validationResults.push(i.ValidationResult.createFromDTO(t))})}},{key:"updateFrom",value:function(t){if(this.$version>t.$version)a.log.warn("DataModel.updateFrom: version of current model greater than update");else{var n={};t.nodes.forEach(function(t){n[t.$id]=t}),this.nodes.forEach(function(t,e){n[t.$id]&&t.loadComputedValues(n[t.$id].computed)}),t.edges.forEach(function(t){n[t.$id]=t}),this.edges.forEach(function(t,e){n[t.$id]&&t.loadComputedValues(n[t.$id].computed)}),this.expressionScope=t.expressionScope,this.$codeError=t.$codeError,this.$codeDirty=t.$codeDirty,this.validationResults=t.validationResults}}},{key:"getGlobalVariableNames",value:function(){var n=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],r=[];return a.Utils.forOwn(this.expressionScope,function(t,e){n&&a.Utils.isFunction(t)||r.push(e)}),r}},{key:"createNodeFromData",value:function(t,e){var n,r,i=this;r=t.location?new u.Point(t.location.x,t.location.y):new u.Point(0,0),u.DecisionNode.$TYPE==t.type?n=new u.DecisionNode(r):u.ChanceNode.$TYPE==t.type?n=new u.ChanceNode(r):u.TerminalNode.$TYPE==t.type&&(n=new u.TerminalNode(r)),t.$id&&(n.$id=t.$id),t.$fieldStatus&&(n.$fieldStatus=t.$fieldStatus),n.name=t.name,t.code&&(n.code=t.code),t.expressionScope&&(n.expressionScope=t.expressionScope),t.computed&&n.loadComputedValues(t.computed),n.folded=!!t.folded;var o=this.addNode(n,e);return t.childEdges.forEach(function(t){var e=i.createNodeFromData(t.childNode,n);a.Utils.isArray(t.payoff)?e.payoff=t.payoff:e.payoff=[t.payoff,0],e.probability=t.probability,e.name=t.name,t.computed&&e.loadComputedValues(t.computed),t.$id&&(e.$id=t.$id),t.$fieldStatus&&(e.$fieldStatus=t.$fieldStatus)}),o}},{key:"addNode",value:function(t,e){if(this.nodes.push(t),e){var n=this._addChild(e,t);return this._fireNodeAddedCallback(t),n}return this._fireNodeAddedCallback(t),t}},{key:"injectNode",value:function(t,e){var n=e.parentNode,r=e.childNode;this.nodes.push(t),t.$parent=n,e.childNode=t,this._addChild(t,r),this._fireNodeAddedCallback(t)}},{key:"_addChild",value:function(t,e){var n=new u.Edge(t,e);return this._setEdgeInitialProbability(n),this.edges.push(n),t.childEdges.push(n),e.$parent=t,n}},{key:"_setEdgeInitialProbability",value:function(t){t.parentNode instanceof u.ChanceNode?t.probability="#":t.probability=void 0}},{key:"removeNode",value:function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=this;n.childEdges.forEach(function(t){return r.removeNode(t.childNode,e+1)}),r._removeNode(n);var t=n.$parent;if(t){var i=a.Utils.find(t.childEdges,function(t,e){return t.childNode===n});0==e?r.removeEdge(i):r._removeEdge(i)}this._fireNodeRemovedCallback(n)}},{key:"removeNodes",value:function(t){var e=this;this.findSubtreeRoots(t).forEach(function(t){return e.removeNode(t,0)},this)}},{key:"convertNode",value:function(t,e){var n,r=this;!t.childEdges.length&&t.$parent?n=this.createNodeByType(e,t.location):t instanceof u.DecisionNode&&e==u.ChanceNode.$TYPE?n=this.createNodeByType(e,t.location):e==u.DecisionNode.$TYPE&&(n=this.createNodeByType(e,t.location)),n&&(n.name=t.name,this.replaceNode(n,t),n.childEdges.forEach(function(t){return r._setEdgeInitialProbability(t)}),this._fireNodeAddedCallback(n))}},{key:"createNodeByType",value:function(t,e){return t==u.DecisionNode.$TYPE?new u.DecisionNode(e):t==u.ChanceNode.$TYPE?new u.ChanceNode(e):t==u.TerminalNode.$TYPE?new u.TerminalNode(e):void 0}},{key:"replaceNode",value:function(e,n){var t=n.$parent;(e.$parent=t)&&(a.Utils.find(e.$parent.childEdges,function(t){return t.childNode===n}).childNode=e);e.childEdges=n.childEdges,e.childEdges.forEach(function(t){return t.parentNode=e});var r=this.nodes.indexOf(n);~r&&(this.nodes[r]=e)}},{key:"getRoots",value:function(){return this.nodes.filter(function(t){return!t.$parent})}},{key:"findSubtreeRoots",value:function(e){return e.filter(function(t){return!t.$parent||-1===e.indexOf(t.$parent)})}},{key:"cloneSubtree",value:function(t,r){var i=this,o=this.cloneNode(t);return t.childEdges.forEach(function(t){var e=i.cloneSubtree(t.childNode,r);e.$parent=o;var n=a.Utils.clone(t);n.$id=a.Utils.guid(),n.parentNode=o,n.childNode=e,n.payoff=a.Utils.cloneDeep(t.payoff),n.computed={},r&&(n.computed=a.Utils.cloneDeep(t.computed),e.computed=a.Utils.cloneDeep(t.childNode.computed)),o.childEdges.push(n)}),r&&(o.computed=a.Utils.cloneDeep(t.computed)),o}},{key:"attachSubtree",value:function(t,e){var n=this,r=n.addNode(t,e);return t.expressionScope=null,n.getAllDescendantEdges(t).forEach(function(t){n.edges.push(t),n.nodes.push(t.childNode),t.childNode.expressionScope=null}),r}},{key:"cloneNodes",value:function(t){}},{key:"cloneNode",value:function(t){var e=a.Utils.clone(t);return e.$id=a.Utils.guid(),e.location=a.Utils.clone(t.location),e.computed=a.Utils.clone(t.computed),e.$parent=null,e.childEdges=[],e}},{key:"findNodeById",value:function(e){return a.Utils.find(this.nodes,function(t){return t.$id==e})}},{key:"findEdgeById",value:function(e){return a.Utils.find(this.edges,function(t){return t.$id==e})}},{key:"findById",value:function(t){var e=this.findNodeById(t);return e||this.findEdgeById(t)}},{key:"_removeNode",value:function(t){var e=this.nodes.indexOf(t);-1<e&&this.nodes.splice(e,1)}},{key:"removeEdge",value:function(t){var e=t.parentNode.childEdges.indexOf(t);-1<e&&t.parentNode.childEdges.splice(e,1),this._removeEdge(t)}},{key:"_removeEdge",value:function(t){var e=this.edges.indexOf(t);-1<e&&this.edges.splice(e,1)}},{key:"_removeNodes",value:function(e){this.nodes=this.nodes.filter(function(t){return-1===e.indexOf(t)})}},{key:"_removeEdges",value:function(e){this.edges=this.edges.filter(function(t){return-1===e.indexOf(t)})}},{key:"getAllDescendantEdges",value:function(t){var e=this,n=[];return t.childEdges.forEach(function(t){n.push(t),t.childNode&&n.push.apply(n,o(e.getAllDescendantEdges(t.childNode)))}),n}},{key:"getAllDescendantNodes",value:function(t){var e=this,n=[];return t.childEdges.forEach(function(t){t.childNode&&(n.push(t.childNode),n.push.apply(n,o(e.getAllDescendantNodes(t.childNode))))}),n}},{key:"getAllNodesInSubtree",value:function(t){var e=this.getAllDescendantNodes(t);return e.unshift(t),e}},{key:"isUndoAvailable",value:function(){return!!this.undoStack.length}},{key:"isRedoAvailable",value:function(){return!!this.redoStack.length}},{key:"createStateSnapshot",value:function(t){return{revertConf:t,nodes:a.Utils.cloneDeep(this.nodes),edges:a.Utils.cloneDeep(this.edges),texts:a.Utils.cloneDeep(this.texts),payoffNames:a.Utils.cloneDeep(this.payoffNames),defaultCriterion1Weight:a.Utils.cloneDeep(this.defaultCriterion1Weight),weightLowerBound:a.Utils.cloneDeep(this.weightLowerBound),weightUpperBound:a.Utils.cloneDeep(this.weightUpperBound),expressionScope:a.Utils.cloneDeep(this.expressionScope),code:this.code,$codeError:this.$codeError}}},{key:"saveStateFromSnapshot",value:function(t){return this.redoStack.length=0,this._pushToStack(this.undoStack,t),this._fireUndoRedoCallback(),this}},{key:"saveState",value:function(t){return this.saveStateFromSnapshot(this.createStateSnapshot(t)),this}},{key:"undo",value:function(){var t=this,e=this.undoStack.pop();if(e)return this._pushToStack(this.redoStack,{revertConf:e.revertConf,nodes:t.nodes,edges:t.edges,texts:t.texts,payoffNames:t.payoffNames,defaultCriterion1Weight:t.defaultCriterion1Weight,weightLowerBound:t.weightLowerBound,weightUpperBound:t.weightUpperBound,expressionScope:t.expressionScope,code:t.code,$codeError:t.$codeError}),this._setNewState(e),this._fireUndoRedoCallback(),this}},{key:"redo",value:function(){var t=this,e=this.redoStack.pop();if(e)return this._pushToStack(this.undoStack,{revertConf:e.revertConf,nodes:t.nodes,edges:t.edges,texts:t.texts,payoffNames:t.payoffNames,defaultCriterion1Weight:t.defaultCriterion1Weight,weightLowerBound:t.weightLowerBound,weightUpperBound:t.weightUpperBound,expressionScope:t.expressionScope,code:t.code,$codeError:t.$codeError}),this._setNewState(e,!0),this._fireUndoRedoCallback(),this}},{key:"clear",value:function(){this.nodes.length=0,this.edges.length=0,this.undoStack.length=0,this.redoStack.length=0,this.texts.length=0,this.clearExpressionScope(),this.code="",this.$codeError=null,this.$codeDirty=!1,this.payoffNames=[],this.defaultCriterion1Weight=1,this.weightLowerBound=0,this.weightUpperBound=1/0}},{key:"clearComputedValues",value:function(){this.nodes.forEach(function(t){return t.clearComputedValues()}),this.edges.forEach(function(t){return t.clearComputedValues()})}},{key:"addText",value:function(t){this.texts.push(t),this._fireTextAddedCallback(t)}},{key:"removeTexts",value:function(t){var e=this;t.forEach(function(t){return e.removeText(t)})}},{key:"removeText",value:function(t){var e=this.texts.indexOf(t);-1<e&&(this.texts.splice(e,1),this._fireTextRemovedCallback(t))}},{key:"clearExpressionScope",value:function(){var n=this;a.Utils.forOwn(this.expressionScope,function(t,e){delete n.expressionScope[e]})}},{key:"reversePayoffs",value:function(){this.payoffNames.reverse(),this.edges.forEach(function(t){return t.payoff.reverse()})}},{key:"_setNewState",value:function(t,e){var r=a.Utils.getObjectByIdMap(t.nodes),i=a.Utils.getObjectByIdMap(t.edges);this.nodes=t.nodes,this.edges=t.edges,this.texts=t.texts,this.payoffNames=t.payoffNames,this.defaultCriterion1Weight=t.defaultCriterion1Weight,this.weightLowerBound=t.weightLowerBound,this.weightUpperBound=t.weightUpperBound,this.expressionScope=t.expressionScope,this.code=t.code,this.$codeError=t.$codeError,this.nodes.forEach(function(t){for(var e=0;e<t.childEdges.length;e++){var n=i[t.childEdges[e].$id];(t.childEdges[e]=n).parentNode=t,n.childNode=r[n.childNode.$id]}}),t.revertConf&&(!e&&t.revertConf.onUndo&&t.revertConf.onUndo(t.revertConf.data),e&&t.revertConf.onRedo&&t.revertConf.onRedo(t.revertConf.data)),this.revertConf=t.revertConf}},{key:"_pushToStack",value:function(t,e){t.length>=this.maxStackSize&&t.shift(),t.push(e)}},{key:"_fireUndoRedoCallback",value:function(){!this.callbacksDisabled&&this.undoRedoStateChangedCallback&&this.undoRedoStateChangedCallback()}},{key:"_fireNodeAddedCallback",value:function(t){!this.callbacksDisabled&&this.nodeAddedCallback&&this.nodeAddedCallback(t)}},{key:"_fireNodeRemovedCallback",value:function(t){!this.callbacksDisabled&&this.nodeRemovedCallback&&this.nodeRemovedCallback(t)}},{key:"_fireTextAddedCallback",value:function(t){!this.callbacksDisabled&&this.textAddedCallback&&this.textAddedCallback(t)}},{key:"_fireTextRemovedCallback",value:function(t){!this.callbacksDisabled&&this.textRemovedCallback&&this.textRemovedCallback(t)}}])&&s(t.prototype,n),r&&s(t,r),e}();n.DataModel=r},{"./domain":39,"./validation-result":49,"sd-utils":50}],38:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Edge=void 0;var i=t("./object-with-computed-values");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=function(t){function a(t,e,n,r,i){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(o=u(this,s(a).call(this))).name="",o.probability=void 0,o.payoff=[0,0],o.$DISPLAY_VALUE_NAMES=["probability","payoff","optimal"],o.parentNode=t,o.childNode=e,void 0!==n&&(o.name=n),void 0!==i&&(o.probability=i),void 0!==r&&(o.payoff=r),o}var e,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(a,i.ObjectWithComputedValues),e=a,(n=[{key:"setName",value:function(t){return this.name=t,this}},{key:"setProbability",value:function(t){return this.probability=t,this}},{key:"setPayoff",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.payoff[e]=t,this}},{key:"computedBaseProbability",value:function(t){return this.computedValue(null,"probability",t)}},{key:"computedBasePayoff",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.computedValue(null,"payoff["+e+"]",t)}},{key:"displayProbability",value:function(t){return this.displayValue("probability",t)}},{key:"displayPayoff",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.displayValue("payoff["+e+"]",t)}}])&&o(e.prototype,n),r&&o(e,r),a}();n.Edge=a},{"./object-with-computed-values":44}],39:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./node/node");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var i=t("./node/decision-node");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("./node/chance-node");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var a=t("./node/terminal-node");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}})});var u=t("./edge");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})});var s=t("./point");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})});var c=t("./text");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return c[t]}})})},{"./edge":38,"./node/chance-node":40,"./node/decision-node":41,"./node/node":42,"./node/terminal-node":43,"./point":46,"./text":47}],40:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ChanceNode=void 0;var r=t("./node");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,a(e).call(this,e.$TYPE,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,r.Node),e}();(n.ChanceNode=s).$TYPE="chance"},{"./node":42}],41:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DecisionNode=void 0;var r=t("./node");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,a(e).call(this,e.$TYPE,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,r.Node),e}();(n.DecisionNode=s).$TYPE="decision"},{"./node":42}],42:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Node=void 0;var o=t("../point"),a=t("../object-with-computed-values");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var i=function(t){function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=s(this,c(r).call(this))).childEdges=[],n.name="",n.code="",n.$codeDirty=!1,n.$codeError=null,n.expressionScope=null,n.folded=!1,n.$DISPLAY_VALUE_NAMES=["childrenPayoff","aggregatedPayoff","probabilityToEnter","optimal"],(n.location=e)||(n.location=new o.Point(0,0)),n.type=t,n}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,a.ObjectWithComputedValues),e=r,(n=[{key:"setName",value:function(t){return this.name=t,this}},{key:"moveTo",value:function(t,e,n){if(n){var r=t-this.location.x,i=e-this.location.y;this.childEdges.forEach(function(t){return t.childNode.move(r,i,!0)})}return this.location.moveTo(t,e),this}},{key:"move",value:function(e,n,t){return t&&this.childEdges.forEach(function(t){return t.childNode.move(e,n,!0)}),this.location.move(e,n),this}}])&&u(e.prototype,n),i&&u(e,i),r}();n.Node=i},{"../object-with-computed-values":44,"../point":46}],43:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TerminalNode=void 0;var r=t("./node");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,a(e).call(this,e.$TYPE,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,r.Node),e}();(n.TerminalNode=s).$TYPE="terminal"},{"./node":42}],44:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectWithComputedValues=void 0;var i=t("sd-utils"),o=t("./object-with-id-and-editable-fields");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=function(t){function a(){var t,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return s(n,(e=n=s(this,(t=c(a)).call.apply(t,[this].concat(i))),n.computed={},e))}var e,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(a,o.ObjectWithIdAndEditableFields),e=a,(n=[{key:"computedValue",value:function(t,e,n){var r="computed.";return t&&(r+=t+"."),r+=e,void 0===n?i.Utils.get(this,r,null):(i.Utils.set(this,r,n),n)}},{key:"clearComputedValues",value:function(t){var e=this;null!=t?i.Utils.isArray(t)?t.forEach(function(t){e.computed[t]={}}):this.computed[t]={}:this.computed={}}},{key:"clearDisplayValues",value:function(){this.computed.$displayValues={}}},{key:"displayValue",value:function(t,e){return this.computedValue(null,"$displayValues."+t,e)}},{key:"loadComputedValues",value:function(t){this.computed=i.Utils.cloneDeep(t)}}])&&u(e.prototype,n),r&&u(e,r),a}();n.ObjectWithComputedValues=a},{"./object-with-id-and-editable-fields":45,"sd-utils":50}],45:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectWithIdAndEditableFields=void 0;var i=t("sd-utils");function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$id=i.Utils.guid(),this.$fieldStatus={}}var e,n,r;return e=t,(n=[{key:"getFieldStatus",value:function(t){return i.Utils.get(this.$fieldStatus,t,null)||i.Utils.set(this.$fieldStatus,t,{valid:{syntax:!0,value:!0}}),i.Utils.get(this.$fieldStatus,t)}},{key:"setSyntaxValidity",value:function(t,e){this.getFieldStatus(t).valid.syntax=e}},{key:"setValueValidity",value:function(t,e){this.getFieldStatus(t).valid.value=e}},{key:"isFieldValid",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=this.getFieldStatus(t);return e&&n?r.valid.syntax&&r.valid.value:e?r.valid.syntax:r.valid.value}}])&&o(e.prototype,n),r&&o(e,r),t}();n.ObjectWithIdAndEditableFields=r},{"sd-utils":50}],46:[function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.Point=void 0;var r=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),t instanceof n?(e=t.y,t=t.x):Array.isArray(t)&&(e=t[1],t=t[0]),this.x=t,this.y=e}var t,e,r;return t=n,(e=[{key:"moveTo",value:function(t,e){return Array.isArray(t)&&(e=t[1],t=t[0]),this.x=t,this.y=e,this}},{key:"move",value:function(t,e){return Array.isArray(t)&&(e=t[1],t=t[0]),this.x+=t,this.y+=e,this}}])&&i(t.prototype,e),r&&i(t,r),n}();n.Point=r},{}],47:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Text=void 0;var o=t("./point"),a=(t("sd-utils"),t("./object-with-id-and-editable-fields"));function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var i=function(t){function r(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=s(this,c(r).call(this))).value="",(n.location=t)||(n.location=new o.Point(0,0)),e&&(n.value=e),n}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,a.ObjectWithIdAndEditableFields),e=r,(n=[{key:"moveTo",value:function(t,e){return this.location.moveTo(t,e),this}},{key:"move",value:function(t,e){return this.location.move(t,e),this}}])&&u(e.prototype,n),i&&u(e,i),r}();n.Text=i},{"./object-with-id-and-editable-fields":45,"./point":46,"sd-utils":50}],48:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={domain:!0};n.domain=void 0;var i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}}(t("./domain"));n.domain=i;var o=t("./data-model");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}}))});var a=t("./validation-result");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}}))})},{"./data-model":37,"./domain":39,"./validation-result":49}],49:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ValidationResult=void 0;var o=t("sd-utils");function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.errors={},this.warnings={},this.objectIdToError={}}var t,e,r;return t=n,r=[{key:"createFromDTO",value:function(t){var e=new n;return e.errors=t.errors,e.warnings=t.warnings,e.objectIdToError=t.objectIdToError,e}}],(e=[{key:"addError",value:function(t,e){o.Utils.isString(t)&&(t={name:t});var n=t.name,r=this.errors[n];r||(r=[],this.errors[n]=r);var i=this.objectIdToError[e.$id];i||(i=[],this.objectIdToError[e.$id]=i),r.push(e),i.push(t)}},{key:"addWarning",value:function(t,e){var n=this.warnings[t];n||(n=[],this.warnings[t]=n),n.push(e)}},{key:"isValid",value:function(){return 0===Object.getOwnPropertyNames(this.errors).length}}])&&i(t.prototype,e),r&&i(t,r),n}();n.ValidationResult=r},{"sd-utils":50}],50:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={log:!0};Object.defineProperty(n,"log",{enumerable:!0,get:function(){return o.default}});var i,o=(i=t("loglevel"))&&i.__esModule?i:{default:i},a=t("./src/utils");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}}))})},{"./src/utils":51,loglevel:35}],51:[function(e,t,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=void 0;var u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}}(e("lodash"));function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var t=function(){function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a)}var t,e,n;return t=a,n=[{key:"deepExtend",value:function(t){!t&&1<arguments.length&&Array.isArray(arguments[1])&&(t=[]),t=t||{};for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var r in n)if(n.hasOwnProperty(r)){var i=Array.isArray(t[r]),o=this.isObject(t[r]),a=this.isObject(n[r]);o&&!i&&a?this.deepExtend(t[r],n[r]):t[r]=n[r]}}return t}},{key:"extend",value:function(t,e){var n;for(n in t||(t={}),e)t[n]=e[n];return t}},{key:"mergeDeep",value:function(e,n){var r=o({},e);return a.isObjectNotArray(e)&&a.isObjectNotArray(n)&&Object.keys(n).forEach(function(t){a.isObjectNotArray(n[t])&&t in e?r[t]=a.mergeDeep(e[t],n[t]):o(r,i({},t,n[t]))}),r}},{key:"getVariablesAsList",value:function(t){var n=[];return u.forOwn(t,function(t,e){a.isFunction(t)||n.push({key:e,value:t})}),n}},{key:"cross",value:function(t,e){var n,r,i=[],o=t.length,a=e.length;for(n=-1;++n<o;)for(r=-1;++r<a;)i.push({x:t[n],i:n,y:e[r],j:r});return i}},{key:"isObjectNotArray",value:function(t){return t&&"object"===s(t)&&!Array.isArray(t)&&null!==t}},{key:"isArray",value:function(t){return Array.isArray(t)}},{key:"isObject",value:function(t){return null!==t&&"object"===s(t)}},{key:"isNumber",value:function(t){return!isNaN(t)&&"number"==typeof t}},{key:"isNumeric",value:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},{key:"isInt",value:function(t){return a.isNumber(t)&&t%1==0}},{key:"isFunction",value:function(t){return"function"==typeof t}},{key:"isDate",value:function(t){return"[object Date]"===Object.prototype.toString.call(t)}},{key:"isString",value:function(t){return"string"==typeof t||t instanceof String}},{key:"guid",value:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},{key:"capitalizeFirstLetter",value:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},{key:"getObjectByIdMap",value:function(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"$id",i={};return t&&t.forEach(function(t){var e=t;n&&(e=n(t)),i[t[r]]=e}),i}},{key:"waitForFinalEvent",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:50;return e||(e="Don't call this twice without a uniqueId"),a.timers[e]&&clearTimeout(a.timers[e]),a.timers[e]=setTimeout(t,n),function(){return clearTimeout(a.timers[e])}}},{key:"detectIE",value:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(0<e)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(0<t.indexOf("Trident/")){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}return!1}},{key:"detectEdge",value:function(){var t=window.navigator.userAgent,e=t.indexOf("Edge/");return 0<e&&parseInt(t.substring(e+5,t.indexOf(".",e)),10)}},{key:"stripNumberToPrec",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:12;return parseFloat(parseFloat(t).toPrecision(e))}},{key:"getGlobalObject",value:function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:{}}},{key:"isWorker",value:function(){var t=a.getGlobalObject();return!t.document&&!!t.postMessage}},{key:"stringify",value:function(t,r){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:["$"],o=[];return JSON.stringify(t,function(e,n){if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(!i||!i.some(function(t){return u.startsWith(e,t)})){if("object"===s(n)&&null!==n){if(-1!==o.indexOf(n))return;o.push(n)}if(r){if(!a.isArray(r))return r(e,n);r.forEach(function(t){n=t(e,n)})}return n}},2)}},{key:"compareVersionNumbers",value:function(t,e){var n=t.split("."),r=e.split(".");function i(t){for(var e=0;e<t.length;++e)if(!a.isPositiveInteger(t[e]))return!1;return!0}if(!i(n)||!i(r))return NaN;for(var o=0;o<n.length;++o){if(r.length===o)return 1;if(n[o]!==r[o])return n[o]>r[o]?1:-1}return n.length!=r.length?-1:0}},{key:"isPositiveInteger",value:function(t){return/^\d+$/.test(t)}},{key:"isValidVersionString",value:function(t){return!!a.isString(t)&&a.versionRegexp.test(t)}},{key:"makeIterator",value:function(t){var e=0;return{next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0}}}}},{key:"isUnique",value:function(t,e){return t.length===new Set(t.map(e)).size}},{key:"getErrorDTO",value:function(t){return t?{name:t.constructor.name,message:t.message,data:t.data}:t}},{key:"cartesianProductOf",value:function(t){return a.reduce(t,function(t,n){return a.flatten(a.map(t,function(e){return a.map(n,function(t){return e.concat([t])})}),!0)},[[]])}},{key:"indexesOf",value:function(t,r){return t.reduce(function(t,e,n){return e===r?t.concat(n):t},[])}},{key:"startsWith",value:function(){return u.startsWith.apply(u,arguments)}},{key:"isBoolean",value:function(){return u.isBoolean.apply(u,arguments)}},{key:"find",value:function(){return u.find.apply(u,arguments)}},{key:"fill",value:function(){return u.fill.apply(u,arguments)}},{key:"assign",value:function(){return u.assign.apply(u,arguments)}},{key:"cloneDeep",value:function(){return u.cloneDeep.apply(u,arguments)}},{key:"clone",value:function(){return u.clone.apply(u,arguments)}},{key:"cloneDeepWith",value:function(){return u.cloneDeepWith.apply(u,arguments)}},{key:"cloneWith",value:function(){return u.cloneWith.apply(u,arguments)}},{key:"mergeWith",value:function(){return u.mergeWith.apply(u,arguments)}},{key:"forOwn",value:function(){return u.forOwn.apply(u,arguments)}},{key:"get",value:function(){return u.get.apply(u,arguments)}},{key:"set",value:function(){return u.set.apply(u,arguments)}},{key:"reduce",value:function(){return u.reduce.apply(u,arguments)}},{key:"flatten",value:function(){return u.flatten.apply(u,arguments)}},{key:"map",value:function(){return u.map.apply(u,arguments)}},{key:"maxBy",value:function(){return u.maxBy.apply(u,arguments)}},{key:"minBy",value:function(){return u.minBy.apply(u,arguments)}},{key:"debounce",value:function(){return u.debounce.apply(u,arguments)}},{key:"template",value:function(){return u.template.apply(u,arguments)}},{key:"round",value:function(){return u.round.apply(u,arguments)}},{key:"sortBy",value:function(){return u.sortBy.apply(u,arguments)}}],(e=null)&&c(t.prototype,e),n&&c(t,n),a}();(n.Utils=t).SQRT_2=1.41421356237,t.timers={},t.versionRegexp=/^([0-9]+)\.([0-9]+)\.([0-9]+)$/}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{lodash:34}],52:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AppUtils=void 0;var a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}}(t("./d3")),u=t("./templates"),r=t("./i18n/i18n"),o=t("sd-utils");function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i)}var t,e,n;return t=i,n=[{key:"placeTextWithEllipsis",value:function(t,e,n){var r=t.node();r.textContent=e;if(r.getComputedTextLength()>n+0){for(var i=e.length-3;0<i;i-=1)if(r.getSubStringLength(0,i)+9<=n+0)return r.textContent=e.substring(0,i)+"...",!0;return r.textContent="...",!0}return!1}},{key:"placeTextWithEllipsisAndTooltip",value:function(t,e,n,r){i.placeTextWithEllipsis(t,e,n)&&r&&(t.on("mouseover",function(t){r.transition().duration(200).style("opacity",.9),r.html(e).style("left",a.event.pageX+5+"px").style("top",a.event.pageY-28+"px")}),t.on("mouseout",function(t){r.transition().duration(500).style("opacity",0)}))}},{key:"getFontSize",value:function(t){return window.getComputedStyle(t,null).getPropertyValue("font-size")}},{key:"getTranslation",value:function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttributeNS(null,"transform",t);var n=e.transform.baseVal.consolidate().matrix;return[n.e,n.f]}},{key:"closestPoint",value:function(t,r){for(var e,n,i,o,a=t.getTotalLength(),u=8,s=1/0,c=0;c<=a;c+=u)(o=y(i=t.getPointAtLength(c)))<s&&(e=i,n=c,s=o);for(u/=2;.5<u;){var l,f,h,d,p,v;0<=(h=n-u)&&(p=y(l=t.getPointAtLength(h)))<s?(e=l,n=h,s=p):(d=n+u)<=a&&(v=y(f=t.getPointAtLength(d)))<s?(e=f,n=d,s=v):u/=2}return(e=[e.x,e.y]).distance=Math.sqrt(s),e;function y(t){var e=t.x-r[0],n=t.y-r[1];return e*e+n*n}}},{key:"growl",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"info",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"right",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2e3,i=u.Templates.get("growl",{message:t,type:e}),o=a.select("body").selectOrAppend("div.sd-growl-list."+n).append("div").html(i);setTimeout(function(){o.remove()},r)}},{key:"createElement",value:function(t,e,n){var r=document.createElement(t);return e&&i.deepExtend(r,e),n&&n.appendChild(r),r}},{key:"removeElement",value:function(t){t.parentNode.removeChild(t)}},{key:"replaceUrls",value:function(t){if(!t)return t;return t.replace(/((ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?)/,'<a href="$1" target="_blank">$1</a>')}},{key:"escapeHtml",value:function(t){var e=document.createTextNode(t),n=document.createElement("div");return n.appendChild(e),n.innerHTML}},{key:"dispatchHtmlEvent",value:function(t,e){if("createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent(e,!1,!0),t.dispatchEvent(n)}else t.fireEvent("on"+e)}},{key:"dispatchEvent",value:function(e,n){var r;try{r=new CustomEvent(e,{detail:n})}catch(t){(r=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!1,n)}document.dispatchEvent(r)}},{key:"getValidationMessage",value:function(t){o.Utils.isString(t)&&(t={name:t});var e="validation."+t.name;return r.i18n.t(e,t.data)}},{key:"hide",value:function(t){t.classed("sd-hidden",!0)}},{key:"show",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];t.classed("sd-hidden",!e)}},{key:"isHidden",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return!t||(e?"none"===window.getComputedStyle(t).display:null===t.offsetParent)}},{key:"getJSON",value:function(t,e){var n=new XMLHttpRequest;n.open("get",t,!0),n.responseType="json",n.onload=function(){var t=n.status;200==t?e(n.response,null):e(null,t)},n.send()}}],(e=null)&&s(t.prototype,e),n&&s(t,n),i}();(n.AppUtils=i).sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},i.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},i.availableHeight=function(t,e,n){return Math.max(0,i.sanitizeHeight(t,e)-n.top-n.bottom)},i.availableWidth=function(t,e,n){return Math.max(0,i.sanitizeWidth(t,e)-n.left-n.right)}},{"./d3":59,"./i18n/i18n":63,"./templates":71,"sd-utils":50}],53:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ContextMenu=void 0;var a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}}(t("../d3"));function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var o=this;return"function"==typeof e?o.openCallback=e:(e=e||{},o.openCallback=e.onOpen,o.closeCallback=e.onClose),a.selectAll(".d3-context-menu").data([1]).enter().append("div").attr("class","d3-context-menu"),a.select("body").on("click.d3-context-menu",function(){a.select(".d3-context-menu").style("display","none"),o.closeCallback&&o.closeCallback()}),function(n,r){var i=this;a.selectAll(".d3-context-menu").html(""),a.selectAll(".d3-context-menu").on("contextmenu",function(t){a.select(".d3-context-menu").style("display","none"),a.event.preventDefault(),a.event.stopPropagation()}).append("ul").selectAll("li").data("function"==typeof t?t(n):t).enter().append("li").attr("class",function(t){var e="";return t.divider&&(e+=" is-divider"),t.disabled&&(e+=" is-disabled"),t.action||(e+=" is-header"),e}).html(function(t){return t.divider?"<hr>":(t.title||console.error("No title attribute set. Check the spelling of your options."),"string"==typeof t.title?t.title:t.title(n))}).on("click",function(t,e){t.disabled||t.action&&(t.action(i,n,r),a.select(".d3-context-menu").style("display","none"),o.closeCallback&&o.closeCallback())}),o.openCallback&&!1===o.openCallback(n,r)||(a.select(".d3-context-menu").style("left",a.event.pageX-2+"px").style("top",a.event.pageY-2+"px").style("display","block"),a.event.preventDefault(),a.event.stopPropagation())}}var t,e,r;return t=n,r=[{key:"hide",value:function(){a.select(".d3-context-menu").style("display","none")}}],(e=null)&&i(t.prototype,e),r&&i(t,r),n}();n.ContextMenu=r},{"../d3":59}],54:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.EdgeContextMenu=void 0;var i=t("./context-menu"),o=t("../i18n/i18n");function a(t){return(a="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(r){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return(t=u(this,s(e).call(this,function(t){var e=[];return e.push({title:o.i18n.t("contextMenu.edge.injectDecisionNode"),action:function(t,e,n){r.injectDecisionNode(e)}}),e.push({title:o.i18n.t("contextMenu.edge.injectChanceNode"),action:function(t,e,n){r.injectChanceNode(e)}}),e}))).treeDesigner=r,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,i.ContextMenu),e}();n.EdgeContextMenu=l},{"../i18n/i18n":63,"./context-menu":53}],55:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.MainContextMenu=void 0;var i=t("./context-menu"),a=t("sd-model"),u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}}(t("../d3")),s=t("../i18n/i18n");function o(t){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(i){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=null;return(t=c(this,l(e).call(this,function(t){var e=[];return e.push({title:s.i18n.t("contextMenu.main.addDecisionNode"),action:function(t,e,n){var r=new a.domain.DecisionNode(o);i.addNode(r)}}),e.push({title:s.i18n.t("contextMenu.main.addChanceNode"),action:function(t,e,n){var r=new a.domain.ChanceNode(o);i.addNode(r)}}),e.push({divider:!0}),e.push({title:s.i18n.t("contextMenu.main.addText"),action:function(t,e,n){var r=new a.domain.Text(o);i.addText(r)}}),e.push({divider:!0}),e.push({title:s.i18n.t("contextMenu.main.paste"),action:function(t,e,n){i.pasteToNewLocation(o)},disabled:!i.copiedNodes||!i.copiedNodes.length}),e.push({divider:!0}),e.push({title:s.i18n.t("contextMenu.main.selectAllNodes"),action:function(t,e,n){i.selectAllNodes()}}),e},{onOpen:function(){i.clearSelection(),o=new a.domain.Point(u.mouse(i.svg.node())).move(i.getMainGroupTranslation(!0))}}))).treeDesigner=i,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,i.ContextMenu),e}();n.MainContextMenu=h},{"../d3":59,"../i18n/i18n":63,"./context-menu":53,"sd-model":36}],56:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.NodeContextMenu=void 0;var i=t("./context-menu"),l=t("sd-model"),f=t("../i18n/i18n");function o(t){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=function(t){function c(u,s){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);return(t=h(this,d(c).call(this,function(t){var e={title:f.i18n.t("contextMenu.node.copy"),action:function(t,e,n){u.selectNode(e,!u.isNodeSelected(e)),u.copySelectedNodes()}},n={title:f.i18n.t("contextMenu.node.cut"),action:function(t,e,n){u.selectNode(e,!u.isNodeSelected(e)),u.cutSelectedNodes()}},r={title:f.i18n.t("contextMenu.node.paste"),action:function(t,e,n){u.pasteToNode(e)},disabled:t.folded||!u.copiedNodes||!u.copiedNodes.length},i={title:f.i18n.t("contextMenu.node.delete"),action:function(t,e,n){u.selectNode(e,!u.isNodeSelected(e)),u.removeSelectedNodes()}},o=[];if(t.type==l.domain.TerminalNode.$TYPE)return o=[e,n,i],c.addNodeConversionOptions(t,o,u),o;if(t.folded||(o.push({title:f.i18n.t("contextMenu.node.addDecisionNode"),action:function(t,e,n){u.addDecisionNode(e)}}),o.push({title:f.i18n.t("contextMenu.node.addChanceNode"),action:function(t,e,n){u.addChanceNode(e)}}),o.push({title:f.i18n.t("contextMenu.node.addTerminalNode"),action:function(t,e,n){u.addTerminalNode(e)}}),o.push({divider:!0})),o.push(e),o.push(n),o.push(r),o.push(i),c.addNodeConversionOptions(t,o,u),o.push({divider:!0}),o.push({title:f.i18n.t("contextMenu.node.selectSubtree"),action:function(t,e,n){u.selectSubTree(e,!0)}}),t.folded?o.push({title:f.i18n.t("contextMenu.node.unfold"),action:function(t,e,n){u.foldSubtree(e,!1)}}):o.push({title:f.i18n.t("contextMenu.node.fold"),action:function(t,e,n){u.foldSubtree(e)}}),s){var a=s(t);a.length&&(o.push({divider:!0}),a.forEach(function(r){o.push({title:f.i18n.t("contextMenu.node."+r.name),action:function(t,e,n){u.performOperation(e,r)},disabled:!r.canPerform(t)})}))}return o}))).treeDesigner=u,t}var e,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(c,i.ContextMenu),e=c,r=[{key:"addNodeConversionOptions",value:function(t,e,n){var r=c.getNodeConversionOptions(t,n);r.length&&(e.push({divider:!0}),r.forEach(function(t){return e.push(t)}))}},{key:"getNodeConversionOptions",value:function(e,n){var r=[];if(e.folded)return[];var t=[l.domain.DecisionNode.$TYPE,l.domain.ChanceNode.$TYPE,l.domain.TerminalNode.$TYPE];return!e.childEdges.length&&e.$parent?t.filter(function(t){return t!==e.type}).forEach(function(t){r.push(c.getNodeConversionOption(t,n))}):e instanceof l.domain.DecisionNode?r.push(c.getNodeConversionOption(l.domain.ChanceNode.$TYPE,n)):r.push(c.getNodeConversionOption(l.domain.DecisionNode.$TYPE,n)),r}},{key:"getNodeConversionOption",value:function(r,i){return{title:f.i18n.t("contextMenu.node.convert."+r),action:function(t,e,n){i.convertNode(e,r)}}}}],(n=null)&&a(e.prototype,n),r&&a(e,r),c}();n.NodeContextMenu=s},{"../i18n/i18n":63,"./context-menu":53,"sd-model":36}],57:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.TextContextMenu=void 0;var i=t("./context-menu"),o=t("../i18n/i18n");function a(t){return(a="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(r){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return(t=u(this,s(e).call(this,function(t){var e={title:o.i18n.t("contextMenu.text.delete"),action:function(t,e,n){r.selectText(e,!0,!0),r.removeSelectedTexts()}},n=[];return n.push(e),n}))).treeDesigner=r,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,i.ContextMenu),e}();n.TextContextMenu=l},{"../i18n/i18n":63,"./context-menu":53}],58:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.D3Extensions=void 0;var r=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}}(t("./d3"));function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i)}var t,e,n;return t=i,n=[{key:"extend",value:function(){r.selection.prototype.enter.prototype.insertSelector=r.selection.prototype.insertSelector=function(t,e){return i.insertSelector(this,t,e)},r.selection.prototype.enter.prototype.appendSelector=r.selection.prototype.appendSelector=function(t){return i.appendSelector(this,t)},r.selection.prototype.enter.prototype.selectOrAppend=r.selection.prototype.selectOrAppend=function(t){return i.selectOrAppend(this,t)},r.selection.prototype.enter.prototype.selectOrInsert=r.selection.prototype.selectOrInsert=function(t,e){return i.selectOrInsert(this,t,e)}}},{key:"insertOrAppendSelector",value:function(t,e,n,r){for(var i=e.split(/([\.\#])/),o=t[n](i.shift(),r);1<i.length;){var a=i.shift(),u=i.shift();"."===a?o=o.classed(u,!0):"#"===a&&(o=o.attr("id",u))}return o}},{key:"insertSelector",value:function(t,e,n){return i.insertOrAppendSelector(t,e,"insert",n)}},{key:"appendSelector",value:function(t,e){return i.insertOrAppendSelector(t,e,"append")}},{key:"selectOrAppend",value:function(t,e,n){var r=t.select(e);return r.empty()?n?t.append(n):i.appendSelector(t,e):r}},{key:"selectOrInsert",value:function(t,e,n){var r=t.select(e);return r.empty()?i.insertSelector(t,e,n):r}}],(e=null)&&o(t.prototype,e),n&&o(t,n),i}();n.D3Extensions=i},{"./d3":59}],59:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("d3-dispatch");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var i=t("d3-scale");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("d3-selection");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var a=t("d3-shape");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}})});var u=t("d3-drag");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})});var s=t("d3-brush");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})});var c=t("d3-array");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return c[t]}})});var l=t("d3-hierarchy");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return l[t]}})});var f=t("d3-time-format");Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return f[t]}})})},{"d3-array":1,"d3-brush":2,"d3-dispatch":5,"d3-drag":6,"d3-hierarchy":9,"d3-scale":12,"d3-selection":13,"d3-shape":14,"d3-time-format":15}],60:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Entscheidungsknoten hinzufügen",addChanceNode:"Zufall Knoten hinzufügen",addText:"Text hinzufügen ",paste:"Einfügen",selectAllNodes:"Alle Knoten auswählen"},node:{copy:"Kopieren",cut:"Ausschneiden",paste:"Einfügen",delete:"Löschen",addDecisionNode:"Entscheidungsknoten hinzufügen",addChanceNode:"Zufall Knoten hinzufügen",addTerminalNode:"Endknotten hinzufügen",convert:{decision:"Als Entscheidungsknoten",chance:"Als Zufall Knoten",terminal:"Als Endknoten"},selectSubtree:"Teilbaum wählen",fold:"Teilbaum falten",unfold:"Teilbaum entfalten",flipSubtree:"Teilbaum umdrehen"},edge:{injectDecisionNode:"Entscheidungsknoten Injizieren",injectChanceNode:"Zufall Knoten Injizieren"},text:{delete:"Löschen"}},validation:{incompletePath:"Pfad, der nicht mit dem Endknoten endet",probabilityDoNotSumUpTo1:"Die Summe der Wahrscheinlichkeiten ist nicht gleich 1",invalidProbability:"Ungültige Wahrscheinlichkeit im Zweig #{{number}}",invalidPayoff:"Ungültige Auszahlung in Zweig #{{number}}"},growl:{brushDisabled:"Auswahlbürste deaktiviert",brushEnabled:"Auswahlbürste aktiviert"},tooltip:{node:{payoff:{default:"Auszahlung {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Aggregierte Auszahlung {{number}}",named:"Aggregierte {{name}}"},probabilityToEnter:"Wahrscheinlichkeit"},edge:{payoff:{default:"Auszahlung {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Wahrscheinlichkeit: {{value}}"}}}},{}],61:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Add Decision Node",addChanceNode:"Add Chance Node",addText:"Add Text",paste:"Paste",selectAllNodes:"Select all nodes"},node:{copy:"Copy",cut:"Cut",paste:"Paste",delete:"Delete",addDecisionNode:"Add Decision Node",addChanceNode:"Add Chance Node",addTerminalNode:"Add Terminal Node",convert:{decision:"As Decision Node",chance:"As Chance Node",terminal:"As Terminal Node"},selectSubtree:"Select subtree",fold:"Fold subtree",unfold:"Unfold subtree",flipSubtree:"Flip subtree"},edge:{injectDecisionNode:"Inject Decision Node",injectChanceNode:"Inject Chance Node"},text:{delete:"Delete"}},validation:{incompletePath:"Path not ending with terminal node",probabilityDoNotSumUpTo1:"Probabilities do not sum up to 1",invalidProbability:"Invalid probability in edge #{{number}}",invalidPayoff:"Invalid payoff in edge #{{number}}"},growl:{brushDisabled:"Selection brush disabled",brushEnabled:"Selection brush enabled"},tooltip:{node:{payoff:{default:"Payoff {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Aggregated Payoff {{number}}",named:"Aggregated {{name}}"},probabilityToEnter:"Probability to enter"},edge:{payoff:{default:"Payoff {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Probability: {{value}}"}}}},{}],62:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Ajouter noud de décision",addChanceNode:"Ajouter noud aléatoire",addText:"Ajouter du texte",paste:"Coller",selectAllNodes:"Sélectionner tous les nouds"},node:{copy:"Copie",cut:"Couper",paste:"Coller",delete:"Effacer",addDecisionNode:"Ajouter noud de décision",addChanceNode:"Ajouter noud aléatoire",addTerminalNode:"Ajouter un noeud terminal",convert:{decision:"Comme noud de décision",chance:"Comme noud aléatoire",terminal:"Comme un noeud terminal"},selectSubtree:"Sélectionner une sous-arborescence",fold:"Plier sous-arbre",unfold:"Déplier arbre sous-arbre",flipSubtree:"Basculer sous-arbre"},edge:{injectDecisionNode:"Injecter un noeud de décision",injectChanceNode:"Injecter un noeud de chance"},text:{delete:"Effacer"}},validation:{incompletePath:"Parcours non terminé par noeud terminal",probabilityDoNotSumUpTo1:"La somme des probabilités n'est pas 1 ou plus",invalidProbability:"Probabilité invalide - le bord #{{number}}",invalidPayoff:"Avantage invalide - le bord #{{number}}"},growl:{brushDisabled:"Brosse de sélection désactivée",brushEnabled:"Brosse de sélection activée"},tooltip:{node:{payoff:{default:"Avantage {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Avantage agrégé {{number}}",named:"Agrégé  {{name}}"},probabilityToEnter:"Probabilité d'entrée"},edge:{payoff:{default:"Avantage {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Probabilité: {{value}}"}}}},{}],63:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.i18n=void 0;var r,i=(r=t("i18next"))&&r.__esModule?r:{default:r},o=l(t("./en.json")),a=l(t("./pl.json")),u=l(t("./it.json")),s=l(t("./de.json")),c=l(t("./fr.json"));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=function(){function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n)}var t,e,r;return t=n,r=[{key:"init",value:function(t){n.language=t;var e={en:{translation:o},pl:{translation:a},it:{translation:u},de:{translation:s},fr:{translation:c}};n.$instance=i.default.createInstance({lng:t,fallbackLng:"en",resources:e},function(t,e){})}},{key:"t",value:function(t,e){return n.$instance.t(t,e)}}],(e=null)&&f(t.prototype,e),r&&f(t,r),n}();n.i18n=h},{"./de.json":60,"./en.json":61,"./fr.json":62,"./it.json":64,"./pl.json":65,i18next:33}],64:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Aggiungi un nodo di decisione",addChanceNode:"Aggiungi un nodo opportunità",addText:"Aggiungi testo",paste:"Incolla",selectAllNodes:"Seleziona tutti i nodi"},node:{copy:"Copia",cut:"Taglia",paste:"Incolla",delete:"Cancella",addDecisionNode:"Aggiungi un nodo di decisione",addChanceNode:"Aggiungi un nodo opportunità",addTerminalNode:"Aggiungi un nodo terminale",convert:{decision:"Come Decision Node",chance:"Come Chance Node",terminal:"Come Terminal Node"},selectSubtree:"Seleziona Sotto-albero",fold:"Piega sotto-albero",unfold:"Dispiegarsi sotto-albero",flipSubtree:"Ribalta sotto-albero"},edge:{injectDecisionNode:"Inietta nodo di decisione",injectChanceNode:"Inietta nodo opportunità"},text:{delete:"Cancella"}},validation:{incompletePath:"Percorso senza nodo terminale",probabilityDoNotSumUpTo1:"La somma delle probabilità è diversa da 1",invalidProbability:"Probabilità non valida - bordo #{{number}}",invalidPayoff:"Saldo non valido - bordo #{{number}}"},growl:{brushDisabled:"Selezione pennello disabilitata",brushEnabled:"Selezione pennello abilitata"},tooltip:{node:{payoff:{default:"Saldo {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Saldo aggregato {{number}}",named:"Aggregato {{name}}"},probabilityToEnter:"Probabilità da inserire"},edge:{payoff:{default:"Saldo {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Probabilità: {{value}}"}}}},{}],65:[function(t,e,n){e.exports={contextMenu:{main:{addDecisionNode:"Dodaj Węzeł Decyzyjny",addChanceNode:"Dodaj Węzeł Losowy",addText:"Dodaj Tekst",paste:"Wklej",selectAllNodes:"Zaznacz wszystkie węzły"},node:{copy:"Kopiuj",cut:"Wytnij",paste:"Wklej",delete:"Usuń",addDecisionNode:"Dodaj Węzeł Decyzyjny",addChanceNode:"Dodaj Węzeł Losowy",addTerminalNode:"Dodaj Węzeł Końcowy",convert:{decision:"Jako Węzeł Decyzyjny",chance:"Jako Węzeł Losowy",terminal:"Jako Węzeł Końcowy"},selectSubtree:"Zaznacz poddrzewo",fold:"Zwiń poddrzewo",unfold:"Rozwiń poddrzewo",flipSubtree:"Przewróć poddrzewo"},edge:{injectDecisionNode:"Wstrzyknij Węzeł Decyzyjny",injectChanceNode:"Wstrzyknij Węzeł Losowy"},text:{delete:"Usuń"}},validation:{incompletePath:"Ostatnim węzłem w ścieżce powinien być Węzeł Końcowy",probabilityDoNotSumUpTo1:"Prawdopodobieństwa nie sumują sie do 1",invalidProbability:"Niepoprawne prawdopodobieństwo na krawędzi #{{number}}",invalidPayoff:"Niepoprawna wypłata na krawędzi #{{number}}"},growl:{brushDisabled:"Zaznaczanie wyłączone",brushEnabled:"Zaznaczanie włączone"},tooltip:{node:{payoff:{default:"Wypłata {{number}}",named:"{{name}}"},aggregatedPayoff:{default:"Zagregowana wypłata {{number}}",named:"Zagregowana {{name}}"},probabilityToEnter:"Prawdopodobieństwo wejścia"},edge:{payoff:{default:"Wypłata {{number}}: {{value}}",named:"{{name}}: {{value}}"},probability:"Prawdopodobieństwo: {{value}}"}}}},{}],66:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={d3:!0};Object.defineProperty(n,"d3",{enumerable:!0,get:function(){return l.default}});var i=t("./d3-extensions");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}}))});var o=t("./tree-designer");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}}))});var a=t("./app-utils");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}}))});var u=t("./templates");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}}))});var s=t("./tooltip");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}}))});var c,l=(c=t("./d3"))&&c.__esModule?c:{default:c};i.D3Extensions.extend()},{"./app-utils":52,"./d3":59,"./d3-extensions":58,"./templates":71,"./tooltip":74,"./tree-designer":75}],67:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Layout=void 0;var c=t("sd-utils"),l=t("sd-model"),h=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}}(t("./d3")),r=a(t("./symbols/circle")),i=a(t("./symbols/triangle")),o=t("./app-utils");function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function s(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.nodeTypeToSymbol={decision:h.symbolSquare,chance:r.default,terminal:i.default},this.onAutoLayoutChanged=[],this.nodeTypeOrder={decision:0,chance:0,terminal:1},this.treeMargin=50,this.targetSymbolSize={},this.nodeSeparation=function(t,e){return t.parent===e.parent?1:1.2},this.nodeSymbolSize={},this.treeDesigner=t,this.data=e,this.config=n}var t,e,n;return t=s,n=[{key:"backupNodeLocation",value:function(t){t.$location=new l.domain.Point(t.location)}},{key:"setHangingPosition",value:function(t){return o.AppUtils.isHidden(t.node())||t.each(function(){this.getBBox().height;h.select(this).attr("dy","0.75em")}),t}}],(e=[{key:"update",value:function(t){if(t&&t.$parent&&t.$parent.childEdges.sort(function(t,e){return t.childNode.location.y-e.childNode.location.y}),!this.isManualLayout())return this.autoLayout(this.config.type,!0);t?this.moveNodeToEmptyPlace(t):this.treeDesigner.redraw(!0)}},{key:"isManualLayout",value:function(){return this.config.type===s.MANUAL_LAYOUT_NAME}},{key:"getNewChildLocation",value:function(t){if(!t)return new l.domain.Point(this.getNodeMinX(),this.getNodeMinY());var e=t.location.x+this.config.gridWidth,n=t.location.y;return t.childEdges.length&&(n=t.childEdges[t.childEdges.length-1].childNode.location.y+1),new l.domain.Point(e,n)}},{key:"getInjectedNodeLocation",value:function(t){var e=t.$linePoints[2];return new l.domain.Point(e[0],e[1])}},{key:"moveNodeToEmptyPlace",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],a=this;function n(i,o){return c.Utils.find(a.nodesSortedByX,function(t){if(i==t)return!1;var e=a.config.nodeSize/3,n=t.location.x,r=t.location.y;return o.x-e<=n&&o.x+e>=n&&o.y-e<=r&&o.y+e>=r})}t.location.x=Math.max(this.getNodeMinX(t),t.location.x),t.location.y=Math.max(this.getNodeMinY(t),t.location.y),this.nodesSortedByX=this.data.nodes.slice(),this.nodesSortedByX.sort(function(t,e){return t.location.x-e.location.x});for(var r,i=this.config.nodeSize/2,o=this.config.nodeSize+10,u=!1,s=new l.domain.Point(t.location);r=n(t,s);){u=!0,t.$parent&&r.$parent&&t.$parent===r.$parent?s.move(0,75):s.move(i,o)}u&&(t.moveTo(s.x,s.y,!0),e&&this.treeDesigner.redraw(!0))}},{key:"disableAutoLayout",value:function(){this.config.type=s.MANUAL_LAYOUT_NAME,this._fireOnAutoLayoutChangedCallbacks()}},{key:"drawNodeSymbol",value:function(t,o){var a=this,u=this.config.nodeSize;this.nodeSymbol=h.symbol().type(function(t){return a.nodeTypeToSymbol[t.type]}).size(function(t){return a.nodeSymbolSize[t.$id]?c.Utils.get(a.targetSymbolSize,t.type+"['"+a.config.nodeSize+"']",64):64}),t.each(function(t){var e=h.select(this);e.attr("d")||e.attr("d",a.nodeSymbol);var n=c.Utils.get(a.targetSymbolSize,t.type+"['"+a.config.nodeSize+"']");if(!n){var r=e.node().getBBox(),i=Math.min(u/r.width,u/r.height);n=i*i*(a.nodeSymbolSize[t.$id]||64),c.Utils.set(a.targetSymbolSize,t.type+"['"+a.config.nodeSize+"']",n)}o?e=e.transition():a.nodeSymbolSize[t.$id]=n,e.attr("d",a.nodeSymbol),o&&(a.nodeSymbolSize[t.$id]=n)})}},{key:"nodeLabelPosition",value:function(t){return t.attr("x",0).attr("y",-this.config.nodeSize/2-7)}},{key:"nodePayoffPosition",value:function(t){return s.setHangingPosition(t).attr("x",0).attr("y",this.config.nodeSize/2+7).attr("text-anchor","middle")}},{key:"nodeAggregatedPayoffPosition",value:function(t){var e=this.config.nodeSize/2+7,r=this;return t.attr("x",e).attr("y",function(t){var e=parseInt(o.AppUtils.getFontSize(this)),n=t.displayValue("aggregatedPayoff");return 1<(c.Utils.isArray(n)?n.filter(function(t){return void 0!==t}).length:1)?-this.getBBox().height/2+e/2:-Math.max(2,1.8*r.config.nodeSize/e)}),t.selectAll("tspan").attr("x",e),t}},{key:"nodeProbabilityToEnterPosition",value:function(t){var r=this;return s.setHangingPosition(t).attr("x",this.config.nodeSize/2+7).attr("y",function(t){var e=parseInt(o.AppUtils.getFontSize(this)),n=t.displayValue("aggregatedPayoff");return 1<(c.Utils.isArray(n)?n.filter(function(t){return void 0!==t}).length:1)?.6*e:Math.max(2,1.8*r.config.nodeSize/e)})}},{key:"nodeIndicatorPosition",value:function(t){return t.attr("x",this.config.nodeSize/2+8).attr("y",-this.config.nodeSize/2).attr("dominant-baseline","central").attr("text-anchor","middle")}},{key:"nodeUnfoldButtonPosition",value:function(t){return t.attr("x",this.config.nodeSize/2+5).attr("y",0).attr("dominant-baseline","central")}},{key:"edgeLineD",value:function(t){var e=h.line().x(function(t){return t[0]}).y(function(t){return t[1]}),n=t.parentNode,r=t.childNode,i=r.location.x-n.location.x,o=(r.location.y,n.location.y,0<=i?1:-1),a=Math.min(i/2,this.config.nodeSize/2+10),u=Math.min(this.config.edgeSlantWidthMax,Math.max(i/2-a,0)),s=[n.location.x+this.config.nodeSize/2+1,n.location.y],c=[Math.max(n.location.x+a,s[0]),n.location.y],l=[n.location.x+a+u,r.location.y],f=[r.location.x-o*Math.max(0,Math.min(this.config.nodeSize/2+8,i/2)),r.location.y];return t.$linePoints=[s,c,l,f],e(t.$linePoints)}},{key:"edgePayoffPosition",value:function(t){return s.setHangingPosition(t).attr("x",function(t){return t.$linePoints[2][0]+2}).attr("y",function(t){return t.$linePoints[2][1]+7}),t.selectAll("tspan").attr("x",function(t){return h.select(this.parentNode).datum().$linePoints[2][0]+2}),t}},{key:"edgeLabelPosition",value:function(t){return t.attr("transform",function(t){return"translate("+(t.$linePoints[2][0]+2)+","+(t.$linePoints[2][1]-7)+")"})}},{key:"edgeProbabilityPosition",value:function(t){return s.setHangingPosition(t).attr("x",function(t){var e=this.getComputedTextLength(),n=t.$linePoints[2][0]+2+this.previousSibling.childNodes[0].getComputedTextLength()+7+e;return Math.max(n,t.$linePoints[3][0]-8)}).attr("y",function(t){return t.$linePoints[2][1]+7})}},{key:"getMinMarginBetweenNodes",value:function(){return this.config.nodeSize+30}},{key:"getTextMinX",value:function(t){var e=0;if(t){var n=this.treeDesigner.getTextD3Selection(t).select("text").node().getBBox();n.x<0&&(e-=n.x)}return e}},{key:"getTextMinY",value:function(t){var e=0;if(t){var n=this.treeDesigner.getTextD3Selection(t).select("text").node().getBBox();n.y<0&&(e-=n.y)}return e}},{key:"getTextMaxX",value:function(t){return Number.MAX_SAFE_INTEGER}},{key:"getNodeMinX",value:function(t){return t&&t.$parent?t.$parent.location.x+this.getMinMarginBetweenNodes():this.config.nodeSize/2}},{key:"getNodeMinY",value:function(t){return this.config.nodeSize/2}},{key:"getNodeMaxX",value:function(t){return t&&t.childEdges.length?h.min(t.childEdges,function(t){return t.childNode.$hidden?9999999:t.childNode.location.x})-this.getMinMarginBetweenNodes():Number.MAX_SAFE_INTEGER}},{key:"setGridWidth",value:function(e,t){var n=this;this.config.gridWidth!==e&&(t||this.data.saveState({data:{gridWidth:n.config.gridWidth},onUndo:function(t){n.setGridWidth(t.gridWidth,!0)},onRedo:function(t){n.setGridWidth(e,!0)}}),this.config.gridWidth=e,this.update())}},{key:"setGridHeight",value:function(e,t){var n=this;this.config.gridHeight!==e&&(t||this.data.saveState({data:{gridHeight:n.config.gridHeight},onUndo:function(t){n.setGridHeight(t.gridHeight,!0)},onRedo:function(t){n.setGridHeight(e,!0)}}),this.config.gridHeight=e,this.update())}},{key:"setNodeSize",value:function(e,t){var n=this;this.config.nodeSize!==e&&(t||this.data.saveState({data:{nodeSize:n.config.nodeSize},onUndo:function(t){n.setNodeSize(t.nodeSize,!0)},onRedo:function(t){n.setNodeSize(e,!0)}}),this.config.nodeSize=e,this.update(),this.isManualLayout()&&(this.fitNodesInPlottingRegion(n.data.getRoots()),this.treeDesigner.redraw(!0)))}},{key:"setEdgeSlantWidthMax",value:function(e,t){var n=this;this.config.edgeSlantWidthMax!==e&&(t||this.data.saveState({data:{edgeSlantWidthMax:n.config.edgeSlantWidthMax},onUndo:function(t){n.setEdgeSlantWidthMax(t.edgeSlantWidthMax,!0)},onRedo:function(t){n.setEdgeSlantWidthMax(e,!0)}}),this.config.edgeSlantWidthMax=e,this.treeDesigner.redraw(!0))}},{key:"autoLayout",value:function(u,t){var s=this;if(t||this.data.saveState({data:{newLayout:u,currentLayout:s.config.type},onUndo:function(t){s.config.type=t.currentLayout,s._fireOnAutoLayoutChangedCallbacks()},onRedo:function(t){s.autoLayout(t.newLayout,!0)}}),this.config.type=u,this.data.nodes.length){var c=s.getNodeMinY();return this.data.getRoots().forEach(function(t){var e,n=h.hierarchy(t,function(t){return t.childEdges.filter(function(t){return!t.$hidden}).map(function(t){return t.childNode})});n.sort(function(t,e){return t.data.location.y-e.data.location.y}),(e="cluster"===u?h.cluster():h.tree()).nodeSize([s.config.gridHeight,s.config.gridWidth]),e.separation(s.nodeSeparation),e(n);var r=999999999;n.each(function(t){r=Math.min(r,t.x)});var i=n.x-r+c,o=s.getNodeMinX(),a=0;n.each(function(t){t.data.location.x=t.y+o,t.data.location.y=t.x+i,a=Math.max(a,t.data.location.y)}),c=a+s.config.nodeSize+s.treeMargin}),this.treeDesigner.redraw(!0),this._fireOnAutoLayoutChangedCallbacks(),this}this._fireOnAutoLayoutChangedCallbacks()}},{key:"fitNodesInPlottingRegion",value:function(t){var e=h.min(t,function(t){return t.location.y})-this.getNodeMinY(),n=h.min(t,function(t){return t.location.x})-this.getNodeMinX();(e<0||n<0)&&t.forEach(function(t){return t.move(-n,-e)})}},{key:"moveNodes",value:function(t,r,i,e){var o=this,a=o.config.limitNodePositioning;a&&(r<0?t.sort(function(t,e){return t.location.x-e.location.x}):t.sort(function(t,e){return e.location.x-t.location.x}));var n=h.min(t,function(t){return t.location.y});n+i<o.getNodeMinY()&&(i=o.getNodeMinY()-n),t.forEach(function(t){if(a){s.backupNodeLocation(t);var e=o.getNodeMinX(t),n=o.getNodeMaxX(t);t.location.x=Math.min(Math.max(t.location.x+r,e),n),t.location.y+=i}else t.location.x+=r,t.location.y+=i});var u=e&&o.config.limitNodePositioning&&e.location.x===e.$location.x;t.forEach(function(t){u&&(t.location.x=t.$location.x),o.treeDesigner.updateNodePosition(t)})}},{key:"moveTexts",value:function(t,i,o){var a=this,u=a.config.limitTextPositioning;u&&(i<0?t.sort(function(t,e){return t.location.x-e.location.x}):t.sort(function(t,e){return e.location.x-t.location.x})),t.forEach(function(t){if(u){var e=a.getTextMinX(t),n=a.getTextMaxX(t),r=a.getTextMinY(t);t.location.x=Math.min(Math.max(t.location.x+i,e),n),t.location.y=Math.max(t.location.y+o,r)}else t.location.move(i,o);a.treeDesigner.updateTextPosition(t)})}},{key:"_fireOnAutoLayoutChangedCallbacks",value:function(){var e=this;this.onAutoLayoutChanged.forEach(function(t){return t(e.config.type)})}}])&&u(t.prototype,e),n&&u(t,n),s}();(n.Layout=s).MANUAL_LAYOUT_NAME="manual"},{"./app-utils":52,"./d3":59,"./symbols/circle":69,"./symbols/triangle":70,"sd-model":36,"sd-utils":50}],68:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NodeDragHandler=void 0;var i=t("./app-utils"),o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}}(t("./d3")),a=t("./context-menu/context-menu");function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.treeDesigner=t,this.data=e;var n=this;this.drag=o.drag().subject(function(t){if(null==t)return{x:event.x,y:event.y};var e=o.select(this);return{x:e.attr("x")+i.AppUtils.getTranslation(e.attr("transform"))[0],y:e.attr("y")+i.AppUtils.getTranslation(e.attr("transform"))[1]}}).on("start",function(t){n.dragStarted.call(this,t,n)}).on("drag",function(t){n.onDrag.call(this,t,n)}).on("end",function(t){n.dragEnded.call(this,t,n)})}var t,e,n;return t=r,(e=[{key:"dragStarted",value:function(t,e){if(e.ignoreDrag)return e.ignoreDrag=!1,void(e.ignoredDrag=!0);e.ignoredDrag=!1,a.ContextMenu.hide();var n=o.select(this);n.classed("selected")||e.treeDesigner.clearSelection(),e.treeDesigner.selectNode(t),n.classed("selected dragging",!0),e.selectedNodes=e.treeDesigner.getSelectedNodes(!0),e.prevDragEvent=o.event,e.dragEventCount=0}},{key:"onDrag",value:function(t,e){if(!(e.ignoredDrag||(2==e.dragEventCount&&e.data.saveState(),e.dragEventCount++,5<e.selectedNodes.length&&e.dragEventCount%2!=1))){var n=o.event.x-e.prevDragEvent.x,r=o.event.y-e.prevDragEvent.y;e.treeDesigner.layout.moveNodes(e.selectedNodes,n,r,t),e.prevDragEvent=o.event,e.treeDesigner.redrawEdges(),e.treeDesigner.updatePlottingRegionSize()}}},{key:"dragEnded",value:function(t,e){o.select(this).classed("dragging",!1);e.ignoredDrag||e.treeDesigner.layout.update(t)}},{key:"cancelDrag",value:function(){this.ignoreDrag=!0}}])&&u(t.prototype,e),n&&u(t,n),r}();n.NodeDragHandler=r},{"./app-utils":52,"./context-menu/context-menu":53,"./d3":59}],69:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=Math.PI,r={draw:function(t,e){var n=Math.sqrt(e/i),r=.552284749831*n;t.moveTo(-n,0),t.bezierCurveTo(-n,-r,-r,-n,0,-n),t.bezierCurveTo(r,-n,n,-r,n,0),t.bezierCurveTo(n,r,r,n,0,n),t.bezierCurveTo(-r,n,-n,r,-n,0)}};n.default=r},{}],70:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;Math.sqrt(3);var r={draw:function(t,e){var n=Math.sqrt(e/Math.PI);t.moveTo(-n,0),t.lineTo(.9*n,-n),t.lineTo(.9*n,n),t.closePath()}};n.default=r},{}],71:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Templates=void 0;var i=t("sd-utils"),o=t("./i18n/i18n");function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r)}var t,e,n;return t=r,n=[{key:"get",value:function(t,e){var n=i.Utils.template(r[t],{imports:{i18n:o.i18n,Templates:r,include:function(t,e){return r.get(t,e)}}});return e?e.variables=e:e={variables:{}},n(e)}},{key:"styleRule",value:function(t,e){var n=t+"{";return e.forEach(function(t){return n+=r.styleProp(t[0],t[1])}),n+="} "}},{key:"styleProp",value:function(t,e){return t+": <%= "+e+" %>; "}},{key:"nodeSelector",value:function(t,e){var n=r.treeDesignerSelector+" .node";return t&&(n+="."+t+"-node"),e&&(n+="."+e),n}},{key:"edgeSelector",value:function(t){var e=r.treeDesignerSelector+" .edge";return t&&(e+="."+t),e}}],(e=null)&&a(t.prototype,e),n&&a(t,n),r}();(n.Templates=r).growl=t("./templates/growl_message.html"),r.treeDesignerSelector="svg.sd-tree-designer",r.treeDesignerStyles=r.styleRule(r.treeDesignerSelector,[["font-size","fontSize"],["font-family","fontFamily"],["font-weight","fontWeight"],["font-style","fontStyle"]])+r.styleRule(r.nodeSelector()+" path",[["fill","node.fill"],["stroke-width","node.strokeWidth"]])+r.styleRule(r.nodeSelector("decision","optimal")+" path, "+r.nodeSelector("chance","optimal")+" path,"+r.nodeSelector("terminal","optimal")+" path",[["stroke","node.optimal.stroke"],["stroke-width","node.optimal.strokeWidth"]])+r.styleRule(r.nodeSelector()+" .label",[["font-size","node.label.fontSize"],["fill","node.label.color"]])+r.styleRule(r.nodeSelector()+" .payoff",[["font-size","node.payoff.fontSize"],["fill","node.payoff.color"]])+r.styleRule(r.nodeSelector()+" .payoff.negative",[["fill","node.payoff.negativeColor"]])+r.styleRule(r.nodeSelector("decision")+" path",[["fill","node.decision.fill"],["stroke","node.decision.stroke"]])+r.styleRule(r.nodeSelector("decision","selected")+" path",[["fill","node.decision.selected.fill"]])+r.styleRule(r.nodeSelector("chance")+" path",[["fill","node.chance.fill"],["stroke","node.chance.stroke"]])+r.styleRule(r.nodeSelector("chance","selected")+" path",[["fill","node.chance.selected.fill"]])+r.styleRule(r.nodeSelector("terminal")+" path",[["fill","node.terminal.fill"],["stroke","node.terminal.stroke"]])+r.styleRule(r.nodeSelector("terminal","selected")+" path",[["fill","node.terminal.selected.fill"]])+r.styleRule(r.nodeSelector("terminal")+" .aggregated-payoff",[["font-size","node.terminal.payoff.fontSize"],["fill","node.terminal.payoff.color"]])+r.styleRule(r.nodeSelector("terminal")+" .aggregated-payoff.negative",[["fill","node.terminal.payoff.negativeColor"]])+r.styleRule(r.treeDesignerSelector+" .node .probability-to-enter, "+r.treeDesignerSelector+" .edge .probability",[["font-size","probability.fontSize"],["fill","probability.color"]])+r.styleRule(r.edgeSelector()+" path",[["stroke","edge.stroke"],["stroke-width","edge.strokeWidth"]])+r.styleRule(r.treeDesignerSelector+" marker#arrow path",[["fill","edge.stroke"]])+r.styleRule(r.edgeSelector("optimal")+" path",[["stroke","edge.optimal.stroke"],["stroke-width","edge.optimal.strokeWidth"]])+r.styleRule(r.treeDesignerSelector+" marker#arrow-optimal path",[["fill","edge.optimal.stroke"]])+r.styleRule(r.edgeSelector("selected")+" path",[["stroke","edge.selected.stroke"],["stroke-width","edge.selected.strokeWidth"]])+r.styleRule(r.treeDesignerSelector+" marker#arrow-selected path",[["fill","edge.selected.stroke"]])+r.styleRule(r.edgeSelector()+" .label",[["font-size","edge.label.fontSize"],["fill","edge.label.color"]])+r.styleRule(r.edgeSelector()+" .payoff",[["font-size","edge.payoff.fontSize"],["fill","edge.payoff.color"]])+r.styleRule(r.edgeSelector()+" .payoff.negative",[["fill","edge.payoff.negativeColor"]])+r.styleRule(r.treeDesignerSelector+" .sd-title-container text.sd-title",[["font-size","title.fontSize"],["font-weight","title.fontWeight"],["font-style","title.fontStyle"],["fill","title.color"]])+r.styleRule(r.treeDesignerSelector+" .sd-title-container text.sd-description",[["font-size","description.fontSize"],["font-weight","description.fontWeight"],["font-style","description.fontStyle"],["fill","description.color"]])},{"./i18n/i18n":63,"./templates/growl_message.html":72,"sd-utils":50}],72:[function(t,e,n){e.exports='module.exports = "<div class=\\"sd-growl-message <%=type%>\\">\\n    <div class=\\"sd-growl-message-text\\">\\n        <%= message %>\\n    </div>\\n</div>\\n";\n'},{}],73:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TextDragHandler=void 0;var i=t("./app-utils"),o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}}(t("./d3")),a=t("./context-menu/context-menu");function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.treeDesigner=t,this.data=e;var n=this;this.drag=o.drag().subject(function(t){if(null==t)return{x:event.x,y:event.y};var e=o.select(this);return{x:e.attr("x")+i.AppUtils.getTranslation(e.attr("transform"))[0],y:e.attr("y")+i.AppUtils.getTranslation(e.attr("transform"))[1]}}).on("start",function(t){n.dragStarted.call(this,t,n)}).on("drag",function(t){n.onDrag.call(this,t,n)}).on("end",function(t){n.dragEnded.call(this,t,n)})}var t,e,n;return t=r,(e=[{key:"dragStarted",value:function(t,e){a.ContextMenu.hide();var n=o.select(this);n.classed("selected")||e.treeDesigner.clearSelection(),e.treeDesigner.selectText(t),n.classed("selected dragging",!0),e.selectedNodes=e.treeDesigner.getSelectedNodes(),e.prevDragEvent=o.event,e.dragEventCount=0}},{key:"onDrag",value:function(t,e){2==e.dragEventCount&&e.data.saveState(),e.dragEventCount++;var n=o.event.x-e.prevDragEvent.x,r=o.event.y-e.prevDragEvent.y;e.treeDesigner.layout.moveTexts([t],n,r),e.prevDragEvent=o.event,e.treeDesigner.updatePlottingRegionSize()}},{key:"dragEnded",value:function(t,e){o.select(this).classed("dragging",!1)}}])&&u(t.prototype,e),n&&u(t,n),r}();n.TextDragHandler=r},{"./app-utils":52,"./context-menu/context-menu":53,"./d3":59}],74:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Tooltip=void 0;var r=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}}(t("./d3")),u=t("sd-utils");function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function a(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a)}var t,e,n;return t=a,n=[{key:"getContainer",value:function(){return r.select("body").selectOrAppend("div.sd-tooltip")}},{key:"show",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:5,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:28,r=3<arguments.length?arguments[3]:void 0,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,o=a.getContainer().style("opacity",0);o.transition().duration(200).style("opacity",.98),o.html(t),a.updatePosition(e,n,r),i&&setTimeout(function(){a.hide()},i)}},{key:"updatePosition",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:5,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:28,n=2<arguments.length?arguments[2]:void 0;n=n||r.event,a.getContainer().style("left",n.pageX+t+"px").style("top",n.pageY-e+"px")}},{key:"hide",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:500,e=a.getContainer();t&&(e=e.transition().duration(t)),e.style("opacity",0)}},{key:"attach",value:function(t,r,i,o){t.on("mouseover",function(t,e){var n=null;null!=(n=u.Utils.isFunction(r)?r(t,e):r)&&""!==n?a.show(n,i,o):a.hide(0)}).on("mousemove",function(t){a.updatePosition(i,o)}).on("mouseout",function(t){a.hide()})}}],(e=null)&&i(t.prototype,e),n&&i(t,n),a}();n.Tooltip=o},{"./d3":59,"sd-utils":50}],75:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TreeDesigner=n.TreeDesignerConfig=void 0;var S=r(t("./d3")),k=t("sd-utils"),c=t("./app-utils"),i=t("sd-model"),o=t("./context-menu/context-menu"),a=t("./context-menu/main-context-menu"),u=t("./context-menu/node-context-menu"),s=t("./layout"),l=t("./node-drag-handler"),M=t("./tooltip"),f=t("./templates"),h=t("./text-drag-handler"),d=t("./context-menu/text-context-menu"),p=t("./context-menu/edge-context-menu"),O=r(t("hammerjs")),T=t("./i18n/i18n");function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function v(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var m=function t(e){g(this,t),this.width=void 0,this.height=void 0,this.margin={left:25,right:25,top:25,bottom:25},this.scale=1,this.lng="en",this.layout={type:"tree",nodeSize:40,limitNodePositioning:!0,limitTextPositioning:!0,gridHeight:75,gridWidth:150,edgeSlantWidthMax:20},this.fontFamily="sans-serif",this.fontSize="12px",this.fontWeight="normal",this.fontStyle="normal",this.node={strokeWidth:"1px",optimal:{stroke:"#006f00",strokeWidth:"1.5px"},label:{fontSize:"1em",color:"black"},payoff:{fontSize:"1em",color:"black",negativeColor:"#b60000"},decision:{fill:"#ff7777",stroke:"#660000",selected:{fill:"#aa3333"}},chance:{fill:"#ffff44",stroke:"#666600",selected:{fill:"#aaaa00"}},terminal:{fill:"#44ff44",stroke:"black",selected:{fill:"#00aa00"},payoff:{fontSize:"1em",color:"black",negativeColor:"#b60000"}}},this.edge={stroke:"#424242",strokeWidth:"1.5",optimal:{stroke:"#006f00",strokeWidth:"2.4"},selected:{stroke:"#045ad1",strokeWidth:"3.5"},label:{fontSize:"1em",color:"back"},payoff:{fontSize:"1em",color:"black",negativeColor:"#b60000"}},this.probability={fontSize:"1em",color:"#0000d7"},this.title={fontSize:"16px",fontWeight:"bold",fontStyle:"normal",color:"#000000",margin:{top:15,bottom:10}},this.description={show:!0,fontSize:"12px",fontWeight:"bold",fontStyle:"normal",color:"#000000",margin:{top:5,bottom:10}},this.readOnly=!1,this.disableAnimations=!1,this.forceFullEdgeRedraw=!1,this.hideLabels=!1,this.hidePayoffs=!1,this.hideProbabilities=!1,this.raw=!1,this.payoffNumberFormatter=function(t,e){return t},this.probabilityNumberFormatter=function(t){return t},this.onNodeSelected=function(t){},this.onEdgeSelected=function(t){},this.onTextSelected=function(t){},this.onSelectionCleared=function(){},this.operationsForObject=function(t){return[]},this.payoffNames=[null,null],this.maxPayoffsToDisplay=1,e&&k.Utils.deepExtend(this,e)};n.TreeDesignerConfig=m;var _=function(){function r(t,e,n){g(this,r),this.setConfig(n),this.data=e,this.initContainer(t),this.init()}var t,e,n;return t=r,(e=[{key:"setConfig",value:function(t){return this.config=new m(t),this.layout&&(this.layout.config=this.config.layout),this.updateCustomStyles(),this}},{key:"init",value:function(){this.initSvg(),this.initLayout(),this.initI18n(),this.initBrush(),this.initEdgeMarkers(),this.updateCustomStyles(),this.config.readOnly||(this.initMainContextMenu(),this.initNodeContextMenu(),this.initEdgeContextMenu(),this.initNodeDragHandler(),this.initTextDragHandler(),this.initTextContextMenu()),this.redraw()}},{key:"initI18n",value:function(){T.i18n.init(this.config.lng)}},{key:"updateCustomStyles",value:function(){return S.select("head").selectOrAppend("style#sd-tree-designer-style").html(f.Templates.get("treeDesignerStyles",this.config)),this}},{key:"initLayout",value:function(){this.layout=new s.Layout(this,this.data,this.config.layout)}},{key:"initNodeDragHandler",value:function(){this.nodeDragHandler=new l.NodeDragHandler(this,this.data)}},{key:"initTextDragHandler",value:function(){this.textDragHandler=new h.TextDragHandler(this,this.data)}},{key:"redraw",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this;return t=!e.config.disableAnimations&&t,this.redrawDiagramTitle(),this.redrawDiagramDescription(),this.updateScale(t),this.updateMargin(t),t&&(e.transitionPrev=e.transition,e.transition=!0),this.redrawNodes(),this.redrawEdges(),this.redrawFloatingTexts(),this.updateValidationMessages(),t&&(e.transition=e.transitionPrev),setTimeout(function(){e.updatePlottingRegionSize()},10),this}},{key:"computeAvailableSpace",value:function(){this.availableHeight=c.AppUtils.sanitizeHeight(this.config.height,this.container,this.config.margin),this.availableWidth=c.AppUtils.sanitizeWidth(this.config.width,this.container,this.config.margin)}},{key:"initSvg",value:function(){var t=this;this.computeAvailableSpace(),this.svg=this.container.selectOrAppend("svg.sd-tree-designer"),this.svg.attr("width",this.availableWidth).attr("height",this.availableHeight),this.wrapperGroup=this.svg.selectOrAppend("g.sd-wrapper-group"),this.mainGroup=this.wrapperGroup.selectOrAppend("g.main-group"),this.updateScale(),this.updateMargin(),this.config.width||S.select(window).on("resize.tree-designer",function(){t.updatePlottingRegionSize(),t.redrawDiagramTitle()});var e=new O.Manager(this.svg.node(),{touchAction:"auto"});e.add(new O.Press({pointerType:"touch"})),e.add(new O.Pinch({pointerType:"touch"})),e.on("pinchstart",function(){t.disableBrush()}),e.on("pinch",function(){k.Utils.waitForFinalEvent(function(){return t.enableBrush()},"pinchend",5e3)})}},{key:"updateMargin",value:function(t){var e=this,n=this.config.margin,r=this.mainGroup;t&&(r=r.transition()),this.topMargin=n.top,(this.diagramTitle||this.diagramDescription)&&(this.topMargin=parseInt(this.diagramTitle?this.config.title.margin.top:0)+this.getTitleGroupHeight()+Math.max(this.topMargin,parseInt(this.config.title.margin.bottom))),r.attr("transform","translate("+n.left+","+this.topMargin+")").on("end",function(){return e.updatePlottingRegionSize()})}},{key:"setMargin",value:function(e,t){var n=this;t||this.data.saveState({data:{margin:k.Utils.clone(n.config.margin)},onUndo:function(t){n.setMargin(t.margin,!0)},onRedo:function(t){n.setMargin(e,!0)}}),k.Utils.deepExtend(this.config.margin,e),this.redrawDiagramTitle(),this.updateMargin(!0)}},{key:"updateScale",value:function(t){var e=this,n=this.config.scale,r=this.wrapperGroup;t&&(r=r.transition()),r.attr("transform","scale("+n+")").on("end",function(){return e.updatePlottingRegionSize()})}},{key:"setScale",value:function(e,t){var n=this;t||this.data.saveState({data:{scale:k.Utils.clone(n.config.scale)},onUndo:function(t){n.setScale(t.scale,!0)},onRedo:function(t){n.setScale(e,!0)}}),this.config.scale=e,this.updateScale(!0)}},{key:"initContainer",value:function(t){if(k.Utils.isString(t)){var e=t.trim();k.Utils.startsWith(e,"#")||k.Utils.startsWith(e,".")||(e="#"+e),this.container=S.select(e)}else t._parents?this.container=t:this.container=S.select(t)}},{key:"updatePlottingRegionSize",value:function(){var t=!1;this.computeAvailableSpace();var e=this.config.margin,n=this.svg.attr("width"),r=this.svg.attr("height"),i=this.mainGroup.node().getBBox(),o=i.width+i.x+e.left+e.right;o*=this.config.scale,this.container.classed("with-overflow-x",o>=this.availableWidth),n!=(o=Math.max(o,this.availableWidth))&&(t=!0,this.svg.attr("width",o));var a=i.height+i.y+this.topMargin+e.bottom;a*=this.config.scale,this.container.classed("with-overflow-y",a>=this.availableHeight),r!=(a=Math.max(a,this.availableHeight))&&(t=!0,this.svg.attr("height",a)),t&&this.updateBrushExtent()}},{key:"redrawNodes",value:function(){var i=this,t=this.mainGroup.selectOrAppend("g.nodes").selectAll(".node").data(this.data.nodes.filter(function(t){return!t.$hidden}),function(t,e){return t.$id});t.exit().remove();var e=t.enter().append("g").attr("id",function(t){return"node-"+t.$id}).attr("class",function(t){return t.type+"-node node"}).attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"});e.append("path");var n=e.append("text").attr("class","label"),r=e.append("text").attr("class","payoff computed"),o=e.append("text").attr("class","error-indicator").text("!!"),a=e.append("text").attr("class","aggregated-payoff"),u=e.append("text").attr("class","probability-to-enter"),s=e.merge(t);s.classed("optimal",function(t){return i.isOptimal(t)});var c=s;this.transition&&(c=s.transition()).on("end",function(){return i.updatePlottingRegionSize()}),c.attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"});var l=s.select("path");this.layout.drawNodeSymbol(l,this.transition),this.layout.nodeLabelPosition(n),s.select("text.label").classed("sd-hidden",this.config.hideLabels);var f=c.select("text.label");f.each(this.updateTextLines),this.layout.nodeLabelPosition(f).attr("text-anchor","middle");var h=s.select("text.payoff"),d=h.selectAll("tspan").data(function(t){var e=t.displayValue("childrenPayoff");return k.Utils.isArray(e)?e.filter(function(t){return void 0!==t}):[e]});d.exit().remove();var p=d.enter().append("tspan").merge(d);p.attr("dy",function(t,e){return 0<e?"1.1em":void 0}).attr("x","0").classed("negative",function(t){return null!==t&&t<0}).classed("sd-hidden",this.config.hidePayoffs||this.config.raw).text(function(t,e){var n=t;return null!==n?isNaN(n)?n:i.config.payoffNumberFormatter(n,e):""}),this.attachPayoffTooltip(p);var v=h;this.transition&&(v=h.transition()),this.layout.nodePayoffPosition(r),this.layout.nodePayoffPosition(v);var y=s.select("text.aggregated-payoff"),g=y.selectAll("tspan").data(function(t){var e=t.displayValue("aggregatedPayoff");return k.Utils.isArray(e)?e.filter(function(t){return void 0!==t}):[e]});g.exit().remove();var m=g.enter().append("tspan").merge(g).attr("dy",function(t,e){return 0<e?"0.95em":void 0}).classed("negative",function(t){return null!==t&&t<0}).classed("sd-hidden",this.config.hidePayoffs||this.config.raw).text(function(t,e){return null!==t?isNaN(t)?t:i.config.payoffNumberFormatter(t,e):""});this.attachPayoffTooltip(m,"aggregatedPayoff");var _=y;this.transition&&(_=y.transition()),this.layout.nodeAggregatedPayoffPosition(a),this.layout.nodeAggregatedPayoffPosition(_);var b=s.select("text.probability-to-enter").text(function(t){var e=t.displayValue("probabilityToEnter");return null!==e?isNaN(e)?e:i.config.probabilityNumberFormatter(e):""}).classed("sd-hidden",this.config.hideProbabilities||this.config.raw);M.Tooltip.attach(b,T.i18n.t("tooltip.node.probabilityToEnter"));var x=b;this.transition&&(x=b.transition()),this.layout.nodeProbabilityToEnterPosition(u),this.layout.nodeProbabilityToEnterPosition(x);var w=s.select("text.error-indicator");w.classed("sd-hidden",this.config.raw),this.layout.nodeIndicatorPosition(o),this.layout.nodeIndicatorPosition(w),this.nodeDragHandler&&s.call(this.nodeDragHandler.drag),s.on("contextmenu",this.nodeContextMenu),s.on("dblclick",this.nodeContextMenu),s.each(function(t,e){var n=new O.Manager(this);if(n.add(new O.Press({pointerType:"touch"})),n.on("press",function(t){"touch"==t.pointerType&&i.nodeDragHandler.cancelDrag()}),t.folded){var r=S.select(this).selectOrAppend("text.sd-unfold-button").text("[+]").on("click dbclick mousedown",function(){return i.foldSubtree(t,!1)});i.layout.nodeUnfoldButtonPosition(r),M.Tooltip.attach(r,T.i18n.t("contextMenu.node.unfold"))}else S.select(this).select(".sd-unfold-button").remove()})}},{key:"attachPayoffTooltip",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"payoff",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"node",i=this;M.Tooltip.attach(t,function(t,e){return i.config.payoffNames.length>e&&null!==i.config.payoffNames[e]?T.i18n.t("tooltip."+r+"."+n+".named",{value:t.payoff,number:e+1,name:i.config.payoffNames[e]}):T.i18n.t("tooltip."+r+"."+n+".default",{value:t.payoff,number:i.config.maxPayoffsToDisplay<2?"":e+1})})}},{key:"updateTextLines",value:function(t){var e=t.name?t.name.split("\n"):[];e.reverse();var n=S.select(this).selectAll("tspan").data(e);n.enter().append("tspan").merge(n).text(function(t){return t}).attr("dy",function(t,e){return 0<e?"-1.1em":void 0}).attr("x","0"),n.exit().remove()}},{key:"isOptimal",value:function(t){return t.displayValue("optimal")}},{key:"redrawEdges",value:function(){var i=this,o=this,t=this.mainGroup.selectOrAppend("g.edges");o.config.forceFullEdgeRedraw&&t.selectAll("*").remove();var e=t.selectAll(".edge").data(this.data.edges.filter(function(t){return!t.$hidden}),function(t,e){return t.$id});e.exit().remove();var n=e.enter().append("g").attr("id",function(t){return"edge-"+t.$id}).attr("class","edge");n.append("path");var r=n.appendSelector("g.label-group");r.append("text").attr("class","label");var a=n.append("text").attr("class","payoff"),u=n.append("text").attr("class","probability"),s=n.merge(e);s.classed("optimal",function(t){return o.isOptimal(t)});var c=s;this.transition&&(c=s.transition()),c.select("path").attr("d",function(t){return i.layout.edgeLineD(t)}).attr("fill","none").attr("marker-end",function(t){return"url(#arrow"+(S.select(this.parentNode).classed("selected")?"-selected":o.isOptimal(t)?"-optimal":"")+")"}),s.on("click",function(t){o.selectEdge(t,!0)}),this.layout.edgeLabelPosition(r),c.select("text.label").each(this.updateTextLines),s.select("g.label-group").classed("sd-hidden",this.config.hideLabels);var l=c.select("g.label-group");this.layout.edgeLabelPosition(l);var f=s.select("text.payoff"),h=f.selectAll("tspan").data(function(e){var t=e.displayValue("payoff");return k.Utils.isArray(t)?t.slice(0,Math.min(t.length,o.config.maxPayoffsToDisplay)).map(function(t){return e}):[e]});h.exit().remove();var d=h.enter().append("tspan").merge(h);d.attr("dy",function(t,e){return 0<e?"1.1em":void 0}).classed("negative",function(t,e){var n=t.displayPayoff(void 0,e);return null!==n&&n<0}).classed("sd-hidden",this.config.hidePayoffs).text(function(t,e){if(i.config.raw)return t.payoff[e];var n=t.displayValue("payoff"),r=(k.Utils.isArray(n)?n:[n])[e];if(null!==r){if(!isNaN(r))return o.config.payoffNumberFormatter(r,e);if(k.Utils.isString(r))return r}return null===t.payoff[e]||isNaN(t.payoff[e])?t.payoff[e]:o.config.payoffNumberFormatter(t.payoff[e],e)}),M.Tooltip.attach(d,function(t,e){return o.config.payoffNames.length>e&&null!==o.config.payoffNames[e]?T.i18n.t("tooltip.edge.payoff.named",{value:t.payoff[e],number:e+1,name:o.config.payoffNames[e]}):T.i18n.t("tooltip.edge.payoff.default",{value:t.payoff[e],number:o.config.maxPayoffsToDisplay<2?"":e+1})});var p=f;this.transition&&(p=f.transition()),this.layout.edgePayoffPosition(a),this.layout.edgePayoffPosition(p),M.Tooltip.attach(s.select("text.probability"),function(t){return T.i18n.t("tooltip.edge.probability",{value:void 0===t.probability?t.displayProbability():t.probability})}),s.select("text.probability").classed("sd-hidden",this.config.hideProbabilities);var v=s.select("text.probability");v.attr("text-anchor","end").text(function(t){if(i.config.raw)return t.probability;var e=t.displayProbability();if(null!==e){if(!isNaN(e))return o.config.probabilityNumberFormatter(e);if(k.Utils.isString(e))return e}return null===t.probability||isNaN(t.probability)?t.probability:o.config.probabilityNumberFormatter(t.probability)});var y=v;this.transition&&(y=v.transition()),this.layout.edgeProbabilityPosition(u),this.layout.edgeProbabilityPosition(y),t.selectAll(".edge.optimal").raise(),s.on("contextmenu",this.edgeContextMenu),s.on("dblclick",this.edgeContextMenu),s.each(function(t,e){new O.Manager(this).add(new O.Press({pointerType:O.POINTER_TOUCH}))})}},{key:"redrawFloatingTexts",value:function(){var t=this.mainGroup.selectOrAppend("g.floating-texts").selectAll(".floating-text").data(this.data.texts,function(t,e){return t.$id});t.exit().remove();var e=t.enter().appendSelector("g.floating-text").attr("id",function(t){return"text-"+t.$id});e.append("rect").attr("x",-5).attr("y",-16).attr("fill-opacity",0),e.append("text");var n=e.merge(t),r=n;this.transition&&(r=n.transition()),r.attr("transform",function(t){return"translate("+t.location.x+"  "+t.location.y+")"});var i=n.select("text").selectAll("tspan").data(function(t){return t.value?t.value.split("\n"):[]});i.enter().append("tspan").merge(i).html(function(t){return c.AppUtils.replaceUrls(c.AppUtils.escapeHtml(t))}).attr("dy",function(t,e){return 0<e?"1.1em":void 0}).attr("x","0"),i.exit().remove(),n.classed("sd-empty",function(t){return!t.value||!t.value.trim()}),n.select("rect").attr("width",40).attr("height",20),n.each(function(t){if(t.value){var e=S.select(this).select("text").node().getBBox();S.select(this).select("rect").attr("y",e.y-5).attr("width",Math.max(e.width+10,40)).attr("height",Math.max(e.height+10,20))}}),this.textDragHandler&&n.call(this.textDragHandler.drag),n.on("contextmenu",this.textContextMenu),n.on("dblclick",this.textContextMenu),n.each(function(t,e){new O.Manager(this).add(new O.Press({pointerType:"touch"}))})}},{key:"updateValidationMessages",value:function(){var o=this;this.mainGroup.selectAll(".node").classed("error",!1),this.data.validationResults.forEach(function(i){i.isValid()||Object.getOwnPropertyNames(i.objectIdToError).forEach(function(t){var e=i.objectIdToError[t],n=o.getNodeD3SelectionById(t);n.classed("error",!0);var r="";e.forEach(function(t){r&&(r+="<br/>"),r+=c.AppUtils.getValidationMessage(t)}),M.Tooltip.attach(n.select(".error-indicator"),r)})})}},{key:"initEdgeMarkers",value:function(){this.svg.append("svg:defs");this.initArrowMarker("arrow"),this.initArrowMarker("arrow-optimal"),this.initArrowMarker("arrow-selected")}},{key:"initArrowMarker",value:function(t){this.svg.select("defs").append("marker").attr("id",t).attr("viewBox","0 -5 10 10").attr("refX",5).attr("refY",0).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("class","arrowHead")}},{key:"updateBrushExtent",value:function(){this.brush.extent([[0,0],[this.svg.attr("width"),this.svg.attr("height")]]),this.brushContainer.call(this.brush)}},{key:"initBrush",value:function(){var s=this,e=s.brushContainer=this.brushContainer=this.wrapperGroup.selectOrInsert("g.brush",":first-child").attr("class","brush"),n=this.brush=S.brush().on("start",function(){if(!S.event.selection)return;s.hoveredEdge?s.selectEdge(s.hoveredEdge.datum(),!0):s.clearSelection();o.ContextMenu.hide()}).on("brush",function(){var a=S.event.selection;if(!a)return;s.mainGroup.selectAll(".node").classed("selected",function(t){var e=s.getMainGroupTranslation(),n=t.location.x+e[0],r=t.location.y+e[1],i=s.config.layout.nodeSize,o=.25*i;return a[0][0]<=n+o&&n-o<=a[1][0]&&a[0][1]<=r+o&&r-o<=a[1][1]})}).on("end",function(){if(!S.event.selection)return;n.move(e,null);var t=s.getSelectedNodes();t&&1===t.length&&s.selectNode(t[0])});this.updateBrushExtent(),e.select(".overlay").on("mousemove.edgeSelection",function(){var o=S.mouse(this),a=s.getMainGroupTranslation(),u=[null,999999999];s.mainGroup.selectAll(".edge").each(function(t){var e=S.select(this);e.classed("sd-hover",!1);var n=e.select("path").node(),r=n.getBBox();if(r.x+a[0]<=o[0]&&r.x+r.width+a[0]>=o[0]&&r.y+a[1]-10<=o[1]&&r.y+r.height+a[1]+10>=o[1]){var i=c.AppUtils.closestPoint(n,[o[0]-a[0],o[1]-a[1]]);i.distance<10&&i.distance<u[1]&&(u=[e,i.distance])}}),s.hoveredEdge=null,u[0]&&(u[0].classed("sd-hover",!0),s.hoveredEdge=u[0])})}},{key:"disableBrush",value:function(){this.brushDisabled||c.AppUtils.growl(T.i18n.t("growl.brushDisabled"),"info","left"),this.brushDisabled=!0,this.brushContainer.remove()}},{key:"enableBrush",value:function(){this.brushDisabled&&(c.AppUtils.growl(T.i18n.t("growl.brushEnabled"),"info","left"),this.initBrush(),this.brushDisabled=!1)}},{key:"getMainGroupTranslation",value:function(t){var e=c.AppUtils.getTranslation(this.mainGroup.attr("transform"));return t&&(e[0]=-e[0],e[1]=-e[1]),e}},{key:"initNodeContextMenu",value:function(){this.nodeContextMenu=new u.NodeContextMenu(this,this.config.operationsForObject)}},{key:"initEdgeContextMenu",value:function(){this.edgeContextMenu=new p.EdgeContextMenu(this)}},{key:"initTextContextMenu",value:function(){this.textContextMenu=new d.TextContextMenu(this)}},{key:"initMainContextMenu",value:function(){this.mainContextMenu=new a.MainContextMenu(this),this.svg.on("contextmenu",this.mainContextMenu),this.svg.on("dblclick",this.mainContextMenu)}},{key:"addText",value:function(t){this.data.saveState(),this.data.addText(t),this.redraw(),this.selectText(t)}},{key:"addNode",value:function(t,e){2<arguments.length&&void 0!==arguments[2]&&arguments[2];return this.data.saveState(),this.data.addNode(t,e),this.redraw(!0),this.layout.update(t),t}},{key:"addDecisionNode",value:function(t){var e=new i.domain.DecisionNode(this.layout.getNewChildLocation(t));this.addNode(e,t)}},{key:"addChanceNode",value:function(t){var e=new i.domain.ChanceNode(this.layout.getNewChildLocation(t));this.addNode(e,t)}},{key:"addTerminalNode",value:function(t){var e=new i.domain.TerminalNode(this.layout.getNewChildLocation(t));this.addNode(e,t)}},{key:"injectNode",value:function(t,e){return this.data.saveState(),this.data.injectNode(t,e),this.redraw(),this.layout.update(t),t}},{key:"injectDecisionNode",value:function(t){var e=new i.domain.DecisionNode(this.layout.getInjectedNodeLocation(t));this.injectNode(e,t)}},{key:"injectChanceNode",value:function(t){var e=new i.domain.ChanceNode(this.layout.getInjectedNodeLocation(t));this.injectNode(e,t)}},{key:"removeNode",value:function(t){this.data.saveState(),this.data.removeNode(t),this.layout.isManualLayout()?this.redraw():this.layout.update()}},{key:"removeSelectedNodes",value:function(){var t=this.getSelectedNodes();t.length&&(this.data.saveState(),this.data.removeNodes(t),this.clearSelection(),this.redraw(),this.layout.update())}},{key:"removeSelectedTexts",value:function(){var t=this.getSelectedTexts();t.length&&(this.data.saveState(),this.data.removeTexts(t),this.clearSelection(),this.redraw())}},{key:"copyNode",value:function(t,e){var n=this.data.cloneSubtree(t);e?(this.copiedNodes||(this.copiedNodes=[]),this.copiedNodes.push(n)):this.copiedNodes=[n]}},{key:"cutNode",value:function(t){this.copyNode(t),this.removeNode(t)}},{key:"cutSelectedNodes",value:function(){var t=this.getSelectedNodes(),e=this.data.findSubtreeRoots(t);this.copyNodes(e),this.removeSelectedNodes()}},{key:"copySelectedNodes",value:function(){var t=this.getSelectedNodes(),e=this.data.findSubtreeRoots(t);this.copyNodes(e)}},{key:"copyNodes",value:function(t){var e=this;this.copiedNodes=t.map(function(t){return e.data.cloneSubtree(t)})}},{key:"pasteToNode",value:function(r){var i=this;if(this.copiedNodes&&this.copiedNodes.length){this.data.saveState();var o=this;o.clearSelection();var a=this.copiedNodes;o.copyNodes(this.copiedNodes),a.forEach(function(t){var e=i.data.attachSubtree(t,r).childNode;e.folded&&o.foldSubtree(e,e.folded,!1);var n=o.layout.getNewChildLocation(r);e.moveTo(n.x,n.y,!0),o.layout.moveNodeToEmptyPlace(e,!1),o.layout.fitNodesInPlottingRegion(i.data.getAllDescendantNodes(e)),o.selectSubTree(e,!1,1<a.length)}),r.folded&&o.foldSubtree(r,r.folded,!1),setTimeout(function(){o.redraw(),o.layout.update()},10)}}},{key:"pasteToNewLocation",value:function(n){var r=this;this.data.saveState();var i=this;i.clearSelection();var o=this.copiedNodes;i.copyNodes(this.copiedNodes),o.forEach(function(t){var e=r.data.attachSubtree(t);e.folded&&i.foldSubtree(e,e.folded,!1),e.moveTo(n.x,n.y,!0),i.layout.moveNodeToEmptyPlace(e,!1),i.layout.fitNodesInPlottingRegion(r.data.getAllDescendantNodes(e)),i.selectSubTree(e,!1,1<o.length)}),setTimeout(function(){i.redraw(),i.layout.update()},10)}},{key:"convertNode",value:function(t,e){var n=this;this.data.saveState(),this.data.convertNode(t,e),setTimeout(function(){n.redraw(!0)},10)}},{key:"performOperation",value:function(t,e){var n=this;this.data.saveState(),e.perform(t),setTimeout(function(){n.redraw(),n.layout.update()},10)}},{key:"foldSubtree",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=this;t.folded=e,this.data.getAllDescendantNodes(t).forEach(function(t){t.$hidden=e,t.folded=!1}),this.data.getAllDescendantEdges(t).forEach(function(t){return t.$hidden=e}),n&&setTimeout(function(){r.redraw(),r.layout.update()},10)}},{key:"updateVisibility",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;t?t.folded?this.foldSubtree(t,!0,!1):t.childEdges.forEach(function(t){return e.updateVisibility(t.childNode)}):this.data.getRoots().forEach(function(t){return e.updateVisibility(t)})}},{key:"moveNodeTo",value:function(t,e){}},{key:"updateNodePosition",value:function(t){this.getNodeD3Selection(t).raise().attr("transform","translate("+t.location.x+" "+t.location.y+")")}},{key:"updateTextPosition",value:function(t){this.getTextD3Selection(t).raise().attr("transform","translate("+t.location.x+" "+t.location.y+")")}},{key:"getNodeD3Selection",value:function(t){return this.getNodeD3SelectionById(t.$id)}},{key:"getNodeD3SelectionById",value:function(t){return this.mainGroup.select("#node-"+t)}},{key:"getTextD3Selection",value:function(t){return this.getTextD3SelectionById(t.$id)}},{key:"getTextD3SelectionById",value:function(t){return this.mainGroup.select("#text-"+t)}},{key:"getSelectedNodes",value:function(){var n=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.mainGroup.selectAll(".node.selected").data();if(t)return e;var r=[];return r.push.apply(r,v(e)),e.forEach(function(t){if(t.folded){var e=n.data.getAllDescendantNodes(t);e&&r.push.apply(r,v(e))}}),r}},{key:"getSelectedTexts",value:function(){return this.mainGroup.selectAll(".floating-text.selected").data()}},{key:"clearSelection",value:function(){var e=this;this.mainGroup.selectAll(".edge.selected").select("path").attr("marker-end",function(t){return"url(#arrow"+(e.isOptimal(t)?"-optimal":"")+")"}),this.mainGroup.selectAll(".selected").classed("selected",!1),this.config.onSelectionCleared()}},{key:"selectEdge",value:function(t,e){e&&this.clearSelection(),this.config.onEdgeSelected(t),this.mainGroup.select("#edge-"+t.$id).classed("selected",!0).select("path").attr("marker-end",function(t){return"url(#arrow-selected)"})}},{key:"isNodeSelected",value:function(t){return this.getNodeD3Selection(t).classed("selected")}},{key:"selectNode",value:function(t,e,n){e&&this.clearSelection(),n||this.config.onNodeSelected(t),this.getNodeD3SelectionById(t.$id).classed("selected",!0)}},{key:"selectText",value:function(t,e,n){e&&this.clearSelection(),n||this.config.onTextSelected(t),this.getTextD3SelectionById(t.$id).classed("selected",!0)}},{key:"selectSubTree",value:function(t,e,n){var r=this;e&&this.clearSelection(),this.selectNode(t,!1,n),t.childEdges.forEach(function(t){return r.selectSubTree(t.childNode,!1,!0)})}},{key:"selectAllNodes",value:function(){this.mainGroup.selectAll(".node").classed("selected",!0)}},{key:"autoLayout",value:function(t,e){this.layout.autoLayout(t,e)}},{key:"updateDiagramTitle",value:function(t){t||(t=""),this.diagramTitle=t,this.redrawDiagramTitle(),this.redrawDiagramDescription(),this.updateMargin(!0)}},{key:"redrawDiagramTitle",value:function(){var t=this.svg.attr("width");this.svg.attr("height");this.titleContainer=this.svg.selectOrAppend("g.sd-title-container");var e=this.titleContainer.selectOrAppend("text.sd-title");e.text(this.diagramTitle),s.Layout.setHangingPosition(e);var n=parseInt(this.config.title.margin.top);this.titleContainer.attr("transform","translate("+t/2+","+n+")")}},{key:"redrawDiagramDescription",value:function(){this.svg.attr("width"),this.svg.attr("height");this.titleContainer=this.svg.selectOrAppend("g.sd-title-container");var t=this.titleContainer.selectOrAppend("text.sd-description");if(this.config.description.show){var e=this.diagramDescription?this.diagramDescription.split("\n"):[],n=t.selectAll("tspan").data(e);n.enter().append("tspan").merge(n).html(function(t){return c.AppUtils.replaceUrls(c.AppUtils.escapeHtml(t))}).attr("dy",function(t,e){return 0<e?"1.1em":void 0}).attr("x","0"),n.exit().remove(),s.Layout.setHangingPosition(t);var r=this.titleContainer.selectOrAppend("text.sd-title"),i=0;this.diagramTitle&&(i+=r.node().getBBox().height,i+=Math.max(parseInt(this.config.description.margin.top),0)),t.attr("transform","translate(0,"+i+")")}else t.remove()}},{key:"updateDiagramDescription",value:function(t){t||(t=""),this.diagramDescription=t,this.redrawDiagramTitle(),this.redrawDiagramDescription(),this.updateMargin(!0)}},{key:"getTitleGroupHeight",value:function(t){if(!this.titleContainer)return 0;var e=this.titleContainer.node().getBBox().height;return t&&(e+=parseInt(this.config.title.margin.bottom),e+=parseInt(this.config.title.margin.top)),e}}])&&y(t.prototype,e),n&&y(t,n),r}();n.TreeDesigner=_},{"./app-utils":52,"./context-menu/context-menu":53,"./context-menu/edge-context-menu":54,"./context-menu/main-context-menu":55,"./context-menu/node-context-menu":56,"./context-menu/text-context-menu":57,"./d3":59,"./i18n/i18n":63,"./layout":67,"./node-drag-handler":68,"./templates":71,"./text-drag-handler":73,"./tooltip":74,hammerjs:19,"sd-model":36,"sd-utils":50}],76:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./src/index");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})})},{"./src/index":66}]},{},[76])(76)});
//# sourceMappingURL=sd-tree-designer.min.js.map
